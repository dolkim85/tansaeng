function nV(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function ao(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var BS={exports:{}},Ld={};var FP;function iV(){if(FP)return Ld;FP=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:s,ref:i!==void 0?i:null,props:a}}return Ld.Fragment=e,Ld.jsx=t,Ld.jsxs=t,Ld}var BP;function aV(){return BP||(BP=1,BS.exports=iV()),BS.exports}var F=aV(),US={exports:{}},Ut={};var UP;function sV(){if(UP)return Ut;UP=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function E(W,M,V){this.props=W,this.context=M,this.refs=x,this.updater=V||g}E.prototype.isReactComponent={},E.prototype.setState=function(W,M){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,M,"setState")},E.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=E.prototype;function w(W,M,V){this.props=W,this.context=M,this.refs=x,this.updater=V||g}var T=w.prototype=new S;T.constructor=w,y(T,E.prototype),T.isPureReactComponent=!0;var _=Array.isArray;function O(){}var A={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(W,M,V){var ee=V.ref;return{$$typeof:r,type:W,key:M,ref:ee!==void 0?ee:null,props:V}}function N(W,M){return k(W.type,M,W.props)}function B(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function R(W){var M={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(V){return M[V]})}var H=/\/+/g;function X(W,M){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):M.toString(36)}function Y(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(O,O):(W.status="pending",W.then(function(M){W.status==="pending"&&(W.status="fulfilled",W.value=M)},function(M){W.status==="pending"&&(W.status="rejected",W.reason=M)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function K(W,M,V,ee,Z){var me=typeof W;(me==="undefined"||me==="boolean")&&(W=null);var ue=!1;if(W===null)ue=!0;else switch(me){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(W.$$typeof){case r:case e:ue=!0;break;case c:return ue=W._init,K(ue(W._payload),M,V,ee,Z)}}if(ue)return Z=Z(W),ue=ee===""?"."+X(W,0):ee,_(Z)?(V="",ue!=null&&(V=ue.replace(H,"$&/")+"/"),K(Z,M,V,"",function(re){return re})):Z!=null&&(B(Z)&&(Z=N(Z,V+(Z.key==null||W&&W.key===Z.key?"":(""+Z.key).replace(H,"$&/")+"/")+ue)),M.push(Z)),1;ue=0;var q=ee===""?".":ee+":";if(_(W))for(var te=0;te<W.length;te++)ee=W[te],me=q+X(ee,te),ue+=K(ee,M,V,me,Z);else if(te=m(W),typeof te=="function")for(W=te.call(W),te=0;!(ee=W.next()).done;)ee=ee.value,me=q+X(ee,te++),ue+=K(ee,M,V,me,Z);else if(me==="object"){if(typeof W.then=="function")return K(Y(W),M,V,ee,Z);throw M=String(W),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ue}function z(W,M,V){if(W==null)return W;var ee=[],Z=0;return K(W,ee,"","",function(me){return M.call(V,me,Z++)}),ee}function Q(W){if(W._status===-1){var M=W._result;M=M(),M.then(function(V){(W._status===0||W._status===-1)&&(W._status=1,W._result=V)},function(V){(W._status===0||W._status===-1)&&(W._status=2,W._result=V)}),W._status===-1&&(W._status=0,W._result=M)}if(W._status===1)return W._result.default;throw W._result}var se=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},ae={map:z,forEach:function(W,M,V){z(W,function(){M.apply(this,arguments)},V)},count:function(W){var M=0;return z(W,function(){M++}),M},toArray:function(W){return z(W,function(M){return M})||[]},only:function(W){if(!B(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Ut.Activity=h,Ut.Children=ae,Ut.Component=E,Ut.Fragment=t,Ut.Profiler=i,Ut.PureComponent=w,Ut.StrictMode=n,Ut.Suspense=l,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(W){return A.H.useMemoCache(W)}},Ut.cache=function(W){return function(){return W.apply(null,arguments)}},Ut.cacheSignal=function(){return null},Ut.cloneElement=function(W,M,V){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ee=y({},W.props),Z=W.key;if(M!=null)for(me in M.key!==void 0&&(Z=""+M.key),M)!I.call(M,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&M.ref===void 0||(ee[me]=M[me]);var me=arguments.length-2;if(me===1)ee.children=V;else if(1<me){for(var ue=Array(me),q=0;q<me;q++)ue[q]=arguments[q+2];ee.children=ue}return k(W.type,Z,ee)},Ut.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Ut.createElement=function(W,M,V){var ee,Z={},me=null;if(M!=null)for(ee in M.key!==void 0&&(me=""+M.key),M)I.call(M,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(Z[ee]=M[ee]);var ue=arguments.length-2;if(ue===1)Z.children=V;else if(1<ue){for(var q=Array(ue),te=0;te<ue;te++)q[te]=arguments[te+2];Z.children=q}if(W&&W.defaultProps)for(ee in ue=W.defaultProps,ue)Z[ee]===void 0&&(Z[ee]=ue[ee]);return k(W,me,Z)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(W){return{$$typeof:o,render:W}},Ut.isValidElement=B,Ut.lazy=function(W){return{$$typeof:c,_payload:{_status:-1,_result:W},_init:Q}},Ut.memo=function(W,M){return{$$typeof:u,type:W,compare:M===void 0?null:M}},Ut.startTransition=function(W){var M=A.T,V={};A.T=V;try{var ee=W(),Z=A.S;Z!==null&&Z(V,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(O,se)}catch(me){se(me)}finally{M!==null&&V.types!==null&&(M.types=V.types),A.T=M}},Ut.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ut.use=function(W){return A.H.use(W)},Ut.useActionState=function(W,M,V){return A.H.useActionState(W,M,V)},Ut.useCallback=function(W,M){return A.H.useCallback(W,M)},Ut.useContext=function(W){return A.H.useContext(W)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(W,M){return A.H.useDeferredValue(W,M)},Ut.useEffect=function(W,M){return A.H.useEffect(W,M)},Ut.useEffectEvent=function(W){return A.H.useEffectEvent(W)},Ut.useId=function(){return A.H.useId()},Ut.useImperativeHandle=function(W,M,V){return A.H.useImperativeHandle(W,M,V)},Ut.useInsertionEffect=function(W,M){return A.H.useInsertionEffect(W,M)},Ut.useLayoutEffect=function(W,M){return A.H.useLayoutEffect(W,M)},Ut.useMemo=function(W,M){return A.H.useMemo(W,M)},Ut.useOptimistic=function(W,M){return A.H.useOptimistic(W,M)},Ut.useReducer=function(W,M,V){return A.H.useReducer(W,M,V)},Ut.useRef=function(W){return A.H.useRef(W)},Ut.useState=function(W){return A.H.useState(W)},Ut.useSyncExternalStore=function(W,M,V){return A.H.useSyncExternalStore(W,M,V)},Ut.useTransition=function(){return A.H.useTransition()},Ut.version="19.2.0",Ut}var jP;function Ah(){return jP||(jP=1,US.exports=sV()),US.exports}var L=Ah();const Ze=ao(L),Y2=nV({__proto__:null,default:Ze},[L]);var jS={exports:{}},Md={},$S={exports:{}},HS={};var $P;function oV(){return $P||($P=1,(function(r){function e(K,z){var Q=K.length;K.push(z);e:for(;0<Q;){var se=Q-1>>>1,ae=K[se];if(0<i(ae,z))K[se]=z,K[Q]=ae,Q=se;else break e}}function t(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var z=K[0],Q=K.pop();if(Q!==z){K[0]=Q;e:for(var se=0,ae=K.length,W=ae>>>1;se<W;){var M=2*(se+1)-1,V=K[M],ee=M+1,Z=K[ee];if(0>i(V,Q))ee<ae&&0>i(Z,V)?(K[se]=Z,K[ee]=Q,se=ee):(K[se]=V,K[M]=Q,se=M);else if(ee<ae&&0>i(Z,Q))K[se]=Z,K[ee]=Q,se=ee;else break e}}return z}function i(K,z){var Q=K.sortIndex-z.sortIndex;return Q!==0?Q:K.id-z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,p=3,m=!1,g=!1,y=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function T(K){for(var z=t(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=K)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(u)}}function _(K){if(y=!1,T(K),!g)if(t(l)!==null)g=!0,O||(O=!0,R());else{var z=t(u);z!==null&&Y(_,z.startTime-K)}}var O=!1,A=-1,I=5,k=-1;function N(){return x?!0:!(r.unstable_now()-k<I)}function B(){if(x=!1,O){var K=r.unstable_now();k=K;var z=!0;try{e:{g=!1,y&&(y=!1,S(A),A=-1),m=!0;var Q=p;try{t:{for(T(K),h=t(l);h!==null&&!(h.expirationTime>K&&N());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var ae=se(h.expirationTime<=K);if(K=r.unstable_now(),typeof ae=="function"){h.callback=ae,T(K),z=!0;break t}h===t(l)&&n(l),T(K)}else n(l);h=t(l)}if(h!==null)z=!0;else{var W=t(u);W!==null&&Y(_,W.startTime-K),z=!1}}break e}finally{h=null,p=Q,m=!1}z=void 0}}finally{z?R():O=!1}}}var R;if(typeof w=="function")R=function(){w(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=B,R=function(){X.postMessage(null)}}else R=function(){E(B,0)};function Y(K,z){A=E(function(){K(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(K){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var Q=p;p=z;try{return K()}finally{p=Q}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(K,z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=p;p=K;try{return z()}finally{p=Q}},r.unstable_scheduleCallback=function(K,z,Q){var se=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,K){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,K={id:c++,callback:z,priorityLevel:K,startTime:Q,expirationTime:ae,sortIndex:-1},Q>se?(K.sortIndex=Q,e(u,K),t(l)===null&&K===t(u)&&(y?(S(A),A=-1):y=!0,Y(_,Q-se))):(K.sortIndex=ae,e(l,K),g||m||(g=!0,O||(O=!0,R()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var z=p;return function(){var Q=p;p=z;try{return K.apply(this,arguments)}finally{p=Q}}}})(HS)),HS}var HP;function lV(){return HP||(HP=1,$S.exports=oV()),$S.exports}var GS={exports:{}},ci={};var GP;function uV(){if(GP)return ci;GP=1;var r=Ah();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:c}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ci.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},ci.flushSync=function(l){var u=s.T,c=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=u,n.p=c,n.d.f()}},ci.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},ci.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},ci.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,h=o(c,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):c==="script"&&n.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ci.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},ci.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,h=o(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ci.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},ci.requestFormReset=function(l){n.d.r(l)},ci.unstable_batchedUpdates=function(l,u){return l(u)},ci.useFormState=function(l,u,c){return s.H.useFormState(l,u,c)},ci.useFormStatus=function(){return s.H.useHostTransitionStatus()},ci.version="19.2.0",ci}var WP;function m6(){if(WP)return GS.exports;WP=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),GS.exports=uV(),GS.exports}var KP;function cV(){if(KP)return Md;KP=1;var r=lV(),e=Ah(),t=m6();function n(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function a(f){var d=f,v=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(v=d.return),f=d.return;while(f)}return d.tag===3?v:null}function s(f){if(f.tag===13){var d=f.memoizedState;if(d===null&&(f=f.alternate,f!==null&&(d=f.memoizedState)),d!==null)return d.dehydrated}return null}function o(f){if(f.tag===31){var d=f.memoizedState;if(d===null&&(f=f.alternate,f!==null&&(d=f.memoizedState)),d!==null)return d.dehydrated}return null}function l(f){if(a(f)!==f)throw Error(n(188))}function u(f){var d=f.alternate;if(!d){if(d=a(f),d===null)throw Error(n(188));return d!==f?null:f}for(var v=f,b=d;;){var D=v.return;if(D===null)break;var C=D.alternate;if(C===null){if(b=D.return,b!==null){v=b;continue}break}if(D.child===C.child){for(C=D.child;C;){if(C===v)return l(D),f;if(C===b)return l(D),d;C=C.sibling}throw Error(n(188))}if(v.return!==b.return)v=D,b=C;else{for(var j=!1,oe=D.child;oe;){if(oe===v){j=!0,v=D,b=C;break}if(oe===b){j=!0,b=D,v=C;break}oe=oe.sibling}if(!j){for(oe=C.child;oe;){if(oe===v){j=!0,v=C,b=D;break}if(oe===b){j=!0,b=C,v=D;break}oe=oe.sibling}if(!j)throw Error(n(189))}}if(v.alternate!==b)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?f:d}function c(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=c(f),d!==null)return d;f=f.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),w=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function R(f){return f===null||typeof f!="object"?null:(f=B&&f[B]||f["@@iterator"],typeof f=="function"?f:null)}var H=Symbol.for("react.client.reference");function X(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===H?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case y:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case _:return"Suspense";case O:return"SuspenseList";case k:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case g:return"Portal";case w:return f.displayName||"Context";case S:return(f._context.displayName||"Context")+".Consumer";case T:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return d=f.displayName||null,d!==null?d:X(f.type)||"Memo";case I:d=f._payload,f=f._init;try{return X(f(d))}catch{}}return null}var Y=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],ae=-1;function W(f){return{current:f}}function M(f){0>ae||(f.current=se[ae],se[ae]=null,ae--)}function V(f,d){ae++,se[ae]=f.current,f.current=d}var ee=W(null),Z=W(null),me=W(null),ue=W(null);function q(f,d){switch(V(me,d),V(Z,f),V(ee,null),d.nodeType){case 9:case 11:f=(f=d.documentElement)&&(f=f.namespaceURI)?sP(f):0;break;default:if(f=d.tagName,d=d.namespaceURI)d=sP(d),f=oP(d,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}M(ee),V(ee,f)}function te(){M(ee),M(Z),M(me)}function re(f){f.memoizedState!==null&&V(ue,f);var d=ee.current,v=oP(d,f.type);d!==v&&(V(Z,f),V(ee,v))}function pe(f){Z.current===f&&(M(ee),M(Z)),ue.current===f&&(M(ue),Id._currentValue=Q)}var ne,Oe;function be(f){if(ne===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);ne=d&&d[1]||"",Oe=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+f+Oe}var fe=!1;function he(f,d){if(!f||fe)return"";fe=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Ke){var He=Ke}Reflect.construct(f,[],it)}else{try{it.call()}catch(Ke){He=Ke}f.call(it.prototype)}}else{try{throw Error()}catch(Ke){He=Ke}(it=f())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Ke){if(Ke&&He&&typeof Ke.stack=="string")return[Ke.stack,He.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=b.DetermineComponentFrameRoot(),j=C[0],oe=C[1];if(j&&oe){var _e=j.split(`
`),je=oe.split(`
`);for(D=b=0;b<_e.length&&!_e[b].includes("DetermineComponentFrameRoot");)b++;for(;D<je.length&&!je[D].includes("DetermineComponentFrameRoot");)D++;if(b===_e.length||D===je.length)for(b=_e.length-1,D=je.length-1;1<=b&&0<=D&&_e[b]!==je[D];)D--;for(;1<=b&&0<=D;b--,D--)if(_e[b]!==je[D]){if(b!==1||D!==1)do if(b--,D--,0>D||_e[b]!==je[D]){var et=`
`+_e[b].replace(" at new "," at ");return f.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",f.displayName)),et}while(1<=b&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=v}return(v=f?f.displayName||f.name:"")?be(v):""}function ye(f,d){switch(f.tag){case 26:case 27:case 5:return be(f.type);case 16:return be("Lazy");case 13:return f.child!==d&&d!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return he(f.type,!1);case 11:return he(f.type.render,!1);case 1:return he(f.type,!0);case 31:return be("Activity");default:return""}}function Ie(f){try{var d="",v=null;do d+=ye(f,v),v=f,f=f.return;while(f);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var $e=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,Ee=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,st=r.unstable_requestPaint,ke=r.unstable_now,kt=r.unstable_getCurrentPriorityLevel,P=r.unstable_ImmediatePriority,U=r.unstable_UserBlockingPriority,J=r.unstable_NormalPriority,we=r.unstable_LowPriority,De=r.unstable_IdlePriority,We=r.log,lt=r.unstable_setDisableYieldValue,Te=null,Pe=null;function St(f){if(typeof We=="function"&&lt(f),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Te,f)}catch{}}var xt=Math.clz32?Math.clz32:bi,Lt=Math.log,Nt=Math.LN2;function bi(f){return f>>>=0,f===0?32:31-(Lt(f)/Nt|0)|0}var Rn=256,Wr=262144,Kn=4194304;function Sn(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function Yn(f,d,v){var b=f.pendingLanes;if(b===0)return 0;var D=0,C=f.suspendedLanes,j=f.pingedLanes;f=f.warmLanes;var oe=b&134217727;return oe!==0?(b=oe&~C,b!==0?D=Sn(b):(j&=oe,j!==0?D=Sn(j):v||(v=oe&~f,v!==0&&(D=Sn(v))))):(oe=b&~C,oe!==0?D=Sn(oe):j!==0?D=Sn(j):v||(v=b&~f,v!==0&&(D=Sn(v)))),D===0?0:d!==0&&d!==D&&(d&C)===0&&(C=D&-D,v=d&-d,C>=v||C===32&&(v&4194048)!==0)?d:D}function rn(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function Sl(f,d){switch(f){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(){var f=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),f}function rs(f){for(var d=[],v=0;31>v;v++)d.push(f);return d}function de(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Se(f,d,v,b,D,C){var j=f.pendingLanes;f.pendingLanes=v,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=v,f.entangledLanes&=v,f.errorRecoveryDisabledLanes&=v,f.shellSuspendCounter=0;var oe=f.entanglements,_e=f.expirationTimes,je=f.hiddenUpdates;for(v=j&~v;0<v;){var et=31-xt(v),it=1<<et;oe[et]=0,_e[et]=-1;var He=je[et];if(He!==null)for(je[et]=null,et=0;et<He.length;et++){var Ke=He[et];Ke!==null&&(Ke.lane&=-536870913)}v&=~it}b!==0&&ot(f,b,0),C!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=C&~(j&~d))}function ot(f,d,v){f.pendingLanes|=d,f.suspendedLanes&=~d;var b=31-xt(d);f.entangledLanes|=d,f.entanglements[b]=f.entanglements[b]|1073741824|v&261930}function dt(f,d){var v=f.entangledLanes|=d;for(f=f.entanglements;v;){var b=31-xt(v),D=1<<b;D&d|f[b]&d&&(f[b]|=d),v&=~D}}function bt(f,d){var v=d&-d;return v=(v&42)!==0?1:kr(v),(v&(f.suspendedLanes|d))!==0?0:v}function kr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function nn(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function ie(){var f=z.p;return f!==0?f:(f=window.event,f===void 0?32:IP(f.type))}function ve(f,d){var v=z.p;try{return z.p=f,d()}finally{z.p=v}}var le=Math.random().toString(36).slice(2),ce="__reactFiber$"+le,ge="__reactProps$"+le,xe="__reactContainer$"+le,Le="__reactEvents$"+le,Ve="__reactListeners$"+le,Ne="__reactHandles$"+le,Fe="__reactResources$"+le,Be="__reactMarker$"+le;function ut(f){delete f[ce],delete f[ge],delete f[Le],delete f[Ve],delete f[Ne]}function ft(f){var d=f[ce];if(d)return d;for(var v=f.parentNode;v;){if(d=v[xe]||v[ce]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(f=pP(f);f!==null;){if(v=f[ce])return v;f=pP(f)}return d}f=v,v=f.parentNode}return null}function vt(f){if(f=f[ce]||f[xe]){var d=f.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return f}return null}function ct(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f.stateNode;throw Error(n(33))}function mt(f){var d=f[Fe];return d||(d=f[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Tt(f){f[Be]=!0}var Or=new Set,Cr={};function Ur(f,d){Oa(f,d),Oa(f+"Capture",d)}function Oa(f,d){for(Cr[f]=d,f=0;f<d.length;f++)Or.add(d[f])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Ts={};function Yh(f){return $e.call(Ts,f)?!0:$e.call(El,f)?!1:Ru.test(f)?Ts[f]=!0:(El[f]=!0,!1)}function Li(f,d,v){if(Yh(d))if(v===null)f.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":f.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){f.removeAttribute(d);return}}f.setAttribute(d,""+v)}}function Bp(f,d,v){if(v===null)f.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(d);return}f.setAttribute(d,""+v)}}function lo(f,d,v,b){if(b===null)f.removeAttribute(v);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(v);return}f.setAttributeNS(d,v,""+b)}}function Ca(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ZC(f){var d=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function XK(f,d,v){var b=Object.getOwnPropertyDescriptor(f.constructor.prototype,d);if(!f.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var D=b.get,C=b.set;return Object.defineProperty(f,d,{configurable:!0,get:function(){return D.call(this)},set:function(j){v=""+j,C.call(this,j)}}),Object.defineProperty(f,d,{enumerable:b.enumerable}),{getValue:function(){return v},setValue:function(j){v=""+j},stopTracking:function(){f._valueTracker=null,delete f[d]}}}}function R1(f){if(!f._valueTracker){var d=ZC(f)?"checked":"value";f._valueTracker=XK(f,d,""+f[d])}}function JC(f){if(!f)return!1;var d=f._valueTracker;if(!d)return!0;var v=d.getValue(),b="";return f&&(b=ZC(f)?f.checked?"true":"false":f.value),f=b,f!==v?(d.setValue(f),!0):!1}function Up(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var QK=/[\n"\\]/g;function Ia(f){return f.replace(QK,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function k1(f,d,v,b,D,C,j,oe){f.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?f.type=j:f.removeAttribute("type"),d!=null?j==="number"?(d===0&&f.value===""||f.value!=d)&&(f.value=""+Ca(d)):f.value!==""+Ca(d)&&(f.value=""+Ca(d)):j!=="submit"&&j!=="reset"||f.removeAttribute("value"),d!=null?P1(f,j,Ca(d)):v!=null?P1(f,j,Ca(v)):b!=null&&f.removeAttribute("value"),D==null&&C!=null&&(f.defaultChecked=!!C),D!=null&&(f.checked=D&&typeof D!="function"&&typeof D!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?f.name=""+Ca(oe):f.removeAttribute("name")}function eI(f,d,v,b,D,C,j,oe){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(f.type=C),d!=null||v!=null){if(!(C!=="submit"&&C!=="reset"||d!=null)){R1(f);return}v=v!=null?""+Ca(v):"",d=d!=null?""+Ca(d):v,oe||d===f.value||(f.value=d),f.defaultValue=d}b=b??D,b=typeof b!="function"&&typeof b!="symbol"&&!!b,f.checked=oe?f.checked:!!b,f.defaultChecked=!!b,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(f.name=j),R1(f)}function P1(f,d,v){d==="number"&&Up(f.ownerDocument)===f||f.defaultValue===""+v||(f.defaultValue=""+v)}function Kc(f,d,v,b){if(f=f.options,d){d={};for(var D=0;D<v.length;D++)d["$"+v[D]]=!0;for(v=0;v<f.length;v++)D=d.hasOwnProperty("$"+f[v].value),f[v].selected!==D&&(f[v].selected=D),D&&b&&(f[v].defaultSelected=!0)}else{for(v=""+Ca(v),d=null,D=0;D<f.length;D++){if(f[D].value===v){f[D].selected=!0,b&&(f[D].defaultSelected=!0);return}d!==null||f[D].disabled||(d=f[D])}d!==null&&(d.selected=!0)}}function tI(f,d,v){if(d!=null&&(d=""+Ca(d),d!==f.value&&(f.value=d),v==null)){f.defaultValue!==d&&(f.defaultValue=d);return}f.defaultValue=v!=null?""+Ca(v):""}function rI(f,d,v,b){if(d==null){if(b!=null){if(v!=null)throw Error(n(92));if(Y(b)){if(1<b.length)throw Error(n(93));b=b[0]}v=b}v==null&&(v=""),d=v}v=Ca(d),f.defaultValue=v,b=f.textContent,b===v&&b!==""&&b!==null&&(f.value=b),R1(f)}function Yc(f,d){if(d){var v=f.firstChild;if(v&&v===f.lastChild&&v.nodeType===3){v.nodeValue=d;return}}f.textContent=d}var ZK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nI(f,d,v){var b=d.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?b?f.setProperty(d,""):d==="float"?f.cssFloat="":f[d]="":b?f.setProperty(d,v):typeof v!="number"||v===0||ZK.has(d)?d==="float"?f.cssFloat=v:f[d]=(""+v).trim():f[d]=v+"px"}function iI(f,d,v){if(d!=null&&typeof d!="object")throw Error(n(62));if(f=f.style,v!=null){for(var b in v)!v.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?f.setProperty(b,""):b==="float"?f.cssFloat="":f[b]="");for(var D in d)b=d[D],d.hasOwnProperty(D)&&v[D]!==b&&nI(f,D,b)}else for(var C in d)d.hasOwnProperty(C)&&nI(f,C,d[C])}function L1(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jp(f){return eY.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function uo(){}var M1=null;function N1(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var zc=null,Vc=null;function aI(f){var d=vt(f);if(d&&(f=d.stateNode)){var v=f[ge]||null;e:switch(f=d.stateNode,d.type){case"input":if(k1(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),d=v.name,v.type==="radio"&&d!=null){for(v=f;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Ia(""+d)+'"][type="radio"]'),d=0;d<v.length;d++){var b=v[d];if(b!==f&&b.form===f.form){var D=b[ge]||null;if(!D)throw Error(n(90));k1(b,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(d=0;d<v.length;d++)b=v[d],b.form===f.form&&JC(b)}break e;case"textarea":tI(f,v.value,v.defaultValue);break e;case"select":d=v.value,d!=null&&Kc(f,!!v.multiple,d,!1)}}}var F1=!1;function sI(f,d,v){if(F1)return f(d,v);F1=!0;try{var b=f(d);return b}finally{if(F1=!1,(zc!==null||Vc!==null)&&(Dm(),zc&&(d=zc,f=Vc,Vc=zc=null,aI(d),f)))for(d=0;d<f.length;d++)aI(f[d])}}function zh(f,d){var v=f.stateNode;if(v===null)return null;var b=v[ge]||null;if(b===null)return null;v=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(f=f.type,b=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!b;break e;default:f=!1}if(f)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B1=!1;if(co)try{var Vh={};Object.defineProperty(Vh,"passive",{get:function(){B1=!0}}),window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{B1=!1}var wl=null,U1=null,$p=null;function oI(){if($p)return $p;var f,d=U1,v=d.length,b,D="value"in wl?wl.value:wl.textContent,C=D.length;for(f=0;f<v&&d[f]===D[f];f++);var j=v-f;for(b=1;b<=j&&d[v-b]===D[C-b];b++);return $p=D.slice(f,1<b?1-b:void 0)}function Hp(f){var d=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&d===13&&(f=13)):f=d,f===10&&(f=13),32<=f||f===13?f:0}function Gp(){return!0}function lI(){return!1}function Mi(f){function d(v,b,D,C,j){this._reactName=v,this._targetInst=D,this.type=b,this.nativeEvent=C,this.target=j,this.currentTarget=null;for(var oe in f)f.hasOwnProperty(oe)&&(v=f[oe],this[oe]=v?v(C):C[oe]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Gp:lI,this.isPropagationStopped=lI,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Gp)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Gp)},persist:function(){},isPersistent:Gp}),d}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=Mi(ku),qh=h({},ku,{view:0,detail:0}),tY=Mi(qh),j1,$1,Xh,Kp=h({},qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G1,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Xh&&(Xh&&f.type==="mousemove"?(j1=f.screenX-Xh.screenX,$1=f.screenY-Xh.screenY):$1=j1=0,Xh=f),j1)},movementY:function(f){return"movementY"in f?f.movementY:$1}}),uI=Mi(Kp),rY=h({},Kp,{dataTransfer:0}),nY=Mi(rY),iY=h({},qh,{relatedTarget:0}),H1=Mi(iY),aY=h({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),sY=Mi(aY),oY=h({},ku,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),lY=Mi(oY),uY=h({},ku,{data:0}),cI=Mi(uY),cY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dY(f){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(f):(f=hY[f])?!!d[f]:!1}function G1(){return dY}var pY=h({},qh,{key:function(f){if(f.key){var d=cY[f.key]||f.key;if(d!=="Unidentified")return d}return f.type==="keypress"?(f=Hp(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?fY[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G1,charCode:function(f){return f.type==="keypress"?Hp(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Hp(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),mY=Mi(pY),gY=h({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fI=Mi(gY),vY=h({},qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G1}),yY=Mi(vY),xY=h({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),bY=Mi(xY),SY=h({},Kp,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),EY=Mi(SY),wY=h({},ku,{newState:0,oldState:0}),_Y=Mi(wY),TY=[9,13,27,32],W1=co&&"CompositionEvent"in window,Qh=null;co&&"documentMode"in document&&(Qh=document.documentMode);var AY=co&&"TextEvent"in window&&!Qh,hI=co&&(!W1||Qh&&8<Qh&&11>=Qh),dI=" ",pI=!1;function mI(f,d){switch(f){case"keyup":return TY.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gI(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var qc=!1;function DY(f,d){switch(f){case"compositionend":return gI(d);case"keypress":return d.which!==32?null:(pI=!0,dI);case"textInput":return f=d.data,f===dI&&pI?null:f;default:return null}}function OY(f,d){if(qc)return f==="compositionend"||!W1&&mI(f,d)?(f=oI(),$p=U1=wl=null,qc=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return hI&&d.locale!=="ko"?null:d.data;default:return null}}var CY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vI(f){var d=f&&f.nodeName&&f.nodeName.toLowerCase();return d==="input"?!!CY[f.type]:d==="textarea"}function yI(f,d,v,b){zc?Vc?Vc.push(b):Vc=[b]:zc=b,d=Lm(d,"onChange"),0<d.length&&(v=new Wp("onChange","change",null,v,b),f.push({event:v,listeners:d}))}var Zh=null,Jh=null;function IY(f){eP(f,0)}function Yp(f){var d=ct(f);if(JC(d))return f}function xI(f,d){if(f==="change")return d}var bI=!1;if(co){var K1;if(co){var Y1="oninput"in document;if(!Y1){var SI=document.createElement("div");SI.setAttribute("oninput","return;"),Y1=typeof SI.oninput=="function"}K1=Y1}else K1=!1;bI=K1&&(!document.documentMode||9<document.documentMode)}function EI(){Zh&&(Zh.detachEvent("onpropertychange",wI),Jh=Zh=null)}function wI(f){if(f.propertyName==="value"&&Yp(Jh)){var d=[];yI(d,Jh,f,N1(f)),sI(IY,d)}}function RY(f,d,v){f==="focusin"?(EI(),Zh=d,Jh=v,Zh.attachEvent("onpropertychange",wI)):f==="focusout"&&EI()}function kY(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Yp(Jh)}function PY(f,d){if(f==="click")return Yp(d)}function LY(f,d){if(f==="input"||f==="change")return Yp(d)}function MY(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var ea=typeof Object.is=="function"?Object.is:MY;function ed(f,d){if(ea(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var v=Object.keys(f),b=Object.keys(d);if(v.length!==b.length)return!1;for(b=0;b<v.length;b++){var D=v[b];if(!$e.call(d,D)||!ea(f[D],d[D]))return!1}return!0}function _I(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function TI(f,d){var v=_I(f);f=0;for(var b;v;){if(v.nodeType===3){if(b=f+v.textContent.length,f<=d&&b>=d)return{node:v,offset:d-f};f=b}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=_I(v)}}function AI(f,d){return f&&d?f===d?!0:f&&f.nodeType===3?!1:d&&d.nodeType===3?AI(f,d.parentNode):"contains"in f?f.contains(d):f.compareDocumentPosition?!!(f.compareDocumentPosition(d)&16):!1:!1}function DI(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var d=Up(f.document);d instanceof f.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)f=d.contentWindow;else break;d=Up(f.document)}return d}function z1(f){var d=f&&f.nodeName&&f.nodeName.toLowerCase();return d&&(d==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||d==="textarea"||f.contentEditable==="true")}var NY=co&&"documentMode"in document&&11>=document.documentMode,Xc=null,V1=null,td=null,q1=!1;function OI(f,d,v){var b=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;q1||Xc==null||Xc!==Up(b)||(b=Xc,"selectionStart"in b&&z1(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),td&&ed(td,b)||(td=b,b=Lm(V1,"onSelect"),0<b.length&&(d=new Wp("onSelect","select",null,d,v),f.push({event:d,listeners:b}),d.target=Xc)))}function Pu(f,d){var v={};return v[f.toLowerCase()]=d.toLowerCase(),v["Webkit"+f]="webkit"+d,v["Moz"+f]="moz"+d,v}var Qc={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionrun:Pu("Transition","TransitionRun"),transitionstart:Pu("Transition","TransitionStart"),transitioncancel:Pu("Transition","TransitionCancel"),transitionend:Pu("Transition","TransitionEnd")},X1={},CI={};co&&(CI=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Lu(f){if(X1[f])return X1[f];if(!Qc[f])return f;var d=Qc[f],v;for(v in d)if(d.hasOwnProperty(v)&&v in CI)return X1[f]=d[v];return f}var II=Lu("animationend"),RI=Lu("animationiteration"),kI=Lu("animationstart"),FY=Lu("transitionrun"),BY=Lu("transitionstart"),UY=Lu("transitioncancel"),PI=Lu("transitionend"),LI=new Map,Q1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Q1.push("scrollEnd");function ns(f,d){LI.set(f,d),Ur(d,[f])}var zp=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},Ra=[],Zc=0,Z1=0;function Vp(){for(var f=Zc,d=Z1=Zc=0;d<f;){var v=Ra[d];Ra[d++]=null;var b=Ra[d];Ra[d++]=null;var D=Ra[d];Ra[d++]=null;var C=Ra[d];if(Ra[d++]=null,b!==null&&D!==null){var j=b.pending;j===null?D.next=D:(D.next=j.next,j.next=D),b.pending=D}C!==0&&MI(v,D,C)}}function qp(f,d,v,b){Ra[Zc++]=f,Ra[Zc++]=d,Ra[Zc++]=v,Ra[Zc++]=b,Z1|=b,f.lanes|=b,f=f.alternate,f!==null&&(f.lanes|=b)}function J1(f,d,v,b){return qp(f,d,v,b),Xp(f)}function Mu(f,d){return qp(f,null,null,d),Xp(f)}function MI(f,d,v){f.lanes|=v;var b=f.alternate;b!==null&&(b.lanes|=v);for(var D=!1,C=f.return;C!==null;)C.childLanes|=v,b=C.alternate,b!==null&&(b.childLanes|=v),C.tag===22&&(f=C.stateNode,f===null||f._visibility&1||(D=!0)),f=C,C=C.return;return f.tag===3?(C=f.stateNode,D&&d!==null&&(D=31-xt(v),f=C.hiddenUpdates,b=f[D],b===null?f[D]=[d]:b.push(d),d.lane=v|536870912),C):null}function Xp(f){if(50<wd)throw wd=0,lS=null,Error(n(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}var Jc={};function jY(f,d,v,b){this.tag=f,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(f,d,v,b){return new jY(f,d,v,b)}function eb(f){return f=f.prototype,!(!f||!f.isReactComponent)}function fo(f,d){var v=f.alternate;return v===null?(v=ta(f.tag,d,f.key,f.mode),v.elementType=f.elementType,v.type=f.type,v.stateNode=f.stateNode,v.alternate=f,f.alternate=v):(v.pendingProps=d,v.type=f.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=f.flags&65011712,v.childLanes=f.childLanes,v.lanes=f.lanes,v.child=f.child,v.memoizedProps=f.memoizedProps,v.memoizedState=f.memoizedState,v.updateQueue=f.updateQueue,d=f.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=f.sibling,v.index=f.index,v.ref=f.ref,v.refCleanup=f.refCleanup,v}function NI(f,d){f.flags&=65011714;var v=f.alternate;return v===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,d=v.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function Qp(f,d,v,b,D,C){var j=0;if(b=f,typeof f=="function")eb(f)&&(j=1);else if(typeof f=="string")j=Kz(f,v,ee.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case k:return f=ta(31,v,d,D),f.elementType=k,f.lanes=C,f;case y:return Nu(v.children,D,C,d);case x:j=8,D|=24;break;case E:return f=ta(12,v,d,D|2),f.elementType=E,f.lanes=C,f;case _:return f=ta(13,v,d,D),f.elementType=_,f.lanes=C,f;case O:return f=ta(19,v,d,D),f.elementType=O,f.lanes=C,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case w:j=10;break e;case S:j=9;break e;case T:j=11;break e;case A:j=14;break e;case I:j=16,b=null;break e}j=29,v=Error(n(130,f===null?"null":typeof f,"")),b=null}return d=ta(j,v,d,D),d.elementType=f,d.type=b,d.lanes=C,d}function Nu(f,d,v,b){return f=ta(7,f,b,d),f.lanes=v,f}function tb(f,d,v){return f=ta(6,f,null,d),f.lanes=v,f}function FI(f){var d=ta(18,null,null,0);return d.stateNode=f,d}function rb(f,d,v){return d=ta(4,f.children!==null?f.children:[],f.key,d),d.lanes=v,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}var BI=new WeakMap;function ka(f,d){if(typeof f=="object"&&f!==null){var v=BI.get(f);return v!==void 0?v:(d={value:f,source:d,stack:Ie(d)},BI.set(f,d),d)}return{value:f,source:d,stack:Ie(d)}}var ef=[],tf=0,Zp=null,rd=0,Pa=[],La=0,_l=null,As=1,Ds="";function ho(f,d){ef[tf++]=rd,ef[tf++]=Zp,Zp=f,rd=d}function UI(f,d,v){Pa[La++]=As,Pa[La++]=Ds,Pa[La++]=_l,_l=f;var b=As;f=Ds;var D=32-xt(b)-1;b&=~(1<<D),v+=1;var C=32-xt(d)+D;if(30<C){var j=D-D%5;C=(b&(1<<j)-1).toString(32),b>>=j,D-=j,As=1<<32-xt(d)+D|v<<D|b,Ds=C+f}else As=1<<C|v<<D|b,Ds=f}function nb(f){f.return!==null&&(ho(f,1),UI(f,1,0))}function ib(f){for(;f===Zp;)Zp=ef[--tf],ef[tf]=null,rd=ef[--tf],ef[tf]=null;for(;f===_l;)_l=Pa[--La],Pa[La]=null,Ds=Pa[--La],Pa[La]=null,As=Pa[--La],Pa[La]=null}function jI(f,d){Pa[La++]=As,Pa[La++]=Ds,Pa[La++]=_l,As=d.id,Ds=d.overflow,_l=f}var zn=null,Pr=null,Zt=!1,Tl=null,Ma=!1,ab=Error(n(519));function Al(f){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nd(ka(d,f)),ab}function $I(f){var d=f.stateNode,v=f.type,b=f.memoizedProps;switch(d[ce]=f,d[ge]=b,v){case"dialog":Yt("cancel",d),Yt("close",d);break;case"iframe":case"object":case"embed":Yt("load",d);break;case"video":case"audio":for(v=0;v<Td.length;v++)Yt(Td[v],d);break;case"source":Yt("error",d);break;case"img":case"image":case"link":Yt("error",d),Yt("load",d);break;case"details":Yt("toggle",d);break;case"input":Yt("invalid",d),eI(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Yt("invalid",d);break;case"textarea":Yt("invalid",d),rI(d,b.value,b.defaultValue,b.children)}v=b.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||d.textContent===""+v||b.suppressHydrationWarning===!0||iP(d.textContent,v)?(b.popover!=null&&(Yt("beforetoggle",d),Yt("toggle",d)),b.onScroll!=null&&Yt("scroll",d),b.onScrollEnd!=null&&Yt("scrollend",d),b.onClick!=null&&(d.onclick=uo),d=!0):d=!1,d||Al(f,!0)}function HI(f){for(zn=f.return;zn;)switch(zn.tag){case 5:case 31:case 13:Ma=!1;return;case 27:case 3:Ma=!0;return;default:zn=zn.return}}function rf(f){if(f!==zn)return!1;if(!Zt)return HI(f),Zt=!0,!1;var d=f.tag,v;if((v=d!==3&&d!==27)&&((v=d===5)&&(v=f.type,v=!(v!=="form"&&v!=="button")||wS(f.type,f.memoizedProps)),v=!v),v&&Pr&&Al(f),HI(f),d===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Pr=dP(f)}else if(d===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Pr=dP(f)}else d===27?(d=Pr,jl(f.type)?(f=OS,OS=null,Pr=f):Pr=d):Pr=zn?Fa(f.stateNode.nextSibling):null;return!0}function Fu(){Pr=zn=null,Zt=!1}function sb(){var f=Tl;return f!==null&&(Ui===null?Ui=f:Ui.push.apply(Ui,f),Tl=null),f}function nd(f){Tl===null?Tl=[f]:Tl.push(f)}var ob=W(null),Bu=null,po=null;function Dl(f,d,v){V(ob,d._currentValue),d._currentValue=v}function mo(f){f._currentValue=ob.current,M(ob)}function lb(f,d,v){for(;f!==null;){var b=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),f===v)break;f=f.return}}function ub(f,d,v,b){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var C=D.dependencies;if(C!==null){var j=D.child;C=C.firstContext;e:for(;C!==null;){var oe=C;C=D;for(var _e=0;_e<d.length;_e++)if(oe.context===d[_e]){C.lanes|=v,oe=C.alternate,oe!==null&&(oe.lanes|=v),lb(C.return,v,f),b||(j=null);break e}C=oe.next}}else if(D.tag===18){if(j=D.return,j===null)throw Error(n(341));j.lanes|=v,C=j.alternate,C!==null&&(C.lanes|=v),lb(j,v,f),j=null}else j=D.child;if(j!==null)j.return=D;else for(j=D;j!==null;){if(j===f){j=null;break}if(D=j.sibling,D!==null){D.return=j.return,j=D;break}j=j.return}D=j}}function nf(f,d,v,b){f=null;for(var D=d,C=!1;D!==null;){if(!C){if((D.flags&524288)!==0)C=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var j=D.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var oe=D.type;ea(D.pendingProps.value,j.value)||(f!==null?f.push(oe):f=[oe])}}else if(D===ue.current){if(j=D.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(Id):f=[Id])}D=D.return}f!==null&&ub(d,f,v,b),d.flags|=262144}function Jp(f){for(f=f.firstContext;f!==null;){if(!ea(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Uu(f){Bu=f,po=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Vn(f){return GI(Bu,f)}function em(f,d){return Bu===null&&Uu(f),GI(f,d)}function GI(f,d){var v=d._currentValue;if(d={context:d,memoizedValue:v,next:null},po===null){if(f===null)throw Error(n(308));po=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else po=po.next=d;return v}var $Y=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(v,b){f.push(b)}};this.abort=function(){d.aborted=!0,f.forEach(function(v){return v()})}},HY=r.unstable_scheduleCallback,GY=r.unstable_NormalPriority,fn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cb(){return{controller:new $Y,data:new Map,refCount:0}}function id(f){f.refCount--,f.refCount===0&&HY(GY,function(){f.controller.abort()})}var ad=null,fb=0,af=0,sf=null;function WY(f,d){if(ad===null){var v=ad=[];fb=0,af=pS(),sf={status:"pending",value:void 0,then:function(b){v.push(b)}}}return fb++,d.then(WI,WI),d}function WI(){if(--fb===0&&ad!==null){sf!==null&&(sf.status="fulfilled");var f=ad;ad=null,af=0,sf=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function KY(f,d){var v=[],b={status:"pending",value:null,reason:null,then:function(D){v.push(D)}};return f.then(function(){b.status="fulfilled",b.value=d;for(var D=0;D<v.length;D++)(0,v[D])(d)},function(D){for(b.status="rejected",b.reason=D,D=0;D<v.length;D++)(0,v[D])(void 0)}),b}var KI=K.S;K.S=function(f,d){Ok=ke(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&WY(f,d),KI!==null&&KI(f,d)};var ju=W(null);function hb(){var f=ju.current;return f!==null?f:_r.pooledCache}function tm(f,d){d===null?V(ju,ju.current):V(ju,d.pool)}function YI(){var f=hb();return f===null?null:{parent:fn._currentValue,pool:f}}var of=Error(n(460)),db=Error(n(474)),rm=Error(n(542)),nm={then:function(){}};function zI(f){return f=f.status,f==="fulfilled"||f==="rejected"}function VI(f,d,v){switch(v=f[v],v===void 0?f.push(d):v!==d&&(d.then(uo,uo),d=v),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,XI(f),f;default:if(typeof d.status=="string")d.then(uo,uo);else{if(f=_r,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=d,f.status="pending",f.then(function(b){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=b}},function(b){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,XI(f),f}throw Hu=d,of}}function $u(f){try{var d=f._init;return d(f._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(Hu=v,of):v}}var Hu=null;function qI(){if(Hu===null)throw Error(n(459));var f=Hu;return Hu=null,f}function XI(f){if(f===of||f===rm)throw Error(n(483))}var lf=null,sd=0;function im(f){var d=sd;return sd+=1,lf===null&&(lf=[]),VI(lf,f,d)}function od(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function am(f,d){throw d.$$typeof===p?Error(n(525)):(f=Object.prototype.toString.call(d),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function QI(f){function d(Ce,Ae){if(f){var Ue=Ce.deletions;Ue===null?(Ce.deletions=[Ae],Ce.flags|=16):Ue.push(Ae)}}function v(Ce,Ae){if(!f)return null;for(;Ae!==null;)d(Ce,Ae),Ae=Ae.sibling;return null}function b(Ce){for(var Ae=new Map;Ce!==null;)Ce.key!==null?Ae.set(Ce.key,Ce):Ae.set(Ce.index,Ce),Ce=Ce.sibling;return Ae}function D(Ce,Ae){return Ce=fo(Ce,Ae),Ce.index=0,Ce.sibling=null,Ce}function C(Ce,Ae,Ue){return Ce.index=Ue,f?(Ue=Ce.alternate,Ue!==null?(Ue=Ue.index,Ue<Ae?(Ce.flags|=67108866,Ae):Ue):(Ce.flags|=67108866,Ae)):(Ce.flags|=1048576,Ae)}function j(Ce){return f&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function oe(Ce,Ae,Ue,nt){return Ae===null||Ae.tag!==6?(Ae=tb(Ue,Ce.mode,nt),Ae.return=Ce,Ae):(Ae=D(Ae,Ue),Ae.return=Ce,Ae)}function _e(Ce,Ae,Ue,nt){var It=Ue.type;return It===y?et(Ce,Ae,Ue.props.children,nt,Ue.key):Ae!==null&&(Ae.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===I&&$u(It)===Ae.type)?(Ae=D(Ae,Ue.props),od(Ae,Ue),Ae.return=Ce,Ae):(Ae=Qp(Ue.type,Ue.key,Ue.props,null,Ce.mode,nt),od(Ae,Ue),Ae.return=Ce,Ae)}function je(Ce,Ae,Ue,nt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Ue.containerInfo||Ae.stateNode.implementation!==Ue.implementation?(Ae=rb(Ue,Ce.mode,nt),Ae.return=Ce,Ae):(Ae=D(Ae,Ue.children||[]),Ae.return=Ce,Ae)}function et(Ce,Ae,Ue,nt,It){return Ae===null||Ae.tag!==7?(Ae=Nu(Ue,Ce.mode,nt,It),Ae.return=Ce,Ae):(Ae=D(Ae,Ue),Ae.return=Ce,Ae)}function it(Ce,Ae,Ue){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=tb(""+Ae,Ce.mode,Ue),Ae.return=Ce,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case m:return Ue=Qp(Ae.type,Ae.key,Ae.props,null,Ce.mode,Ue),od(Ue,Ae),Ue.return=Ce,Ue;case g:return Ae=rb(Ae,Ce.mode,Ue),Ae.return=Ce,Ae;case I:return Ae=$u(Ae),it(Ce,Ae,Ue)}if(Y(Ae)||R(Ae))return Ae=Nu(Ae,Ce.mode,Ue,null),Ae.return=Ce,Ae;if(typeof Ae.then=="function")return it(Ce,im(Ae),Ue);if(Ae.$$typeof===w)return it(Ce,em(Ce,Ae),Ue);am(Ce,Ae)}return null}function He(Ce,Ae,Ue,nt){var It=Ae!==null?Ae.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return It!==null?null:oe(Ce,Ae,""+Ue,nt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case m:return Ue.key===It?_e(Ce,Ae,Ue,nt):null;case g:return Ue.key===It?je(Ce,Ae,Ue,nt):null;case I:return Ue=$u(Ue),He(Ce,Ae,Ue,nt)}if(Y(Ue)||R(Ue))return It!==null?null:et(Ce,Ae,Ue,nt,null);if(typeof Ue.then=="function")return He(Ce,Ae,im(Ue),nt);if(Ue.$$typeof===w)return He(Ce,Ae,em(Ce,Ue),nt);am(Ce,Ue)}return null}function Ke(Ce,Ae,Ue,nt,It){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Ce=Ce.get(Ue)||null,oe(Ae,Ce,""+nt,It);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case m:return Ce=Ce.get(nt.key===null?Ue:nt.key)||null,_e(Ae,Ce,nt,It);case g:return Ce=Ce.get(nt.key===null?Ue:nt.key)||null,je(Ae,Ce,nt,It);case I:return nt=$u(nt),Ke(Ce,Ae,Ue,nt,It)}if(Y(nt)||R(nt))return Ce=Ce.get(Ue)||null,et(Ae,Ce,nt,It,null);if(typeof nt.then=="function")return Ke(Ce,Ae,Ue,im(nt),It);if(nt.$$typeof===w)return Ke(Ce,Ae,Ue,em(Ae,nt),It);am(Ae,nt)}return null}function _t(Ce,Ae,Ue,nt){for(var It=null,Jt=null,At=Ae,$t=Ae=0,Xt=null;At!==null&&$t<Ue.length;$t++){At.index>$t?(Xt=At,At=null):Xt=At.sibling;var er=He(Ce,At,Ue[$t],nt);if(er===null){At===null&&(At=Xt);break}f&&At&&er.alternate===null&&d(Ce,At),Ae=C(er,Ae,$t),Jt===null?It=er:Jt.sibling=er,Jt=er,At=Xt}if($t===Ue.length)return v(Ce,At),Zt&&ho(Ce,$t),It;if(At===null){for(;$t<Ue.length;$t++)At=it(Ce,Ue[$t],nt),At!==null&&(Ae=C(At,Ae,$t),Jt===null?It=At:Jt.sibling=At,Jt=At);return Zt&&ho(Ce,$t),It}for(At=b(At);$t<Ue.length;$t++)Xt=Ke(At,Ce,$t,Ue[$t],nt),Xt!==null&&(f&&Xt.alternate!==null&&At.delete(Xt.key===null?$t:Xt.key),Ae=C(Xt,Ae,$t),Jt===null?It=Xt:Jt.sibling=Xt,Jt=Xt);return f&&At.forEach(function(Kl){return d(Ce,Kl)}),Zt&&ho(Ce,$t),It}function Pt(Ce,Ae,Ue,nt){if(Ue==null)throw Error(n(151));for(var It=null,Jt=null,At=Ae,$t=Ae=0,Xt=null,er=Ue.next();At!==null&&!er.done;$t++,er=Ue.next()){At.index>$t?(Xt=At,At=null):Xt=At.sibling;var Kl=He(Ce,At,er.value,nt);if(Kl===null){At===null&&(At=Xt);break}f&&At&&Kl.alternate===null&&d(Ce,At),Ae=C(Kl,Ae,$t),Jt===null?It=Kl:Jt.sibling=Kl,Jt=Kl,At=Xt}if(er.done)return v(Ce,At),Zt&&ho(Ce,$t),It;if(At===null){for(;!er.done;$t++,er=Ue.next())er=it(Ce,er.value,nt),er!==null&&(Ae=C(er,Ae,$t),Jt===null?It=er:Jt.sibling=er,Jt=er);return Zt&&ho(Ce,$t),It}for(At=b(At);!er.done;$t++,er=Ue.next())er=Ke(At,Ce,$t,er.value,nt),er!==null&&(f&&er.alternate!==null&&At.delete(er.key===null?$t:er.key),Ae=C(er,Ae,$t),Jt===null?It=er:Jt.sibling=er,Jt=er);return f&&At.forEach(function(rV){return d(Ce,rV)}),Zt&&ho(Ce,$t),It}function br(Ce,Ae,Ue,nt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===y&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case m:e:{for(var It=Ue.key;Ae!==null;){if(Ae.key===It){if(It=Ue.type,It===y){if(Ae.tag===7){v(Ce,Ae.sibling),nt=D(Ae,Ue.props.children),nt.return=Ce,Ce=nt;break e}}else if(Ae.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===I&&$u(It)===Ae.type){v(Ce,Ae.sibling),nt=D(Ae,Ue.props),od(nt,Ue),nt.return=Ce,Ce=nt;break e}v(Ce,Ae);break}else d(Ce,Ae);Ae=Ae.sibling}Ue.type===y?(nt=Nu(Ue.props.children,Ce.mode,nt,Ue.key),nt.return=Ce,Ce=nt):(nt=Qp(Ue.type,Ue.key,Ue.props,null,Ce.mode,nt),od(nt,Ue),nt.return=Ce,Ce=nt)}return j(Ce);case g:e:{for(It=Ue.key;Ae!==null;){if(Ae.key===It)if(Ae.tag===4&&Ae.stateNode.containerInfo===Ue.containerInfo&&Ae.stateNode.implementation===Ue.implementation){v(Ce,Ae.sibling),nt=D(Ae,Ue.children||[]),nt.return=Ce,Ce=nt;break e}else{v(Ce,Ae);break}else d(Ce,Ae);Ae=Ae.sibling}nt=rb(Ue,Ce.mode,nt),nt.return=Ce,Ce=nt}return j(Ce);case I:return Ue=$u(Ue),br(Ce,Ae,Ue,nt)}if(Y(Ue))return _t(Ce,Ae,Ue,nt);if(R(Ue)){if(It=R(Ue),typeof It!="function")throw Error(n(150));return Ue=It.call(Ue),Pt(Ce,Ae,Ue,nt)}if(typeof Ue.then=="function")return br(Ce,Ae,im(Ue),nt);if(Ue.$$typeof===w)return br(Ce,Ae,em(Ce,Ue),nt);am(Ce,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Ae!==null&&Ae.tag===6?(v(Ce,Ae.sibling),nt=D(Ae,Ue),nt.return=Ce,Ce=nt):(v(Ce,Ae),nt=tb(Ue,Ce.mode,nt),nt.return=Ce,Ce=nt),j(Ce)):v(Ce,Ae)}return function(Ce,Ae,Ue,nt){try{sd=0;var It=br(Ce,Ae,Ue,nt);return lf=null,It}catch(At){if(At===of||At===rm)throw At;var Jt=ta(29,At,null,Ce.mode);return Jt.lanes=nt,Jt.return=Ce,Jt}finally{}}}var Gu=QI(!0),ZI=QI(!1),Ol=!1;function pb(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mb(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Cl(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Il(f,d,v){var b=f.updateQueue;if(b===null)return null;if(b=b.shared,(ir&2)!==0){var D=b.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),b.pending=d,d=Xp(f),MI(f,null,v),d}return qp(f,b,d,v),Xp(f)}function ld(f,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194048)!==0)){var b=d.lanes;b&=f.pendingLanes,v|=b,d.lanes=v,dt(f,v)}}function gb(f,d){var v=f.updateQueue,b=f.alternate;if(b!==null&&(b=b.updateQueue,v===b)){var D=null,C=null;if(v=v.firstBaseUpdate,v!==null){do{var j={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};C===null?D=C=j:C=C.next=j,v=v.next}while(v!==null);C===null?D=C=d:C=C.next=d}else D=C=d;v={baseState:b.baseState,firstBaseUpdate:D,lastBaseUpdate:C,shared:b.shared,callbacks:b.callbacks},f.updateQueue=v;return}f=v.lastBaseUpdate,f===null?v.firstBaseUpdate=d:f.next=d,v.lastBaseUpdate=d}var vb=!1;function ud(){if(vb){var f=sf;if(f!==null)throw f}}function cd(f,d,v,b){vb=!1;var D=f.updateQueue;Ol=!1;var C=D.firstBaseUpdate,j=D.lastBaseUpdate,oe=D.shared.pending;if(oe!==null){D.shared.pending=null;var _e=oe,je=_e.next;_e.next=null,j===null?C=je:j.next=je,j=_e;var et=f.alternate;et!==null&&(et=et.updateQueue,oe=et.lastBaseUpdate,oe!==j&&(oe===null?et.firstBaseUpdate=je:oe.next=je,et.lastBaseUpdate=_e))}if(C!==null){var it=D.baseState;j=0,et=je=_e=null,oe=C;do{var He=oe.lane&-536870913,Ke=He!==oe.lane;if(Ke?(qt&He)===He:(b&He)===He){He!==0&&He===af&&(vb=!0),et!==null&&(et=et.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var _t=f,Pt=oe;He=d;var br=v;switch(Pt.tag){case 1:if(_t=Pt.payload,typeof _t=="function"){it=_t.call(br,it,He);break e}it=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Pt.payload,He=typeof _t=="function"?_t.call(br,it,He):_t,He==null)break e;it=h({},it,He);break e;case 2:Ol=!0}}He=oe.callback,He!==null&&(f.flags|=64,Ke&&(f.flags|=8192),Ke=D.callbacks,Ke===null?D.callbacks=[He]:Ke.push(He))}else Ke={lane:He,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},et===null?(je=et=Ke,_e=it):et=et.next=Ke,j|=He;if(oe=oe.next,oe===null){if(oe=D.shared.pending,oe===null)break;Ke=oe,oe=Ke.next,Ke.next=null,D.lastBaseUpdate=Ke,D.shared.pending=null}}while(!0);et===null&&(_e=it),D.baseState=_e,D.firstBaseUpdate=je,D.lastBaseUpdate=et,C===null&&(D.shared.lanes=0),Ml|=j,f.lanes=j,f.memoizedState=it}}function JI(f,d){if(typeof f!="function")throw Error(n(191,f));f.call(d)}function eR(f,d){var v=f.callbacks;if(v!==null)for(f.callbacks=null,f=0;f<v.length;f++)JI(v[f],d)}var uf=W(null),sm=W(0);function tR(f,d){f=_o,V(sm,f),V(uf,d),_o=f|d.baseLanes}function yb(){V(sm,_o),V(uf,uf.current)}function xb(){_o=sm.current,M(uf),M(sm)}var ra=W(null),Na=null;function Rl(f){var d=f.alternate;V(an,an.current&1),V(ra,f),Na===null&&(d===null||uf.current!==null||d.memoizedState!==null)&&(Na=f)}function bb(f){V(an,an.current),V(ra,f),Na===null&&(Na=f)}function rR(f){f.tag===22?(V(an,an.current),V(ra,f),Na===null&&(Na=f)):kl()}function kl(){V(an,an.current),V(ra,ra.current)}function na(f){M(ra),Na===f&&(Na=null),M(an)}var an=W(0);function om(f){for(var d=f;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||AS(v)||DS(v)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var go=0,jt=null,yr=null,hn=null,lm=!1,cf=!1,Wu=!1,um=0,fd=0,ff=null,YY=0;function Xr(){throw Error(n(321))}function Sb(f,d){if(d===null)return!1;for(var v=0;v<d.length&&v<f.length;v++)if(!ea(f[v],d[v]))return!1;return!0}function Eb(f,d,v,b,D,C){return go=C,jt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,K.H=f===null||f.memoizedState===null?UR:Fb,Wu=!1,C=v(b,D),Wu=!1,cf&&(C=iR(d,v,b,D)),nR(f),C}function nR(f){K.H=pd;var d=yr!==null&&yr.next!==null;if(go=0,hn=yr=jt=null,lm=!1,fd=0,ff=null,d)throw Error(n(300));f===null||dn||(f=f.dependencies,f!==null&&Jp(f)&&(dn=!0))}function iR(f,d,v,b){jt=f;var D=0;do{if(cf&&(ff=null),fd=0,cf=!1,25<=D)throw Error(n(301));if(D+=1,hn=yr=null,f.updateQueue!=null){var C=f.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}K.H=jR,C=d(v,b)}while(cf);return C}function zY(){var f=K.H,d=f.useState()[0];return d=typeof d.then=="function"?hd(d):d,f=f.useState()[0],(yr!==null?yr.memoizedState:null)!==f&&(jt.flags|=1024),d}function wb(){var f=um!==0;return um=0,f}function _b(f,d,v){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~v}function Tb(f){if(lm){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}lm=!1}go=0,hn=yr=jt=null,cf=!1,fd=um=0,ff=null}function Si(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?jt.memoizedState=hn=f:hn=hn.next=f,hn}function sn(){if(yr===null){var f=jt.alternate;f=f!==null?f.memoizedState:null}else f=yr.next;var d=hn===null?jt.memoizedState:hn.next;if(d!==null)hn=d,yr=f;else{if(f===null)throw jt.alternate===null?Error(n(467)):Error(n(310));yr=f,f={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},hn===null?jt.memoizedState=hn=f:hn=hn.next=f}return hn}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hd(f){var d=fd;return fd+=1,ff===null&&(ff=[]),f=VI(ff,f,d),d=jt,(hn===null?d.memoizedState:hn.next)===null&&(d=d.alternate,K.H=d===null||d.memoizedState===null?UR:Fb),f}function fm(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return hd(f);if(f.$$typeof===w)return Vn(f)}throw Error(n(438,String(f)))}function Ab(f){var d=null,v=jt.updateQueue;if(v!==null&&(d=v.memoCache),d==null){var b=jt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),v===null&&(v=cm(),jt.updateQueue=v),v.memoCache=d,v=d.data[d.index],v===void 0)for(v=d.data[d.index]=Array(f),b=0;b<f;b++)v[b]=N;return d.index++,v}function vo(f,d){return typeof d=="function"?d(f):d}function hm(f){var d=sn();return Db(d,yr,f)}function Db(f,d,v){var b=f.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=v;var D=f.baseQueue,C=b.pending;if(C!==null){if(D!==null){var j=D.next;D.next=C.next,C.next=j}d.baseQueue=D=C,b.pending=null}if(C=f.baseState,D===null)f.memoizedState=C;else{d=D.next;var oe=j=null,_e=null,je=d,et=!1;do{var it=je.lane&-536870913;if(it!==je.lane?(qt&it)===it:(go&it)===it){var He=je.revertLane;if(He===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),it===af&&(et=!0);else if((go&He)===He){je=je.next,He===af&&(et=!0);continue}else it={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},_e===null?(oe=_e=it,j=C):_e=_e.next=it,jt.lanes|=He,Ml|=He;it=je.action,Wu&&v(C,it),C=je.hasEagerState?je.eagerState:v(C,it)}else He={lane:it,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},_e===null?(oe=_e=He,j=C):_e=_e.next=He,jt.lanes|=it,Ml|=it;je=je.next}while(je!==null&&je!==d);if(_e===null?j=C:_e.next=oe,!ea(C,f.memoizedState)&&(dn=!0,et&&(v=sf,v!==null)))throw v;f.memoizedState=C,f.baseState=j,f.baseQueue=_e,b.lastRenderedState=C}return D===null&&(b.lanes=0),[f.memoizedState,b.dispatch]}function Ob(f){var d=sn(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=f;var b=v.dispatch,D=v.pending,C=d.memoizedState;if(D!==null){v.pending=null;var j=D=D.next;do C=f(C,j.action),j=j.next;while(j!==D);ea(C,d.memoizedState)||(dn=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),v.lastRenderedState=C}return[C,b]}function aR(f,d,v){var b=jt,D=sn(),C=Zt;if(C){if(v===void 0)throw Error(n(407));v=v()}else v=d();var j=!ea((yr||D).memoizedState,v);if(j&&(D.memoizedState=v,dn=!0),D=D.queue,Rb(lR.bind(null,b,D,f),[f]),D.getSnapshot!==d||j||hn!==null&&hn.memoizedState.tag&1){if(b.flags|=2048,hf(9,{destroy:void 0},oR.bind(null,b,D,v,d),null),_r===null)throw Error(n(349));C||(go&127)!==0||sR(b,d,v)}return v}function sR(f,d,v){f.flags|=16384,f={getSnapshot:d,value:v},d=jt.updateQueue,d===null?(d=cm(),jt.updateQueue=d,d.stores=[f]):(v=d.stores,v===null?d.stores=[f]:v.push(f))}function oR(f,d,v,b){d.value=v,d.getSnapshot=b,uR(d)&&cR(f)}function lR(f,d,v){return v(function(){uR(d)&&cR(f)})}function uR(f){var d=f.getSnapshot;f=f.value;try{var v=d();return!ea(f,v)}catch{return!0}}function cR(f){var d=Mu(f,2);d!==null&&ji(d,f,2)}function Cb(f){var d=Si();if(typeof f=="function"){var v=f;if(f=v(),Wu){St(!0);try{v()}finally{St(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:f},d}function fR(f,d,v,b){return f.baseState=v,Db(f,yr,typeof b=="function"?b:vo)}function VY(f,d,v,b,D){if(mm(f))throw Error(n(485));if(f=d.action,f!==null){var C={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){C.listeners.push(j)}};K.T!==null?v(!0):C.isTransition=!1,b(C),v=d.pending,v===null?(C.next=d.pending=C,hR(d,C)):(C.next=v.next,d.pending=v.next=C)}}function hR(f,d){var v=d.action,b=d.payload,D=f.state;if(d.isTransition){var C=K.T,j={};K.T=j;try{var oe=v(D,b),_e=K.S;_e!==null&&_e(j,oe),dR(f,d,oe)}catch(je){Ib(f,d,je)}finally{C!==null&&j.types!==null&&(C.types=j.types),K.T=C}}else try{C=v(D,b),dR(f,d,C)}catch(je){Ib(f,d,je)}}function dR(f,d,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(b){pR(f,d,b)},function(b){return Ib(f,d,b)}):pR(f,d,v)}function pR(f,d,v){d.status="fulfilled",d.value=v,mR(d),f.state=v,d=f.pending,d!==null&&(v=d.next,v===d?f.pending=null:(v=v.next,d.next=v,hR(f,v)))}function Ib(f,d,v){var b=f.pending;if(f.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=v,mR(d),d=d.next;while(d!==b)}f.action=null}function mR(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function gR(f,d){return d}function vR(f,d){if(Zt){var v=_r.formState;if(v!==null){e:{var b=jt;if(Zt){if(Pr){t:{for(var D=Pr,C=Ma;D.nodeType!==8;){if(!C){D=null;break t}if(D=Fa(D.nextSibling),D===null){D=null;break t}}C=D.data,D=C==="F!"||C==="F"?D:null}if(D){Pr=Fa(D.nextSibling),b=D.data==="F!";break e}}Al(b)}b=!1}b&&(d=v[0])}}return v=Si(),v.memoizedState=v.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gR,lastRenderedState:d},v.queue=b,v=NR.bind(null,jt,b),b.dispatch=v,b=Cb(!1),C=Nb.bind(null,jt,!1,b.queue),b=Si(),D={state:d,dispatch:null,action:f,pending:null},b.queue=D,v=VY.bind(null,jt,D,C,v),D.dispatch=v,b.memoizedState=f,[d,v,!1]}function yR(f){var d=sn();return xR(d,yr,f)}function xR(f,d,v){if(d=Db(f,d,gR)[0],f=hm(vo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=hd(d)}catch(j){throw j===of?rm:j}else b=d;d=sn();var D=d.queue,C=D.dispatch;return v!==d.memoizedState&&(jt.flags|=2048,hf(9,{destroy:void 0},qY.bind(null,D,v),null)),[b,C,f]}function qY(f,d){f.action=d}function bR(f){var d=sn(),v=yr;if(v!==null)return xR(d,v,f);sn(),d=d.memoizedState,v=sn();var b=v.queue.dispatch;return v.memoizedState=f,[d,b,!1]}function hf(f,d,v,b){return f={tag:f,create:v,deps:b,inst:d,next:null},d=jt.updateQueue,d===null&&(d=cm(),jt.updateQueue=d),v=d.lastEffect,v===null?d.lastEffect=f.next=f:(b=v.next,v.next=f,f.next=b,d.lastEffect=f),f}function SR(){return sn().memoizedState}function dm(f,d,v,b){var D=Si();jt.flags|=f,D.memoizedState=hf(1|d,{destroy:void 0},v,b===void 0?null:b)}function pm(f,d,v,b){var D=sn();b=b===void 0?null:b;var C=D.memoizedState.inst;yr!==null&&b!==null&&Sb(b,yr.memoizedState.deps)?D.memoizedState=hf(d,C,v,b):(jt.flags|=f,D.memoizedState=hf(1|d,C,v,b))}function ER(f,d){dm(8390656,8,f,d)}function Rb(f,d){pm(2048,8,f,d)}function XY(f){jt.flags|=4;var d=jt.updateQueue;if(d===null)d=cm(),jt.updateQueue=d,d.events=[f];else{var v=d.events;v===null?d.events=[f]:v.push(f)}}function wR(f){var d=sn().memoizedState;return XY({ref:d,nextImpl:f}),function(){if((ir&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function _R(f,d){return pm(4,2,f,d)}function TR(f,d){return pm(4,4,f,d)}function AR(f,d){if(typeof d=="function"){f=f();var v=d(f);return function(){typeof v=="function"?v():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function DR(f,d,v){v=v!=null?v.concat([f]):null,pm(4,4,AR.bind(null,d,f),v)}function kb(){}function OR(f,d){var v=sn();d=d===void 0?null:d;var b=v.memoizedState;return d!==null&&Sb(d,b[1])?b[0]:(v.memoizedState=[f,d],f)}function CR(f,d){var v=sn();d=d===void 0?null:d;var b=v.memoizedState;if(d!==null&&Sb(d,b[1]))return b[0];if(b=f(),Wu){St(!0);try{f()}finally{St(!1)}}return v.memoizedState=[b,d],b}function Pb(f,d,v){return v===void 0||(go&1073741824)!==0&&(qt&261930)===0?f.memoizedState=d:(f.memoizedState=v,f=Ik(),jt.lanes|=f,Ml|=f,v)}function IR(f,d,v,b){return ea(v,d)?v:uf.current!==null?(f=Pb(f,v,b),ea(f,d)||(dn=!0),f):(go&42)===0||(go&1073741824)!==0&&(qt&261930)===0?(dn=!0,f.memoizedState=v):(f=Ik(),jt.lanes|=f,Ml|=f,d)}function RR(f,d,v,b,D){var C=z.p;z.p=C!==0&&8>C?C:8;var j=K.T,oe={};K.T=oe,Nb(f,!1,d,v);try{var _e=D(),je=K.S;if(je!==null&&je(oe,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var et=KY(_e,b);dd(f,d,et,sa(f))}else dd(f,d,b,sa(f))}catch(it){dd(f,d,{then:function(){},status:"rejected",reason:it},sa())}finally{z.p=C,j!==null&&oe.types!==null&&(j.types=oe.types),K.T=j}}function QY(){}function Lb(f,d,v,b){if(f.tag!==5)throw Error(n(476));var D=kR(f).queue;RR(f,D,d,Q,v===null?QY:function(){return PR(f),v(b)})}function kR(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:Q},next:null};var v={};return d.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:v},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function PR(f){var d=kR(f);d.next===null&&(d=f.alternate.memoizedState),dd(f,d.next.queue,{},sa())}function Mb(){return Vn(Id)}function LR(){return sn().memoizedState}function MR(){return sn().memoizedState}function ZY(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var v=sa();f=Cl(v);var b=Il(d,f,v);b!==null&&(ji(b,d,v),ld(b,d,v)),d={cache:cb()},f.payload=d;return}d=d.return}}function JY(f,d,v){var b=sa();v={lane:b,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},mm(f)?FR(d,v):(v=J1(f,d,v,b),v!==null&&(ji(v,f,b),BR(v,d,b)))}function NR(f,d,v){var b=sa();dd(f,d,v,b)}function dd(f,d,v,b){var D={lane:b,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(mm(f))FR(d,D);else{var C=f.alternate;if(f.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var j=d.lastRenderedState,oe=C(j,v);if(D.hasEagerState=!0,D.eagerState=oe,ea(oe,j))return qp(f,d,D,0),_r===null&&Vp(),!1}catch{}finally{}if(v=J1(f,d,D,b),v!==null)return ji(v,f,b),BR(v,d,b),!0}return!1}function Nb(f,d,v,b){if(b={lane:2,revertLane:pS(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},mm(f)){if(d)throw Error(n(479))}else d=J1(f,v,b,2),d!==null&&ji(d,f,2)}function mm(f){var d=f.alternate;return f===jt||d!==null&&d===jt}function FR(f,d){cf=lm=!0;var v=f.pending;v===null?d.next=d:(d.next=v.next,v.next=d),f.pending=d}function BR(f,d,v){if((v&4194048)!==0){var b=d.lanes;b&=f.pendingLanes,v|=b,d.lanes=v,dt(f,v)}}var pd={readContext:Vn,use:fm,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useInsertionEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useSyncExternalStore:Xr,useId:Xr,useHostTransitionStatus:Xr,useFormState:Xr,useActionState:Xr,useOptimistic:Xr,useMemoCache:Xr,useCacheRefresh:Xr};pd.useEffectEvent=Xr;var UR={readContext:Vn,use:fm,useCallback:function(f,d){return Si().memoizedState=[f,d===void 0?null:d],f},useContext:Vn,useEffect:ER,useImperativeHandle:function(f,d,v){v=v!=null?v.concat([f]):null,dm(4194308,4,AR.bind(null,d,f),v)},useLayoutEffect:function(f,d){return dm(4194308,4,f,d)},useInsertionEffect:function(f,d){dm(4,2,f,d)},useMemo:function(f,d){var v=Si();d=d===void 0?null:d;var b=f();if(Wu){St(!0);try{f()}finally{St(!1)}}return v.memoizedState=[b,d],b},useReducer:function(f,d,v){var b=Si();if(v!==void 0){var D=v(d);if(Wu){St(!0);try{v(d)}finally{St(!1)}}}else D=d;return b.memoizedState=b.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},b.queue=f,f=f.dispatch=JY.bind(null,jt,f),[b.memoizedState,f]},useRef:function(f){var d=Si();return f={current:f},d.memoizedState=f},useState:function(f){f=Cb(f);var d=f.queue,v=NR.bind(null,jt,d);return d.dispatch=v,[f.memoizedState,v]},useDebugValue:kb,useDeferredValue:function(f,d){var v=Si();return Pb(v,f,d)},useTransition:function(){var f=Cb(!1);return f=RR.bind(null,jt,f.queue,!0,!1),Si().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,v){var b=jt,D=Si();if(Zt){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),_r===null)throw Error(n(349));(qt&127)!==0||sR(b,d,v)}D.memoizedState=v;var C={value:v,getSnapshot:d};return D.queue=C,ER(lR.bind(null,b,C,f),[f]),b.flags|=2048,hf(9,{destroy:void 0},oR.bind(null,b,C,v,d),null),v},useId:function(){var f=Si(),d=_r.identifierPrefix;if(Zt){var v=Ds,b=As;v=(b&~(1<<32-xt(b)-1)).toString(32)+v,d="_"+d+"R_"+v,v=um++,0<v&&(d+="H"+v.toString(32)),d+="_"}else v=YY++,d="_"+d+"r_"+v.toString(32)+"_";return f.memoizedState=d},useHostTransitionStatus:Mb,useFormState:vR,useActionState:vR,useOptimistic:function(f){var d=Si();d.memoizedState=d.baseState=f;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=v,d=Nb.bind(null,jt,!0,v),v.dispatch=d,[f,d]},useMemoCache:Ab,useCacheRefresh:function(){return Si().memoizedState=ZY.bind(null,jt)},useEffectEvent:function(f){var d=Si(),v={impl:f};return d.memoizedState=v,function(){if((ir&2)!==0)throw Error(n(440));return v.impl.apply(void 0,arguments)}}},Fb={readContext:Vn,use:fm,useCallback:OR,useContext:Vn,useEffect:Rb,useImperativeHandle:DR,useInsertionEffect:_R,useLayoutEffect:TR,useMemo:CR,useReducer:hm,useRef:SR,useState:function(){return hm(vo)},useDebugValue:kb,useDeferredValue:function(f,d){var v=sn();return IR(v,yr.memoizedState,f,d)},useTransition:function(){var f=hm(vo)[0],d=sn().memoizedState;return[typeof f=="boolean"?f:hd(f),d]},useSyncExternalStore:aR,useId:LR,useHostTransitionStatus:Mb,useFormState:yR,useActionState:yR,useOptimistic:function(f,d){var v=sn();return fR(v,yr,f,d)},useMemoCache:Ab,useCacheRefresh:MR};Fb.useEffectEvent=wR;var jR={readContext:Vn,use:fm,useCallback:OR,useContext:Vn,useEffect:Rb,useImperativeHandle:DR,useInsertionEffect:_R,useLayoutEffect:TR,useMemo:CR,useReducer:Ob,useRef:SR,useState:function(){return Ob(vo)},useDebugValue:kb,useDeferredValue:function(f,d){var v=sn();return yr===null?Pb(v,f,d):IR(v,yr.memoizedState,f,d)},useTransition:function(){var f=Ob(vo)[0],d=sn().memoizedState;return[typeof f=="boolean"?f:hd(f),d]},useSyncExternalStore:aR,useId:LR,useHostTransitionStatus:Mb,useFormState:bR,useActionState:bR,useOptimistic:function(f,d){var v=sn();return yr!==null?fR(v,yr,f,d):(v.baseState=f,[f,v.queue.dispatch])},useMemoCache:Ab,useCacheRefresh:MR};jR.useEffectEvent=wR;function Bb(f,d,v,b){d=f.memoizedState,v=v(b,d),v=v==null?d:h({},d,v),f.memoizedState=v,f.lanes===0&&(f.updateQueue.baseState=v)}var Ub={enqueueSetState:function(f,d,v){f=f._reactInternals;var b=sa(),D=Cl(b);D.payload=d,v!=null&&(D.callback=v),d=Il(f,D,b),d!==null&&(ji(d,f,b),ld(d,f,b))},enqueueReplaceState:function(f,d,v){f=f._reactInternals;var b=sa(),D=Cl(b);D.tag=1,D.payload=d,v!=null&&(D.callback=v),d=Il(f,D,b),d!==null&&(ji(d,f,b),ld(d,f,b))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var v=sa(),b=Cl(v);b.tag=2,d!=null&&(b.callback=d),d=Il(f,b,v),d!==null&&(ji(d,f,v),ld(d,f,v))}};function $R(f,d,v,b,D,C,j){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(b,C,j):d.prototype&&d.prototype.isPureReactComponent?!ed(v,b)||!ed(D,C):!0}function HR(f,d,v,b){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,b),d.state!==f&&Ub.enqueueReplaceState(d,d.state,null)}function Ku(f,d){var v=d;if("ref"in d){v={};for(var b in d)b!=="ref"&&(v[b]=d[b])}if(f=f.defaultProps){v===d&&(v=h({},v));for(var D in f)v[D]===void 0&&(v[D]=f[D])}return v}function GR(f){zp(f)}function WR(f){console.error(f)}function KR(f){zp(f)}function gm(f,d){try{var v=f.onUncaughtError;v(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function YR(f,d,v){try{var b=f.onCaughtError;b(v.value,{componentStack:v.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function jb(f,d,v){return v=Cl(v),v.tag=3,v.payload={element:null},v.callback=function(){gm(f,d)},v}function zR(f){return f=Cl(f),f.tag=3,f}function VR(f,d,v,b){var D=v.type.getDerivedStateFromError;if(typeof D=="function"){var C=b.value;f.payload=function(){return D(C)},f.callback=function(){YR(d,v,b)}}var j=v.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(f.callback=function(){YR(d,v,b),typeof D!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var oe=b.stack;this.componentDidCatch(b.value,{componentStack:oe!==null?oe:""})})}function ez(f,d,v,b,D){if(v.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=v.alternate,d!==null&&nf(d,v,D,!0),v=ra.current,v!==null){switch(v.tag){case 31:case 13:return Na===null?Om():v.alternate===null&&Qr===0&&(Qr=3),v.flags&=-257,v.flags|=65536,v.lanes=D,b===nm?v.flags|=16384:(d=v.updateQueue,d===null?v.updateQueue=new Set([b]):d.add(b),fS(f,b,D)),!1;case 22:return v.flags|=65536,b===nm?v.flags|=16384:(d=v.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},v.updateQueue=d):(v=d.retryQueue,v===null?d.retryQueue=new Set([b]):v.add(b)),fS(f,b,D)),!1}throw Error(n(435,v.tag))}return fS(f,b,D),Om(),!1}if(Zt)return d=ra.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,b!==ab&&(f=Error(n(422),{cause:b}),nd(ka(f,v)))):(b!==ab&&(d=Error(n(423),{cause:b}),nd(ka(d,v))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,b=ka(b,v),D=jb(f.stateNode,b,D),gb(f,D),Qr!==4&&(Qr=2)),!1;var C=Error(n(520),{cause:b});if(C=ka(C,v),Ed===null?Ed=[C]:Ed.push(C),Qr!==4&&(Qr=2),d===null)return!0;b=ka(b,v),v=d;do{switch(v.tag){case 3:return v.flags|=65536,f=D&-D,v.lanes|=f,f=jb(v.stateNode,b,f),gb(v,f),!1;case 1:if(d=v.type,C=v.stateNode,(v.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Nl===null||!Nl.has(C))))return v.flags|=65536,D&=-D,v.lanes|=D,D=zR(D),VR(D,f,v,b),gb(v,D),!1}v=v.return}while(v!==null);return!1}var $b=Error(n(461)),dn=!1;function qn(f,d,v,b){d.child=f===null?ZI(d,null,v,b):Gu(d,f.child,v,b)}function qR(f,d,v,b,D){v=v.render;var C=d.ref;if("ref"in b){var j={};for(var oe in b)oe!=="ref"&&(j[oe]=b[oe])}else j=b;return Uu(d),b=Eb(f,d,v,j,C,D),oe=wb(),f!==null&&!dn?(_b(f,d,D),yo(f,d,D)):(Zt&&oe&&nb(d),d.flags|=1,qn(f,d,b,D),d.child)}function XR(f,d,v,b,D){if(f===null){var C=v.type;return typeof C=="function"&&!eb(C)&&C.defaultProps===void 0&&v.compare===null?(d.tag=15,d.type=C,QR(f,d,C,b,D)):(f=Qp(v.type,null,b,d,d.mode,D),f.ref=d.ref,f.return=d,d.child=f)}if(C=f.child,!qb(f,D)){var j=C.memoizedProps;if(v=v.compare,v=v!==null?v:ed,v(j,b)&&f.ref===d.ref)return yo(f,d,D)}return d.flags|=1,f=fo(C,b),f.ref=d.ref,f.return=d,d.child=f}function QR(f,d,v,b,D){if(f!==null){var C=f.memoizedProps;if(ed(C,b)&&f.ref===d.ref)if(dn=!1,d.pendingProps=b=C,qb(f,D))(f.flags&131072)!==0&&(dn=!0);else return d.lanes=f.lanes,yo(f,d,D)}return Hb(f,d,v,b,D)}function ZR(f,d,v,b){var D=b.children,C=f!==null?f.memoizedState:null;if(f===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(C=C!==null?C.baseLanes|v:v,f!==null){for(b=d.child=f.child,D=0;b!==null;)D=D|b.lanes|b.childLanes,b=b.sibling;b=D&~C}else b=0,d.child=null;return JR(f,d,C,v,b)}if((v&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&tm(d,C!==null?C.cachePool:null),C!==null?tR(d,C):yb(),rR(d);else return b=d.lanes=536870912,JR(f,d,C!==null?C.baseLanes|v:v,v,b)}else C!==null?(tm(d,C.cachePool),tR(d,C),kl(),d.memoizedState=null):(f!==null&&tm(d,null),yb(),kl());return qn(f,d,D,v),d.child}function md(f,d){return f!==null&&f.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function JR(f,d,v,b,D){var C=hb();return C=C===null?null:{parent:fn._currentValue,pool:C},d.memoizedState={baseLanes:v,cachePool:C},f!==null&&tm(d,null),yb(),rR(d),f!==null&&nf(f,d,b,!0),d.childLanes=D,null}function vm(f,d){return d=xm({mode:d.mode,children:d.children},f.mode),d.ref=f.ref,f.child=d,d.return=f,d}function ek(f,d,v){return Gu(d,f.child,null,v),f=vm(d,d.pendingProps),f.flags|=2,na(d),d.memoizedState=null,f}function tz(f,d,v){var b=d.pendingProps,D=(d.flags&128)!==0;if(d.flags&=-129,f===null){if(Zt){if(b.mode==="hidden")return f=vm(d,b),d.lanes=536870912,md(null,f);if(bb(d),(f=Pr)?(f=hP(f,Ma),f=f!==null&&f.data==="&"?f:null,f!==null&&(d.memoizedState={dehydrated:f,treeContext:_l!==null?{id:As,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},v=FI(f),v.return=d,d.child=v,zn=d,Pr=null)):f=null,f===null)throw Al(d);return d.lanes=536870912,null}return vm(d,b)}var C=f.memoizedState;if(C!==null){var j=C.dehydrated;if(bb(d),D)if(d.flags&256)d.flags&=-257,d=ek(f,d,v);else if(d.memoizedState!==null)d.child=f.child,d.flags|=128,d=null;else throw Error(n(558));else if(dn||nf(f,d,v,!1),D=(v&f.childLanes)!==0,dn||D){if(b=_r,b!==null&&(j=bt(b,v),j!==0&&j!==C.retryLane))throw C.retryLane=j,Mu(f,j),ji(b,f,j),$b;Om(),d=ek(f,d,v)}else f=C.treeContext,Pr=Fa(j.nextSibling),zn=d,Zt=!0,Tl=null,Ma=!1,f!==null&&jI(d,f),d=vm(d,b),d.flags|=4096;return d}return f=fo(f.child,{mode:b.mode,children:b.children}),f.ref=d.ref,d.child=f,f.return=d,f}function ym(f,d){var v=d.ref;if(v===null)f!==null&&f.ref!==null&&(d.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(n(284));(f===null||f.ref!==v)&&(d.flags|=4194816)}}function Hb(f,d,v,b,D){return Uu(d),v=Eb(f,d,v,b,void 0,D),b=wb(),f!==null&&!dn?(_b(f,d,D),yo(f,d,D)):(Zt&&b&&nb(d),d.flags|=1,qn(f,d,v,D),d.child)}function tk(f,d,v,b,D,C){return Uu(d),d.updateQueue=null,v=iR(d,b,v,D),nR(f),b=wb(),f!==null&&!dn?(_b(f,d,C),yo(f,d,C)):(Zt&&b&&nb(d),d.flags|=1,qn(f,d,v,C),d.child)}function rk(f,d,v,b,D){if(Uu(d),d.stateNode===null){var C=Jc,j=v.contextType;typeof j=="object"&&j!==null&&(C=Vn(j)),C=new v(b,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Ub,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=b,C.state=d.memoizedState,C.refs={},pb(d),j=v.contextType,C.context=typeof j=="object"&&j!==null?Vn(j):Jc,C.state=d.memoizedState,j=v.getDerivedStateFromProps,typeof j=="function"&&(Bb(d,v,j,b),C.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(j=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),j!==C.state&&Ub.enqueueReplaceState(C,C.state,null),cd(d,b,C,D),ud(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(f===null){C=d.stateNode;var oe=d.memoizedProps,_e=Ku(v,oe);C.props=_e;var je=C.context,et=v.contextType;j=Jc,typeof et=="object"&&et!==null&&(j=Vn(et));var it=v.getDerivedStateFromProps;et=typeof it=="function"||typeof C.getSnapshotBeforeUpdate=="function",oe=d.pendingProps!==oe,et||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(oe||je!==j)&&HR(d,C,b,j),Ol=!1;var He=d.memoizedState;C.state=He,cd(d,b,C,D),ud(),je=d.memoizedState,oe||He!==je||Ol?(typeof it=="function"&&(Bb(d,v,it,b),je=d.memoizedState),(_e=Ol||$R(d,v,_e,b,He,je,j))?(et||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=je),C.props=b,C.state=je,C.context=j,b=_e):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{C=d.stateNode,mb(f,d),j=d.memoizedProps,et=Ku(v,j),C.props=et,it=d.pendingProps,He=C.context,je=v.contextType,_e=Jc,typeof je=="object"&&je!==null&&(_e=Vn(je)),oe=v.getDerivedStateFromProps,(je=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==it||He!==_e)&&HR(d,C,b,_e),Ol=!1,He=d.memoizedState,C.state=He,cd(d,b,C,D),ud();var Ke=d.memoizedState;j!==it||He!==Ke||Ol||f!==null&&f.dependencies!==null&&Jp(f.dependencies)?(typeof oe=="function"&&(Bb(d,v,oe,b),Ke=d.memoizedState),(et=Ol||$R(d,v,et,b,He,Ke,_e)||f!==null&&f.dependencies!==null&&Jp(f.dependencies))?(je||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(b,Ke,_e),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(b,Ke,_e)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===f.memoizedProps&&He===f.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===f.memoizedProps&&He===f.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Ke),C.props=b,C.state=Ke,C.context=_e,b=et):(typeof C.componentDidUpdate!="function"||j===f.memoizedProps&&He===f.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===f.memoizedProps&&He===f.memoizedState||(d.flags|=1024),b=!1)}return C=b,ym(f,d),b=(d.flags&128)!==0,C||b?(C=d.stateNode,v=b&&typeof v.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,f!==null&&b?(d.child=Gu(d,f.child,null,D),d.child=Gu(d,null,v,D)):qn(f,d,v,D),d.memoizedState=C.state,f=d.child):f=yo(f,d,D),f}function nk(f,d,v,b){return Fu(),d.flags|=256,qn(f,d,v,b),d.child}var Gb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wb(f){return{baseLanes:f,cachePool:YI()}}function Kb(f,d,v){return f=f!==null?f.childLanes&~v:0,d&&(f|=aa),f}function ik(f,d,v){var b=d.pendingProps,D=!1,C=(d.flags&128)!==0,j;if((j=C)||(j=f!==null&&f.memoizedState===null?!1:(an.current&2)!==0),j&&(D=!0,d.flags&=-129),j=(d.flags&32)!==0,d.flags&=-33,f===null){if(Zt){if(D?Rl(d):kl(),(f=Pr)?(f=hP(f,Ma),f=f!==null&&f.data!=="&"?f:null,f!==null&&(d.memoizedState={dehydrated:f,treeContext:_l!==null?{id:As,overflow:Ds}:null,retryLane:536870912,hydrationErrors:null},v=FI(f),v.return=d,d.child=v,zn=d,Pr=null)):f=null,f===null)throw Al(d);return DS(f)?d.lanes=32:d.lanes=536870912,null}var oe=b.children;return b=b.fallback,D?(kl(),D=d.mode,oe=xm({mode:"hidden",children:oe},D),b=Nu(b,D,v,null),oe.return=d,b.return=d,oe.sibling=b,d.child=oe,b=d.child,b.memoizedState=Wb(v),b.childLanes=Kb(f,j,v),d.memoizedState=Gb,md(null,b)):(Rl(d),Yb(d,oe))}var _e=f.memoizedState;if(_e!==null&&(oe=_e.dehydrated,oe!==null)){if(C)d.flags&256?(Rl(d),d.flags&=-257,d=zb(f,d,v)):d.memoizedState!==null?(kl(),d.child=f.child,d.flags|=128,d=null):(kl(),oe=b.fallback,D=d.mode,b=xm({mode:"visible",children:b.children},D),oe=Nu(oe,D,v,null),oe.flags|=2,b.return=d,oe.return=d,b.sibling=oe,d.child=b,Gu(d,f.child,null,v),b=d.child,b.memoizedState=Wb(v),b.childLanes=Kb(f,j,v),d.memoizedState=Gb,d=md(null,b));else if(Rl(d),DS(oe)){if(j=oe.nextSibling&&oe.nextSibling.dataset,j)var je=j.dgst;j=je,b=Error(n(419)),b.stack="",b.digest=j,nd({value:b,source:null,stack:null}),d=zb(f,d,v)}else if(dn||nf(f,d,v,!1),j=(v&f.childLanes)!==0,dn||j){if(j=_r,j!==null&&(b=bt(j,v),b!==0&&b!==_e.retryLane))throw _e.retryLane=b,Mu(f,b),ji(j,f,b),$b;AS(oe)||Om(),d=zb(f,d,v)}else AS(oe)?(d.flags|=192,d.child=f.child,d=null):(f=_e.treeContext,Pr=Fa(oe.nextSibling),zn=d,Zt=!0,Tl=null,Ma=!1,f!==null&&jI(d,f),d=Yb(d,b.children),d.flags|=4096);return d}return D?(kl(),oe=b.fallback,D=d.mode,_e=f.child,je=_e.sibling,b=fo(_e,{mode:"hidden",children:b.children}),b.subtreeFlags=_e.subtreeFlags&65011712,je!==null?oe=fo(je,oe):(oe=Nu(oe,D,v,null),oe.flags|=2),oe.return=d,b.return=d,b.sibling=oe,d.child=b,md(null,b),b=d.child,oe=f.child.memoizedState,oe===null?oe=Wb(v):(D=oe.cachePool,D!==null?(_e=fn._currentValue,D=D.parent!==_e?{parent:_e,pool:_e}:D):D=YI(),oe={baseLanes:oe.baseLanes|v,cachePool:D}),b.memoizedState=oe,b.childLanes=Kb(f,j,v),d.memoizedState=Gb,md(f.child,b)):(Rl(d),v=f.child,f=v.sibling,v=fo(v,{mode:"visible",children:b.children}),v.return=d,v.sibling=null,f!==null&&(j=d.deletions,j===null?(d.deletions=[f],d.flags|=16):j.push(f)),d.child=v,d.memoizedState=null,v)}function Yb(f,d){return d=xm({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function xm(f,d){return f=ta(22,f,null,d),f.lanes=0,f}function zb(f,d,v){return Gu(d,f.child,null,v),f=Yb(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function ak(f,d,v){f.lanes|=d;var b=f.alternate;b!==null&&(b.lanes|=d),lb(f.return,d,v)}function Vb(f,d,v,b,D,C){var j=f.memoizedState;j===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:v,tailMode:D,treeForkCount:C}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=b,j.tail=v,j.tailMode=D,j.treeForkCount=C)}function sk(f,d,v){var b=d.pendingProps,D=b.revealOrder,C=b.tail;b=b.children;var j=an.current,oe=(j&2)!==0;if(oe?(j=j&1|2,d.flags|=128):j&=1,V(an,j),qn(f,d,b,v),b=Zt?rd:0,!oe&&f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&ak(f,v,d);else if(f.tag===19)ak(f,v,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(D){case"forwards":for(v=d.child,D=null;v!==null;)f=v.alternate,f!==null&&om(f)===null&&(D=v),v=v.sibling;v=D,v===null?(D=d.child,d.child=null):(D=v.sibling,v.sibling=null),Vb(d,!1,D,v,C,b);break;case"backwards":case"unstable_legacy-backwards":for(v=null,D=d.child,d.child=null;D!==null;){if(f=D.alternate,f!==null&&om(f)===null){d.child=D;break}f=D.sibling,D.sibling=v,v=D,D=f}Vb(d,!0,v,null,C,b);break;case"together":Vb(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function yo(f,d,v){if(f!==null&&(d.dependencies=f.dependencies),Ml|=d.lanes,(v&d.childLanes)===0)if(f!==null){if(nf(f,d,v,!1),(v&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(n(153));if(d.child!==null){for(f=d.child,v=fo(f,f.pendingProps),d.child=v,v.return=d;f.sibling!==null;)f=f.sibling,v=v.sibling=fo(f,f.pendingProps),v.return=d;v.sibling=null}return d.child}function qb(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&Jp(f)))}function rz(f,d,v){switch(d.tag){case 3:q(d,d.stateNode.containerInfo),Dl(d,fn,f.memoizedState.cache),Fu();break;case 27:case 5:re(d);break;case 4:q(d,d.stateNode.containerInfo);break;case 10:Dl(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,bb(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Rl(d),d.flags|=128,null):(v&d.child.childLanes)!==0?ik(f,d,v):(Rl(d),f=yo(f,d,v),f!==null?f.sibling:null);Rl(d);break;case 19:var D=(f.flags&128)!==0;if(b=(v&d.childLanes)!==0,b||(nf(f,d,v,!1),b=(v&d.childLanes)!==0),D){if(b)return sk(f,d,v);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),V(an,an.current),b)break;return null;case 22:return d.lanes=0,ZR(f,d,v,d.pendingProps);case 24:Dl(d,fn,f.memoizedState.cache)}return yo(f,d,v)}function ok(f,d,v){if(f!==null)if(f.memoizedProps!==d.pendingProps)dn=!0;else{if(!qb(f,v)&&(d.flags&128)===0)return dn=!1,rz(f,d,v);dn=(f.flags&131072)!==0}else dn=!1,Zt&&(d.flags&1048576)!==0&&UI(d,rd,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(f=$u(d.elementType),d.type=f,typeof f=="function")eb(f)?(b=Ku(f,b),d.tag=1,d=rk(null,d,f,b,v)):(d.tag=0,d=Hb(null,d,f,b,v));else{if(f!=null){var D=f.$$typeof;if(D===T){d.tag=11,d=qR(null,d,f,b,v);break e}else if(D===A){d.tag=14,d=XR(null,d,f,b,v);break e}}throw d=X(f)||f,Error(n(306,d,""))}}return d;case 0:return Hb(f,d,d.type,d.pendingProps,v);case 1:return b=d.type,D=Ku(b,d.pendingProps),rk(f,d,b,D,v);case 3:e:{if(q(d,d.stateNode.containerInfo),f===null)throw Error(n(387));b=d.pendingProps;var C=d.memoizedState;D=C.element,mb(f,d),cd(d,b,null,v);var j=d.memoizedState;if(b=j.cache,Dl(d,fn,b),b!==C.cache&&ub(d,[fn],v,!0),ud(),b=j.element,C.isDehydrated)if(C={element:b,isDehydrated:!1,cache:j.cache},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){d=nk(f,d,b,v);break e}else if(b!==D){D=ka(Error(n(424)),d),nd(D),d=nk(f,d,b,v);break e}else{switch(f=d.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Pr=Fa(f.firstChild),zn=d,Zt=!0,Tl=null,Ma=!0,v=ZI(d,null,b,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Fu(),b===D){d=yo(f,d,v);break e}qn(f,d,b,v)}d=d.child}return d;case 26:return ym(f,d),f===null?(v=yP(d.type,null,d.pendingProps,null))?d.memoizedState=v:Zt||(v=d.type,f=d.pendingProps,b=Mm(me.current).createElement(v),b[ce]=d,b[ge]=f,Xn(b,v,f),Tt(b),d.stateNode=b):d.memoizedState=yP(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:return re(d),f===null&&Zt&&(b=d.stateNode=mP(d.type,d.pendingProps,me.current),zn=d,Ma=!0,D=Pr,jl(d.type)?(OS=D,Pr=Fa(b.firstChild)):Pr=D),qn(f,d,d.pendingProps.children,v),ym(f,d),f===null&&(d.flags|=4194304),d.child;case 5:return f===null&&Zt&&((D=b=Pr)&&(b=kz(b,d.type,d.pendingProps,Ma),b!==null?(d.stateNode=b,zn=d,Pr=Fa(b.firstChild),Ma=!1,D=!0):D=!1),D||Al(d)),re(d),D=d.type,C=d.pendingProps,j=f!==null?f.memoizedProps:null,b=C.children,wS(D,C)?b=null:j!==null&&wS(D,j)&&(d.flags|=32),d.memoizedState!==null&&(D=Eb(f,d,zY,null,null,v),Id._currentValue=D),ym(f,d),qn(f,d,b,v),d.child;case 6:return f===null&&Zt&&((f=v=Pr)&&(v=Pz(v,d.pendingProps,Ma),v!==null?(d.stateNode=v,zn=d,Pr=null,f=!0):f=!1),f||Al(d)),null;case 13:return ik(f,d,v);case 4:return q(d,d.stateNode.containerInfo),b=d.pendingProps,f===null?d.child=Gu(d,null,b,v):qn(f,d,b,v),d.child;case 11:return qR(f,d,d.type,d.pendingProps,v);case 7:return qn(f,d,d.pendingProps,v),d.child;case 8:return qn(f,d,d.pendingProps.children,v),d.child;case 12:return qn(f,d,d.pendingProps.children,v),d.child;case 10:return b=d.pendingProps,Dl(d,d.type,b.value),qn(f,d,b.children,v),d.child;case 9:return D=d.type._context,b=d.pendingProps.children,Uu(d),D=Vn(D),b=b(D),d.flags|=1,qn(f,d,b,v),d.child;case 14:return XR(f,d,d.type,d.pendingProps,v);case 15:return QR(f,d,d.type,d.pendingProps,v);case 19:return sk(f,d,v);case 31:return tz(f,d,v);case 22:return ZR(f,d,v,d.pendingProps);case 24:return Uu(d),b=Vn(fn),f===null?(D=hb(),D===null&&(D=_r,C=cb(),D.pooledCache=C,C.refCount++,C!==null&&(D.pooledCacheLanes|=v),D=C),d.memoizedState={parent:b,cache:D},pb(d),Dl(d,fn,D)):((f.lanes&v)!==0&&(mb(f,d),cd(d,null,null,v),ud()),D=f.memoizedState,C=d.memoizedState,D.parent!==b?(D={parent:b,cache:b},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),Dl(d,fn,b)):(b=C.cache,Dl(d,fn,b),b!==D.cache&&ub(d,[fn],v,!0))),qn(f,d,d.pendingProps.children,v),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function xo(f){f.flags|=4}function Xb(f,d,v,b,D){if((d=(f.mode&32)!==0)&&(d=!1),d){if(f.flags|=16777216,(D&335544128)===D)if(f.stateNode.complete)f.flags|=8192;else if(Lk())f.flags|=8192;else throw Hu=nm,db}else f.flags&=-16777217}function lk(f,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!wP(d))if(Lk())f.flags|=8192;else throw Hu=nm,db}function bm(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?ts():536870912,f.lanes|=d,gf|=d)}function gd(f,d){if(!Zt)switch(f.tailMode){case"hidden":d=f.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?f.tail=null:v.sibling=null;break;case"collapsed":v=f.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:b.sibling=null}}function Lr(f){var d=f.alternate!==null&&f.alternate.child===f.child,v=0,b=0;if(d)for(var D=f.child;D!==null;)v|=D.lanes|D.childLanes,b|=D.subtreeFlags&65011712,b|=D.flags&65011712,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)v|=D.lanes|D.childLanes,b|=D.subtreeFlags,b|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=b,f.childLanes=v,d}function nz(f,d,v){var b=d.pendingProps;switch(ib(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(d),null;case 1:return Lr(d),null;case 3:return v=d.stateNode,b=null,f!==null&&(b=f.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),mo(fn),te(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(f===null||f.child===null)&&(rf(d)?xo(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,sb())),Lr(d),null;case 26:var D=d.type,C=d.memoizedState;return f===null?(xo(d),C!==null?(Lr(d),lk(d,C)):(Lr(d),Xb(d,D,null,b,v))):C?C!==f.memoizedState?(xo(d),Lr(d),lk(d,C)):(Lr(d),d.flags&=-16777217):(f=f.memoizedProps,f!==b&&xo(d),Lr(d),Xb(d,D,f,b,v)),null;case 27:if(pe(d),v=me.current,D=d.type,f!==null&&d.stateNode!=null)f.memoizedProps!==b&&xo(d);else{if(!b){if(d.stateNode===null)throw Error(n(166));return Lr(d),null}f=ee.current,rf(d)?$I(d):(f=mP(D,b,v),d.stateNode=f,xo(d))}return Lr(d),null;case 5:if(pe(d),D=d.type,f!==null&&d.stateNode!=null)f.memoizedProps!==b&&xo(d);else{if(!b){if(d.stateNode===null)throw Error(n(166));return Lr(d),null}if(C=ee.current,rf(d))$I(d);else{var j=Mm(me.current);switch(C){case 1:C=j.createElementNS("http://www.w3.org/2000/svg",D);break;case 2:C=j.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;default:switch(D){case"svg":C=j.createElementNS("http://www.w3.org/2000/svg",D);break;case"math":C=j.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;case"script":C=j.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof b.is=="string"?j.createElement("select",{is:b.is}):j.createElement("select"),b.multiple?C.multiple=!0:b.size&&(C.size=b.size);break;default:C=typeof b.is=="string"?j.createElement(D,{is:b.is}):j.createElement(D)}}C[ce]=d,C[ge]=b;e:for(j=d.child;j!==null;){if(j.tag===5||j.tag===6)C.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===d)break e;for(;j.sibling===null;){if(j.return===null||j.return===d)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}d.stateNode=C;e:switch(Xn(C,D,b),D){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&xo(d)}}return Lr(d),Xb(d,d.type,f===null?null:f.memoizedProps,d.pendingProps,v),null;case 6:if(f&&d.stateNode!=null)f.memoizedProps!==b&&xo(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(n(166));if(f=me.current,rf(d)){if(f=d.stateNode,v=d.memoizedProps,b=null,D=zn,D!==null)switch(D.tag){case 27:case 5:b=D.memoizedProps}f[ce]=d,f=!!(f.nodeValue===v||b!==null&&b.suppressHydrationWarning===!0||iP(f.nodeValue,v)),f||Al(d,!0)}else f=Mm(f).createTextNode(b),f[ce]=d,d.stateNode=f}return Lr(d),null;case 31:if(v=d.memoizedState,f===null||f.memoizedState!==null){if(b=rf(d),v!==null){if(f===null){if(!b)throw Error(n(318));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(557));f[ce]=d}else Fu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Lr(d),f=!1}else v=sb(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=v),f=!0;if(!f)return d.flags&256?(na(d),d):(na(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Lr(d),null;case 13:if(b=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=rf(d),b!==null&&b.dehydrated!==null){if(f===null){if(!D)throw Error(n(318));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[ce]=d}else Fu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Lr(d),D=!1}else D=sb(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=D),D=!0;if(!D)return d.flags&256?(na(d),d):(na(d),null)}return na(d),(d.flags&128)!==0?(d.lanes=v,d):(v=b!==null,f=f!==null&&f.memoizedState!==null,v&&(b=d.child,D=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(D=b.alternate.memoizedState.cachePool.pool),C=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(C=b.memoizedState.cachePool.pool),C!==D&&(b.flags|=2048)),v!==f&&v&&(d.child.flags|=8192),bm(d,d.updateQueue),Lr(d),null);case 4:return te(),f===null&&yS(d.stateNode.containerInfo),Lr(d),null;case 10:return mo(d.type),Lr(d),null;case 19:if(M(an),b=d.memoizedState,b===null)return Lr(d),null;if(D=(d.flags&128)!==0,C=b.rendering,C===null)if(D)gd(b,!1);else{if(Qr!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(C=om(f),C!==null){for(d.flags|=128,gd(b,!1),f=C.updateQueue,d.updateQueue=f,bm(d,f),d.subtreeFlags=0,f=v,v=d.child;v!==null;)NI(v,f),v=v.sibling;return V(an,an.current&1|2),Zt&&ho(d,b.treeForkCount),d.child}f=f.sibling}b.tail!==null&&ke()>Tm&&(d.flags|=128,D=!0,gd(b,!1),d.lanes=4194304)}else{if(!D)if(f=om(C),f!==null){if(d.flags|=128,D=!0,f=f.updateQueue,d.updateQueue=f,bm(d,f),gd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Zt)return Lr(d),null}else 2*ke()-b.renderingStartTime>Tm&&v!==536870912&&(d.flags|=128,D=!0,gd(b,!1),d.lanes=4194304);b.isBackwards?(C.sibling=d.child,d.child=C):(f=b.last,f!==null?f.sibling=C:d.child=C,b.last=C)}return b.tail!==null?(f=b.tail,b.rendering=f,b.tail=f.sibling,b.renderingStartTime=ke(),f.sibling=null,v=an.current,V(an,D?v&1|2:v&1),Zt&&ho(d,b.treeForkCount),f):(Lr(d),null);case 22:case 23:return na(d),xb(),b=d.memoizedState!==null,f!==null?f.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(v&536870912)!==0&&(d.flags&128)===0&&(Lr(d),d.subtreeFlags&6&&(d.flags|=8192)):Lr(d),v=d.updateQueue,v!==null&&bm(d,v.retryQueue),v=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048),f!==null&&M(ju),null;case 24:return v=null,f!==null&&(v=f.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),mo(fn),Lr(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function iz(f,d){switch(ib(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return mo(fn),te(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return pe(d),null;case 31:if(d.memoizedState!==null){if(na(d),d.alternate===null)throw Error(n(340));Fu()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 13:if(na(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Fu()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return M(an),null;case 4:return te(),null;case 10:return mo(d.type),null;case 22:case 23:return na(d),xb(),f!==null&&M(ju),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return mo(fn),null;case 25:return null;default:return null}}function uk(f,d){switch(ib(d),d.tag){case 3:mo(fn),te();break;case 26:case 27:case 5:pe(d);break;case 4:te();break;case 31:d.memoizedState!==null&&na(d);break;case 13:na(d);break;case 19:M(an);break;case 10:mo(d.type);break;case 22:case 23:na(d),xb(),f!==null&&M(ju);break;case 24:mo(fn)}}function vd(f,d){try{var v=d.updateQueue,b=v!==null?v.lastEffect:null;if(b!==null){var D=b.next;v=D;do{if((v.tag&f)===f){b=void 0;var C=v.create,j=v.inst;b=C(),j.destroy=b}v=v.next}while(v!==D)}}catch(oe){lr(d,d.return,oe)}}function Pl(f,d,v){try{var b=d.updateQueue,D=b!==null?b.lastEffect:null;if(D!==null){var C=D.next;b=C;do{if((b.tag&f)===f){var j=b.inst,oe=j.destroy;if(oe!==void 0){j.destroy=void 0,D=d;var _e=v,je=oe;try{je()}catch(et){lr(D,_e,et)}}}b=b.next}while(b!==C)}}catch(et){lr(d,d.return,et)}}function ck(f){var d=f.updateQueue;if(d!==null){var v=f.stateNode;try{eR(d,v)}catch(b){lr(f,f.return,b)}}}function fk(f,d,v){v.props=Ku(f.type,f.memoizedProps),v.state=f.memoizedState;try{v.componentWillUnmount()}catch(b){lr(f,d,b)}}function yd(f,d){try{var v=f.ref;if(v!==null){switch(f.tag){case 26:case 27:case 5:var b=f.stateNode;break;case 30:b=f.stateNode;break;default:b=f.stateNode}typeof v=="function"?f.refCleanup=v(b):v.current=b}}catch(D){lr(f,d,D)}}function Os(f,d){var v=f.ref,b=f.refCleanup;if(v!==null)if(typeof b=="function")try{b()}catch(D){lr(f,d,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(D){lr(f,d,D)}else v.current=null}function hk(f){var d=f.type,v=f.memoizedProps,b=f.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":v.autoFocus&&b.focus();break e;case"img":v.src?b.src=v.src:v.srcSet&&(b.srcset=v.srcSet)}}catch(D){lr(f,f.return,D)}}function Qb(f,d,v){try{var b=f.stateNode;Az(b,f.type,v,d),b[ge]=d}catch(D){lr(f,f.return,D)}}function dk(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&jl(f.type)||f.tag===4}function Zb(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||dk(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&jl(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Jb(f,d,v){var b=f.tag;if(b===5||b===6)f=f.stateNode,d?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(f,d):(d=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,d.appendChild(f),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=uo));else if(b!==4&&(b===27&&jl(f.type)&&(v=f.stateNode,d=null),f=f.child,f!==null))for(Jb(f,d,v),f=f.sibling;f!==null;)Jb(f,d,v),f=f.sibling}function Sm(f,d,v){var b=f.tag;if(b===5||b===6)f=f.stateNode,d?v.insertBefore(f,d):v.appendChild(f);else if(b!==4&&(b===27&&jl(f.type)&&(v=f.stateNode),f=f.child,f!==null))for(Sm(f,d,v),f=f.sibling;f!==null;)Sm(f,d,v),f=f.sibling}function pk(f){var d=f.stateNode,v=f.memoizedProps;try{for(var b=f.type,D=d.attributes;D.length;)d.removeAttributeNode(D[0]);Xn(d,b,v),d[ce]=f,d[ge]=v}catch(C){lr(f,f.return,C)}}var bo=!1,pn=!1,eS=!1,mk=typeof WeakSet=="function"?WeakSet:Set,kn=null;function az(f,d){if(f=f.containerInfo,SS=Hm,f=DI(f),z1(f)){if("selectionStart"in f)var v={start:f.selectionStart,end:f.selectionEnd};else e:{v=(v=f.ownerDocument)&&v.defaultView||window;var b=v.getSelection&&v.getSelection();if(b&&b.rangeCount!==0){v=b.anchorNode;var D=b.anchorOffset,C=b.focusNode;b=b.focusOffset;try{v.nodeType,C.nodeType}catch{v=null;break e}var j=0,oe=-1,_e=-1,je=0,et=0,it=f,He=null;t:for(;;){for(var Ke;it!==v||D!==0&&it.nodeType!==3||(oe=j+D),it!==C||b!==0&&it.nodeType!==3||(_e=j+b),it.nodeType===3&&(j+=it.nodeValue.length),(Ke=it.firstChild)!==null;)He=it,it=Ke;for(;;){if(it===f)break t;if(He===v&&++je===D&&(oe=j),He===C&&++et===b&&(_e=j),(Ke=it.nextSibling)!==null)break;it=He,He=it.parentNode}it=Ke}v=oe===-1||_e===-1?null:{start:oe,end:_e}}else v=null}v=v||{start:0,end:0}}else v=null;for(ES={focusedElem:f,selectionRange:v},Hm=!1,kn=d;kn!==null;)if(d=kn,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,kn=f;else for(;kn!==null;){switch(d=kn,C=d.alternate,f=d.flags,d.tag){case 0:if((f&4)!==0&&(f=d.updateQueue,f=f!==null?f.events:null,f!==null))for(v=0;v<f.length;v++)D=f[v],D.ref.impl=D.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&C!==null){f=void 0,v=d,D=C.memoizedProps,C=C.memoizedState,b=v.stateNode;try{var _t=Ku(v.type,D);f=b.getSnapshotBeforeUpdate(_t,C),b.__reactInternalSnapshotBeforeUpdate=f}catch(Pt){lr(v,v.return,Pt)}}break;case 3:if((f&1024)!==0){if(f=d.stateNode.containerInfo,v=f.nodeType,v===9)TS(f);else if(v===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":TS(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=d.sibling,f!==null){f.return=d.return,kn=f;break}kn=d.return}}function gk(f,d,v){var b=v.flags;switch(v.tag){case 0:case 11:case 15:Eo(f,v),b&4&&vd(5,v);break;case 1:if(Eo(f,v),b&4)if(f=v.stateNode,d===null)try{f.componentDidMount()}catch(j){lr(v,v.return,j)}else{var D=Ku(v.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(D,d,f.__reactInternalSnapshotBeforeUpdate)}catch(j){lr(v,v.return,j)}}b&64&&ck(v),b&512&&yd(v,v.return);break;case 3:if(Eo(f,v),b&64&&(f=v.updateQueue,f!==null)){if(d=null,v.child!==null)switch(v.child.tag){case 27:case 5:d=v.child.stateNode;break;case 1:d=v.child.stateNode}try{eR(f,d)}catch(j){lr(v,v.return,j)}}break;case 27:d===null&&b&4&&pk(v);case 26:case 5:Eo(f,v),d===null&&b&4&&hk(v),b&512&&yd(v,v.return);break;case 12:Eo(f,v);break;case 31:Eo(f,v),b&4&&xk(f,v);break;case 13:Eo(f,v),b&4&&bk(f,v),b&64&&(f=v.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(v=pz.bind(null,v),Lz(f,v))));break;case 22:if(b=v.memoizedState!==null||bo,!b){d=d!==null&&d.memoizedState!==null||pn,D=bo;var C=pn;bo=b,(pn=d)&&!C?wo(f,v,(v.subtreeFlags&8772)!==0):Eo(f,v),bo=D,pn=C}break;case 30:break;default:Eo(f,v)}}function vk(f){var d=f.alternate;d!==null&&(f.alternate=null,vk(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&ut(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var jr=null,Ni=!1;function So(f,d,v){for(v=v.child;v!==null;)yk(f,d,v),v=v.sibling}function yk(f,d,v){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Te,v)}catch{}switch(v.tag){case 26:pn||Os(v,d),So(f,d,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:pn||Os(v,d);var b=jr,D=Ni;jl(v.type)&&(jr=v.stateNode,Ni=!1),So(f,d,v),Dd(v.stateNode),jr=b,Ni=D;break;case 5:pn||Os(v,d);case 6:if(b=jr,D=Ni,jr=null,So(f,d,v),jr=b,Ni=D,jr!==null)if(Ni)try{(jr.nodeType===9?jr.body:jr.nodeName==="HTML"?jr.ownerDocument.body:jr).removeChild(v.stateNode)}catch(C){lr(v,d,C)}else try{jr.removeChild(v.stateNode)}catch(C){lr(v,d,C)}break;case 18:jr!==null&&(Ni?(f=jr,cP(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,v.stateNode),_f(f)):cP(jr,v.stateNode));break;case 4:b=jr,D=Ni,jr=v.stateNode.containerInfo,Ni=!0,So(f,d,v),jr=b,Ni=D;break;case 0:case 11:case 14:case 15:Pl(2,v,d),pn||Pl(4,v,d),So(f,d,v);break;case 1:pn||(Os(v,d),b=v.stateNode,typeof b.componentWillUnmount=="function"&&fk(v,d,b)),So(f,d,v);break;case 21:So(f,d,v);break;case 22:pn=(b=pn)||v.memoizedState!==null,So(f,d,v),pn=b;break;default:So(f,d,v)}}function xk(f,d){if(d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{_f(f)}catch(v){lr(d,d.return,v)}}}function bk(f,d){if(d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{_f(f)}catch(v){lr(d,d.return,v)}}function sz(f){switch(f.tag){case 31:case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new mk),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new mk),d;default:throw Error(n(435,f.tag))}}function Em(f,d){var v=sz(f);d.forEach(function(b){if(!v.has(b)){v.add(b);var D=mz.bind(null,f,b);b.then(D,D)}})}function Fi(f,d){var v=d.deletions;if(v!==null)for(var b=0;b<v.length;b++){var D=v[b],C=f,j=d,oe=j;e:for(;oe!==null;){switch(oe.tag){case 27:if(jl(oe.type)){jr=oe.stateNode,Ni=!1;break e}break;case 5:jr=oe.stateNode,Ni=!1;break e;case 3:case 4:jr=oe.stateNode.containerInfo,Ni=!0;break e}oe=oe.return}if(jr===null)throw Error(n(160));yk(C,j,D),jr=null,Ni=!1,C=D.alternate,C!==null&&(C.return=null),D.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)Sk(d,f),d=d.sibling}var is=null;function Sk(f,d){var v=f.alternate,b=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Fi(d,f),Bi(f),b&4&&(Pl(3,f,f.return),vd(3,f),Pl(5,f,f.return));break;case 1:Fi(d,f),Bi(f),b&512&&(pn||v===null||Os(v,v.return)),b&64&&bo&&(f=f.updateQueue,f!==null&&(b=f.callbacks,b!==null&&(v=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=v===null?b:v.concat(b))));break;case 26:var D=is;if(Fi(d,f),Bi(f),b&512&&(pn||v===null||Os(v,v.return)),b&4){var C=v!==null?v.memoizedState:null;if(b=f.memoizedState,v===null)if(b===null)if(f.stateNode===null){e:{b=f.type,v=f.memoizedProps,D=D.ownerDocument||D;t:switch(b){case"title":C=D.getElementsByTagName("title")[0],(!C||C[Be]||C[ce]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=D.createElement(b),D.head.insertBefore(C,D.querySelector("head > title"))),Xn(C,b,v),C[ce]=f,Tt(C),b=C;break e;case"link":var j=SP("link","href",D).get(b+(v.href||""));if(j){for(var oe=0;oe<j.length;oe++)if(C=j[oe],C.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&C.getAttribute("rel")===(v.rel==null?null:v.rel)&&C.getAttribute("title")===(v.title==null?null:v.title)&&C.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){j.splice(oe,1);break t}}C=D.createElement(b),Xn(C,b,v),D.head.appendChild(C);break;case"meta":if(j=SP("meta","content",D).get(b+(v.content||""))){for(oe=0;oe<j.length;oe++)if(C=j[oe],C.getAttribute("content")===(v.content==null?null:""+v.content)&&C.getAttribute("name")===(v.name==null?null:v.name)&&C.getAttribute("property")===(v.property==null?null:v.property)&&C.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&C.getAttribute("charset")===(v.charSet==null?null:v.charSet)){j.splice(oe,1);break t}}C=D.createElement(b),Xn(C,b,v),D.head.appendChild(C);break;default:throw Error(n(468,b))}C[ce]=f,Tt(C),b=C}f.stateNode=b}else EP(D,f.type,f.stateNode);else f.stateNode=bP(D,b,f.memoizedProps);else C!==b?(C===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):C.count--,b===null?EP(D,f.type,f.stateNode):bP(D,b,f.memoizedProps)):b===null&&f.stateNode!==null&&Qb(f,f.memoizedProps,v.memoizedProps)}break;case 27:Fi(d,f),Bi(f),b&512&&(pn||v===null||Os(v,v.return)),v!==null&&b&4&&Qb(f,f.memoizedProps,v.memoizedProps);break;case 5:if(Fi(d,f),Bi(f),b&512&&(pn||v===null||Os(v,v.return)),f.flags&32){D=f.stateNode;try{Yc(D,"")}catch(_t){lr(f,f.return,_t)}}b&4&&f.stateNode!=null&&(D=f.memoizedProps,Qb(f,D,v!==null?v.memoizedProps:D)),b&1024&&(eS=!0);break;case 6:if(Fi(d,f),Bi(f),b&4){if(f.stateNode===null)throw Error(n(162));b=f.memoizedProps,v=f.stateNode;try{v.nodeValue=b}catch(_t){lr(f,f.return,_t)}}break;case 3:if(Bm=null,D=is,is=Nm(d.containerInfo),Fi(d,f),is=D,Bi(f),b&4&&v!==null&&v.memoizedState.isDehydrated)try{_f(d.containerInfo)}catch(_t){lr(f,f.return,_t)}eS&&(eS=!1,Ek(f));break;case 4:b=is,is=Nm(f.stateNode.containerInfo),Fi(d,f),Bi(f),is=b;break;case 12:Fi(d,f),Bi(f);break;case 31:Fi(d,f),Bi(f),b&4&&(b=f.updateQueue,b!==null&&(f.updateQueue=null,Em(f,b)));break;case 13:Fi(d,f),Bi(f),f.child.flags&8192&&f.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(_m=ke()),b&4&&(b=f.updateQueue,b!==null&&(f.updateQueue=null,Em(f,b)));break;case 22:D=f.memoizedState!==null;var _e=v!==null&&v.memoizedState!==null,je=bo,et=pn;if(bo=je||D,pn=et||_e,Fi(d,f),pn=et,bo=je,Bi(f),b&8192)e:for(d=f.stateNode,d._visibility=D?d._visibility&-2:d._visibility|1,D&&(v===null||_e||bo||pn||Yu(f)),v=null,d=f;;){if(d.tag===5||d.tag===26){if(v===null){_e=v=d;try{if(C=_e.stateNode,D)j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{oe=_e.stateNode;var it=_e.memoizedProps.style,He=it!=null&&it.hasOwnProperty("display")?it.display:null;oe.style.display=He==null||typeof He=="boolean"?"":(""+He).trim()}}catch(_t){lr(_e,_e.return,_t)}}}else if(d.tag===6){if(v===null){_e=d;try{_e.stateNode.nodeValue=D?"":_e.memoizedProps}catch(_t){lr(_e,_e.return,_t)}}}else if(d.tag===18){if(v===null){_e=d;try{var Ke=_e.stateNode;D?fP(Ke,!0):fP(_e.stateNode,!1)}catch(_t){lr(_e,_e.return,_t)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=f.updateQueue,b!==null&&(v=b.retryQueue,v!==null&&(b.retryQueue=null,Em(f,v))));break;case 19:Fi(d,f),Bi(f),b&4&&(b=f.updateQueue,b!==null&&(f.updateQueue=null,Em(f,b)));break;case 30:break;case 21:break;default:Fi(d,f),Bi(f)}}function Bi(f){var d=f.flags;if(d&2){try{for(var v,b=f.return;b!==null;){if(dk(b)){v=b;break}b=b.return}if(v==null)throw Error(n(160));switch(v.tag){case 27:var D=v.stateNode,C=Zb(f);Sm(f,C,D);break;case 5:var j=v.stateNode;v.flags&32&&(Yc(j,""),v.flags&=-33);var oe=Zb(f);Sm(f,oe,j);break;case 3:case 4:var _e=v.stateNode.containerInfo,je=Zb(f);Jb(f,je,_e);break;default:throw Error(n(161))}}catch(et){lr(f,f.return,et)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function Ek(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;Ek(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),f=f.sibling}}function Eo(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)gk(f,d.alternate,d),d=d.sibling}function Yu(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:Pl(4,d,d.return),Yu(d);break;case 1:Os(d,d.return);var v=d.stateNode;typeof v.componentWillUnmount=="function"&&fk(d,d.return,v),Yu(d);break;case 27:Dd(d.stateNode);case 26:case 5:Os(d,d.return),Yu(d);break;case 22:d.memoizedState===null&&Yu(d);break;case 30:Yu(d);break;default:Yu(d)}f=f.sibling}}function wo(f,d,v){for(v=v&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,D=f,C=d,j=C.flags;switch(C.tag){case 0:case 11:case 15:wo(D,C,v),vd(4,C);break;case 1:if(wo(D,C,v),b=C,D=b.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(je){lr(b,b.return,je)}if(b=C,D=b.updateQueue,D!==null){var oe=b.stateNode;try{var _e=D.shared.hiddenCallbacks;if(_e!==null)for(D.shared.hiddenCallbacks=null,D=0;D<_e.length;D++)JI(_e[D],oe)}catch(je){lr(b,b.return,je)}}v&&j&64&&ck(C),yd(C,C.return);break;case 27:pk(C);case 26:case 5:wo(D,C,v),v&&b===null&&j&4&&hk(C),yd(C,C.return);break;case 12:wo(D,C,v);break;case 31:wo(D,C,v),v&&j&4&&xk(D,C);break;case 13:wo(D,C,v),v&&j&4&&bk(D,C);break;case 22:C.memoizedState===null&&wo(D,C,v),yd(C,C.return);break;case 30:break;default:wo(D,C,v)}d=d.sibling}}function tS(f,d){var v=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==v&&(f!=null&&f.refCount++,v!=null&&id(v))}function rS(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&id(f))}function as(f,d,v,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)wk(f,d,v,b),d=d.sibling}function wk(f,d,v,b){var D=d.flags;switch(d.tag){case 0:case 11:case 15:as(f,d,v,b),D&2048&&vd(9,d);break;case 1:as(f,d,v,b);break;case 3:as(f,d,v,b),D&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&id(f)));break;case 12:if(D&2048){as(f,d,v,b),f=d.stateNode;try{var C=d.memoizedProps,j=C.id,oe=C.onPostCommit;typeof oe=="function"&&oe(j,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(_e){lr(d,d.return,_e)}}else as(f,d,v,b);break;case 31:as(f,d,v,b);break;case 13:as(f,d,v,b);break;case 23:break;case 22:C=d.stateNode,j=d.alternate,d.memoizedState!==null?C._visibility&2?as(f,d,v,b):xd(f,d):C._visibility&2?as(f,d,v,b):(C._visibility|=2,df(f,d,v,b,(d.subtreeFlags&10256)!==0||!1)),D&2048&&tS(j,d);break;case 24:as(f,d,v,b),D&2048&&rS(d.alternate,d);break;default:as(f,d,v,b)}}function df(f,d,v,b,D){for(D=D&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var C=f,j=d,oe=v,_e=b,je=j.flags;switch(j.tag){case 0:case 11:case 15:df(C,j,oe,_e,D),vd(8,j);break;case 23:break;case 22:var et=j.stateNode;j.memoizedState!==null?et._visibility&2?df(C,j,oe,_e,D):xd(C,j):(et._visibility|=2,df(C,j,oe,_e,D)),D&&je&2048&&tS(j.alternate,j);break;case 24:df(C,j,oe,_e,D),D&&je&2048&&rS(j.alternate,j);break;default:df(C,j,oe,_e,D)}d=d.sibling}}function xd(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var v=f,b=d,D=b.flags;switch(b.tag){case 22:xd(v,b),D&2048&&tS(b.alternate,b);break;case 24:xd(v,b),D&2048&&rS(b.alternate,b);break;default:xd(v,b)}d=d.sibling}}var bd=8192;function pf(f,d,v){if(f.subtreeFlags&bd)for(f=f.child;f!==null;)_k(f,d,v),f=f.sibling}function _k(f,d,v){switch(f.tag){case 26:pf(f,d,v),f.flags&bd&&f.memoizedState!==null&&Yz(v,is,f.memoizedState,f.memoizedProps);break;case 5:pf(f,d,v);break;case 3:case 4:var b=is;is=Nm(f.stateNode.containerInfo),pf(f,d,v),is=b;break;case 22:f.memoizedState===null&&(b=f.alternate,b!==null&&b.memoizedState!==null?(b=bd,bd=16777216,pf(f,d,v),bd=b):pf(f,d,v));break;default:pf(f,d,v)}}function Tk(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function Sd(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];kn=b,Dk(b,f)}Tk(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Ak(f),f=f.sibling}function Ak(f){switch(f.tag){case 0:case 11:case 15:Sd(f),f.flags&2048&&Pl(9,f,f.return);break;case 3:Sd(f);break;case 12:Sd(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&2&&(f.return===null||f.return.tag!==13)?(d._visibility&=-3,wm(f)):Sd(f);break;default:Sd(f)}}function wm(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];kn=b,Dk(b,f)}Tk(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:Pl(8,d,d.return),wm(d);break;case 22:v=d.stateNode,v._visibility&2&&(v._visibility&=-3,wm(d));break;default:wm(d)}f=f.sibling}}function Dk(f,d){for(;kn!==null;){var v=kn;switch(v.tag){case 0:case 11:case 15:Pl(8,v,d);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var b=v.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:id(v.memoizedState.cache)}if(b=v.child,b!==null)b.return=v,kn=b;else e:for(v=f;kn!==null;){b=kn;var D=b.sibling,C=b.return;if(vk(b),b===v){kn=null;break e}if(D!==null){D.return=C,kn=D;break e}kn=C}}}var oz={getCacheForType:function(f){var d=Vn(fn),v=d.data.get(f);return v===void 0&&(v=f(),d.data.set(f,v)),v},cacheSignal:function(){return Vn(fn).controller.signal}},lz=typeof WeakMap=="function"?WeakMap:Map,ir=0,_r=null,Kt=null,qt=0,or=0,ia=null,Ll=!1,mf=!1,nS=!1,_o=0,Qr=0,Ml=0,zu=0,iS=0,aa=0,gf=0,Ed=null,Ui=null,aS=!1,_m=0,Ok=0,Tm=1/0,Am=null,Nl=null,En=0,Fl=null,vf=null,To=0,sS=0,oS=null,Ck=null,wd=0,lS=null;function sa(){return(ir&2)!==0&&qt!==0?qt&-qt:K.T!==null?pS():ie()}function Ik(){if(aa===0)if((qt&536870912)===0||Zt){var f=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),aa=f}else aa=536870912;return f=ra.current,f!==null&&(f.flags|=32),aa}function ji(f,d,v){(f===_r&&(or===2||or===9)||f.cancelPendingCommit!==null)&&(yf(f,0),Bl(f,qt,aa,!1)),de(f,v),((ir&2)===0||f!==_r)&&(f===_r&&((ir&2)===0&&(zu|=v),Qr===4&&Bl(f,qt,aa,!1)),Cs(f))}function Rk(f,d,v){if((ir&6)!==0)throw Error(n(327));var b=!v&&(d&127)===0&&(d&f.expiredLanes)===0||rn(f,d),D=b?fz(f,d):cS(f,d,!0),C=b;do{if(D===0){mf&&!b&&Bl(f,d,0,!1);break}else{if(v=f.current.alternate,C&&!uz(v)){D=cS(f,d,!1),C=!1;continue}if(D===2){if(C=d,f.errorRecoveryDisabledLanes&C)var j=0;else j=f.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){d=j;e:{var oe=f;D=Ed;var _e=oe.current.memoizedState.isDehydrated;if(_e&&(yf(oe,j).flags|=256),j=cS(oe,j,!1),j!==2){if(nS&&!_e){oe.errorRecoveryDisabledLanes|=C,zu|=C,D=4;break e}C=Ui,Ui=D,C!==null&&(Ui===null?Ui=C:Ui.push.apply(Ui,C))}D=j}if(C=!1,D!==2)continue}}if(D===1){yf(f,0),Bl(f,d,0,!0);break}e:{switch(b=f,C=D,C){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:Bl(b,d,aa,!Ll);break e;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(D=_m+300-ke(),10<D)){if(Bl(b,d,aa,!Ll),Yn(b,0,!0)!==0)break e;To=d,b.timeoutHandle=lP(kk.bind(null,b,v,Ui,Am,aS,d,aa,zu,gf,Ll,C,"Throttled",-0,0),D);break e}kk(b,v,Ui,Am,aS,d,aa,zu,gf,Ll,C,null,-0,0)}}break}while(!0);Cs(f)}function kk(f,d,v,b,D,C,j,oe,_e,je,et,it,He,Ke){if(f.timeoutHandle=-1,it=d.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:uo},_k(d,C,it);var _t=(C&62914560)===C?_m-ke():(C&4194048)===C?Ok-ke():0;if(_t=zz(it,_t),_t!==null){To=C,f.cancelPendingCommit=_t(jk.bind(null,f,d,C,v,b,D,j,oe,_e,et,it,null,He,Ke)),Bl(f,C,j,!je);return}}jk(f,d,C,v,b,D,j,oe,_e)}function uz(f){for(var d=f;;){var v=d.tag;if((v===0||v===11||v===15)&&d.flags&16384&&(v=d.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var b=0;b<v.length;b++){var D=v[b],C=D.getSnapshot;D=D.value;try{if(!ea(C(),D))return!1}catch{return!1}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Bl(f,d,v,b){d&=~iS,d&=~zu,f.suspendedLanes|=d,f.pingedLanes&=~d,b&&(f.warmLanes|=d),b=f.expirationTimes;for(var D=d;0<D;){var C=31-xt(D),j=1<<C;b[C]=-1,D&=~j}v!==0&&ot(f,v,d)}function Dm(){return(ir&6)===0?(_d(0),!1):!0}function uS(){if(Kt!==null){if(or===0)var f=Kt.return;else f=Kt,po=Bu=null,Tb(f),lf=null,sd=0,f=Kt;for(;f!==null;)uk(f.alternate,f),f=f.return;Kt=null}}function yf(f,d){var v=f.timeoutHandle;v!==-1&&(f.timeoutHandle=-1,Cz(v)),v=f.cancelPendingCommit,v!==null&&(f.cancelPendingCommit=null,v()),To=0,uS(),_r=f,Kt=v=fo(f.current,null),qt=d,or=0,ia=null,Ll=!1,mf=rn(f,d),nS=!1,gf=aa=iS=zu=Ml=Qr=0,Ui=Ed=null,aS=!1,(d&8)!==0&&(d|=d&32);var b=f.entangledLanes;if(b!==0)for(f=f.entanglements,b&=d;0<b;){var D=31-xt(b),C=1<<D;d|=f[D],b&=~C}return _o=d,Vp(),v}function Pk(f,d){jt=null,K.H=pd,d===of||d===rm?(d=qI(),or=3):d===db?(d=qI(),or=4):or=d===$b?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ia=d,Kt===null&&(Qr=1,gm(f,ka(d,f.current)))}function Lk(){var f=ra.current;return f===null?!0:(qt&4194048)===qt?Na===null:(qt&62914560)===qt||(qt&536870912)!==0?f===Na:!1}function Mk(){var f=K.H;return K.H=pd,f===null?pd:f}function Nk(){var f=K.A;return K.A=oz,f}function Om(){Qr=4,Ll||(qt&4194048)!==qt&&ra.current!==null||(mf=!0),(Ml&134217727)===0&&(zu&134217727)===0||_r===null||Bl(_r,qt,aa,!1)}function cS(f,d,v){var b=ir;ir|=2;var D=Mk(),C=Nk();(_r!==f||qt!==d)&&(Am=null,yf(f,d)),d=!1;var j=Qr;e:do try{if(or!==0&&Kt!==null){var oe=Kt,_e=ia;switch(or){case 8:uS(),j=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(d=!0);var je=or;if(or=0,ia=null,xf(f,oe,_e,je),v&&mf){j=0;break e}break;default:je=or,or=0,ia=null,xf(f,oe,_e,je)}}cz(),j=Qr;break}catch(et){Pk(f,et)}while(!0);return d&&f.shellSuspendCounter++,po=Bu=null,ir=b,K.H=D,K.A=C,Kt===null&&(_r=null,qt=0,Vp()),j}function cz(){for(;Kt!==null;)Fk(Kt)}function fz(f,d){var v=ir;ir|=2;var b=Mk(),D=Nk();_r!==f||qt!==d?(Am=null,Tm=ke()+500,yf(f,d)):mf=rn(f,d);e:do try{if(or!==0&&Kt!==null){d=Kt;var C=ia;t:switch(or){case 1:or=0,ia=null,xf(f,d,C,1);break;case 2:case 9:if(zI(C)){or=0,ia=null,Bk(d);break}d=function(){or!==2&&or!==9||_r!==f||(or=7),Cs(f)},C.then(d,d);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:zI(C)?(or=0,ia=null,Bk(d)):(or=0,ia=null,xf(f,d,C,7));break;case 5:var j=null;switch(Kt.tag){case 26:j=Kt.memoizedState;case 5:case 27:var oe=Kt;if(j?wP(j):oe.stateNode.complete){or=0,ia=null;var _e=oe.sibling;if(_e!==null)Kt=_e;else{var je=oe.return;je!==null?(Kt=je,Cm(je)):Kt=null}break t}}or=0,ia=null,xf(f,d,C,5);break;case 6:or=0,ia=null,xf(f,d,C,6);break;case 8:uS(),Qr=6;break e;default:throw Error(n(462))}}hz();break}catch(et){Pk(f,et)}while(!0);return po=Bu=null,K.H=b,K.A=D,ir=v,Kt!==null?0:(_r=null,qt=0,Vp(),Qr)}function hz(){for(;Kt!==null&&!Ye();)Fk(Kt)}function Fk(f){var d=ok(f.alternate,f,_o);f.memoizedProps=f.pendingProps,d===null?Cm(f):Kt=d}function Bk(f){var d=f,v=d.alternate;switch(d.tag){case 15:case 0:d=tk(v,d,d.pendingProps,d.type,void 0,qt);break;case 11:d=tk(v,d,d.pendingProps,d.type.render,d.ref,qt);break;case 5:Tb(d);default:uk(v,d),d=Kt=NI(d,_o),d=ok(v,d,_o)}f.memoizedProps=f.pendingProps,d===null?Cm(f):Kt=d}function xf(f,d,v,b){po=Bu=null,Tb(d),lf=null,sd=0;var D=d.return;try{if(ez(f,D,d,v,qt)){Qr=1,gm(f,ka(v,f.current)),Kt=null;return}}catch(C){if(D!==null)throw Kt=D,C;Qr=1,gm(f,ka(v,f.current)),Kt=null;return}d.flags&32768?(Zt||b===1?f=!0:mf||(qt&536870912)!==0?f=!1:(Ll=f=!0,(b===2||b===9||b===3||b===6)&&(b=ra.current,b!==null&&b.tag===13&&(b.flags|=16384))),Uk(d,f)):Cm(d)}function Cm(f){var d=f;do{if((d.flags&32768)!==0){Uk(d,Ll);return}f=d.return;var v=nz(d.alternate,d,_o);if(v!==null){Kt=v;return}if(d=d.sibling,d!==null){Kt=d;return}Kt=d=f}while(d!==null);Qr===0&&(Qr=5)}function Uk(f,d){do{var v=iz(f.alternate,f);if(v!==null){v.flags&=32767,Kt=v;return}if(v=f.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!d&&(f=f.sibling,f!==null)){Kt=f;return}Kt=f=v}while(f!==null);Qr=6,Kt=null}function jk(f,d,v,b,D,C,j,oe,_e){f.cancelPendingCommit=null;do Im();while(En!==0);if((ir&6)!==0)throw Error(n(327));if(d!==null){if(d===f.current)throw Error(n(177));if(C=d.lanes|d.childLanes,C|=Z1,Se(f,v,C,j,oe,_e),f===_r&&(Kt=_r=null,qt=0),vf=d,Fl=f,To=v,sS=C,oS=D,Ck=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,gz(J,function(){return Kk(),null})):(f.callbackNode=null,f.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=K.T,K.T=null,D=z.p,z.p=2,j=ir,ir|=4;try{az(f,d,v)}finally{ir=j,z.p=D,K.T=b}}En=1,$k(),Hk(),Gk()}}function $k(){if(En===1){En=0;var f=Fl,d=vf,v=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||v){v=K.T,K.T=null;var b=z.p;z.p=2;var D=ir;ir|=4;try{Sk(d,f);var C=ES,j=DI(f.containerInfo),oe=C.focusedElem,_e=C.selectionRange;if(j!==oe&&oe&&oe.ownerDocument&&AI(oe.ownerDocument.documentElement,oe)){if(_e!==null&&z1(oe)){var je=_e.start,et=_e.end;if(et===void 0&&(et=je),"selectionStart"in oe)oe.selectionStart=je,oe.selectionEnd=Math.min(et,oe.value.length);else{var it=oe.ownerDocument||document,He=it&&it.defaultView||window;if(He.getSelection){var Ke=He.getSelection(),_t=oe.textContent.length,Pt=Math.min(_e.start,_t),br=_e.end===void 0?Pt:Math.min(_e.end,_t);!Ke.extend&&Pt>br&&(j=br,br=Pt,Pt=j);var Ce=TI(oe,Pt),Ae=TI(oe,br);if(Ce&&Ae&&(Ke.rangeCount!==1||Ke.anchorNode!==Ce.node||Ke.anchorOffset!==Ce.offset||Ke.focusNode!==Ae.node||Ke.focusOffset!==Ae.offset)){var Ue=it.createRange();Ue.setStart(Ce.node,Ce.offset),Ke.removeAllRanges(),Pt>br?(Ke.addRange(Ue),Ke.extend(Ae.node,Ae.offset)):(Ue.setEnd(Ae.node,Ae.offset),Ke.addRange(Ue))}}}}for(it=[],Ke=oe;Ke=Ke.parentNode;)Ke.nodeType===1&&it.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<it.length;oe++){var nt=it[oe];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Hm=!!SS,ES=SS=null}finally{ir=D,z.p=b,K.T=v}}f.current=d,En=2}}function Hk(){if(En===2){En=0;var f=Fl,d=vf,v=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||v){v=K.T,K.T=null;var b=z.p;z.p=2;var D=ir;ir|=4;try{gk(f,d.alternate,d)}finally{ir=D,z.p=b,K.T=v}}En=3}}function Gk(){if(En===4||En===3){En=0,st();var f=Fl,d=vf,v=To,b=Ck;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?En=5:(En=0,vf=Fl=null,Wk(f,f.pendingLanes));var D=f.pendingLanes;if(D===0&&(Nl=null),nn(v),d=d.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Te,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=K.T,D=z.p,z.p=2,K.T=null;try{for(var C=f.onRecoverableError,j=0;j<b.length;j++){var oe=b[j];C(oe.value,{componentStack:oe.stack})}}finally{K.T=d,z.p=D}}(To&3)!==0&&Im(),Cs(f),D=f.pendingLanes,(v&261930)!==0&&(D&42)!==0?f===lS?wd++:(wd=0,lS=f):wd=0,_d(0)}}function Wk(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,id(d)))}function Im(){return $k(),Hk(),Gk(),Kk()}function Kk(){if(En!==5)return!1;var f=Fl,d=sS;sS=0;var v=nn(To),b=K.T,D=z.p;try{z.p=32>v?32:v,K.T=null,v=oS,oS=null;var C=Fl,j=To;if(En=0,vf=Fl=null,To=0,(ir&6)!==0)throw Error(n(331));var oe=ir;if(ir|=4,Ak(C.current),wk(C,C.current,j,v),ir=oe,_d(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Te,C)}catch{}return!0}finally{z.p=D,K.T=b,Wk(f,d)}}function Yk(f,d,v){d=ka(v,d),d=jb(f.stateNode,d,2),f=Il(f,d,2),f!==null&&(de(f,2),Cs(f))}function lr(f,d,v){if(f.tag===3)Yk(f,f,v);else for(;d!==null;){if(d.tag===3){Yk(d,f,v);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Nl===null||!Nl.has(b))){f=ka(v,f),v=zR(2),b=Il(d,v,2),b!==null&&(VR(v,b,d,f),de(b,2),Cs(b));break}}d=d.return}}function fS(f,d,v){var b=f.pingCache;if(b===null){b=f.pingCache=new lz;var D=new Set;b.set(d,D)}else D=b.get(d),D===void 0&&(D=new Set,b.set(d,D));D.has(v)||(nS=!0,D.add(v),f=dz.bind(null,f,d,v),d.then(f,f))}function dz(f,d,v){var b=f.pingCache;b!==null&&b.delete(d),f.pingedLanes|=f.suspendedLanes&v,f.warmLanes&=~v,_r===f&&(qt&v)===v&&(Qr===4||Qr===3&&(qt&62914560)===qt&&300>ke()-_m?(ir&2)===0&&yf(f,0):iS|=v,gf===qt&&(gf=0)),Cs(f)}function zk(f,d){d===0&&(d=ts()),f=Mu(f,d),f!==null&&(de(f,d),Cs(f))}function pz(f){var d=f.memoizedState,v=0;d!==null&&(v=d.retryLane),zk(f,v)}function mz(f,d){var v=0;switch(f.tag){case 31:case 13:var b=f.stateNode,D=f.memoizedState;D!==null&&(v=D.retryLane);break;case 19:b=f.stateNode;break;case 22:b=f.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(d),zk(f,v)}function gz(f,d){return Ge(f,d)}var Rm=null,bf=null,hS=!1,km=!1,dS=!1,Ul=0;function Cs(f){f!==bf&&f.next===null&&(bf===null?Rm=bf=f:bf=bf.next=f),km=!0,hS||(hS=!0,yz())}function _d(f,d){if(!dS&&km){dS=!0;do for(var v=!1,b=Rm;b!==null;){if(f!==0){var D=b.pendingLanes;if(D===0)var C=0;else{var j=b.suspendedLanes,oe=b.pingedLanes;C=(1<<31-xt(42|f)+1)-1,C&=D&~(j&~oe),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(v=!0,Qk(b,C))}else C=qt,C=Yn(b,b===_r?C:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(C&3)===0||rn(b,C)||(v=!0,Qk(b,C));b=b.next}while(v);dS=!1}}function vz(){Vk()}function Vk(){km=hS=!1;var f=0;Ul!==0&&Oz()&&(f=Ul);for(var d=ke(),v=null,b=Rm;b!==null;){var D=b.next,C=qk(b,d);C===0?(b.next=null,v===null?Rm=D:v.next=D,D===null&&(bf=v)):(v=b,(f!==0||(C&3)!==0)&&(km=!0)),b=D}En!==0&&En!==5||_d(f),Ul!==0&&(Ul=0)}function qk(f,d){for(var v=f.suspendedLanes,b=f.pingedLanes,D=f.expirationTimes,C=f.pendingLanes&-62914561;0<C;){var j=31-xt(C),oe=1<<j,_e=D[j];_e===-1?((oe&v)===0||(oe&b)!==0)&&(D[j]=Sl(oe,d)):_e<=d&&(f.expiredLanes|=oe),C&=~oe}if(d=_r,v=qt,v=Yn(f,f===d?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),b=f.callbackNode,v===0||f===d&&(or===2||or===9)||f.cancelPendingCommit!==null)return b!==null&&b!==null&&Ee(b),f.callbackNode=null,f.callbackPriority=0;if((v&3)===0||rn(f,v)){if(d=v&-v,d===f.callbackPriority)return d;switch(b!==null&&Ee(b),nn(v)){case 2:case 8:v=U;break;case 32:v=J;break;case 268435456:v=De;break;default:v=J}return b=Xk.bind(null,f),v=Ge(v,b),f.callbackPriority=d,f.callbackNode=v,d}return b!==null&&b!==null&&Ee(b),f.callbackPriority=2,f.callbackNode=null,2}function Xk(f,d){if(En!==0&&En!==5)return f.callbackNode=null,f.callbackPriority=0,null;var v=f.callbackNode;if(Im()&&f.callbackNode!==v)return null;var b=qt;return b=Yn(f,f===_r?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),b===0?null:(Rk(f,b,d),qk(f,ke()),f.callbackNode!=null&&f.callbackNode===v?Xk.bind(null,f):null)}function Qk(f,d){if(Im())return null;Rk(f,d,!0)}function yz(){Iz(function(){(ir&6)!==0?Ge(P,vz):Vk()})}function pS(){if(Ul===0){var f=af;f===0&&(f=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),Ul=f}return Ul}function Zk(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:jp(""+f)}function Jk(f,d){var v=d.ownerDocument.createElement("input");return v.name=d.name,v.value=d.value,f.id&&v.setAttribute("form",f.id),d.parentNode.insertBefore(v,d),f=new FormData(f),v.parentNode.removeChild(v),f}function xz(f,d,v,b,D){if(d==="submit"&&v&&v.stateNode===D){var C=Zk((D[ge]||null).action),j=b.submitter;j&&(d=(d=j[ge]||null)?Zk(d.formAction):j.getAttribute("formAction"),d!==null&&(C=d,j=null));var oe=new Wp("action","action",null,b,D);f.push({event:oe,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Ul!==0){var _e=j?Jk(D,j):new FormData(D);Lb(v,{pending:!0,data:_e,method:D.method,action:C},null,_e)}}else typeof C=="function"&&(oe.preventDefault(),_e=j?Jk(D,j):new FormData(D),Lb(v,{pending:!0,data:_e,method:D.method,action:C},C,_e))},currentTarget:D}]})}}for(var mS=0;mS<Q1.length;mS++){var gS=Q1[mS],bz=gS.toLowerCase(),Sz=gS[0].toUpperCase()+gS.slice(1);ns(bz,"on"+Sz)}ns(II,"onAnimationEnd"),ns(RI,"onAnimationIteration"),ns(kI,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(FY,"onTransitionRun"),ns(BY,"onTransitionStart"),ns(UY,"onTransitionCancel"),ns(PI,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ez=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Td));function eP(f,d){d=(d&4)!==0;for(var v=0;v<f.length;v++){var b=f[v],D=b.event;b=b.listeners;e:{var C=void 0;if(d)for(var j=b.length-1;0<=j;j--){var oe=b[j],_e=oe.instance,je=oe.currentTarget;if(oe=oe.listener,_e!==C&&D.isPropagationStopped())break e;C=oe,D.currentTarget=je;try{C(D)}catch(et){zp(et)}D.currentTarget=null,C=_e}else for(j=0;j<b.length;j++){if(oe=b[j],_e=oe.instance,je=oe.currentTarget,oe=oe.listener,_e!==C&&D.isPropagationStopped())break e;C=oe,D.currentTarget=je;try{C(D)}catch(et){zp(et)}D.currentTarget=null,C=_e}}}}function Yt(f,d){var v=d[Le];v===void 0&&(v=d[Le]=new Set);var b=f+"__bubble";v.has(b)||(tP(d,f,2,!1),v.add(b))}function vS(f,d,v){var b=0;d&&(b|=4),tP(v,f,b,d)}var Pm="_reactListening"+Math.random().toString(36).slice(2);function yS(f){if(!f[Pm]){f[Pm]=!0,Or.forEach(function(v){v!=="selectionchange"&&(Ez.has(v)||vS(v,!1,f),vS(v,!0,f))});var d=f.nodeType===9?f:f.ownerDocument;d===null||d[Pm]||(d[Pm]=!0,vS("selectionchange",!1,d))}}function tP(f,d,v,b){switch(IP(d)){case 2:var D=Xz;break;case 8:D=Qz;break;default:D=PS}v=D.bind(null,d,v,f),D=void 0,!B1||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(D=!0),b?D!==void 0?f.addEventListener(d,v,{capture:!0,passive:D}):f.addEventListener(d,v,!0):D!==void 0?f.addEventListener(d,v,{passive:D}):f.addEventListener(d,v,!1)}function xS(f,d,v,b,D){var C=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var j=b.tag;if(j===3||j===4){var oe=b.stateNode.containerInfo;if(oe===D)break;if(j===4)for(j=b.return;j!==null;){var _e=j.tag;if((_e===3||_e===4)&&j.stateNode.containerInfo===D)return;j=j.return}for(;oe!==null;){if(j=ft(oe),j===null)return;if(_e=j.tag,_e===5||_e===6||_e===26||_e===27){b=C=j;continue e}oe=oe.parentNode}}b=b.return}sI(function(){var je=C,et=N1(v),it=[];e:{var He=LI.get(f);if(He!==void 0){var Ke=Wp,_t=f;switch(f){case"keypress":if(Hp(v)===0)break e;case"keydown":case"keyup":Ke=mY;break;case"focusin":_t="focus",Ke=H1;break;case"focusout":_t="blur",Ke=H1;break;case"beforeblur":case"afterblur":Ke=H1;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=uI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=nY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=yY;break;case II:case RI:case kI:Ke=sY;break;case PI:Ke=bY;break;case"scroll":case"scrollend":Ke=tY;break;case"wheel":Ke=EY;break;case"copy":case"cut":case"paste":Ke=lY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=fI;break;case"toggle":case"beforetoggle":Ke=_Y}var Pt=(d&4)!==0,br=!Pt&&(f==="scroll"||f==="scrollend"),Ce=Pt?He!==null?He+"Capture":null:He;Pt=[];for(var Ae=je,Ue;Ae!==null;){var nt=Ae;if(Ue=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||Ue===null||Ce===null||(nt=zh(Ae,Ce),nt!=null&&Pt.push(Ad(Ae,nt,Ue))),br)break;Ae=Ae.return}0<Pt.length&&(He=new Ke(He,_t,null,v,et),it.push({event:He,listeners:Pt}))}}if((d&7)===0){e:{if(He=f==="mouseover"||f==="pointerover",Ke=f==="mouseout"||f==="pointerout",He&&v!==M1&&(_t=v.relatedTarget||v.fromElement)&&(ft(_t)||_t[xe]))break e;if((Ke||He)&&(He=et.window===et?et:(He=et.ownerDocument)?He.defaultView||He.parentWindow:window,Ke?(_t=v.relatedTarget||v.toElement,Ke=je,_t=_t?ft(_t):null,_t!==null&&(br=a(_t),Pt=_t.tag,_t!==br||Pt!==5&&Pt!==27&&Pt!==6)&&(_t=null)):(Ke=null,_t=je),Ke!==_t)){if(Pt=uI,nt="onMouseLeave",Ce="onMouseEnter",Ae="mouse",(f==="pointerout"||f==="pointerover")&&(Pt=fI,nt="onPointerLeave",Ce="onPointerEnter",Ae="pointer"),br=Ke==null?He:ct(Ke),Ue=_t==null?He:ct(_t),He=new Pt(nt,Ae+"leave",Ke,v,et),He.target=br,He.relatedTarget=Ue,nt=null,ft(et)===je&&(Pt=new Pt(Ce,Ae+"enter",_t,v,et),Pt.target=Ue,Pt.relatedTarget=br,nt=Pt),br=nt,Ke&&_t)t:{for(Pt=wz,Ce=Ke,Ae=_t,Ue=0,nt=Ce;nt;nt=Pt(nt))Ue++;nt=0;for(var It=Ae;It;It=Pt(It))nt++;for(;0<Ue-nt;)Ce=Pt(Ce),Ue--;for(;0<nt-Ue;)Ae=Pt(Ae),nt--;for(;Ue--;){if(Ce===Ae||Ae!==null&&Ce===Ae.alternate){Pt=Ce;break t}Ce=Pt(Ce),Ae=Pt(Ae)}Pt=null}else Pt=null;Ke!==null&&rP(it,He,Ke,Pt,!1),_t!==null&&br!==null&&rP(it,br,_t,Pt,!0)}}e:{if(He=je?ct(je):window,Ke=He.nodeName&&He.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&He.type==="file")var Jt=xI;else if(vI(He))if(bI)Jt=LY;else{Jt=kY;var At=RY}else Ke=He.nodeName,!Ke||Ke.toLowerCase()!=="input"||He.type!=="checkbox"&&He.type!=="radio"?je&&L1(je.elementType)&&(Jt=xI):Jt=PY;if(Jt&&(Jt=Jt(f,je))){yI(it,Jt,v,et);break e}At&&At(f,He,je),f==="focusout"&&je&&He.type==="number"&&je.memoizedProps.value!=null&&P1(He,"number",He.value)}switch(At=je?ct(je):window,f){case"focusin":(vI(At)||At.contentEditable==="true")&&(Xc=At,V1=je,td=null);break;case"focusout":td=V1=Xc=null;break;case"mousedown":q1=!0;break;case"contextmenu":case"mouseup":case"dragend":q1=!1,OI(it,v,et);break;case"selectionchange":if(NY)break;case"keydown":case"keyup":OI(it,v,et)}var $t;if(W1)e:{switch(f){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else qc?mI(f,v)&&(Xt="onCompositionEnd"):f==="keydown"&&v.keyCode===229&&(Xt="onCompositionStart");Xt&&(hI&&v.locale!=="ko"&&(qc||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&qc&&($t=oI()):(wl=et,U1="value"in wl?wl.value:wl.textContent,qc=!0)),At=Lm(je,Xt),0<At.length&&(Xt=new cI(Xt,f,null,v,et),it.push({event:Xt,listeners:At}),$t?Xt.data=$t:($t=gI(v),$t!==null&&(Xt.data=$t)))),($t=AY?DY(f,v):OY(f,v))&&(Xt=Lm(je,"onBeforeInput"),0<Xt.length&&(At=new cI("onBeforeInput","beforeinput",null,v,et),it.push({event:At,listeners:Xt}),At.data=$t)),xz(it,f,je,v,et)}eP(it,d)})}function Ad(f,d,v){return{instance:f,listener:d,currentTarget:v}}function Lm(f,d){for(var v=d+"Capture",b=[];f!==null;){var D=f,C=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||C===null||(D=zh(f,v),D!=null&&b.unshift(Ad(f,D,C)),D=zh(f,d),D!=null&&b.push(Ad(f,D,C))),f.tag===3)return b;f=f.return}return[]}function wz(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function rP(f,d,v,b,D){for(var C=d._reactName,j=[];v!==null&&v!==b;){var oe=v,_e=oe.alternate,je=oe.stateNode;if(oe=oe.tag,_e!==null&&_e===b)break;oe!==5&&oe!==26&&oe!==27||je===null||(_e=je,D?(je=zh(v,C),je!=null&&j.unshift(Ad(v,je,_e))):D||(je=zh(v,C),je!=null&&j.push(Ad(v,je,_e)))),v=v.return}j.length!==0&&f.push({event:d,listeners:j})}var _z=/\r\n?/g,Tz=/\u0000|\uFFFD/g;function nP(f){return(typeof f=="string"?f:""+f).replace(_z,`
`).replace(Tz,"")}function iP(f,d){return d=nP(d),nP(f)===d}function xr(f,d,v,b,D,C){switch(v){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Yc(f,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Yc(f,""+b);break;case"className":Bp(f,"class",b);break;case"tabIndex":Bp(f,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Bp(f,v,b);break;case"style":iI(f,b,C);break;case"data":if(d!=="object"){Bp(f,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||v!=="href")){f.removeAttribute(v);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){f.removeAttribute(v);break}b=jp(""+b),f.setAttribute(v,b);break;case"action":case"formAction":if(typeof b=="function"){f.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(v==="formAction"?(d!=="input"&&xr(f,d,"name",D.name,D,null),xr(f,d,"formEncType",D.formEncType,D,null),xr(f,d,"formMethod",D.formMethod,D,null),xr(f,d,"formTarget",D.formTarget,D,null)):(xr(f,d,"encType",D.encType,D,null),xr(f,d,"method",D.method,D,null),xr(f,d,"target",D.target,D,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){f.removeAttribute(v);break}b=jp(""+b),f.setAttribute(v,b);break;case"onClick":b!=null&&(f.onclick=uo);break;case"onScroll":b!=null&&Yt("scroll",f);break;case"onScrollEnd":b!=null&&Yt("scrollend",f);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(v=b.__html,v!=null){if(D.children!=null)throw Error(n(60));f.innerHTML=v}}break;case"multiple":f.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":f.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){f.removeAttribute("xlink:href");break}v=jp(""+b),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?f.setAttribute(v,""+b):f.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?f.setAttribute(v,""):f.removeAttribute(v);break;case"capture":case"download":b===!0?f.setAttribute(v,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?f.setAttribute(v,b):f.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?f.setAttribute(v,b):f.removeAttribute(v);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?f.removeAttribute(v):f.setAttribute(v,b);break;case"popover":Yt("beforetoggle",f),Yt("toggle",f),Li(f,"popover",b);break;case"xlinkActuate":lo(f,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":lo(f,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":lo(f,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":lo(f,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":lo(f,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":lo(f,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":lo(f,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":lo(f,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":lo(f,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Li(f,"is",b);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=JK.get(v)||v,Li(f,v,b))}}function bS(f,d,v,b,D,C){switch(v){case"style":iI(f,b,C);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(v=b.__html,v!=null){if(D.children!=null)throw Error(n(60));f.innerHTML=v}}break;case"children":typeof b=="string"?Yc(f,b):(typeof b=="number"||typeof b=="bigint")&&Yc(f,""+b);break;case"onScroll":b!=null&&Yt("scroll",f);break;case"onScrollEnd":b!=null&&Yt("scrollend",f);break;case"onClick":b!=null&&(f.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(D=v.endsWith("Capture"),d=v.slice(2,D?v.length-7:void 0),C=f[ge]||null,C=C!=null?C[v]:null,typeof C=="function"&&f.removeEventListener(d,C,D),typeof b=="function")){typeof C!="function"&&C!==null&&(v in f?f[v]=null:f.hasAttribute(v)&&f.removeAttribute(v)),f.addEventListener(d,b,D);break e}v in f?f[v]=b:b===!0?f.setAttribute(v,""):Li(f,v,b)}}}function Xn(f,d,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",f),Yt("load",f);var b=!1,D=!1,C;for(C in v)if(v.hasOwnProperty(C)){var j=v[C];if(j!=null)switch(C){case"src":b=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:xr(f,d,C,j,v,null)}}D&&xr(f,d,"srcSet",v.srcSet,v,null),b&&xr(f,d,"src",v.src,v,null);return;case"input":Yt("invalid",f);var oe=C=j=D=null,_e=null,je=null;for(b in v)if(v.hasOwnProperty(b)){var et=v[b];if(et!=null)switch(b){case"name":D=et;break;case"type":j=et;break;case"checked":_e=et;break;case"defaultChecked":je=et;break;case"value":C=et;break;case"defaultValue":oe=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,d));break;default:xr(f,d,b,et,v,null)}}eI(f,C,oe,_e,je,j,D,!1);return;case"select":Yt("invalid",f),b=j=C=null;for(D in v)if(v.hasOwnProperty(D)&&(oe=v[D],oe!=null))switch(D){case"value":C=oe;break;case"defaultValue":j=oe;break;case"multiple":b=oe;default:xr(f,d,D,oe,v,null)}d=C,v=j,f.multiple=!!b,d!=null?Kc(f,!!b,d,!1):v!=null&&Kc(f,!!b,v,!0);return;case"textarea":Yt("invalid",f),C=D=b=null;for(j in v)if(v.hasOwnProperty(j)&&(oe=v[j],oe!=null))switch(j){case"value":b=oe;break;case"defaultValue":D=oe;break;case"children":C=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(91));break;default:xr(f,d,j,oe,v,null)}rI(f,b,D,C);return;case"option":for(_e in v)if(v.hasOwnProperty(_e)&&(b=v[_e],b!=null))switch(_e){case"selected":f.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:xr(f,d,_e,b,v,null)}return;case"dialog":Yt("beforetoggle",f),Yt("toggle",f),Yt("cancel",f),Yt("close",f);break;case"iframe":case"object":Yt("load",f);break;case"video":case"audio":for(b=0;b<Td.length;b++)Yt(Td[b],f);break;case"image":Yt("error",f),Yt("load",f);break;case"details":Yt("toggle",f);break;case"embed":case"source":case"link":Yt("error",f),Yt("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in v)if(v.hasOwnProperty(je)&&(b=v[je],b!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:xr(f,d,je,b,v,null)}return;default:if(L1(d)){for(et in v)v.hasOwnProperty(et)&&(b=v[et],b!==void 0&&bS(f,d,et,b,v,void 0));return}}for(oe in v)v.hasOwnProperty(oe)&&(b=v[oe],b!=null&&xr(f,d,oe,b,v,null))}function Az(f,d,v,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,C=null,j=null,oe=null,_e=null,je=null,et=null;for(Ke in v){var it=v[Ke];if(v.hasOwnProperty(Ke)&&it!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":_e=it;default:b.hasOwnProperty(Ke)||xr(f,d,Ke,null,b,it)}}for(var He in b){var Ke=b[He];if(it=v[He],b.hasOwnProperty(He)&&(Ke!=null||it!=null))switch(He){case"type":C=Ke;break;case"name":D=Ke;break;case"checked":je=Ke;break;case"defaultChecked":et=Ke;break;case"value":j=Ke;break;case"defaultValue":oe=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,d));break;default:Ke!==it&&xr(f,d,He,Ke,b,it)}}k1(f,j,oe,_e,je,et,C,D);return;case"select":Ke=j=oe=He=null;for(C in v)if(_e=v[C],v.hasOwnProperty(C)&&_e!=null)switch(C){case"value":break;case"multiple":Ke=_e;default:b.hasOwnProperty(C)||xr(f,d,C,null,b,_e)}for(D in b)if(C=b[D],_e=v[D],b.hasOwnProperty(D)&&(C!=null||_e!=null))switch(D){case"value":He=C;break;case"defaultValue":oe=C;break;case"multiple":j=C;default:C!==_e&&xr(f,d,D,C,b,_e)}d=oe,v=j,b=Ke,He!=null?Kc(f,!!v,He,!1):!!b!=!!v&&(d!=null?Kc(f,!!v,d,!0):Kc(f,!!v,v?[]:"",!1));return;case"textarea":Ke=He=null;for(oe in v)if(D=v[oe],v.hasOwnProperty(oe)&&D!=null&&!b.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:xr(f,d,oe,null,b,D)}for(j in b)if(D=b[j],C=v[j],b.hasOwnProperty(j)&&(D!=null||C!=null))switch(j){case"value":He=D;break;case"defaultValue":Ke=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:D!==C&&xr(f,d,j,D,b,C)}tI(f,He,Ke);return;case"option":for(var _t in v)if(He=v[_t],v.hasOwnProperty(_t)&&He!=null&&!b.hasOwnProperty(_t))switch(_t){case"selected":f.selected=!1;break;default:xr(f,d,_t,null,b,He)}for(_e in b)if(He=b[_e],Ke=v[_e],b.hasOwnProperty(_e)&&He!==Ke&&(He!=null||Ke!=null))switch(_e){case"selected":f.selected=He&&typeof He!="function"&&typeof He!="symbol";break;default:xr(f,d,_e,He,b,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in v)He=v[Pt],v.hasOwnProperty(Pt)&&He!=null&&!b.hasOwnProperty(Pt)&&xr(f,d,Pt,null,b,He);for(je in b)if(He=b[je],Ke=v[je],b.hasOwnProperty(je)&&He!==Ke&&(He!=null||Ke!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,d));break;default:xr(f,d,je,He,b,Ke)}return;default:if(L1(d)){for(var br in v)He=v[br],v.hasOwnProperty(br)&&He!==void 0&&!b.hasOwnProperty(br)&&bS(f,d,br,void 0,b,He);for(et in b)He=b[et],Ke=v[et],!b.hasOwnProperty(et)||He===Ke||He===void 0&&Ke===void 0||bS(f,d,et,He,b,Ke);return}}for(var Ce in v)He=v[Ce],v.hasOwnProperty(Ce)&&He!=null&&!b.hasOwnProperty(Ce)&&xr(f,d,Ce,null,b,He);for(it in b)He=b[it],Ke=v[it],!b.hasOwnProperty(it)||He===Ke||He==null&&Ke==null||xr(f,d,it,He,b,Ke)}function aP(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dz(){if(typeof performance.getEntriesByType=="function"){for(var f=0,d=0,v=performance.getEntriesByType("resource"),b=0;b<v.length;b++){var D=v[b],C=D.transferSize,j=D.initiatorType,oe=D.duration;if(C&&oe&&aP(j)){for(j=0,oe=D.responseEnd,b+=1;b<v.length;b++){var _e=v[b],je=_e.startTime;if(je>oe)break;var et=_e.transferSize,it=_e.initiatorType;et&&aP(it)&&(_e=_e.responseEnd,j+=et*(_e<oe?1:(oe-je)/(_e-je)))}if(--b,d+=8*(C+j)/(D.duration/1e3),f++,10<f)break}}if(0<f)return d/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var SS=null,ES=null;function Mm(f){return f.nodeType===9?f:f.ownerDocument}function sP(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oP(f,d){if(f===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&d==="foreignObject"?0:f}function wS(f,d){return f==="textarea"||f==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var _S=null;function Oz(){var f=window.event;return f&&f.type==="popstate"?f===_S?!1:(_S=f,!0):(_S=null,!1)}var lP=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,uP=typeof Promise=="function"?Promise:void 0,Iz=typeof queueMicrotask=="function"?queueMicrotask:typeof uP<"u"?function(f){return uP.resolve(null).then(f).catch(Rz)}:lP;function Rz(f){setTimeout(function(){throw f})}function jl(f){return f==="head"}function cP(f,d){var v=d,b=0;do{var D=v.nextSibling;if(f.removeChild(v),D&&D.nodeType===8)if(v=D.data,v==="/$"||v==="/&"){if(b===0){f.removeChild(D),_f(d);return}b--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")b++;else if(v==="html")Dd(f.ownerDocument.documentElement);else if(v==="head"){v=f.ownerDocument.head,Dd(v);for(var C=v.firstChild;C;){var j=C.nextSibling,oe=C.nodeName;C[Be]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&C.rel.toLowerCase()==="stylesheet"||v.removeChild(C),C=j}}else v==="body"&&Dd(f.ownerDocument.body);v=D}while(v);_f(d)}function fP(f,d){var v=f;f=0;do{var b=v.nextSibling;if(v.nodeType===1?d?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(d?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),b&&b.nodeType===8)if(v=b.data,v==="/$"){if(f===0)break;f--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||f++;v=b}while(v)}function TS(f){var d=f.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var v=d;switch(d=d.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":TS(v),ut(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}f.removeChild(v)}}function kz(f,d,v,b){for(;f.nodeType===1;){var D=v;if(f.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(b){if(!f[Be])switch(d){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(C=f.getAttribute("rel"),C==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(C!==D.rel||f.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||f.getAttribute("title")!==(D.title==null?null:D.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(C=f.getAttribute("src"),(C!==(D.src==null?null:D.src)||f.getAttribute("type")!==(D.type==null?null:D.type)||f.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&C&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(d==="input"&&f.type==="hidden"){var C=D.name==null?null:""+D.name;if(D.type==="hidden"&&f.getAttribute("name")===C)return f}else return f;if(f=Fa(f.nextSibling),f===null)break}return null}function Pz(f,d,v){if(d==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!v||(f=Fa(f.nextSibling),f===null))return null;return f}function hP(f,d){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!d||(f=Fa(f.nextSibling),f===null))return null;return f}function AS(f){return f.data==="$?"||f.data==="$~"}function DS(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function Lz(f,d){var v=f.ownerDocument;if(f.data==="$~")f._reactRetry=d;else if(f.data!=="$?"||v.readyState!=="loading")d();else{var b=function(){d(),v.removeEventListener("DOMContentLoaded",b)};v.addEventListener("DOMContentLoaded",b),f._reactRetry=b}}function Fa(f){for(;f!=null;f=f.nextSibling){var d=f.nodeType;if(d===1||d===3)break;if(d===8){if(d=f.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return f}var OS=null;function dP(f){f=f.nextSibling;for(var d=0;f;){if(f.nodeType===8){var v=f.data;if(v==="/$"||v==="/&"){if(d===0)return Fa(f.nextSibling);d--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||d++}f=f.nextSibling}return null}function pP(f){f=f.previousSibling;for(var d=0;f;){if(f.nodeType===8){var v=f.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(d===0)return f;d--}else v!=="/$"&&v!=="/&"||d++}f=f.previousSibling}return null}function mP(f,d,v){switch(d=Mm(v),f){case"html":if(f=d.documentElement,!f)throw Error(n(452));return f;case"head":if(f=d.head,!f)throw Error(n(453));return f;case"body":if(f=d.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function Dd(f){for(var d=f.attributes;d.length;)f.removeAttributeNode(d[0]);ut(f)}var Ba=new Map,gP=new Set;function Nm(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Ao=z.d;z.d={f:Mz,r:Nz,D:Fz,C:Bz,L:Uz,m:jz,X:Hz,S:$z,M:Gz};function Mz(){var f=Ao.f(),d=Dm();return f||d}function Nz(f){var d=vt(f);d!==null&&d.tag===5&&d.type==="form"?PR(d):Ao.r(f)}var Sf=typeof document>"u"?null:document;function vP(f,d,v){var b=Sf;if(b&&typeof d=="string"&&d){var D=Ia(d);D='link[rel="'+f+'"][href="'+D+'"]',typeof v=="string"&&(D+='[crossorigin="'+v+'"]'),gP.has(D)||(gP.add(D),f={rel:f,crossOrigin:v,href:d},b.querySelector(D)===null&&(d=b.createElement("link"),Xn(d,"link",f),Tt(d),b.head.appendChild(d)))}}function Fz(f){Ao.D(f),vP("dns-prefetch",f,null)}function Bz(f,d){Ao.C(f,d),vP("preconnect",f,d)}function Uz(f,d,v){Ao.L(f,d,v);var b=Sf;if(b&&f&&d){var D='link[rel="preload"][as="'+Ia(d)+'"]';d==="image"&&v&&v.imageSrcSet?(D+='[imagesrcset="'+Ia(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(D+='[imagesizes="'+Ia(v.imageSizes)+'"]')):D+='[href="'+Ia(f)+'"]';var C=D;switch(d){case"style":C=Ef(f);break;case"script":C=wf(f)}Ba.has(C)||(f=h({rel:"preload",href:d==="image"&&v&&v.imageSrcSet?void 0:f,as:d},v),Ba.set(C,f),b.querySelector(D)!==null||d==="style"&&b.querySelector(Od(C))||d==="script"&&b.querySelector(Cd(C))||(d=b.createElement("link"),Xn(d,"link",f),Tt(d),b.head.appendChild(d)))}}function jz(f,d){Ao.m(f,d);var v=Sf;if(v&&f){var b=d&&typeof d.as=="string"?d.as:"script",D='link[rel="modulepreload"][as="'+Ia(b)+'"][href="'+Ia(f)+'"]',C=D;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=wf(f)}if(!Ba.has(C)&&(f=h({rel:"modulepreload",href:f},d),Ba.set(C,f),v.querySelector(D)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(Cd(C)))return}b=v.createElement("link"),Xn(b,"link",f),Tt(b),v.head.appendChild(b)}}}function $z(f,d,v){Ao.S(f,d,v);var b=Sf;if(b&&f){var D=mt(b).hoistableStyles,C=Ef(f);d=d||"default";var j=D.get(C);if(!j){var oe={loading:0,preload:null};if(j=b.querySelector(Od(C)))oe.loading=5;else{f=h({rel:"stylesheet",href:f,"data-precedence":d},v),(v=Ba.get(C))&&CS(f,v);var _e=j=b.createElement("link");Tt(_e),Xn(_e,"link",f),_e._p=new Promise(function(je,et){_e.onload=je,_e.onerror=et}),_e.addEventListener("load",function(){oe.loading|=1}),_e.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Fm(j,d,b)}j={type:"stylesheet",instance:j,count:1,state:oe},D.set(C,j)}}}function Hz(f,d){Ao.X(f,d);var v=Sf;if(v&&f){var b=mt(v).hoistableScripts,D=wf(f),C=b.get(D);C||(C=v.querySelector(Cd(D)),C||(f=h({src:f,async:!0},d),(d=Ba.get(D))&&IS(f,d),C=v.createElement("script"),Tt(C),Xn(C,"link",f),v.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},b.set(D,C))}}function Gz(f,d){Ao.M(f,d);var v=Sf;if(v&&f){var b=mt(v).hoistableScripts,D=wf(f),C=b.get(D);C||(C=v.querySelector(Cd(D)),C||(f=h({src:f,async:!0,type:"module"},d),(d=Ba.get(D))&&IS(f,d),C=v.createElement("script"),Tt(C),Xn(C,"link",f),v.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},b.set(D,C))}}function yP(f,d,v,b){var D=(D=me.current)?Nm(D):null;if(!D)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(d=Ef(v.href),v=mt(D).hoistableStyles,b=v.get(d),b||(b={type:"style",instance:null,count:0,state:null},v.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){f=Ef(v.href);var C=mt(D).hoistableStyles,j=C.get(f);if(j||(D=D.ownerDocument||D,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(f,j),(C=D.querySelector(Od(f)))&&!C._p&&(j.instance=C,j.state.loading=5),Ba.has(f)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ba.set(f,v),C||Wz(D,f,v,j.state))),d&&b===null)throw Error(n(528,""));return j}if(d&&b!==null)throw Error(n(529,""));return null;case"script":return d=v.async,v=v.src,typeof v=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=wf(v),v=mt(D).hoistableScripts,b=v.get(d),b||(b={type:"script",instance:null,count:0,state:null},v.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function Ef(f){return'href="'+Ia(f)+'"'}function Od(f){return'link[rel="stylesheet"]['+f+"]"}function xP(f){return h({},f,{"data-precedence":f.precedence,precedence:null})}function Wz(f,d,v,b){f.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=f.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Xn(d,"link",v),Tt(d),f.head.appendChild(d))}function wf(f){return'[src="'+Ia(f)+'"]'}function Cd(f){return"script[async]"+f}function bP(f,d,v){if(d.count++,d.instance===null)switch(d.type){case"style":var b=f.querySelector('style[data-href~="'+Ia(v.href)+'"]');if(b)return d.instance=b,Tt(b),b;var D=h({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return b=(f.ownerDocument||f).createElement("style"),Tt(b),Xn(b,"style",D),Fm(b,v.precedence,f),d.instance=b;case"stylesheet":D=Ef(v.href);var C=f.querySelector(Od(D));if(C)return d.state.loading|=4,d.instance=C,Tt(C),C;b=xP(v),(D=Ba.get(D))&&CS(b,D),C=(f.ownerDocument||f).createElement("link"),Tt(C);var j=C;return j._p=new Promise(function(oe,_e){j.onload=oe,j.onerror=_e}),Xn(C,"link",b),d.state.loading|=4,Fm(C,v.precedence,f),d.instance=C;case"script":return C=wf(v.src),(D=f.querySelector(Cd(C)))?(d.instance=D,Tt(D),D):(b=v,(D=Ba.get(C))&&(b=h({},v),IS(b,D)),f=f.ownerDocument||f,D=f.createElement("script"),Tt(D),Xn(D,"link",b),f.head.appendChild(D),d.instance=D);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,Fm(b,v.precedence,f));return d.instance}function Fm(f,d,v){for(var b=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=b.length?b[b.length-1]:null,C=D,j=0;j<b.length;j++){var oe=b[j];if(oe.dataset.precedence===d)C=oe;else if(C!==D)break}C?C.parentNode.insertBefore(f,C.nextSibling):(d=v.nodeType===9?v.head:v,d.insertBefore(f,d.firstChild))}function CS(f,d){f.crossOrigin==null&&(f.crossOrigin=d.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=d.referrerPolicy),f.title==null&&(f.title=d.title)}function IS(f,d){f.crossOrigin==null&&(f.crossOrigin=d.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=d.referrerPolicy),f.integrity==null&&(f.integrity=d.integrity)}var Bm=null;function SP(f,d,v){if(Bm===null){var b=new Map,D=Bm=new Map;D.set(v,b)}else D=Bm,b=D.get(v),b||(b=new Map,D.set(v,b));if(b.has(f))return b;for(b.set(f,null),v=v.getElementsByTagName(f),D=0;D<v.length;D++){var C=v[D];if(!(C[Be]||C[ce]||f==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var j=C.getAttribute(d)||"";j=f+j;var oe=b.get(j);oe?oe.push(C):b.set(j,[C])}}return b}function EP(f,d,v){f=f.ownerDocument||f,f.head.insertBefore(v,d==="title"?f.querySelector("head > title"):null)}function Kz(f,d,v){if(v===1||d.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return f=d.disabled,typeof d.precedence=="string"&&f==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function wP(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Yz(f,d,v,b){if(v.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var D=Ef(b.href),C=d.querySelector(Od(D));if(C){d=C._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(f.count++,f=Um.bind(f),d.then(f,f)),v.state.loading|=4,v.instance=C,Tt(C);return}C=d.ownerDocument||d,b=xP(b),(D=Ba.get(D))&&CS(b,D),C=C.createElement("link"),Tt(C);var j=C;j._p=new Promise(function(oe,_e){j.onload=oe,j.onerror=_e}),Xn(C,"link",b),v.instance=C}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(v,d),(d=v.state.preload)&&(v.state.loading&3)===0&&(f.count++,v=Um.bind(f),d.addEventListener("load",v),d.addEventListener("error",v))}}var RS=0;function zz(f,d){return f.stylesheets&&f.count===0&&$m(f,f.stylesheets),0<f.count||0<f.imgCount?function(v){var b=setTimeout(function(){if(f.stylesheets&&$m(f,f.stylesheets),f.unsuspend){var C=f.unsuspend;f.unsuspend=null,C()}},6e4+d);0<f.imgBytes&&RS===0&&(RS=62500*Dz());var D=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&$m(f,f.stylesheets),f.unsuspend)){var C=f.unsuspend;f.unsuspend=null,C()}},(f.imgBytes>RS?50:800)+d);return f.unsuspend=v,function(){f.unsuspend=null,clearTimeout(b),clearTimeout(D)}}:null}function Um(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var jm=null;function $m(f,d){f.stylesheets=null,f.unsuspend!==null&&(f.count++,jm=new Map,d.forEach(Vz,f),jm=null,Um.call(f))}function Vz(f,d){if(!(d.state.loading&4)){var v=jm.get(f);if(v)var b=v.get(null);else{v=new Map,jm.set(f,v);for(var D=f.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<D.length;C++){var j=D[C];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(v.set(j.dataset.precedence,j),b=j)}b&&v.set(null,b)}D=d.instance,j=D.getAttribute("data-precedence"),C=v.get(j)||b,C===b&&v.set(null,D),v.set(j,D),this.count++,b=Um.bind(this),D.addEventListener("load",b),D.addEventListener("error",b),C?C.parentNode.insertBefore(D,C.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(D,f.firstChild)),d.state.loading|=4}}var Id={$$typeof:w,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function qz(f,d,v,b,D,C,j,oe,_e){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=b,this.onUncaughtError=D,this.onCaughtError=C,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function _P(f,d,v,b,D,C,j,oe,_e,je,et,it){return f=new qz(f,d,v,j,_e,je,et,it,oe),d=1,C===!0&&(d|=24),C=ta(3,null,null,d),f.current=C,C.stateNode=f,d=cb(),d.refCount++,f.pooledCache=d,d.refCount++,C.memoizedState={element:b,isDehydrated:v,cache:d},pb(C),f}function TP(f){return f?(f=Jc,f):Jc}function AP(f,d,v,b,D,C){D=TP(D),b.context===null?b.context=D:b.pendingContext=D,b=Cl(d),b.payload={element:v},C=C===void 0?null:C,C!==null&&(b.callback=C),v=Il(f,b,d),v!==null&&(ji(v,f,d),ld(v,f,d))}function DP(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var v=f.retryLane;f.retryLane=v!==0&&v<d?v:d}}function kS(f,d){DP(f,d),(f=f.alternate)&&DP(f,d)}function OP(f){if(f.tag===13||f.tag===31){var d=Mu(f,67108864);d!==null&&ji(d,f,67108864),kS(f,67108864)}}function CP(f){if(f.tag===13||f.tag===31){var d=sa();d=kr(d);var v=Mu(f,d);v!==null&&ji(v,f,d),kS(f,d)}}var Hm=!0;function Xz(f,d,v,b){var D=K.T;K.T=null;var C=z.p;try{z.p=2,PS(f,d,v,b)}finally{z.p=C,K.T=D}}function Qz(f,d,v,b){var D=K.T;K.T=null;var C=z.p;try{z.p=8,PS(f,d,v,b)}finally{z.p=C,K.T=D}}function PS(f,d,v,b){if(Hm){var D=LS(b);if(D===null)xS(f,d,b,Gm,v),RP(f,b);else if(Jz(D,f,d,v,b))b.stopPropagation();else if(RP(f,b),d&4&&-1<Zz.indexOf(f)){for(;D!==null;){var C=vt(D);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var j=Sn(C.pendingLanes);if(j!==0){var oe=C;for(oe.pendingLanes|=2,oe.entangledLanes|=2;j;){var _e=1<<31-xt(j);oe.entanglements[1]|=_e,j&=~_e}Cs(C),(ir&6)===0&&(Tm=ke()+500,_d(0))}}break;case 31:case 13:oe=Mu(C,2),oe!==null&&ji(oe,C,2),Dm(),kS(C,2)}if(C=LS(b),C===null&&xS(f,d,b,Gm,v),C===D)break;D=C}D!==null&&b.stopPropagation()}else xS(f,d,b,null,v)}}function LS(f){return f=N1(f),MS(f)}var Gm=null;function MS(f){if(Gm=null,f=ft(f),f!==null){var d=a(f);if(d===null)f=null;else{var v=d.tag;if(v===13){if(f=s(d),f!==null)return f;f=null}else if(v===31){if(f=o(d),f!==null)return f;f=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;f=null}else d!==f&&(f=null)}}return Gm=f,null}function IP(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kt()){case P:return 2;case U:return 8;case J:case we:return 32;case De:return 268435456;default:return 32}default:return 32}}var NS=!1,$l=null,Hl=null,Gl=null,Rd=new Map,kd=new Map,Wl=[],Zz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RP(f,d){switch(f){case"focusin":case"focusout":$l=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Rd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(d.pointerId)}}function Pd(f,d,v,b,D,C){return f===null||f.nativeEvent!==C?(f={blockedOn:d,domEventName:v,eventSystemFlags:b,nativeEvent:C,targetContainers:[D]},d!==null&&(d=vt(d),d!==null&&OP(d)),f):(f.eventSystemFlags|=b,d=f.targetContainers,D!==null&&d.indexOf(D)===-1&&d.push(D),f)}function Jz(f,d,v,b,D){switch(d){case"focusin":return $l=Pd($l,f,d,v,b,D),!0;case"dragenter":return Hl=Pd(Hl,f,d,v,b,D),!0;case"mouseover":return Gl=Pd(Gl,f,d,v,b,D),!0;case"pointerover":var C=D.pointerId;return Rd.set(C,Pd(Rd.get(C)||null,f,d,v,b,D)),!0;case"gotpointercapture":return C=D.pointerId,kd.set(C,Pd(kd.get(C)||null,f,d,v,b,D)),!0}return!1}function kP(f){var d=ft(f.target);if(d!==null){var v=a(d);if(v!==null){if(d=v.tag,d===13){if(d=s(v),d!==null){f.blockedOn=d,ve(f.priority,function(){CP(v)});return}}else if(d===31){if(d=o(v),d!==null){f.blockedOn=d,ve(f.priority,function(){CP(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){f.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Wm(f){if(f.blockedOn!==null)return!1;for(var d=f.targetContainers;0<d.length;){var v=LS(f.nativeEvent);if(v===null){v=f.nativeEvent;var b=new v.constructor(v.type,v);M1=b,v.target.dispatchEvent(b),M1=null}else return d=vt(v),d!==null&&OP(d),f.blockedOn=v,!1;d.shift()}return!0}function PP(f,d,v){Wm(f)&&v.delete(d)}function eV(){NS=!1,$l!==null&&Wm($l)&&($l=null),Hl!==null&&Wm(Hl)&&(Hl=null),Gl!==null&&Wm(Gl)&&(Gl=null),Rd.forEach(PP),kd.forEach(PP)}function Km(f,d){f.blockedOn===d&&(f.blockedOn=null,NS||(NS=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eV)))}var Ym=null;function LP(f){Ym!==f&&(Ym=f,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ym===f&&(Ym=null);for(var d=0;d<f.length;d+=3){var v=f[d],b=f[d+1],D=f[d+2];if(typeof b!="function"){if(MS(b||v)===null)continue;break}var C=vt(v);C!==null&&(f.splice(d,3),d-=3,Lb(C,{pending:!0,data:D,method:v.method,action:b},b,D))}}))}function _f(f){function d(_e){return Km(_e,f)}$l!==null&&Km($l,f),Hl!==null&&Km(Hl,f),Gl!==null&&Km(Gl,f),Rd.forEach(d),kd.forEach(d);for(var v=0;v<Wl.length;v++){var b=Wl[v];b.blockedOn===f&&(b.blockedOn=null)}for(;0<Wl.length&&(v=Wl[0],v.blockedOn===null);)kP(v),v.blockedOn===null&&Wl.shift();if(v=(f.ownerDocument||f).$$reactFormReplay,v!=null)for(b=0;b<v.length;b+=3){var D=v[b],C=v[b+1],j=D[ge]||null;if(typeof C=="function")j||LP(v);else if(j){var oe=null;if(C&&C.hasAttribute("formAction")){if(D=C,j=C[ge]||null)oe=j.formAction;else if(MS(D)!==null)continue}else oe=j.action;typeof oe=="function"?v[b+1]=oe:(v.splice(b,3),b-=3),LP(v)}}}function MP(){function f(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(j){return D=j})},focusReset:"manual",scroll:"manual"})}function d(){D!==null&&(D(),D=null),b||setTimeout(v,20)}function v(){if(!b&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,D=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(v,100),function(){b=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),D!==null&&(D(),D=null)}}}function FS(f){this._internalRoot=f}zm.prototype.render=FS.prototype.render=function(f){var d=this._internalRoot;if(d===null)throw Error(n(409));var v=d.current,b=sa();AP(v,b,f,d,null,null)},zm.prototype.unmount=FS.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var d=f.containerInfo;AP(f.current,2,null,f,null,null),Dm(),d[xe]=null}};function zm(f){this._internalRoot=f}zm.prototype.unstable_scheduleHydration=function(f){if(f){var d=ie();f={blockedOn:null,target:f,priority:d};for(var v=0;v<Wl.length&&d!==0&&d<Wl[v].priority;v++);Wl.splice(v,0,f),v===0&&kP(f)}};var NP=e.version;if(NP!=="19.2.0")throw Error(n(527,NP,"19.2.0"));z.findDOMNode=function(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=u(d),f=f!==null?c(f):null,f=f===null?null:f.stateNode,f};var tV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{Te=Vm.inject(tV),Pe=Vm}catch{}}return Md.createRoot=function(f,d){if(!i(f))throw Error(n(299));var v=!1,b="",D=GR,C=WR,j=KR;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(D=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),d=_P(f,1,!1,null,null,v,b,null,D,C,j,MP),f[xe]=d.current,yS(f),new FS(d)},Md.hydrateRoot=function(f,d,v){if(!i(f))throw Error(n(299));var b=!1,D="",C=GR,j=WR,oe=KR,_e=null;return v!=null&&(v.unstable_strictMode===!0&&(b=!0),v.identifierPrefix!==void 0&&(D=v.identifierPrefix),v.onUncaughtError!==void 0&&(C=v.onUncaughtError),v.onCaughtError!==void 0&&(j=v.onCaughtError),v.onRecoverableError!==void 0&&(oe=v.onRecoverableError),v.formState!==void 0&&(_e=v.formState)),d=_P(f,1,!0,d,v??null,b,D,_e,C,j,oe,MP),d.context=TP(null),v=d.current,b=sa(),b=kr(b),D=Cl(b),D.callback=null,Il(v,D,b),v=b,d.current.lanes=v,de(d,v),Cs(d),f[xe]=d.current,yS(f),new zm(d)},Md.version="19.2.0",Md}var YP;function fV(){if(YP)return jS.exports;YP=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jS.exports=cV(),jS.exports}var hV=fV();var zP="popstate";function dV(r={}){function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return p_("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:x0(i)}return mV(e,t,null,r)}function Vr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ss(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pV(){return Math.random().toString(36).substring(2,10)}function VP(r,e){return{usr:r.state,key:r.key,idx:e}}function p_(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Dh(e):e,state:t,key:e&&e.key||n||pV()}}function x0({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Dh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function mV(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function h(){o="POP";let x=c(),E=x==null?null:x-u;u=x,l&&l({action:o,location:y.location,delta:E})}function p(x,E){o="PUSH";let S=p_(y.location,x,E);u=c()+1;let w=VP(S,u),T=y.createHref(S);try{s.pushState(w,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(T)}a&&l&&l({action:o,location:y.location,delta:1})}function m(x,E){o="REPLACE";let S=p_(y.location,x,E);u=c();let w=VP(S,u),T=y.createHref(S);s.replaceState(w,"",T),a&&l&&l({action:o,location:y.location,delta:0})}function g(x){return gV(x)}let y={get action(){return o},get location(){return r(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zP,h),l=x,()=>{i.removeEventListener(zP,h),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let E=g(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(x){return s.go(x)}};return y}function gV(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:x0(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function g6(r,e,t="/"){return vV(r,e,t,!1)}function vV(r,e,t,n){let i=typeof e=="string"?Dh(e):e,a=Xo(i.pathname||"/",t);if(a==null)return null;let s=v6(r);yV(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=CV(a);o=DV(s[l],u,n)}return o}function v6(r,e=[],t=[],n="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;Vr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let h=$o([n,c.relativePath]),p=t.concat(c);s.children&&s.children.length>0&&(Vr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),v6(s.children,e,p,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:TV(h,s.index),routesMeta:p})};return r.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let l of y6(s.path))a(s,o,!0,l)}),e}function y6(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=y6(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function yV(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:AV(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var xV=/^:[\w-]+$/,bV=3,SV=2,EV=1,wV=10,_V=-2,qP=r=>r==="*";function TV(r,e){let t=r.split("/"),n=t.length;return t.some(qP)&&(n+=_V),e&&(n+=SV),t.filter(i=>!qP(i)).reduce((i,a)=>i+(xV.test(a)?bV:a===""?EV:wV),n)}function AV(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function DV(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",h=Bv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!h&&u&&t&&!n[n.length-1].route.index&&(h=Bv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:$o([a,h.pathname]),pathnameBase:LV($o([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=$o([a,h.pathnameBase]))}return s}function Bv(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=OV(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:h},p)=>{if(c==="*"){let g=o[p]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[p];return h&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:r}}function OV(r,e=!1,t=!0){Ss(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function CV(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ss(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Xo(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var IV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RV=r=>IV.test(r);function kV(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Dh(r):r,a;if(t)if(RV(t))a=t;else{if(t.includes("//")){let s=t;t=t.replace(/\/\/+/g,"/"),Ss(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${t}`)}t.startsWith("/")?a=XP(t.substring(1),"/"):a=XP(t,e)}else a=e;return{pathname:a,search:MV(n),hash:NV(i)}}function XP(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function WS(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PV(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x6(r){let e=PV(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function b6(r,e,t,n=!1){let i;typeof r=="string"?i=Dh(r):(i={...r},Vr(!i.pathname||!i.pathname.includes("?"),WS("?","pathname","search",i)),Vr(!i.pathname||!i.pathname.includes("#"),WS("#","pathname","hash",i)),Vr(!i.search||!i.search.includes("#"),WS("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=t;else{let h=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=kV(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var $o=r=>r.join("/").replace(/\/\/+/g,"/"),LV=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MV=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,NV=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FV(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var S6=["POST","PUT","PATCH","DELETE"];new Set(S6);var BV=["GET",...S6];new Set(BV);var Oh=L.createContext(null);Oh.displayName="DataRouter";var vx=L.createContext(null);vx.displayName="DataRouterState";L.createContext(!1);var E6=L.createContext({isTransitioning:!1});E6.displayName="ViewTransition";var UV=L.createContext(new Map);UV.displayName="Fetchers";var jV=L.createContext(null);jV.displayName="Await";var so=L.createContext(null);so.displayName="Navigation";var tp=L.createContext(null);tp.displayName="Location";var ll=L.createContext({outlet:null,matches:[],isDataRoute:!1});ll.displayName="Route";var z2=L.createContext(null);z2.displayName="RouteError";function $V(r,{relative:e}={}){Vr(rp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=L.useContext(so),{hash:i,pathname:a,search:s}=np(r,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:$o([t,a])),n.createHref({pathname:o,search:s,hash:i})}function rp(){return L.useContext(tp)!=null}function Pc(){return Vr(rp(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(tp).location}var w6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _6(r){L.useContext(so).static||L.useLayoutEffect(r)}function HV(){let{isDataRoute:r}=L.useContext(ll);return r?tq():GV()}function GV(){Vr(rp(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Oh),{basename:e,navigator:t}=L.useContext(so),{matches:n}=L.useContext(ll),{pathname:i}=Pc(),a=JSON.stringify(x6(n)),s=L.useRef(!1);return _6(()=>{s.current=!0}),L.useCallback((l,u={})=>{if(Ss(s.current,w6),!s.current)return;if(typeof l=="number"){t.go(l);return}let c=b6(l,JSON.parse(a),i,u.relative==="path");r==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:$o([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state,u)},[e,t,a,i,r])}L.createContext(null);function np(r,{relative:e}={}){let{matches:t}=L.useContext(ll),{pathname:n}=Pc(),i=JSON.stringify(x6(t));return L.useMemo(()=>b6(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function WV(r,e){return T6(r,e)}function T6(r,e,t,n,i){Vr(rp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(so),{matches:s}=L.useContext(ll),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let S=h&&h.path||"";A6(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Pc(),m;if(e){let S=typeof e=="string"?Dh(e):e;Vr(c==="/"||S.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let g=m.pathname||"/",y=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=g6(r,{pathname:y});Ss(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ss(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=qV(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:$o([c,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:$o([c,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,t,n,i);return e&&E?L.createElement(tp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},E):E}function KV(){let r=eq(),e=FV(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",r),s=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,s)}var YV=L.createElement(KV,null),zV=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(ll.Provider,{value:this.props.routeContext},L.createElement(z2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VV({routeContext:r,match:e,children:t}){let n=L.useContext(Oh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ll.Provider,{value:r},t)}function qV(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,s=t?.errors;if(s!=null){let c=a.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);Vr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:p,errors:m}=t,g=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=t&&n?(c,h)=>{n(c,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:h})}:void 0;return a.reduceRight((c,h,p)=>{let m,g=!1,y=null,x=null;t&&(m=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||YV,o&&(l<0&&p===0?(A6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):l===p&&(g=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,p+1)),S=()=>{let w;return m?w=y:g?w=x:h.route.Component?w=L.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,L.createElement(VV,{match:h,routeContext:{outlet:c,matches:E,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?L.createElement(zV,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:u}):S()},null)}function V2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XV(r){let e=L.useContext(Oh);return Vr(e,V2(r)),e}function QV(r){let e=L.useContext(vx);return Vr(e,V2(r)),e}function ZV(r){let e=L.useContext(ll);return Vr(e,V2(r)),e}function q2(r){let e=ZV(r),t=e.matches[e.matches.length-1];return Vr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function JV(){return q2("useRouteId")}function eq(){let r=L.useContext(z2),e=QV("useRouteError"),t=q2("useRouteError");return r!==void 0?r:e.errors?.[t]}function tq(){let{router:r}=XV("useNavigate"),e=q2("useNavigate"),t=L.useRef(!1);return _6(()=>{t.current=!0}),L.useCallback(async(i,a={})=>{Ss(t.current,w6),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var QP={};function A6(r,e,t){!e&&!QP[r]&&(QP[r]=!0,Ss(!1,t))}L.memo(rq);function rq({routes:r,future:e,state:t,unstable_onError:n}){return T6(r,void 0,t,n,e)}function m_(r){Vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nq({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){Vr(!rp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=r.replace(/^\/*/,"/"),o=L.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof t=="string"&&(t=Dh(t));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:p="default"}=t,m=L.useMemo(()=>{let g=Xo(l,s);return g==null?null:{location:{pathname:g,search:u,hash:c,state:h,key:p},navigationType:n}},[s,l,u,c,h,p,n]);return Ss(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:L.createElement(so.Provider,{value:o},L.createElement(tp.Provider,{children:e,value:m}))}function iq({children:r,location:e}){return WV(g_(r),e)}function g_(r,e=[]){let t=[];return L.Children.forEach(r,(n,i)=>{if(!L.isValidElement(n))return;let a=[...e,i];if(n.type===L.Fragment){t.push.apply(t,g_(n.props.children,a));return}Vr(n.type===m_,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=g_(n.props.children,a)),t.push(s)}),t}var zg="get",Vg="application/x-www-form-urlencoded";function yx(r){return r!=null&&typeof r.tagName=="string"}function aq(r){return yx(r)&&r.tagName.toLowerCase()==="button"}function sq(r){return yx(r)&&r.tagName.toLowerCase()==="form"}function oq(r){return yx(r)&&r.tagName.toLowerCase()==="input"}function lq(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uq(r,e){return r.button===0&&(!e||e==="_self")&&!lq(r)}var qm=null;function cq(){if(qm===null)try{new FormData(document.createElement("form"),0),qm=!1}catch{qm=!0}return qm}var fq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function KS(r){return r!=null&&!fq.has(r)?(Ss(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vg}"`),null):r}function hq(r,e){let t,n,i,a,s;if(sq(r)){let o=r.getAttribute("action");n=o?Xo(o,e):null,t=r.getAttribute("method")||zg,i=KS(r.getAttribute("enctype"))||Vg,a=new FormData(r)}else if(aq(r)||oq(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||o.getAttribute("action");if(n=l?Xo(l,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||zg,i=KS(r.getAttribute("formenctype"))||KS(o.getAttribute("enctype"))||Vg,a=new FormData(o,r),!cq()){let{name:u,type:c,value:h}=r;if(c==="image"){let p=u?`${u}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else u&&a.append(u,h)}}else{if(yx(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zg,n=null,i=Vg,s=r}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X2(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dq(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Xo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function pq(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mq(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gq(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await pq(a,t);return s.links?s.links():[]}return[]}));return bq(n.flat(1).filter(mq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZP(r,e,t,n,i,a){let s=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function vq(r,e,{includeHydrateFallback:t}={}){return yq(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function yq(r){return[...new Set(r)]}function xq(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function bq(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(xq(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function D6(){let r=L.useContext(Oh);return X2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sq(){let r=L.useContext(vx);return X2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Q2=L.createContext(void 0);Q2.displayName="FrameworkContext";function O6(){let r=L.useContext(Q2);return X2(r,"You must render this element inside a <HydratedRouter> element"),r}function Eq(r,e){let t=L.useContext(Q2),[n,i]=L.useState(!1),[a,s]=L.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=e,p=L.useRef(null);L.useEffect(()=>{if(r==="render"&&s(!0),r==="viewport"){let y=E=>{E.forEach(S=>{s(S.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[r]),L.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{i(!0)},g=()=>{i(!1),s(!1)};return t?r!=="intent"?[a,p,{}]:[a,p,{onFocus:Nd(o,m),onBlur:Nd(l,g),onMouseEnter:Nd(u,m),onMouseLeave:Nd(c,g),onTouchStart:Nd(h,m)}]:[!1,p,{}]}function Nd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function wq({page:r,...e}){let{router:t}=D6(),n=L.useMemo(()=>g6(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?L.createElement(Tq,{page:r,matches:n,...e}):null}function _q(r){let{manifest:e,routeModules:t}=O6(),[n,i]=L.useState([]);return L.useEffect(()=>{let a=!1;return gq(r,e,t).then(s=>{a||i(s)}),()=>{a=!0}},[r,e,t]),n}function Tq({page:r,matches:e,...t}){let n=Pc(),{manifest:i,routeModules:a}=O6(),{basename:s}=D6(),{loaderData:o,matches:l}=Sq(),u=L.useMemo(()=>ZP(r,e,l,i,n,"data"),[r,e,l,i,n]),c=L.useMemo(()=>ZP(r,e,l,i,n,"assets"),[r,e,l,i,n]),h=L.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(e.forEach(E=>{let S=i.routes[E.route.id];!S||!S.hasLoader||(!u.some(w=>w.route.id===E.route.id)&&E.route.id in o&&a[E.route.id]?.shouldRevalidate||S.hasClientLoader?y=!0:g.add(E.route.id))}),g.size===0)return[];let x=dq(r,s,"data");return y&&g.size>0&&x.searchParams.set("_routes",e.filter(E=>g.has(E.route.id)).map(E=>E.route.id).join(",")),[x.pathname+x.search]},[s,o,n,i,u,e,r,a]),p=L.useMemo(()=>vq(c,i),[c,i]),m=_q(c);return L.createElement(L.Fragment,null,h.map(g=>L.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),p.map(g=>L.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),m.map(({key:g,link:y})=>L.createElement("link",{key:g,nonce:t.nonce,...y})))}function Aq(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C6&&(window.__reactRouterVersion="7.9.6")}catch{}function Dq({basename:r,children:e,window:t}){let n=L.useRef();n.current==null&&(n.current=dV({window:t,v5Compat:!0}));let i=n.current,[a,s]=L.useState({action:i.action,location:i.location}),o=L.useCallback(l=>{L.startTransition(()=>s(l))},[s]);return L.useLayoutEffect(()=>i.listen(o),[i,o]),L.createElement(nq,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var I6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R6=L.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h,...p},m){let{basename:g}=L.useContext(so),y=typeof u=="string"&&I6.test(u),x,E=!1;if(typeof u=="string"&&y&&(x=u,C6))try{let k=new URL(window.location.href),N=u.startsWith("//")?new URL(k.protocol+u):new URL(u),B=Xo(N.pathname,g);N.origin===k.origin&&B!=null?u=B+N.search+N.hash:E=!0}catch{Ss(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=$V(u,{relative:i}),[w,T,_]=Eq(n,p),O=Rq(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function A(k){e&&e(k),k.defaultPrevented||O(k)}let I=L.createElement("a",{...p,..._,href:x||S,onClick:E||a?e:A,ref:Aq(m,T),target:l,"data-discover":!y&&t==="render"?"true":void 0});return w&&!y?L.createElement(L.Fragment,null,I,L.createElement(wq,{page:S})):I});R6.displayName="Link";var Oq=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let h=np(s,{relative:u.relative}),p=Pc(),m=L.useContext(vx),{navigator:g,basename:y}=L.useContext(so),x=m!=null&&Nq(h)&&o===!0,E=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,S=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(S=S.toLowerCase(),w=w?w.toLowerCase():null,E=E.toLowerCase()),w&&y&&(w=Xo(w,y)||w);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let _=S===E||!i&&S.startsWith(E)&&S.charAt(T)==="/",O=w!=null&&(w===E||!i&&w.startsWith(E)&&w.charAt(E.length)==="/"),A={isActive:_,isPending:O,isTransitioning:x},I=_?e:void 0,k;typeof n=="function"?k=n(A):k=[n,_?"active":null,O?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(A):a;return L.createElement(R6,{...u,"aria-current":I,className:k,ref:c,style:N,to:s,viewTransition:o},typeof l=="function"?l(A):l)});Oq.displayName="NavLink";var Cq=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:s=zg,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...p},m)=>{let g=Lq(),y=Mq(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&I6.test(o),S=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let T=w.nativeEvent.submitter,_=T?.getAttribute("formmethod")||s;g(T||w.currentTarget,{fetcherKey:e,method:_,navigate:t,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:h})};return L.createElement("form",{ref:m,method:x,action:y,onSubmit:n?l:S,...p,"data-discover":!E&&r==="render"?"true":void 0})});Cq.displayName="Form";function Iq(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k6(r){let e=L.useContext(Oh);return Vr(e,Iq(r)),e}function Rq(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=HV(),l=Pc(),u=np(r,{relative:a});return L.useCallback(c=>{if(uq(c,e)){c.preventDefault();let h=t!==void 0?t:x0(l)===x0(u);o(r,{replace:h,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,t,n,e,r,i,a,s])}var kq=0,Pq=()=>`__${String(++kq)}__`;function Lq(){let{router:r}=k6("useSubmit"),{basename:e}=L.useContext(so),t=JV();return L.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=hq(n,e);if(i.navigate===!1){let c=i.fetcherKey||Pq();await r.fetch(c,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function Mq(r,{relative:e}={}){let{basename:t}=L.useContext(so),n=L.useContext(ll);Vr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...np(r||".",{relative:e})},s=Pc();if(r==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let c=o.toString();a.search=c?`?${c}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:$o([t,a.pathname])),x0(a)}function Nq(r,{relative:e}={}){let t=L.useContext(E6);Vr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=k6("useViewTransitionState"),i=np(r,{relative:e});if(!t.isTransitioning)return!1;let a=Xo(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=Xo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Bv(i.pathname,s)!=null||Bv(i.pathname,a)!=null}var ip=m6();const Fq=ao(ip);function Bq({connectionState:r}){const[e,t]=L.useState(new Date);L.useEffect(()=>{const i=setInterval(()=>{t(new Date)},5e3);return()=>clearInterval(i)},[]);const n=()=>{switch(r){case"connected":return F.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-farm-100 text-farm-700 text-xs font-medium",children:[F.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-farm-500"}),"Connected"]});case"connecting":return F.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-100 text-amber-700 text-xs font-medium",children:[F.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),"Connecting"]});case"disconnected":return F.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-red-100 text-red-700 text-xs font-medium",children:[F.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),"Disconnected"]});case"error":return F.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-red-100 text-red-700 text-xs font-medium",children:[F.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),"Error"]})}};return F.jsx("header",{className:"bg-farm-500 shadow-lg flex-shrink-0",children:F.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 py-3",children:F.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("div",{className:"text-lg font-bold text-gray-900",children:" | Tansaeng SmartFarm"}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("a",{href:"/",target:"_blank",className:"text-xs px-2 py-1 bg-white text-farm-700 rounded hover:bg-farm-50 transition-colors font-medium",children:""}),F.jsx("a",{href:"/admin/",target:"_blank",className:"text-xs px-2 py-1 bg-white text-farm-700 rounded hover:bg-farm-50 transition-colors font-medium",children:""})]})]}),F.jsx("div",{className:"text-sm font-medium text-gray-800",children:e.toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),F.jsx("div",{className:"flex items-center gap-2",children:n()})]})})})}const Uq=[{id:"devices",label:" ",icon:""},{id:"mist",label:"",icon:""},{id:"environment",label:" ",icon:""},{id:"cameras",label:"",icon:""},{id:"settings",label:"",icon:""}];function jq({activeTab:r,onTabChange:e}){return F.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0",children:F.jsx("div",{className:"max-w-screen-2xl mx-auto px-2 sm:px-4",children:F.jsx("div",{className:"flex justify-start sm:justify-center gap-1 overflow-x-auto scrollbar-hide",children:Uq.map(t=>F.jsxs("button",{onClick:()=>e(t.id),className:`
                flex items-center gap-1.5 px-3 sm:px-4 py-3 text-xs sm:text-sm font-medium
                transition-all duration-200 whitespace-nowrap border-b-2 flex-shrink-0
                ${r===t.id?"border-farm-500 bg-farm-50 text-farm-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-farm-700"}
              `,children:[F.jsx("span",{className:"text-base sm:text-lg",children:t.icon}),F.jsx("span",{className:"hidden xs:inline sm:inline",children:t.label})]},t.id))})})})}const v_=[{id:"fan_front",name:" ",type:"fan",esp32Id:"ctlr-0001",commandTopic:"tansaeng/ctlr-0001/fan1/cmd",stateTopic:"tansaeng/ctlr-0001/fan1/state"},{id:"fan_back",name:" ",type:"fan",esp32Id:"ctlr-0002",commandTopic:"tansaeng/ctlr-0002/fan2/cmd",stateTopic:"tansaeng/ctlr-0002/fan2/state"},{id:"fan_top",name:"",type:"fan",esp32Id:"esp32-node-1",commandTopic:"tansaeng/esp32-node-1/fan_top/cmd",stateTopic:"tansaeng/esp32-node-1/fan_top/state"},{id:"skylight_left",name:" ",type:"skylight",esp32Id:"ctlr-0012",commandTopic:"tansaeng/ctlr-0012/windowL/cmd",stateTopic:"tansaeng/ctlr-0012/windowL/state",extra:{supportsWindowControl:!0}},{id:"skylight_right",name:" ",type:"skylight",esp32Id:"ctlr-0012",commandTopic:"tansaeng/ctlr-0012/windowR/cmd",stateTopic:"tansaeng/ctlr-0012/windowR/state",extra:{supportsWindowControl:!0}},{id:"sidescreen_left",name:" ",type:"sidescreen",esp32Id:"ctlr-0021",commandTopic:"tansaeng/ctlr-0021/sideL/cmd",stateTopic:"tansaeng/ctlr-0021/sideL/state",extra:{supportsWindowControl:!0}},{id:"sidescreen_right",name:" ",type:"sidescreen",esp32Id:"ctlr-0021",commandTopic:"tansaeng/ctlr-0021/sideR/cmd",stateTopic:"tansaeng/ctlr-0021/sideR/state",extra:{supportsWindowControl:!0}},{id:"pump_nutrient_fill",name:" ",type:"pump",esp32Id:"esp32-node-3",commandTopic:"tansaeng/esp32-node-3/pump_nutrient_fill/cmd",stateTopic:"tansaeng/esp32-node-3/pump_nutrient_fill/state"},{id:"pump_water_curtain",name:"",type:"pump",esp32Id:"esp32-node-3",commandTopic:"tansaeng/esp32-node-3/pump_water_curtain/cmd",stateTopic:"tansaeng/esp32-node-3/pump_water_curtain/state"},{id:"pump_heating_fill",name:" ",type:"pump",esp32Id:"esp32-node-3",commandTopic:"tansaeng/esp32-node-3/pump_heating_fill/cmd",stateTopic:"tansaeng/esp32-node-3/pump_heating_fill/state"}];function Fd(r){return v_.filter(e=>e.type===r)}const JP=[{id:"esp32-in-fan-front",name:" ",controllerId:"ctlr-0001",statusTopic:"tansaeng/ctlr-0001/status"},{id:"esp32-in-fan-back",name:" ",controllerId:"ctlr-0002",statusTopic:"tansaeng/ctlr-0002/status"},{id:"esp32-in-top",name:" ",controllerId:"ctlr-0003",statusTopic:"tansaeng/ctlr-0003/status"},{id:"esp32-in-main-val",name:" ",controllerId:"ctlr-0004",statusTopic:"tansaeng/ctlr-0004/status"},{id:"esp32-in-line-val",name:" ",controllerId:"ctlr-0005",statusTopic:"tansaeng/ctlr-0005/status"},{id:"esp32-out-pressur-pump",name:" ",controllerId:"ctlr-0006",statusTopic:"tansaeng/ctlr-0006/status"},{id:"esp32-out-insert-pump",name:" ",controllerId:"ctlr-0007",statusTopic:"tansaeng/ctlr-0007/status"},{id:"esp32-out-hit-pump-val",name:" ",controllerId:"ctlr-0008",statusTopic:"tansaeng/ctlr-0008/status"},{id:"esp32-out-chiller-pump",name:" ",controllerId:"ctlr-0009",statusTopic:"tansaeng/ctlr-0009/status"},{id:"esp32-in-chil-hit-pump",name:"/  ",controllerId:"ctlr-0010",statusTopic:"tansaeng/ctlr-0010/status"},{id:"esp32-out-skylight-screen",name:" ",controllerId:"ctlr-0012",statusTopic:"tansaeng/ctlr-0012/status"},{id:"esp32-out-side-screen",name:" ",controllerId:"ctlr-0021",statusTopic:"tansaeng/ctlr-0021/status"},{id:"esp32-out-top-chillerline-pump-valve",name:"   ",controllerId:"ctlr-0013",statusTopic:"tansaeng/ctlr-0013/status"}];function eL({device:r,power:e,percentage:t,lastSavedAt:n,onToggle:i,onPercentageChange:a}){const s=e==="on",o=()=>r.type==="fan"?"":r.type==="vent"?"":r.type==="pump"?"":"";return F.jsxs("div",{className:"bg-white rounded-lg shadow-card hover:shadow-card-hover transition-all duration-200 p-2 sm:p-3 border border-gray-200",children:[F.jsxs("div",{className:"flex items-center justify-between",children:[F.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[F.jsx("div",{className:"text-lg sm:text-2xl",children:o()}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-800 m-0",children:r.name}),F.jsx("p",{className:"text-2xs text-gray-500 m-0 hidden sm:block",children:r.type==="fan"?"":r.type==="vent"?"":""})]})]}),!r.extra?.supportsPercentage&&F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[F.jsx("span",{className:`text-[10px] sm:text-xs font-semibold ${s?"text-farm-500":"text-gray-500"}`,children:s?"ON":"OFF"}),F.jsx("button",{onClick:()=>i?.(!s),className:`
                relative inline-flex h-6 sm:h-8 w-11 sm:w-16 cursor-pointer rounded-full
                border-2 border-transparent transition-all duration-300
                ${s?"bg-farm-500":"bg-gray-300"}
              `,role:"switch","aria-checked":s,children:F.jsx("span",{className:`
                flex items-center justify-center h-5 sm:h-7 w-5 sm:w-7 rounded-full
                bg-white shadow-md transition-transform duration-300
                ${s?"translate-x-5 sm:translate-x-8":"translate-x-0"}
              `,children:s?F.jsx("svg",{className:"w-3 sm:w-4 h-3 sm:h-4 text-farm-500",fill:"currentColor",viewBox:"0 0 20 20",children:F.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):F.jsx("svg",{className:"w-3 sm:w-4 h-3 sm:h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:F.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})]}),r.extra?.supportsPercentage&&F.jsxs("div",{className:"mt-2 sm:mb-3",children:[F.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[F.jsx("span",{className:"text-[10px] sm:text-xs font-medium text-gray-600",children:" "}),F.jsxs("span",{className:"text-base sm:text-2xl font-bold text-farm-500",children:[t??0,"%"]})]}),F.jsx("input",{type:"range",min:"0",max:"100",value:t??0,onChange:l=>a?.(Number(l.target.value)),className:"slider-thumb w-full h-1.5 sm:h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${t??0}%, #e5e7eb ${t??0}%, #e5e7eb 100%)`}}),F.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs text-gray-500 mt-0.5 sm:mt-1",children:[F.jsx("span",{children:""}),F.jsx("span",{children:""})]})]}),F.jsxs("div",{className:"hidden sm:flex items-center justify-between pt-2 border-t border-gray-100 mt-2",children:[F.jsxs("div",{className:"flex items-center gap-1.5",children:[F.jsx("div",{className:`
            w-1.5 h-1.5 rounded-full
            ${s?"bg-farm-500 animate-pulse":"bg-gray-400"}
          `}),F.jsx("span",{className:`
            text-2xs font-semibold
            ${s?"text-farm-700":"text-gray-600"}
          `,children:s?" ":""})]}),F.jsx("div",{className:"text-2xs text-gray-400",children:n?new Date(n).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""})]})]})}var Z2=Object.defineProperty,$q=Object.getOwnPropertyDescriptor,Hq=Object.getOwnPropertyNames,Gq=Object.prototype.hasOwnProperty,Qi=(r,e)=>()=>(r&&(e=r(r=0)),e),tt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ch=(r,e)=>{for(var t in e)Z2(r,t,{get:e[t],enumerable:!0})},Wq=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hq(e))!Gq.call(r,i)&&i!==t&&Z2(r,i,{get:()=>e[i],enumerable:!(n=$q(e,i))||n.enumerable});return r},wr=r=>Wq(Z2({},"__esModule",{value:!0}),r),qe=Qi(()=>{}),Rr={};Ch(Rr,{_debugEnd:()=>Q_,_debugProcess:()=>X_,_events:()=>hT,_eventsCount:()=>dT,_exiting:()=>N_,_fatalExceptions:()=>z_,_getActiveHandles:()=>U6,_getActiveRequests:()=>B6,_kill:()=>U_,_linkedBinding:()=>N6,_maxListeners:()=>fT,_preload_modules:()=>uT,_rawDebug:()=>P_,_startProfilerIdleNotifier:()=>Z_,_stopProfilerIdleNotifier:()=>J_,_tickCallback:()=>q_,abort:()=>nT,addListener:()=>pT,allowedNodeEnvironmentFlags:()=>K_,arch:()=>x_,argv:()=>E_,argv0:()=>lT,assert:()=>j6,binding:()=>D_,browser:()=>k_,chdir:()=>I_,config:()=>F_,cpuUsage:()=>Qd,cwd:()=>C_,debugPort:()=>oT,default:()=>eD,dlopen:()=>F6,domain:()=>M_,emit:()=>xT,emitWarning:()=>A_,env:()=>S_,execArgv:()=>w_,execPath:()=>sT,exit:()=>G_,features:()=>Y_,hasUncaughtExceptionCaptureCallback:()=>$6,hrtime:()=>qg,kill:()=>H_,listeners:()=>G6,memoryUsage:()=>$_,moduleLoadList:()=>L_,nextTick:()=>L6,off:()=>gT,on:()=>Co,once:()=>mT,openStdin:()=>W_,pid:()=>iT,platform:()=>b_,ppid:()=>aT,prependListener:()=>bT,prependOnceListener:()=>ST,reallyExit:()=>B_,release:()=>R_,removeAllListeners:()=>yT,removeListener:()=>vT,resourceUsage:()=>j_,setSourceMapsEnabled:()=>cT,setUncaughtExceptionCaptureCallback:()=>V_,stderr:()=>tT,stdin:()=>rT,stdout:()=>eT,title:()=>y_,umask:()=>O_,uptime:()=>H6,version:()=>__,versions:()=>T_});function J2(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function Kq(){!hc||!ac||(hc=!1,ac.length?$s=ac.concat($s):o0=-1,$s.length&&P6())}function P6(){if(!hc){var r=setTimeout(Kq,0);hc=!0;for(var e=$s.length;e;){for(ac=$s,$s=[];++o0<e;)ac&&ac[o0].run();o0=-1,e=$s.length}ac=null,hc=!1,clearTimeout(r)}}function L6(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];$s.push(new M6(r,e)),$s.length===1&&!hc&&setTimeout(P6,0)}function M6(r,e){this.fun=r,this.array=e}function fi(){}function N6(r){J2("_linkedBinding")}function F6(r){J2("dlopen")}function B6(){return[]}function U6(){return[]}function j6(r,e){if(!r)throw new Error(e||"assertion error")}function $6(){return!1}function H6(){return Po.now()/1e3}function qg(r){var e=Math.floor((Date.now()-Po.now())*.001),t=Po.now()*.001,n=Math.floor(t)+e,i=Math.floor(t%1*1e9);return r&&(n=n-r[0],i=i-r[1],i<0&&(n--,i+=Xg)),[n,i]}function Co(){return eD}function G6(r){return[]}var $s,hc,ac,o0,y_,x_,b_,S_,E_,w_,__,T_,A_,D_,O_,C_,I_,R_,k_,P_,L_,M_,N_,F_,B_,U_,Qd,j_,$_,H_,G_,W_,K_,Y_,z_,V_,q_,X_,Q_,Z_,J_,eT,tT,rT,nT,iT,aT,sT,oT,lT,uT,cT,Po,YS,Xg,fT,hT,dT,pT,mT,gT,vT,yT,xT,bT,ST,eD,Yq=Qi(()=>{qe(),Qe(),Xe(),$s=[],hc=!1,o0=-1,M6.prototype.run=function(){this.fun.apply(null,this.array)},y_="browser",x_="x64",b_="browser",S_={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},E_=["/usr/bin/node"],w_=[],__="v16.8.0",T_={},A_=function(r,e){console.warn((e?e+": ":"")+r)},D_=function(r){J2("binding")},O_=function(r){return 0},C_=function(){return"/"},I_=function(r){},R_={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},k_=!0,P_=fi,L_=[],M_={},N_=!1,F_={},B_=fi,U_=fi,Qd=function(){return{}},j_=Qd,$_=Qd,H_=fi,G_=fi,W_=fi,K_={},Y_={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},z_=fi,V_=fi,q_=fi,X_=fi,Q_=fi,Z_=fi,J_=fi,eT=void 0,tT=void 0,rT=void 0,nT=fi,iT=2,aT=1,sT="/bin/usr/node",oT=9229,lT="node",uT=[],cT=fi,Po={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Po.now===void 0&&(YS=Date.now(),Po.timing&&Po.timing.navigationStart&&(YS=Po.timing.navigationStart),Po.now=()=>Date.now()-YS),Xg=1e9,qg.bigint=function(r){var e=qg(r);return typeof BigInt>"u"?e[0]*Xg+e[1]:BigInt(e[0]*Xg)+BigInt(e[1])},fT=10,hT={},dT=0,pT=Co,mT=Co,gT=Co,vT=Co,yT=Co,xT=fi,bT=Co,ST=Co,eD={version:__,versions:T_,arch:x_,platform:b_,browser:k_,release:R_,_rawDebug:P_,moduleLoadList:L_,binding:D_,_linkedBinding:N6,_events:hT,_eventsCount:dT,_maxListeners:fT,on:Co,addListener:pT,once:mT,off:gT,removeListener:vT,removeAllListeners:yT,emit:xT,prependListener:bT,prependOnceListener:ST,listeners:G6,domain:M_,_exiting:N_,config:F_,dlopen:F6,uptime:H6,_getActiveRequests:B6,_getActiveHandles:U6,reallyExit:B_,_kill:U_,cpuUsage:Qd,resourceUsage:j_,memoryUsage:$_,kill:H_,exit:G_,openStdin:W_,allowedNodeEnvironmentFlags:K_,assert:j6,features:Y_,_fatalExceptions:z_,setUncaughtExceptionCaptureCallback:V_,hasUncaughtExceptionCaptureCallback:$6,emitWarning:A_,nextTick:L6,_tickCallback:q_,_debugProcess:X_,_debugEnd:Q_,_startProfilerIdleNotifier:Z_,_stopProfilerIdleNotifier:J_,stdout:eT,stdin:rT,stderr:tT,abort:nT,umask:O_,chdir:I_,cwd:C_,env:S_,title:y_,argv:E_,execArgv:w_,pid:iT,ppid:aT,execPath:sT,debugPort:oT,hrtime:qg,argv0:lT,_preload_modules:uT,setSourceMapsEnabled:cT}}),Xe=Qi(()=>{Yq()});function zq(){if(ET)return Bf;ET=!0,Bf.byteLength=o,Bf.toByteArray=u,Bf.fromByteArray=p;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=g);var x=y===g?0:4-y%4;return[y,x]}function o(m){var g=s(m),y=g[0],x=g[1];return(y+x)*3/4-x}function l(m,g,y){return(g+y)*3/4-y}function u(m){var g,y=s(m),x=y[0],E=y[1],S=new t(l(m,x,E)),w=0,T=E>0?x-4:x,_;for(_=0;_<T;_+=4)g=e[m.charCodeAt(_)]<<18|e[m.charCodeAt(_+1)]<<12|e[m.charCodeAt(_+2)]<<6|e[m.charCodeAt(_+3)],S[w++]=g>>16&255,S[w++]=g>>8&255,S[w++]=g&255;return E===2&&(g=e[m.charCodeAt(_)]<<2|e[m.charCodeAt(_+1)]>>4,S[w++]=g&255),E===1&&(g=e[m.charCodeAt(_)]<<10|e[m.charCodeAt(_+1)]<<4|e[m.charCodeAt(_+2)]>>2,S[w++]=g>>8&255,S[w++]=g&255),S}function c(m){return r[m>>18&63]+r[m>>12&63]+r[m>>6&63]+r[m&63]}function h(m,g,y){for(var x,E=[],S=g;S<y;S+=3)x=(m[S]<<16&16711680)+(m[S+1]<<8&65280)+(m[S+2]&255),E.push(c(x));return E.join("")}function p(m){for(var g,y=m.length,x=y%3,E=[],S=16383,w=0,T=y-x;w<T;w+=S)E.push(h(m,w,w+S>T?T:w+S));return x===1?(g=m[y-1],E.push(r[g>>2]+r[g<<4&63]+"==")):x===2&&(g=(m[y-2]<<8)+m[y-1],E.push(r[g>>10]+r[g>>4&63]+r[g<<2&63]+"=")),E.join("")}return Bf}function Vq(){return wT?Zd:(wT=!0,Zd.read=function(r,e,t,n,i){var a,s,o=i*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=t?i-1:0,p=t?-1:1,m=r[e+h];for(h+=p,a=m&(1<<-c)-1,m>>=-c,c+=o;c>0;a=a*256+r[e+h],h+=p,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=s*256+r[e+h],h+=p,c-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-u}return(m?-1:1)*s*Math.pow(2,a-n)},Zd.write=function(r,e,t,n,i,a){var s,o,l,u=a*8-i-1,c=(1<<u)-1,h=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:a-1,g=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(e*l-1)*Math.pow(2,i),s=s+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+m]=o&255,m+=g,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;r[t+m]=s&255,m+=g,s/=256,u-=8);r[t+m-g]|=y*128},Zd)}function qq(){if(_T)return Zl;_T=!0;let r=zq(),e=Vq(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Zl.Buffer=s,Zl.SlowBuffer=E,Zl.INSPECT_MAX_BYTES=50;let n=2147483647;Zl.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let P=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(P,U),P.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(P){if(P>n)throw new RangeError('The value "'+P+'" is invalid for option "size"');let U=new Uint8Array(P);return Object.setPrototypeOf(U,s.prototype),U}function s(P,U,J){if(typeof P=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(P)}return o(P,U,J)}s.poolSize=8192;function o(P,U,J){if(typeof P=="string")return h(P,U);if(ArrayBuffer.isView(P))return m(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Ee(P,ArrayBuffer)||P&&Ee(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(P,SharedArrayBuffer)||P&&Ee(P.buffer,SharedArrayBuffer)))return g(P,U,J);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let we=P.valueOf&&P.valueOf();if(we!=null&&we!==P)return s.from(we,U,J);let De=y(P);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return s.from(P[Symbol.toPrimitive]("string"),U,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}s.from=function(P,U,J){return o(P,U,J)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function u(P,U,J){return l(P),P<=0?a(P):U!==void 0?typeof J=="string"?a(P).fill(U,J):a(P).fill(U):a(P)}s.alloc=function(P,U,J){return u(P,U,J)};function c(P){return l(P),a(P<0?0:x(P)|0)}s.allocUnsafe=function(P){return c(P)},s.allocUnsafeSlow=function(P){return c(P)};function h(P,U){if((typeof U!="string"||U==="")&&(U="utf8"),!s.isEncoding(U))throw new TypeError("Unknown encoding: "+U);let J=S(P,U)|0,we=a(J),De=we.write(P,U);return De!==J&&(we=we.slice(0,De)),we}function p(P){let U=P.length<0?0:x(P.length)|0,J=a(U);for(let we=0;we<U;we+=1)J[we]=P[we]&255;return J}function m(P){if(Ee(P,Uint8Array)){let U=new Uint8Array(P);return g(U.buffer,U.byteOffset,U.byteLength)}return p(P)}function g(P,U,J){if(U<0||P.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<U+(J||0))throw new RangeError('"length" is outside of buffer bounds');let we;return U===void 0&&J===void 0?we=new Uint8Array(P):J===void 0?we=new Uint8Array(P,U):we=new Uint8Array(P,U,J),Object.setPrototypeOf(we,s.prototype),we}function y(P){if(s.isBuffer(P)){let U=x(P.length)|0,J=a(U);return J.length===0||P.copy(J,0,0,U),J}if(P.length!==void 0)return typeof P.length!="number"||Ye(P.length)?a(0):p(P);if(P.type==="Buffer"&&Array.isArray(P.data))return p(P.data)}function x(P){if(P>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return P|0}function E(P){return+P!=P&&(P=0),s.alloc(+P)}s.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==s.prototype},s.compare=function(P,U){if(Ee(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),Ee(U,Uint8Array)&&(U=s.from(U,U.offset,U.byteLength)),!s.isBuffer(P)||!s.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===U)return 0;let J=P.length,we=U.length;for(let De=0,We=Math.min(J,we);De<We;++De)if(P[De]!==U[De]){J=P[De],we=U[De];break}return J<we?-1:we<J?1:0},s.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(P,U){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return s.alloc(0);let J;if(U===void 0)for(U=0,J=0;J<P.length;++J)U+=P[J].length;let we=s.allocUnsafe(U),De=0;for(J=0;J<P.length;++J){let We=P[J];if(Ee(We,Uint8Array))De+We.length>we.length?(s.isBuffer(We)||(We=s.from(We)),We.copy(we,De)):Uint8Array.prototype.set.call(we,We,De);else if(s.isBuffer(We))We.copy(we,De);else throw new TypeError('"list" argument must be an Array of Buffers');De+=We.length}return we};function S(P,U){if(s.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||Ee(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);let J=P.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&J===0)return 0;let De=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return he(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return $e(P).length;default:if(De)return we?-1:he(P).length;U=(""+U).toLowerCase(),De=!0}}s.byteLength=S;function w(P,U,J){let we=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,U>>>=0,J<=U))return"";for(P||(P="utf8");;)switch(P){case"hex":return Q(this,U,J);case"utf8":case"utf-8":return H(this,U,J);case"ascii":return K(this,U,J);case"latin1":case"binary":return z(this,U,J);case"base64":return R(this,U,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,U,J);default:if(we)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),we=!0}}s.prototype._isBuffer=!0;function T(P,U,J){let we=P[U];P[U]=P[J],P[J]=we}s.prototype.swap16=function(){let P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<P;U+=2)T(this,U,U+1);return this},s.prototype.swap32=function(){let P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<P;U+=4)T(this,U,U+3),T(this,U+1,U+2);return this},s.prototype.swap64=function(){let P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<P;U+=8)T(this,U,U+7),T(this,U+1,U+6),T(this,U+2,U+5),T(this,U+3,U+4);return this},s.prototype.toString=function(){let P=this.length;return P===0?"":arguments.length===0?H(this,0,P):w.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(P){if(!s.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:s.compare(this,P)===0},s.prototype.inspect=function(){let P="",U=Zl.INSPECT_MAX_BYTES;return P=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(P+=" ... "),"<Buffer "+P+">"},t&&(s.prototype[t]=s.prototype.inspect),s.prototype.compare=function(P,U,J,we,De){if(Ee(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),!s.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(U===void 0&&(U=0),J===void 0&&(J=P?P.length:0),we===void 0&&(we=0),De===void 0&&(De=this.length),U<0||J>P.length||we<0||De>this.length)throw new RangeError("out of range index");if(we>=De&&U>=J)return 0;if(we>=De)return-1;if(U>=J)return 1;if(U>>>=0,J>>>=0,we>>>=0,De>>>=0,this===P)return 0;let We=De-we,lt=J-U,Te=Math.min(We,lt),Pe=this.slice(we,De),St=P.slice(U,J);for(let xt=0;xt<Te;++xt)if(Pe[xt]!==St[xt]){We=Pe[xt],lt=St[xt];break}return We<lt?-1:lt<We?1:0};function _(P,U,J,we,De){if(P.length===0)return-1;if(typeof J=="string"?(we=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,Ye(J)&&(J=De?0:P.length-1),J<0&&(J=P.length+J),J>=P.length){if(De)return-1;J=P.length-1}else if(J<0)if(De)J=0;else return-1;if(typeof U=="string"&&(U=s.from(U,we)),s.isBuffer(U))return U.length===0?-1:O(P,U,J,we,De);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(P,U,J):Uint8Array.prototype.lastIndexOf.call(P,U,J):O(P,[U],J,we,De);throw new TypeError("val must be string, number or Buffer")}function O(P,U,J,we,De){let We=1,lt=P.length,Te=U.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(P.length<2||U.length<2)return-1;We=2,lt/=2,Te/=2,J/=2}function Pe(xt,Lt){return We===1?xt[Lt]:xt.readUInt16BE(Lt*We)}let St;if(De){let xt=-1;for(St=J;St<lt;St++)if(Pe(P,St)===Pe(U,xt===-1?0:St-xt)){if(xt===-1&&(xt=St),St-xt+1===Te)return xt*We}else xt!==-1&&(St-=St-xt),xt=-1}else for(J+Te>lt&&(J=lt-Te),St=J;St>=0;St--){let xt=!0;for(let Lt=0;Lt<Te;Lt++)if(Pe(P,St+Lt)!==Pe(U,Lt)){xt=!1;break}if(xt)return St}return-1}s.prototype.includes=function(P,U,J){return this.indexOf(P,U,J)!==-1},s.prototype.indexOf=function(P,U,J){return _(this,P,U,J,!0)},s.prototype.lastIndexOf=function(P,U,J){return _(this,P,U,J,!1)};function A(P,U,J,we){J=Number(J)||0;let De=P.length-J;we?(we=Number(we),we>De&&(we=De)):we=De;let We=U.length;we>We/2&&(we=We/2);let lt;for(lt=0;lt<we;++lt){let Te=parseInt(U.substr(lt*2,2),16);if(Ye(Te))return lt;P[J+lt]=Te}return lt}function I(P,U,J,we){return Ge(he(U,P.length-J),P,J,we)}function k(P,U,J,we){return Ge(ye(U),P,J,we)}function N(P,U,J,we){return Ge($e(U),P,J,we)}function B(P,U,J,we){return Ge(Ie(U,P.length-J),P,J,we)}s.prototype.write=function(P,U,J,we){if(U===void 0)we="utf8",J=this.length,U=0;else if(J===void 0&&typeof U=="string")we=U,J=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(J)?(J=J>>>0,we===void 0&&(we="utf8")):(we=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let De=this.length-U;if((J===void 0||J>De)&&(J=De),P.length>0&&(J<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let We=!1;for(;;)switch(we){case"hex":return A(this,P,U,J);case"utf8":case"utf-8":return I(this,P,U,J);case"ascii":case"latin1":case"binary":return k(this,P,U,J);case"base64":return N(this,P,U,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,P,U,J);default:if(We)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),We=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(P,U,J){return U===0&&J===P.length?r.fromByteArray(P):r.fromByteArray(P.slice(U,J))}function H(P,U,J){J=Math.min(P.length,J);let we=[],De=U;for(;De<J;){let We=P[De],lt=null,Te=We>239?4:We>223?3:We>191?2:1;if(De+Te<=J){let Pe,St,xt,Lt;switch(Te){case 1:We<128&&(lt=We);break;case 2:Pe=P[De+1],(Pe&192)===128&&(Lt=(We&31)<<6|Pe&63,Lt>127&&(lt=Lt));break;case 3:Pe=P[De+1],St=P[De+2],(Pe&192)===128&&(St&192)===128&&(Lt=(We&15)<<12|(Pe&63)<<6|St&63,Lt>2047&&(Lt<55296||Lt>57343)&&(lt=Lt));break;case 4:Pe=P[De+1],St=P[De+2],xt=P[De+3],(Pe&192)===128&&(St&192)===128&&(xt&192)===128&&(Lt=(We&15)<<18|(Pe&63)<<12|(St&63)<<6|xt&63,Lt>65535&&Lt<1114112&&(lt=Lt))}}lt===null?(lt=65533,Te=1):lt>65535&&(lt-=65536,we.push(lt>>>10&1023|55296),lt=56320|lt&1023),we.push(lt),De+=Te}return Y(we)}let X=4096;function Y(P){let U=P.length;if(U<=X)return String.fromCharCode.apply(String,P);let J="",we=0;for(;we<U;)J+=String.fromCharCode.apply(String,P.slice(we,we+=X));return J}function K(P,U,J){let we="";J=Math.min(P.length,J);for(let De=U;De<J;++De)we+=String.fromCharCode(P[De]&127);return we}function z(P,U,J){let we="";J=Math.min(P.length,J);for(let De=U;De<J;++De)we+=String.fromCharCode(P[De]);return we}function Q(P,U,J){let we=P.length;(!U||U<0)&&(U=0),(!J||J<0||J>we)&&(J=we);let De="";for(let We=U;We<J;++We)De+=st[P[We]];return De}function se(P,U,J){let we=P.slice(U,J),De="";for(let We=0;We<we.length-1;We+=2)De+=String.fromCharCode(we[We]+we[We+1]*256);return De}s.prototype.slice=function(P,U){let J=this.length;P=~~P,U=U===void 0?J:~~U,P<0?(P+=J,P<0&&(P=0)):P>J&&(P=J),U<0?(U+=J,U<0&&(U=0)):U>J&&(U=J),U<P&&(U=P);let we=this.subarray(P,U);return Object.setPrototypeOf(we,s.prototype),we};function ae(P,U,J){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+U>J)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(P,U,J){P=P>>>0,U=U>>>0,J||ae(P,U,this.length);let we=this[P],De=1,We=0;for(;++We<U&&(De*=256);)we+=this[P+We]*De;return we},s.prototype.readUintBE=s.prototype.readUIntBE=function(P,U,J){P=P>>>0,U=U>>>0,J||ae(P,U,this.length);let we=this[P+--U],De=1;for(;U>0&&(De*=256);)we+=this[P+--U]*De;return we},s.prototype.readUint8=s.prototype.readUInt8=function(P,U){return P=P>>>0,U||ae(P,1,this.length),this[P]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(P,U){return P=P>>>0,U||ae(P,2,this.length),this[P]|this[P+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(P,U){return P=P>>>0,U||ae(P,2,this.length),this[P]<<8|this[P+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(P,U){return P=P>>>0,U||ae(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(P,U){return P=P>>>0,U||ae(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},s.prototype.readBigUInt64LE=ke(function(P){P=P>>>0,ne(P,"offset");let U=this[P],J=this[P+7];(U===void 0||J===void 0)&&Oe(P,this.length-8);let we=U+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,De=this[++P]+this[++P]*2**8+this[++P]*2**16+J*2**24;return BigInt(we)+(BigInt(De)<<BigInt(32))}),s.prototype.readBigUInt64BE=ke(function(P){P=P>>>0,ne(P,"offset");let U=this[P],J=this[P+7];(U===void 0||J===void 0)&&Oe(P,this.length-8);let we=U*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],De=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+J;return(BigInt(we)<<BigInt(32))+BigInt(De)}),s.prototype.readIntLE=function(P,U,J){P=P>>>0,U=U>>>0,J||ae(P,U,this.length);let we=this[P],De=1,We=0;for(;++We<U&&(De*=256);)we+=this[P+We]*De;return De*=128,we>=De&&(we-=Math.pow(2,8*U)),we},s.prototype.readIntBE=function(P,U,J){P=P>>>0,U=U>>>0,J||ae(P,U,this.length);let we=U,De=1,We=this[P+--we];for(;we>0&&(De*=256);)We+=this[P+--we]*De;return De*=128,We>=De&&(We-=Math.pow(2,8*U)),We},s.prototype.readInt8=function(P,U){return P=P>>>0,U||ae(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},s.prototype.readInt16LE=function(P,U){P=P>>>0,U||ae(P,2,this.length);let J=this[P]|this[P+1]<<8;return J&32768?J|4294901760:J},s.prototype.readInt16BE=function(P,U){P=P>>>0,U||ae(P,2,this.length);let J=this[P+1]|this[P]<<8;return J&32768?J|4294901760:J},s.prototype.readInt32LE=function(P,U){return P=P>>>0,U||ae(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},s.prototype.readInt32BE=function(P,U){return P=P>>>0,U||ae(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},s.prototype.readBigInt64LE=ke(function(P){P=P>>>0,ne(P,"offset");let U=this[P],J=this[P+7];(U===void 0||J===void 0)&&Oe(P,this.length-8);let we=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(J<<24);return(BigInt(we)<<BigInt(32))+BigInt(U+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),s.prototype.readBigInt64BE=ke(function(P){P=P>>>0,ne(P,"offset");let U=this[P],J=this[P+7];(U===void 0||J===void 0)&&Oe(P,this.length-8);let we=(U<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(we)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+J)}),s.prototype.readFloatLE=function(P,U){return P=P>>>0,U||ae(P,4,this.length),e.read(this,P,!0,23,4)},s.prototype.readFloatBE=function(P,U){return P=P>>>0,U||ae(P,4,this.length),e.read(this,P,!1,23,4)},s.prototype.readDoubleLE=function(P,U){return P=P>>>0,U||ae(P,8,this.length),e.read(this,P,!0,52,8)},s.prototype.readDoubleBE=function(P,U){return P=P>>>0,U||ae(P,8,this.length),e.read(this,P,!1,52,8)};function W(P,U,J,we,De,We){if(!s.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>De||U<We)throw new RangeError('"value" argument is out of bounds');if(J+we>P.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(P,U,J,we){if(P=+P,U=U>>>0,J=J>>>0,!we){let lt=Math.pow(2,8*J)-1;W(this,P,U,J,lt,0)}let De=1,We=0;for(this[U]=P&255;++We<J&&(De*=256);)this[U+We]=P/De&255;return U+J},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(P,U,J,we){if(P=+P,U=U>>>0,J=J>>>0,!we){let lt=Math.pow(2,8*J)-1;W(this,P,U,J,lt,0)}let De=J-1,We=1;for(this[U+De]=P&255;--De>=0&&(We*=256);)this[U+De]=P/We&255;return U+J},s.prototype.writeUint8=s.prototype.writeUInt8=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,1,255,0),this[U]=P&255,U+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,2,65535,0),this[U]=P&255,this[U+1]=P>>>8,U+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,2,65535,0),this[U]=P>>>8,this[U+1]=P&255,U+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,4,4294967295,0),this[U+3]=P>>>24,this[U+2]=P>>>16,this[U+1]=P>>>8,this[U]=P&255,U+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,4,4294967295,0),this[U]=P>>>24,this[U+1]=P>>>16,this[U+2]=P>>>8,this[U+3]=P&255,U+4};function M(P,U,J,we,De){pe(U,we,De,P,J,7);let We=Number(U&BigInt(4294967295));P[J++]=We,We=We>>8,P[J++]=We,We=We>>8,P[J++]=We,We=We>>8,P[J++]=We;let lt=Number(U>>BigInt(32)&BigInt(4294967295));return P[J++]=lt,lt=lt>>8,P[J++]=lt,lt=lt>>8,P[J++]=lt,lt=lt>>8,P[J++]=lt,J}function V(P,U,J,we,De){pe(U,we,De,P,J,7);let We=Number(U&BigInt(4294967295));P[J+7]=We,We=We>>8,P[J+6]=We,We=We>>8,P[J+5]=We,We=We>>8,P[J+4]=We;let lt=Number(U>>BigInt(32)&BigInt(4294967295));return P[J+3]=lt,lt=lt>>8,P[J+2]=lt,lt=lt>>8,P[J+1]=lt,lt=lt>>8,P[J]=lt,J+8}s.prototype.writeBigUInt64LE=ke(function(P,U=0){return M(this,P,U,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ke(function(P,U=0){return V(this,P,U,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(P,U,J,we){if(P=+P,U=U>>>0,!we){let Te=Math.pow(2,8*J-1);W(this,P,U,J,Te-1,-Te)}let De=0,We=1,lt=0;for(this[U]=P&255;++De<J&&(We*=256);)P<0&&lt===0&&this[U+De-1]!==0&&(lt=1),this[U+De]=(P/We>>0)-lt&255;return U+J},s.prototype.writeIntBE=function(P,U,J,we){if(P=+P,U=U>>>0,!we){let Te=Math.pow(2,8*J-1);W(this,P,U,J,Te-1,-Te)}let De=J-1,We=1,lt=0;for(this[U+De]=P&255;--De>=0&&(We*=256);)P<0&&lt===0&&this[U+De+1]!==0&&(lt=1),this[U+De]=(P/We>>0)-lt&255;return U+J},s.prototype.writeInt8=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,1,127,-128),P<0&&(P=255+P+1),this[U]=P&255,U+1},s.prototype.writeInt16LE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,2,32767,-32768),this[U]=P&255,this[U+1]=P>>>8,U+2},s.prototype.writeInt16BE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,2,32767,-32768),this[U]=P>>>8,this[U+1]=P&255,U+2},s.prototype.writeInt32LE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,4,2147483647,-2147483648),this[U]=P&255,this[U+1]=P>>>8,this[U+2]=P>>>16,this[U+3]=P>>>24,U+4},s.prototype.writeInt32BE=function(P,U,J){return P=+P,U=U>>>0,J||W(this,P,U,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[U]=P>>>24,this[U+1]=P>>>16,this[U+2]=P>>>8,this[U+3]=P&255,U+4},s.prototype.writeBigInt64LE=ke(function(P,U=0){return M(this,P,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ke(function(P,U=0){return V(this,P,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(P,U,J,we,De,We){if(J+we>P.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function Z(P,U,J,we,De){return U=+U,J=J>>>0,De||ee(P,U,J,4),e.write(P,U,J,we,23,4),J+4}s.prototype.writeFloatLE=function(P,U,J){return Z(this,P,U,!0,J)},s.prototype.writeFloatBE=function(P,U,J){return Z(this,P,U,!1,J)};function me(P,U,J,we,De){return U=+U,J=J>>>0,De||ee(P,U,J,8),e.write(P,U,J,we,52,8),J+8}s.prototype.writeDoubleLE=function(P,U,J){return me(this,P,U,!0,J)},s.prototype.writeDoubleBE=function(P,U,J){return me(this,P,U,!1,J)},s.prototype.copy=function(P,U,J,we){if(!s.isBuffer(P))throw new TypeError("argument should be a Buffer");if(J||(J=0),!we&&we!==0&&(we=this.length),U>=P.length&&(U=P.length),U||(U=0),we>0&&we<J&&(we=J),we===J||P.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),P.length-U<we-J&&(we=P.length-U+J);let De=we-J;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,J,we):Uint8Array.prototype.set.call(P,this.subarray(J,we),U),De},s.prototype.fill=function(P,U,J,we){if(typeof P=="string"){if(typeof U=="string"?(we=U,U=0,J=this.length):typeof J=="string"&&(we=J,J=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!s.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(P.length===1){let We=P.charCodeAt(0);(we==="utf8"&&We<128||we==="latin1")&&(P=We)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(U<0||this.length<U||this.length<J)throw new RangeError("Out of range index");if(J<=U)return this;U=U>>>0,J=J===void 0?this.length:J>>>0,P||(P=0);let De;if(typeof P=="number")for(De=U;De<J;++De)this[De]=P;else{let We=s.isBuffer(P)?P:s.from(P,we),lt=We.length;if(lt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(De=0;De<J-U;++De)this[De+U]=We[De%lt]}return this};let ue={};function q(P,U,J){ue[P]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(P,U){return`The "${P}" argument must be of type number. Received type ${typeof U}`},TypeError),q("ERR_OUT_OF_RANGE",function(P,U,J){let we=`The value of "${P}" is out of range.`,De=J;return Number.isInteger(J)&&Math.abs(J)>2**32?De=te(String(J)):typeof J=="bigint"&&(De=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(De=te(De)),De+="n"),we+=` It must be ${U}. Received ${De}`,we},RangeError);function te(P){let U="",J=P.length,we=P[0]==="-"?1:0;for(;J>=we+4;J-=3)U=`_${P.slice(J-3,J)}${U}`;return`${P.slice(0,J)}${U}`}function re(P,U,J){ne(U,"offset"),(P[U]===void 0||P[U+J]===void 0)&&Oe(U,P.length-(J+1))}function pe(P,U,J,we,De,We){if(P>J||P<U){let lt=typeof U=="bigint"?"n":"",Te;throw U===0||U===BigInt(0)?Te=`>= 0${lt} and < 2${lt} ** ${(We+1)*8}${lt}`:Te=`>= -(2${lt} ** ${(We+1)*8-1}${lt}) and < 2 ** ${(We+1)*8-1}${lt}`,new ue.ERR_OUT_OF_RANGE("value",Te,P)}re(we,De,We)}function ne(P,U){if(typeof P!="number")throw new ue.ERR_INVALID_ARG_TYPE(U,"number",P)}function Oe(P,U,J){throw Math.floor(P)!==P?(ne(P,J),new ue.ERR_OUT_OF_RANGE("offset","an integer",P)):U<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${U}`,P)}let be=/[^+/0-9A-Za-z-_]/g;function fe(P){if(P=P.split("=")[0],P=P.trim().replace(be,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function he(P,U){U=U||1/0;let J,we=P.length,De=null,We=[];for(let lt=0;lt<we;++lt){if(J=P.charCodeAt(lt),J>55295&&J<57344){if(!De){if(J>56319){(U-=3)>-1&&We.push(239,191,189);continue}else if(lt+1===we){(U-=3)>-1&&We.push(239,191,189);continue}De=J;continue}if(J<56320){(U-=3)>-1&&We.push(239,191,189),De=J;continue}J=(De-55296<<10|J-56320)+65536}else De&&(U-=3)>-1&&We.push(239,191,189);if(De=null,J<128){if((U-=1)<0)break;We.push(J)}else if(J<2048){if((U-=2)<0)break;We.push(J>>6|192,J&63|128)}else if(J<65536){if((U-=3)<0)break;We.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((U-=4)<0)break;We.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return We}function ye(P){let U=[];for(let J=0;J<P.length;++J)U.push(P.charCodeAt(J)&255);return U}function Ie(P,U){let J,we,De,We=[];for(let lt=0;lt<P.length&&!((U-=2)<0);++lt)J=P.charCodeAt(lt),we=J>>8,De=J%256,We.push(De),We.push(we);return We}function $e(P){return r.toByteArray(fe(P))}function Ge(P,U,J,we){let De;for(De=0;De<we&&!(De+J>=U.length||De>=P.length);++De)U[De+J]=P[De];return De}function Ee(P,U){return P instanceof U||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===U.name}function Ye(P){return P!==P}let st=(function(){let P="0123456789abcdef",U=new Array(256);for(let J=0;J<16;++J){let we=J*16;for(let De=0;De<16;++De)U[we+De]=P[J]+P[De]}return U})();function ke(P){return typeof BigInt>"u"?kt:P}function kt(){throw new Error("BigInt not supported")}return Zl}var Bf,ET,Zd,wT,Zl,_T,Xq=Qi(()=>{qe(),Qe(),Xe(),Bf={},ET=!1,Zd={},wT=!1,Zl={},_T=!1}),Hn={};Ch(Hn,{Buffer:()=>Uv,INSPECT_MAX_BYTES:()=>W6,default:()=>Io,kMaxLength:()=>K6});var Io,Uv,W6,K6,Gn=Qi(()=>{qe(),Qe(),Xe(),Xq(),Io=qq(),Io.Buffer,Io.SlowBuffer,Io.INSPECT_MAX_BYTES,Io.kMaxLength,Uv=Io.Buffer,W6=Io.INSPECT_MAX_BYTES,K6=Io.kMaxLength}),Qe=Qi(()=>{Gn()}),qr=tt((r,e)=>{qe(),Qe(),Xe();var t=class extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let i="";for(let a=0;a<n.length;a++)i+=`    ${n[a].stack}
`;super(i),this.name="AggregateError",this.errors=n}};e.exports={AggregateError:t,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,i){return n.includes(i)},ArrayPrototypeIndexOf(n,i){return n.indexOf(i)},ArrayPrototypeJoin(n,i){return n.join(i)},ArrayPrototypeMap(n,i){return n.map(i)},ArrayPrototypePop(n,i){return n.pop(i)},ArrayPrototypePush(n,i){return n.push(i)},ArrayPrototypeSlice(n,i,a){return n.slice(i,a)},Error,FunctionPrototypeCall(n,i,...a){return n.call(i,...a)},FunctionPrototypeSymbolHasInstance(n,i){return Function.prototype[Symbol.hasInstance].call(n,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,i){return Object.defineProperties(n,i)},ObjectDefineProperty(n,i,a){return Object.defineProperty(n,i,a)},ObjectGetOwnPropertyDescriptor(n,i){return Object.getOwnPropertyDescriptor(n,i)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,i){return Object.setPrototypeOf(n,i)},Promise,PromisePrototypeCatch(n,i){return n.catch(i)},PromisePrototypeThen(n,i,a){return n.then(i,a)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,i){return n.test(i)},SafeSet:Set,String,StringPrototypeSlice(n,i,a){return n.slice(i,a)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,i,a){return n.set(i,a)},Boolean,Uint8Array}}),Y6=tt((r,e)=>{qe(),Qe(),Xe(),e.exports={format(t,...n){return t.replace(/%([sdifj])/g,function(...[i,a]){let s=n.shift();return a==="f"?s.toFixed(6):a==="j"?JSON.stringify(s):a==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}}),ki=tt((r,e)=>{qe(),Qe(),Xe();var{format:t,inspect:n}=Y6(),{AggregateError:i}=qr(),a=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",c={};function h(S,w){if(!S)throw new c.ERR_INTERNAL_ASSERTION(w)}function p(S){let w="",T=S.length,_=S[0]==="-"?1:0;for(;T>=_+4;T-=3)w=`_${S.slice(T-3,T)}${w}`;return`${S.slice(0,T)}${w}`}function m(S,w,T){if(typeof w=="function")return h(w.length<=T.length,`Code: ${S}; The provided arguments length (${T.length}) does not match the required ones (${w.length}).`),w(...T);let _=(w.match(/%[dfijoOs]/g)||[]).length;return h(_===T.length,`Code: ${S}; The provided arguments length (${T.length}) does not match the required ones (${_}).`),T.length===0?w:t(w,...T)}function g(S,w,T){T||(T=Error);class _ extends T{constructor(...A){super(m(S,w,A))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(_.prototype,{name:{value:T.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),_.prototype.code=S,_.prototype[s]=!0,c[S]=_}function y(S){let w=u+S.name;return Object.defineProperty(S,"name",{value:w}),S}function x(S,w){if(S&&w&&S!==w){if(Array.isArray(w.errors))return w.errors.push(S),w;let T=new a([w,S],w.message);return T.code=w.code,T}return S||w}var E=class extends Error{constructor(S="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",w);super(S,w),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(S,w,T)=>{h(typeof S=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let _="The ";S.endsWith(" argument")?_+=`${S} `:_+=`"${S}" ${S.includes(".")?"property":"argument"} `,_+="must be ";let O=[],A=[],I=[];for(let N of w)h(typeof N=="string","All expected entries have to be of type string"),o.includes(N)?O.push(N.toLowerCase()):l.test(N)?A.push(N):(h(N!=="object",'The value "object" should be written as "Object"'),I.push(N));if(A.length>0){let N=O.indexOf("object");N!==-1&&(O.splice(O,N,1),A.push("Object"))}if(O.length>0){switch(O.length){case 1:_+=`of type ${O[0]}`;break;case 2:_+=`one of type ${O[0]} or ${O[1]}`;break;default:{let N=O.pop();_+=`one of type ${O.join(", ")}, or ${N}`}}(A.length>0||I.length>0)&&(_+=" or ")}if(A.length>0){switch(A.length){case 1:_+=`an instance of ${A[0]}`;break;case 2:_+=`an instance of ${A[0]} or ${A[1]}`;break;default:{let N=A.pop();_+=`an instance of ${A.join(", ")}, or ${N}`}}I.length>0&&(_+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(_+="an "),_+=`${I[0]}`;break;case 2:_+=`one of ${I[0]} or ${I[1]}`;break;default:{let N=I.pop();_+=`one of ${I.join(", ")}, or ${N}`}}if(T==null)_+=`. Received ${T}`;else if(typeof T=="function"&&T.name)_+=`. Received function ${T.name}`;else if(typeof T=="object"){var k;if((k=T.constructor)!==null&&k!==void 0&&k.name)_+=`. Received an instance of ${T.constructor.name}`;else{let N=n(T,{depth:-1});_+=`. Received ${N}`}}else{let N=n(T,{colors:!1});N.length>25&&(N=`${N.slice(0,25)}...`),_+=`. Received type ${typeof T} (${N})`}return _},TypeError),g("ERR_INVALID_ARG_VALUE",(S,w,T="is invalid")=>{let _=n(w);return _.length>128&&(_=_.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${T}. Received ${_}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(S,w,T)=>{var _;let O=T!=null&&(_=T.constructor)!==null&&_!==void 0&&_.name?`instance of ${T.constructor.name}`:`type ${typeof T}`;return`Expected ${S} to be returned from the "${w}" function but got ${O}.`},TypeError),g("ERR_MISSING_ARGS",(...S)=>{h(S.length>0,"At least one arg needs to be specified");let w,T=S.length;switch(S=(Array.isArray(S)?S:[S]).map(_=>`"${_}"`).join(" or "),T){case 1:w+=`The ${S[0]} argument`;break;case 2:w+=`The ${S[0]} and ${S[1]} arguments`;break;default:{let _=S.pop();w+=`The ${S.join(", ")}, and ${_} arguments`}break}return`${w} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(S,w,T)=>{h(w,'Missing "range" argument');let _;if(Number.isInteger(T)&&Math.abs(T)>2**32)_=p(String(T));else if(typeof T=="bigint"){_=String(T);let O=BigInt(2)**BigInt(32);(T>O||T<-O)&&(_=p(_)),_+="n"}else _=n(T);return`The value of "${S}" is out of range. It must be ${w}. Received ${_}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:E,aggregateTwoErrors:y(x),hideStackFrames:y,codes:c}}),b0=tt((r,e)=>{qe(),Qe(),Xe();var{AbortController:t,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t}),_u={};Ch(_u,{EventEmitter:()=>z6,default:()=>Uf,defaultMaxListeners:()=>V6,init:()=>q6,listenerCount:()=>X6,on:()=>Q6,once:()=>Z6});function Qq(){if(TT)return Jd;TT=!0;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(T,_,O){return Function.prototype.apply.call(T,_,O)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:t=function(T){return Object.getOwnPropertyNames(T)};function n(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(T){return T!==T};function a(){a.init.call(this)}Jd=a,Jd.once=E,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");s=T}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(T){return T._maxListeners===void 0?a.defaultMaxListeners:T._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(T){for(var _=[],O=1;O<arguments.length;O++)_.push(arguments[O]);var A=T==="error",I=this._events;if(I!==void 0)A=A&&I.error===void 0;else if(!A)return!1;if(A){var k;if(_.length>0&&(k=_[0]),k instanceof Error)throw k;var N=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw N.context=k,N}var B=I[T];if(B===void 0)return!1;if(typeof B=="function")e(B,this,_);else for(var R=B.length,H=g(B,R),O=0;O<R;++O)e(H[O],this,_);return!0};function u(T,_,O,A){var I,k,N;if(o(O),k=T._events,k===void 0?(k=T._events=Object.create(null),T._eventsCount=0):(k.newListener!==void 0&&(T.emit("newListener",_,O.listener?O.listener:O),k=T._events),N=k[_]),N===void 0)N=k[_]=O,++T._eventsCount;else if(typeof N=="function"?N=k[_]=A?[O,N]:[N,O]:A?N.unshift(O):N.push(O),I=l(T),I>0&&N.length>I&&!N.warned){N.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=T,B.type=_,B.count=N.length,n(B)}return T}a.prototype.addListener=function(T,_){return u(this,T,_,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,_){return u(this,T,_,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(T,_,O){var A={fired:!1,wrapFn:void 0,target:T,type:_,listener:O},I=c.bind(A);return I.listener=O,A.wrapFn=I,I}a.prototype.once=function(T,_){return o(_),this.on(T,h(this,T,_)),this},a.prototype.prependOnceListener=function(T,_){return o(_),this.prependListener(T,h(this,T,_)),this},a.prototype.removeListener=function(T,_){var O,A,I,k,N;if(o(_),A=this._events,A===void 0)return this;if(O=A[T],O===void 0)return this;if(O===_||O.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete A[T],A.removeListener&&this.emit("removeListener",T,O.listener||_));else if(typeof O!="function"){for(I=-1,k=O.length-1;k>=0;k--)if(O[k]===_||O[k].listener===_){N=O[k].listener,I=k;break}if(I<0)return this;I===0?O.shift():y(O,I),O.length===1&&(A[T]=O[0]),A.removeListener!==void 0&&this.emit("removeListener",T,N||_)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(T){var _,O,A;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[T]),this;if(arguments.length===0){var I=Object.keys(O),k;for(A=0;A<I.length;++A)k=I[A],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=O[T],typeof _=="function")this.removeListener(T,_);else if(_!==void 0)for(A=_.length-1;A>=0;A--)this.removeListener(T,_[A]);return this};function p(T,_,O){var A=T._events;if(A===void 0)return[];var I=A[_];return I===void 0?[]:typeof I=="function"?O?[I.listener||I]:[I]:O?x(I):g(I,I.length)}a.prototype.listeners=function(T){return p(this,T,!0)},a.prototype.rawListeners=function(T){return p(this,T,!1)},a.listenerCount=function(T,_){return typeof T.listenerCount=="function"?T.listenerCount(_):m.call(T,_)},a.prototype.listenerCount=m;function m(T){var _=this._events;if(_!==void 0){var O=_[T];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function g(T,_){for(var O=new Array(_),A=0;A<_;++A)O[A]=T[A];return O}function y(T,_){for(;_+1<T.length;_++)T[_]=T[_+1];T.pop()}function x(T){for(var _=new Array(T.length),O=0;O<_.length;++O)_[O]=T[O].listener||T[O];return _}function E(T,_){return new Promise(function(O,A){function I(N){T.removeListener(_,k),A(N)}function k(){typeof T.removeListener=="function"&&T.removeListener("error",I),O([].slice.call(arguments))}w(T,_,k,{once:!0}),_!=="error"&&S(T,I,{once:!0})})}function S(T,_,O){typeof T.on=="function"&&w(T,"error",_,O)}function w(T,_,O,A){if(typeof T.on=="function")A.once?T.once(_,O):T.on(_,O);else if(typeof T.addEventListener=="function")T.addEventListener(_,function I(k){A.once&&T.removeEventListener(_,I),O(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return Jd}var Jd,TT,Uf,z6,V6,q6,X6,Q6,Z6,Lc=Qi(()=>{qe(),Qe(),Xe(),Jd={},TT=!1,Uf=Qq(),Uf.once,Uf.once=function(r,e){return new Promise((t,n)=>{function i(...s){a!==void 0&&r.removeListener("error",a),t(s)}let a;e!=="error"&&(a=s=>{r.removeListener(name,i),n(s)},r.once("error",a)),r.once(e,i)})},Uf.on=function(r,e){let t=[],n=[],i=null,a=!1,s={async next(){let u=t.shift();if(u)return createIterResult(u,!1);if(i){let c=Promise.reject(i);return i=null,c}return a?createIterResult(void 0,!0):new Promise((c,h)=>n.push({resolve:c,reject:h}))},async return(){r.removeListener(e,o),r.removeListener("error",l),a=!0;for(let u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,r.removeListener(e,o),r.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return r.on(e,o),r.on("error",l),s;function o(...u){let c=n.shift();c?c.resolve(createIterResult(u,!1)):t.push(u)}function l(u){a=!0;let c=n.shift();c?c.reject(u):i=u,s.return()}},{EventEmitter:z6,defaultMaxListeners:V6,init:q6,listenerCount:X6,on:Q6,once:Z6}=Uf}),zi=tt((r,e)=>{qe(),Qe(),Xe();var t=(Gn(),wr(Hn)),{format:n,inspect:i}=Y6(),{codes:{ERR_INVALID_ARG_TYPE:a}}=ki(),{kResistStopPropagation:s,AggregateError:o,SymbolDispose:l}=qr(),u=globalThis.AbortSignal||b0().AbortSignal,c=globalThis.AbortController||b0().AbortController,h=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||t.Blob,m=typeof p<"u"?function(x){return x instanceof p}:function(x){return!1},g=(x,E)=>{if(x!==void 0&&(x===null||typeof x!="object"||!("aborted"in x)))throw new a(E,"AbortSignal",x)},y=(x,E)=>{if(typeof x!="function")throw new a(E,"Function",x)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(x){let E=!1;return function(...S){E||(E=!0,x.apply(this,S))}},createDeferredPromise:function(){let x,E;return{promise:new Promise((S,w)=>{x=S,E=w}),resolve:x,reject:E}},promisify(x){return new Promise((E,S)=>{x((w,...T)=>w?S(w):E(...T))})},debuglog(){return function(){}},format:n,inspect:i,types:{isAsyncFunction(x){return x instanceof h},isArrayBufferView(x){return ArrayBuffer.isView(x)}},isBlob:m,deprecate(x,E){return x},addAbortListener:(Lc(),wr(_u)).addAbortListener||function(x,E){if(x===void 0)throw new a("signal","AbortSignal",x);g(x,"signal"),y(E,"listener");let S;return x.aborted?queueMicrotask(()=>E()):(x.addEventListener("abort",E,{__proto__:null,once:!0,[s]:!0}),S=()=>{x.removeEventListener("abort",E)}),{__proto__:null,[l](){var w;(w=S)===null||w===void 0||w()}}},AbortSignalAny:u.any||function(x){if(x.length===1)return x[0];let E=new c,S=()=>E.abort();return x.forEach(w=>{g(w,"signals"),w.addEventListener("abort",S,{once:!0})}),E.signal.addEventListener("abort",()=>{x.forEach(w=>w.removeEventListener("abort",S))},{once:!0}),E.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ap=tt((r,e)=>{qe(),Qe(),Xe();var{ArrayIsArray:t,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:p,String:m,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=qr(),{hideStackFrames:x,codes:{ERR_SOCKET_BAD_PORT:E,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:T,ERR_UNKNOWN_SIGNAL:_}}=ki(),{normalizeEncoding:O}=zi(),{isAsyncFunction:A,isArrayBufferView:I}=zi().types,k={};function N(Ee){return Ee===(Ee|0)}function B(Ee){return Ee===Ee>>>0}var R=/^[0-7]+$/,H="must be a 32-bit unsigned integer or an octal string";function X(Ee,Ye,st){if(typeof Ee>"u"&&(Ee=st),typeof Ee=="string"){if(p(R,Ee)===null)throw new w(Ye,Ee,H);Ee=c(Ee,8)}return z(Ee,Ye),Ee}var Y=x((Ee,Ye,st=u,ke=l)=>{if(typeof Ee!="number")throw new S(Ye,"number",Ee);if(!s(Ee))throw new T(Ye,"an integer",Ee);if(Ee<st||Ee>ke)throw new T(Ye,`>= ${st} && <= ${ke}`,Ee)}),K=x((Ee,Ye,st=-2147483648,ke=2147483647)=>{if(typeof Ee!="number")throw new S(Ye,"number",Ee);if(!s(Ee))throw new T(Ye,"an integer",Ee);if(Ee<st||Ee>ke)throw new T(Ye,`>= ${st} && <= ${ke}`,Ee)}),z=x((Ee,Ye,st=!1)=>{if(typeof Ee!="number")throw new S(Ye,"number",Ee);if(!s(Ee))throw new T(Ye,"an integer",Ee);let ke=st?1:0,kt=4294967295;if(Ee<ke||Ee>kt)throw new T(Ye,`>= ${ke} && <= ${kt}`,Ee)});function Q(Ee,Ye){if(typeof Ee!="string")throw new S(Ye,"string",Ee)}function se(Ee,Ye,st=void 0,ke){if(typeof Ee!="number")throw new S(Ye,"number",Ee);if(st!=null&&Ee<st||ke!=null&&Ee>ke||(st!=null||ke!=null)&&o(Ee))throw new T(Ye,`${st!=null?`>= ${st}`:""}${st!=null&&ke!=null?" && ":""}${ke!=null?`<= ${ke}`:""}`,Ee)}var ae=x((Ee,Ye,st)=>{if(!n(st,Ee)){let ke="must be one of: "+i(a(st,kt=>typeof kt=="string"?`'${kt}'`:m(kt)),", ");throw new w(Ye,Ee,ke)}});function W(Ee,Ye){if(typeof Ee!="boolean")throw new S(Ye,"boolean",Ee)}function M(Ee,Ye,st){return Ee==null||!h(Ee,Ye)?st:Ee[Ye]}var V=x((Ee,Ye,st=null)=>{let ke=M(st,"allowArray",!1),kt=M(st,"allowFunction",!1);if(!M(st,"nullable",!1)&&Ee===null||!ke&&t(Ee)||typeof Ee!="object"&&(!kt||typeof Ee!="function"))throw new S(Ye,"Object",Ee)}),ee=x((Ee,Ye)=>{if(Ee!=null&&typeof Ee!="object"&&typeof Ee!="function")throw new S(Ye,"a dictionary",Ee)}),Z=x((Ee,Ye,st=0)=>{if(!t(Ee))throw new S(Ye,"Array",Ee);if(Ee.length<st){let ke=`must be longer than ${st}`;throw new w(Ye,Ee,ke)}});function me(Ee,Ye){Z(Ee,Ye);for(let st=0;st<Ee.length;st++)Q(Ee[st],`${Ye}[${st}]`)}function ue(Ee,Ye){Z(Ee,Ye);for(let st=0;st<Ee.length;st++)W(Ee[st],`${Ye}[${st}]`)}function q(Ee,Ye){Z(Ee,Ye);for(let st=0;st<Ee.length;st++){let ke=Ee[st],kt=`${Ye}[${st}]`;if(ke==null)throw new S(kt,"AbortSignal",ke);Oe(ke,kt)}}function te(Ee,Ye="signal"){if(Q(Ee,Ye),k[Ee]===void 0)throw k[g(Ee)]!==void 0?new _(Ee+" (signals must use all capital letters)"):new _(Ee)}var re=x((Ee,Ye="buffer")=>{if(!I(Ee))throw new S(Ye,["Buffer","TypedArray","DataView"],Ee)});function pe(Ee,Ye){let st=O(Ye),ke=Ee.length;if(st==="hex"&&ke%2!==0)throw new w("encoding",Ye,`is invalid for data of length ${ke}`)}function ne(Ee,Ye="Port",st=!0){if(typeof Ee!="number"&&typeof Ee!="string"||typeof Ee=="string"&&y(Ee).length===0||+Ee!==+Ee>>>0||Ee>65535||Ee===0&&!st)throw new E(Ye,Ee,st);return Ee|0}var Oe=x((Ee,Ye)=>{if(Ee!==void 0&&(Ee===null||typeof Ee!="object"||!("aborted"in Ee)))throw new S(Ye,"AbortSignal",Ee)}),be=x((Ee,Ye)=>{if(typeof Ee!="function")throw new S(Ye,"Function",Ee)}),fe=x((Ee,Ye)=>{if(typeof Ee!="function"||A(Ee))throw new S(Ye,"Function",Ee)}),he=x((Ee,Ye)=>{if(Ee!==void 0)throw new S(Ye,"undefined",Ee)});function ye(Ee,Ye,st){if(!n(st,Ee))throw new S(Ye,`('${i(st,"|")}')`,Ee)}var Ie=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function $e(Ee,Ye){if(typeof Ee>"u"||!p(Ie,Ee))throw new w(Ye,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ge(Ee){if(typeof Ee=="string")return $e(Ee,"hints"),Ee;if(t(Ee)){let Ye=Ee.length,st="";if(Ye===0)return st;for(let ke=0;ke<Ye;ke++){let kt=Ee[ke];$e(kt,"hints"),st+=kt,ke!==Ye-1&&(st+=", ")}return st}throw new w("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:N,isUint32:B,parseFileMode:X,validateArray:Z,validateStringArray:me,validateBooleanArray:ue,validateAbortSignalArray:q,validateBoolean:W,validateBuffer:re,validateDictionary:ee,validateEncoding:pe,validateFunction:be,validateInt32:K,validateInteger:Y,validateNumber:se,validateObject:V,validateOneOf:ae,validatePlainFunction:fe,validatePort:ne,validateSignalName:te,validateString:Q,validateUint32:z,validateUndefined:he,validateUnion:ye,validateAbortSignal:Oe,validateLinkHeaderValue:Ge}}),Mc=tt((r,e)=>{qe(),Qe(),Xe();var t=e.exports={},n,i;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=a}catch{n=a}try{typeof clearTimeout=="function"?i=clearTimeout:i=s}catch{i=s}})();function o(E){if(n===setTimeout)return setTimeout(E,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(E,0);try{return n(E,0)}catch{try{return n.call(null,E,0)}catch{return n.call(this,E,0)}}}function l(E){if(i===clearTimeout)return clearTimeout(E);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(E);try{return i(E)}catch{try{return i.call(null,E)}catch{return i.call(this,E)}}}var u=[],c=!1,h,p=-1;function m(){!c||!h||(c=!1,h.length?u=h.concat(u):p=-1,u.length&&g())}function g(){if(!c){var E=o(m);c=!0;for(var S=u.length;S;){for(h=u,u=[];++p<S;)h&&h[p].run();p=-1,S=u.length}h=null,c=!1,l(E)}}t.nextTick=function(E){var S=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)S[w-1]=arguments[w];u.push(new y(E,S)),u.length===1&&!c&&o(g)};function y(E,S){this.fun=E,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function x(){}t.on=x,t.addListener=x,t.once=x,t.off=x,t.removeListener=x,t.removeAllListeners=x,t.emit=x,t.prependListener=x,t.prependOnceListener=x,t.listeners=function(E){return[]},t.binding=function(E){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(E){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),ul=tt((r,e)=>{qe(),Qe(),Xe();var{SymbolAsyncIterator:t,SymbolIterator:n,SymbolFor:i}=qr(),a=i("nodejs.stream.destroyed"),s=i("nodejs.stream.errored"),o=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),u=i("nodejs.stream.disturbed"),c=i("nodejs.webstream.isClosedPromise"),h=i("nodejs.webstream.controllerErrorFunction");function p(M,V=!1){var ee;return!!(M&&typeof M.pipe=="function"&&typeof M.on=="function"&&(!V||typeof M.pause=="function"&&typeof M.resume=="function")&&(!M._writableState||((ee=M._readableState)===null||ee===void 0?void 0:ee.readable)!==!1)&&(!M._writableState||M._readableState))}function m(M){var V;return!!(M&&typeof M.write=="function"&&typeof M.on=="function"&&(!M._readableState||((V=M._writableState)===null||V===void 0?void 0:V.writable)!==!1))}function g(M){return!!(M&&typeof M.pipe=="function"&&M._readableState&&typeof M.on=="function"&&typeof M.write=="function")}function y(M){return M&&(M._readableState||M._writableState||typeof M.write=="function"&&typeof M.on=="function"||typeof M.pipe=="function"&&typeof M.on=="function")}function x(M){return!!(M&&!y(M)&&typeof M.pipeThrough=="function"&&typeof M.getReader=="function"&&typeof M.cancel=="function")}function E(M){return!!(M&&!y(M)&&typeof M.getWriter=="function"&&typeof M.abort=="function")}function S(M){return!!(M&&!y(M)&&typeof M.readable=="object"&&typeof M.writable=="object")}function w(M){return x(M)||E(M)||S(M)}function T(M,V){return M==null?!1:V===!0?typeof M[t]=="function":V===!1?typeof M[n]=="function":typeof M[t]=="function"||typeof M[n]=="function"}function _(M){if(!y(M))return null;let V=M._writableState,ee=M._readableState,Z=V||ee;return!!(M.destroyed||M[a]||Z!=null&&Z.destroyed)}function O(M){if(!m(M))return null;if(M.writableEnded===!0)return!0;let V=M._writableState;return V!=null&&V.errored?!1:typeof V?.ended!="boolean"?null:V.ended}function A(M,V){if(!m(M))return null;if(M.writableFinished===!0)return!0;let ee=M._writableState;return ee!=null&&ee.errored?!1:typeof ee?.finished!="boolean"?null:!!(ee.finished||V===!1&&ee.ended===!0&&ee.length===0)}function I(M){if(!p(M))return null;if(M.readableEnded===!0)return!0;let V=M._readableState;return!V||V.errored?!1:typeof V?.ended!="boolean"?null:V.ended}function k(M,V){if(!p(M))return null;let ee=M._readableState;return ee!=null&&ee.errored?!1:typeof ee?.endEmitted!="boolean"?null:!!(ee.endEmitted||V===!1&&ee.ended===!0&&ee.length===0)}function N(M){return M&&M[o]!=null?M[o]:typeof M?.readable!="boolean"?null:_(M)?!1:p(M)&&M.readable&&!k(M)}function B(M){return M&&M[l]!=null?M[l]:typeof M?.writable!="boolean"?null:_(M)?!1:m(M)&&M.writable&&!O(M)}function R(M,V){return y(M)?_(M)?!0:!(V?.readable!==!1&&N(M)||V?.writable!==!1&&B(M)):null}function H(M){var V,ee;return y(M)?M.writableErrored?M.writableErrored:(V=(ee=M._writableState)===null||ee===void 0?void 0:ee.errored)!==null&&V!==void 0?V:null:null}function X(M){var V,ee;return y(M)?M.readableErrored?M.readableErrored:(V=(ee=M._readableState)===null||ee===void 0?void 0:ee.errored)!==null&&V!==void 0?V:null:null}function Y(M){if(!y(M))return null;if(typeof M.closed=="boolean")return M.closed;let V=M._writableState,ee=M._readableState;return typeof V?.closed=="boolean"||typeof ee?.closed=="boolean"?V?.closed||ee?.closed:typeof M._closed=="boolean"&&K(M)?M._closed:null}function K(M){return typeof M._closed=="boolean"&&typeof M._defaultKeepAlive=="boolean"&&typeof M._removedConnection=="boolean"&&typeof M._removedContLen=="boolean"}function z(M){return typeof M._sent100=="boolean"&&K(M)}function Q(M){var V;return typeof M._consuming=="boolean"&&typeof M._dumped=="boolean"&&((V=M.req)===null||V===void 0?void 0:V.upgradeOrConnect)===void 0}function se(M){if(!y(M))return null;let V=M._writableState,ee=M._readableState,Z=V||ee;return!Z&&z(M)||!!(Z&&Z.autoDestroy&&Z.emitClose&&Z.closed===!1)}function ae(M){var V;return!!(M&&((V=M[u])!==null&&V!==void 0?V:M.readableDidRead||M.readableAborted))}function W(M){var V,ee,Z,me,ue,q,te,re,pe,ne;return!!(M&&((V=(ee=(Z=(me=(ue=(q=M[s])!==null&&q!==void 0?q:M.readableErrored)!==null&&ue!==void 0?ue:M.writableErrored)!==null&&me!==void 0?me:(te=M._readableState)===null||te===void 0?void 0:te.errorEmitted)!==null&&Z!==void 0?Z:(re=M._writableState)===null||re===void 0?void 0:re.errorEmitted)!==null&&ee!==void 0?ee:(pe=M._readableState)===null||pe===void 0?void 0:pe.errored)!==null&&V!==void 0?V:!((ne=M._writableState)===null||ne===void 0)&&ne.errored))}e.exports={isDestroyed:_,kIsDestroyed:a,isDisturbed:ae,kIsDisturbed:u,isErrored:W,kIsErrored:s,isReadable:N,kIsReadable:o,kIsClosedPromise:c,kControllerErrorFunction:h,kIsWritable:l,isClosed:Y,isDuplexNodeStream:g,isFinished:R,isIterable:T,isReadableNodeStream:p,isReadableStream:x,isReadableEnded:I,isReadableFinished:k,isReadableErrored:X,isNodeStream:y,isWebStream:w,isWritable:B,isWritableNodeStream:m,isWritableStream:E,isWritableEnded:O,isWritableFinished:A,isWritableErrored:H,isServerRequest:Q,isServerResponse:z,willEmitClose:se,isTransformStream:S}}),Tu=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),{AbortError:n,codes:i}=ki(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:o,once:l}=zi(),{validateAbortSignal:u,validateFunction:c,validateObject:h,validateBoolean:p}=ap(),{Promise:m,PromisePrototypeThen:g,SymbolDispose:y}=qr(),{isClosed:x,isReadable:E,isReadableNodeStream:S,isReadableStream:w,isReadableFinished:T,isReadableErrored:_,isWritable:O,isWritableNodeStream:A,isWritableStream:I,isWritableFinished:k,isWritableErrored:N,isNodeStream:B,willEmitClose:R,kIsClosedPromise:H}=ul(),X;function Y(ae){return ae.setHeader&&typeof ae.abort=="function"}var K=()=>{};function z(ae,W,M){var V,ee;if(arguments.length===2?(M=W,W=o):W==null?W=o:h(W,"options"),c(M,"callback"),u(W.signal,"options.signal"),M=l(M),w(ae)||I(ae))return Q(ae,W,M);if(!B(ae))throw new a("stream",["ReadableStream","WritableStream","Stream"],ae);let Z=(V=W.readable)!==null&&V!==void 0?V:S(ae),me=(ee=W.writable)!==null&&ee!==void 0?ee:A(ae),ue=ae._writableState,q=ae._readableState,te=()=>{ae.writable||ne()},re=R(ae)&&S(ae)===Z&&A(ae)===me,pe=k(ae,!1),ne=()=>{pe=!0,ae.destroyed&&(re=!1),!(re&&(!ae.readable||Z))&&(!Z||Oe)&&M.call(ae)},Oe=T(ae,!1),be=()=>{Oe=!0,ae.destroyed&&(re=!1),!(re&&(!ae.writable||me))&&(!me||pe)&&M.call(ae)},fe=Ee=>{M.call(ae,Ee)},he=x(ae),ye=()=>{he=!0;let Ee=N(ae)||_(ae);if(Ee&&typeof Ee!="boolean")return M.call(ae,Ee);if(Z&&!Oe&&S(ae,!0)&&!T(ae,!1))return M.call(ae,new s);if(me&&!pe&&!k(ae,!1))return M.call(ae,new s);M.call(ae)},Ie=()=>{he=!0;let Ee=N(ae)||_(ae);if(Ee&&typeof Ee!="boolean")return M.call(ae,Ee);M.call(ae)},$e=()=>{ae.req.on("finish",ne)};Y(ae)?(ae.on("complete",ne),re||ae.on("abort",ye),ae.req?$e():ae.on("request",$e)):me&&!ue&&(ae.on("end",te),ae.on("close",te)),!re&&typeof ae.aborted=="boolean"&&ae.on("aborted",ye),ae.on("end",be),ae.on("finish",ne),W.error!==!1&&ae.on("error",fe),ae.on("close",ye),he?t.nextTick(ye):ue!=null&&ue.errorEmitted||q!=null&&q.errorEmitted?re||t.nextTick(Ie):(!Z&&(!re||E(ae))&&(pe||O(ae)===!1)||!me&&(!re||O(ae))&&(Oe||E(ae)===!1)||q&&ae.req&&ae.aborted)&&t.nextTick(Ie);let Ge=()=>{M=K,ae.removeListener("aborted",ye),ae.removeListener("complete",ne),ae.removeListener("abort",ye),ae.removeListener("request",$e),ae.req&&ae.req.removeListener("finish",ne),ae.removeListener("end",te),ae.removeListener("close",te),ae.removeListener("finish",ne),ae.removeListener("end",be),ae.removeListener("error",fe),ae.removeListener("close",ye)};if(W.signal&&!he){let Ee=()=>{let Ye=M;Ge(),Ye.call(ae,new n(void 0,{cause:W.signal.reason}))};if(W.signal.aborted)t.nextTick(Ee);else{X=X||zi().addAbortListener;let Ye=X(W.signal,Ee),st=M;M=l((...ke)=>{Ye[y](),st.apply(ae,ke)})}}return Ge}function Q(ae,W,M){let V=!1,ee=K;if(W.signal)if(ee=()=>{V=!0,M.call(ae,new n(void 0,{cause:W.signal.reason}))},W.signal.aborted)t.nextTick(ee);else{X=X||zi().addAbortListener;let me=X(W.signal,ee),ue=M;M=l((...q)=>{me[y](),ue.apply(ae,q)})}let Z=(...me)=>{V||t.nextTick(()=>M.apply(ae,me))};return g(ae[H].promise,Z,Z),K}function se(ae,W){var M;let V=!1;return W===null&&(W=o),(M=W)!==null&&M!==void 0&&M.cleanup&&(p(W.cleanup,"cleanup"),V=W.cleanup),new m((ee,Z)=>{let me=z(ae,W,ue=>{V&&me(),ue?Z(ue):ee()})})}e.exports=z,e.exports.finished=se}),Ih=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=ki(),{Symbol:s}=qr(),{kIsDestroyed:o,isDestroyed:l,isFinished:u,isServerRequest:c}=ul(),h=s("kDestroy"),p=s("kConstruct");function m(R,H,X){R&&(R.stack,H&&!H.errored&&(H.errored=R),X&&!X.errored&&(X.errored=R))}function g(R,H){let X=this._readableState,Y=this._writableState,K=Y||X;return Y!=null&&Y.destroyed||X!=null&&X.destroyed?(typeof H=="function"&&H(),this):(m(R,Y,X),Y&&(Y.destroyed=!0),X&&(X.destroyed=!0),K.constructed?y(this,R,H):this.once(h,function(z){y(this,n(z,R),H)}),this)}function y(R,H,X){let Y=!1;function K(z){if(Y)return;Y=!0;let Q=R._readableState,se=R._writableState;m(z,se,Q),se&&(se.closed=!0),Q&&(Q.closed=!0),typeof X=="function"&&X(z),z?t.nextTick(x,R,z):t.nextTick(E,R)}try{R._destroy(H||null,K)}catch(z){K(z)}}function x(R,H){S(R,H),E(R)}function E(R){let H=R._readableState,X=R._writableState;X&&(X.closeEmitted=!0),H&&(H.closeEmitted=!0),(X!=null&&X.emitClose||H!=null&&H.emitClose)&&R.emit("close")}function S(R,H){let X=R._readableState,Y=R._writableState;Y!=null&&Y.errorEmitted||X!=null&&X.errorEmitted||(Y&&(Y.errorEmitted=!0),X&&(X.errorEmitted=!0),R.emit("error",H))}function w(){let R=this._readableState,H=this._writableState;R&&(R.constructed=!0,R.closed=!1,R.closeEmitted=!1,R.destroyed=!1,R.errored=null,R.errorEmitted=!1,R.reading=!1,R.ended=R.readable===!1,R.endEmitted=R.readable===!1),H&&(H.constructed=!0,H.destroyed=!1,H.closed=!1,H.closeEmitted=!1,H.errored=null,H.errorEmitted=!1,H.finalCalled=!1,H.prefinished=!1,H.ended=H.writable===!1,H.ending=H.writable===!1,H.finished=H.writable===!1)}function T(R,H,X){let Y=R._readableState,K=R._writableState;if(K!=null&&K.destroyed||Y!=null&&Y.destroyed)return this;Y!=null&&Y.autoDestroy||K!=null&&K.autoDestroy?R.destroy(H):H&&(H.stack,K&&!K.errored&&(K.errored=H),Y&&!Y.errored&&(Y.errored=H),X?t.nextTick(S,R,H):S(R,H))}function _(R,H){if(typeof R._construct!="function")return;let X=R._readableState,Y=R._writableState;X&&(X.constructed=!1),Y&&(Y.constructed=!1),R.once(p,H),!(R.listenerCount(p)>1)&&t.nextTick(O,R)}function O(R){let H=!1;function X(Y){if(H){T(R,Y??new i);return}H=!0;let K=R._readableState,z=R._writableState,Q=z||K;K&&(K.constructed=!0),z&&(z.constructed=!0),Q.destroyed?R.emit(h,Y):Y?T(R,Y,!0):t.nextTick(A,R)}try{R._construct(Y=>{t.nextTick(X,Y)})}catch(Y){t.nextTick(X,Y)}}function A(R){R.emit(p)}function I(R){return R?.setHeader&&typeof R.abort=="function"}function k(R){R.emit("close")}function N(R,H){R.emit("error",H),t.nextTick(k,R)}function B(R,H){!R||l(R)||(!H&&!u(R)&&(H=new a),c(R)?(R.socket=null,R.destroy(H)):I(R)?R.abort():I(R.req)?R.req.abort():typeof R.destroy=="function"?R.destroy(H):typeof R.close=="function"?R.close():H?t.nextTick(N,R,H):t.nextTick(k,R),R.destroyed||(R[o]=!0))}e.exports={construct:_,destroyer:B,destroy:g,undestroy:w,errorOrDestroy:T}}),tD=tt((r,e)=>{qe(),Qe(),Xe();var{ArrayIsArray:t,ObjectSetPrototypeOf:n}=qr(),{EventEmitter:i}=(Lc(),wr(_u));function a(o){i.call(this,o)}n(a.prototype,i.prototype),n(a,i),a.prototype.pipe=function(o,l){let u=this;function c(E){o.writable&&o.write(E)===!1&&u.pause&&u.pause()}u.on("data",c);function h(){u.readable&&u.resume&&u.resume()}o.on("drain",h),!o._isStdio&&(!l||l.end!==!1)&&(u.on("end",m),u.on("close",g));let p=!1;function m(){p||(p=!0,o.end())}function g(){p||(p=!0,typeof o.destroy=="function"&&o.destroy())}function y(E){x(),i.listenerCount(this,"error")===0&&this.emit("error",E)}s(u,"error",y),s(o,"error",y);function x(){u.removeListener("data",c),o.removeListener("drain",h),u.removeListener("end",m),u.removeListener("close",g),u.removeListener("error",y),o.removeListener("error",y),u.removeListener("end",x),u.removeListener("close",x),o.removeListener("close",x)}return u.on("end",x),u.on("close",x),o.on("close",x),o.emit("pipe",u),o};function s(o,l,u){if(typeof o.prependListener=="function")return o.prependListener(l,u);!o._events||!o._events[l]?o.on(l,u):t(o._events[l])?o._events[l].unshift(u):o._events[l]=[u,o._events[l]]}e.exports={Stream:a,prependListener:s}}),xx=tt((r,e)=>{qe(),Qe(),Xe();var{SymbolDispose:t}=qr(),{AbortError:n,codes:i}=ki(),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:o}=ul(),l=Tu(),{ERR_INVALID_ARG_TYPE:u}=i,c,h=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new u(m,"AbortSignal",p)};e.exports.addAbortSignal=function(p,m){if(h(p,"signal"),!a(m)&&!s(m))throw new u("stream",["ReadableStream","WritableStream","Stream"],m);return e.exports.addAbortSignalNoValidate(p,m)},e.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;let g=a(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[o](new n(void 0,{cause:p.reason}))};if(p.aborted)g();else{c=c||zi().addAbortListener;let y=c(p,g);l(m,y[t])}return m}}),Zq=tt((r,e)=>{qe(),Qe(),Xe();var{StringPrototypeSlice:t,SymbolIterator:n,TypedArrayPrototypeSet:i,Uint8Array:a}=qr(),{Buffer:s}=(Gn(),wr(Hn)),{inspect:o}=zi();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(l){let u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=l+u.data;return c}concat(l){if(this.length===0)return s.alloc(0);let u=s.allocUnsafe(l>>>0),c=this.head,h=0;for(;c;)i(u,c.data,h),h+=c.data.length,c=c.next;return u}consume(l,u){let c=this.head.data;if(l<c.length){let h=c.slice(0,l);return this.head.data=c.slice(l),h}return l===c.length?this.shift():u?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[n](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let u="",c=this.head,h=0;do{let p=c.data;if(l>p.length)u+=p,l-=p.length;else{l===p.length?(u+=p,++h,c.next?this.head=c.next:this.head=this.tail=null):(u+=t(p,0,l),this.head=c,c.data=t(p,l));break}++h}while((c=c.next)!==null);return this.length-=h,u}_getBuffer(l){let u=s.allocUnsafe(l),c=l,h=this.head,p=0;do{let m=h.data;if(l>m.length)i(u,m,c-l),l-=m.length;else{l===m.length?(i(u,m,c-l),++p,h.next?this.head=h.next:this.head=this.tail=null):(i(u,new a(m.buffer,m.byteOffset,l),c-l),this.head=h,h.data=m.slice(l));break}++p}while((h=h.next)!==null);return this.length-=p,u}[Symbol.for("nodejs.util.inspect.custom")](l,u){return o(this,{...u,depth:0,customInspect:!1})}}}),bx=tt((r,e)=>{qe(),Qe(),Xe();var{MathFloor:t,NumberIsInteger:n}=qr(),{validateInteger:i}=ap(),{ERR_INVALID_ARG_VALUE:a}=ki().codes,s=16*1024,o=16;function l(p,m,g){return p.highWaterMark!=null?p.highWaterMark:m?p[g]:null}function u(p){return p?o:s}function c(p,m){i(m,"value",0),p?o=m:s=m}function h(p,m,g,y){let x=l(m,y,g);if(x!=null){if(!n(x)||x<0){let E=y?`options.${g}`:"options.highWaterMark";throw new a(E,x)}return t(x)}return u(p.objectMode)}e.exports={getHighWaterMark:h,getDefaultHighWaterMark:u,setDefaultHighWaterMark:c}}),Jq=tt((r,e)=>{qe(),Qe(),Xe();var t=(Gn(),wr(Hn)),n=t.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(i(t,r),r.Buffer=a);function a(s,o,l){return n(s,o,l)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}}),eX=tt(r=>{qe(),Qe(),Xe();var e=Jq().Buffer,t=e.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(S){if(!S)return"utf8";for(var w;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(w)return;S=(""+S).toLowerCase(),w=!0}}function i(S){var w=n(S);if(typeof w!="string"&&(e.isEncoding===t||!t(S)))throw new Error("Unknown encoding: "+S);return w||S}r.StringDecoder=a;function a(S){this.encoding=i(S);var w;switch(this.encoding){case"utf16le":this.text=p,this.end=m,w=4;break;case"utf8":this.fillLast=u,w=4;break;case"base64":this.text=g,this.end=y,w=3;break;default:this.write=x,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(w)}a.prototype.write=function(S){if(S.length===0)return"";var w,T;if(this.lastNeed){if(w=this.fillLast(S),w===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<S.length?w?w+this.text(S,T):this.text(S,T):w||""},a.prototype.end=h,a.prototype.text=c,a.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,w,T){var _=w.length-1;if(_<T)return 0;var O=s(w[_]);return O>=0?(O>0&&(S.lastNeed=O-1),O):--_<T||O===-2?0:(O=s(w[_]),O>=0?(O>0&&(S.lastNeed=O-2),O):--_<T||O===-2?0:(O=s(w[_]),O>=0?(O>0&&(O===2?O=0:S.lastNeed=O-3),O):0))}function l(S,w,T){if((w[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return S.lastNeed=2,""}}function u(S){var w=this.lastTotal-this.lastNeed,T=l(this,S);if(T!==void 0)return T;if(this.lastNeed<=S.length)return S.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,w,0,S.length),this.lastNeed-=S.length}function c(S,w){var T=o(this,S,w);if(!this.lastNeed)return S.toString("utf8",w);this.lastTotal=T;var _=S.length-(T-this.lastNeed);return S.copy(this.lastChar,0,_),S.toString("utf8",w,_)}function h(S){var w=S&&S.length?this.write(S):"";return this.lastNeed?w+"":w}function p(S,w){if((S.length-w)%2===0){var T=S.toString("utf16le",w);if(T){var _=T.charCodeAt(T.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",w,S.length-1)}function m(S){var w=S&&S.length?this.write(S):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,T)}return w}function g(S,w){var T=(S.length-w)%3;return T===0?S.toString("base64",w):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",w,S.length-T))}function y(S){var w=S&&S.length?this.write(S):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function x(S){return S.toString(this.encoding)}function E(S){return S&&S.length?this.write(S):""}}),J6=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),{PromisePrototypeThen:n,SymbolAsyncIterator:i,SymbolIterator:a}=qr(),{Buffer:s}=(Gn(),wr(Hn)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:l}=ki().codes;function u(c,h,p){let m;if(typeof h=="string"||h instanceof s)return new c({objectMode:!0,...p,read(){this.push(h),this.push(null)}});let g;if(h&&h[i])g=!0,m=h[i]();else if(h&&h[a])g=!1,m=h[a]();else throw new o("iterable",["Iterable"],h);let y=new c({objectMode:!0,highWaterMark:1,...p}),x=!1;y._read=function(){x||(x=!0,S())},y._destroy=function(w,T){n(E(w),()=>t.nextTick(T,w),_=>t.nextTick(T,_||w))};async function E(w){let T=w!=null,_=typeof m.throw=="function";if(T&&_){let{value:O,done:A}=await m.throw(w);if(await O,A)return}if(typeof m.return=="function"){let{value:O}=await m.return();await O}}async function S(){for(;;){try{let{value:w,done:T}=g?await m.next():m.next();if(T)y.push(null);else{let _=w&&typeof w.then=="function"?await w:w;if(_===null)throw x=!1,new l;if(y.push(_))continue;x=!1}}catch(w){y.destroy(w)}break}}return y}e.exports=u}),Sx=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),{ArrayPrototypeIndexOf:n,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:o,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:c,SafeSet:h,SymbolAsyncDispose:p,SymbolAsyncIterator:m,Symbol:g}=qr();e.exports=ke,ke.ReadableState=st;var{EventEmitter:y}=(Lc(),wr(_u)),{Stream:x,prependListener:E}=tD(),{Buffer:S}=(Gn(),wr(Hn)),{addAbortSignal:w}=xx(),T=Tu(),_=zi().debuglog("stream",de=>{_=de}),O=Zq(),A=Ih(),{getHighWaterMark:I,getDefaultHighWaterMark:k}=bx(),{aggregateTwoErrors:N,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:H,ERR_STREAM_PUSH_AFTER_EOF:X,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Y},AbortError:K}=ki(),{validateObject:z}=ap(),Q=g("kPaused"),{StringDecoder:se}=eX(),ae=J6();u(ke.prototype,x.prototype),u(ke,x);var W=()=>{},{errorOrDestroy:M}=A,V=1,ee=2,Z=4,me=8,ue=16,q=32,te=64,re=128,pe=256,ne=512,Oe=1024,be=2048,fe=4096,he=8192,ye=16384,Ie=32768,$e=65536,Ge=1<<17,Ee=1<<18;function Ye(de){return{enumerable:!1,get(){return(this.state&de)!==0},set(Se){Se?this.state|=de:this.state&=~de}}}o(st.prototype,{objectMode:Ye(V),ended:Ye(ee),endEmitted:Ye(Z),reading:Ye(me),constructed:Ye(ue),sync:Ye(q),needReadable:Ye(te),emittedReadable:Ye(re),readableListening:Ye(pe),resumeScheduled:Ye(ne),errorEmitted:Ye(Oe),emitClose:Ye(be),autoDestroy:Ye(fe),destroyed:Ye(he),closed:Ye(ye),closeEmitted:Ye(Ie),multiAwaitDrain:Ye($e),readingMore:Ye(Ge),dataEmitted:Ye(Ee)});function st(de,Se,ot){typeof ot!="boolean"&&(ot=Se instanceof Qo()),this.state=be|fe|ue|q,de&&de.objectMode&&(this.state|=V),ot&&de&&de.readableObjectMode&&(this.state|=V),this.highWaterMark=de?I(this,de,"readableHighWaterMark",ot):k(!1),this.buffer=new O,this.length=0,this.pipes=[],this.flowing=null,this[Q]=null,de&&de.emitClose===!1&&(this.state&=~be),de&&de.autoDestroy===!1&&(this.state&=~fe),this.errored=null,this.defaultEncoding=de&&de.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,de&&de.encoding&&(this.decoder=new se(de.encoding),this.encoding=de.encoding)}function ke(de){if(!(this instanceof ke))return new ke(de);let Se=this instanceof Qo();this._readableState=new st(de,this,Se),de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy),typeof de.construct=="function"&&(this._construct=de.construct),de.signal&&!Se&&w(de.signal,this)),x.call(this,de),A.construct(this,()=>{this._readableState.needReadable&&Te(this,this._readableState)})}ke.prototype.destroy=A.destroy,ke.prototype._undestroy=A.undestroy,ke.prototype._destroy=function(de,Se){Se(de)},ke.prototype[y.captureRejectionSymbol]=function(de){this.destroy(de)},ke.prototype[p]=function(){let de;return this.destroyed||(de=this.readableEnded?null:new K,this.destroy(de)),new c((Se,ot)=>T(this,dt=>dt&&dt!==de?ot(dt):Se(null)))},ke.prototype.push=function(de,Se){return kt(this,de,Se,!1)},ke.prototype.unshift=function(de,Se){return kt(this,de,Se,!0)};function kt(de,Se,ot,dt){_("readableAddChunk",Se);let bt=de._readableState,kr;if((bt.state&V)===0&&(typeof Se=="string"?(ot=ot||bt.defaultEncoding,bt.encoding!==ot&&(dt&&bt.encoding?Se=S.from(Se,ot).toString(bt.encoding):(Se=S.from(Se,ot),ot=""))):Se instanceof S?ot="":x._isUint8Array(Se)?(Se=x._uint8ArrayToBuffer(Se),ot=""):Se!=null&&(kr=new B("chunk",["string","Buffer","Uint8Array"],Se))),kr)M(de,kr);else if(Se===null)bt.state&=~me,De(de,bt);else if((bt.state&V)!==0||Se&&Se.length>0)if(dt)if((bt.state&Z)!==0)M(de,new Y);else{if(bt.destroyed||bt.errored)return!1;P(de,bt,Se,!0)}else if(bt.ended)M(de,new X);else{if(bt.destroyed||bt.errored)return!1;bt.state&=~me,bt.decoder&&!ot?(Se=bt.decoder.write(Se),bt.objectMode||Se.length!==0?P(de,bt,Se,!1):Te(de,bt)):P(de,bt,Se,!1)}else dt||(bt.state&=~me,Te(de,bt));return!bt.ended&&(bt.length<bt.highWaterMark||bt.length===0)}function P(de,Se,ot,dt){Se.flowing&&Se.length===0&&!Se.sync&&de.listenerCount("data")>0?((Se.state&$e)!==0?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null,Se.dataEmitted=!0,de.emit("data",ot)):(Se.length+=Se.objectMode?1:ot.length,dt?Se.buffer.unshift(ot):Se.buffer.push(ot),(Se.state&te)!==0&&We(de)),Te(de,Se)}ke.prototype.isPaused=function(){let de=this._readableState;return de[Q]===!0||de.flowing===!1},ke.prototype.setEncoding=function(de){let Se=new se(de);this._readableState.decoder=Se,this._readableState.encoding=this._readableState.decoder.encoding;let ot=this._readableState.buffer,dt="";for(let bt of ot)dt+=Se.write(bt);return ot.clear(),dt!==""&&ot.push(dt),this._readableState.length=dt.length,this};var U=1073741824;function J(de){if(de>U)throw new H("size","<= 1GiB",de);return de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++,de}function we(de,Se){return de<=0||Se.length===0&&Se.ended?0:(Se.state&V)!==0?1:a(de)?Se.flowing&&Se.length?Se.buffer.first().length:Se.length:de<=Se.length?de:Se.ended?Se.length:0}ke.prototype.read=function(de){_("read",de),de===void 0?de=NaN:i(de)||(de=s(de,10));let Se=this._readableState,ot=de;if(de>Se.highWaterMark&&(Se.highWaterMark=J(de)),de!==0&&(Se.state&=~re),de===0&&Se.needReadable&&((Se.highWaterMark!==0?Se.length>=Se.highWaterMark:Se.length>0)||Se.ended))return _("read: emitReadable",Se.length,Se.ended),Se.length===0&&Se.ended?Yn(this):We(this),null;if(de=we(de,Se),de===0&&Se.ended)return Se.length===0&&Yn(this),null;let dt=(Se.state&te)!==0;if(_("need readable",dt),(Se.length===0||Se.length-de<Se.highWaterMark)&&(dt=!0,_("length less than watermark",dt)),Se.ended||Se.reading||Se.destroyed||Se.errored||!Se.constructed)dt=!1,_("reading, ended or constructing",dt);else if(dt){_("do read"),Se.state|=me|q,Se.length===0&&(Se.state|=te);try{this._read(Se.highWaterMark)}catch(kr){M(this,kr)}Se.state&=~q,Se.reading||(de=we(ot,Se))}let bt;return de>0?bt=Sn(de,Se):bt=null,bt===null?(Se.needReadable=Se.length<=Se.highWaterMark,de=0):(Se.length-=de,Se.multiAwaitDrain?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null),Se.length===0&&(Se.ended||(Se.needReadable=!0),ot!==de&&Se.ended&&Yn(this)),bt!==null&&!Se.errorEmitted&&!Se.closeEmitted&&(Se.dataEmitted=!0,this.emit("data",bt)),bt};function De(de,Se){if(_("onEofChunk"),!Se.ended){if(Se.decoder){let ot=Se.decoder.end();ot&&ot.length&&(Se.buffer.push(ot),Se.length+=Se.objectMode?1:ot.length)}Se.ended=!0,Se.sync?We(de):(Se.needReadable=!1,Se.emittedReadable=!0,lt(de))}}function We(de){let Se=de._readableState;_("emitReadable",Se.needReadable,Se.emittedReadable),Se.needReadable=!1,Se.emittedReadable||(_("emitReadable",Se.flowing),Se.emittedReadable=!0,t.nextTick(lt,de))}function lt(de){let Se=de._readableState;_("emitReadable_",Se.destroyed,Se.length,Se.ended),!Se.destroyed&&!Se.errored&&(Se.length||Se.ended)&&(de.emit("readable"),Se.emittedReadable=!1),Se.needReadable=!Se.flowing&&!Se.ended&&Se.length<=Se.highWaterMark,Rn(de)}function Te(de,Se){!Se.readingMore&&Se.constructed&&(Se.readingMore=!0,t.nextTick(Pe,de,Se))}function Pe(de,Se){for(;!Se.reading&&!Se.ended&&(Se.length<Se.highWaterMark||Se.flowing&&Se.length===0);){let ot=Se.length;if(_("maybeReadMore read 0"),de.read(0),ot===Se.length)break}Se.readingMore=!1}ke.prototype._read=function(de){throw new R("_read()")},ke.prototype.pipe=function(de,Se){let ot=this,dt=this._readableState;dt.pipes.length===1&&(dt.multiAwaitDrain||(dt.multiAwaitDrain=!0,dt.awaitDrainWriters=new h(dt.awaitDrainWriters?[dt.awaitDrainWriters]:[]))),dt.pipes.push(de),_("pipe count=%d opts=%j",dt.pipes.length,Se);let bt=(!Se||Se.end!==!1)&&de!==t.stdout&&de!==t.stderr?nn:Ne;dt.endEmitted?t.nextTick(bt):ot.once("end",bt),de.on("unpipe",kr);function kr(Fe,Be){_("onunpipe"),Fe===ot&&Be&&Be.hasUnpiped===!1&&(Be.hasUnpiped=!0,le())}function nn(){_("onend"),de.end()}let ie,ve=!1;function le(){_("cleanup"),de.removeListener("close",Le),de.removeListener("finish",Ve),ie&&de.removeListener("drain",ie),de.removeListener("error",xe),de.removeListener("unpipe",kr),ot.removeListener("end",nn),ot.removeListener("end",Ne),ot.removeListener("data",ge),ve=!0,ie&&dt.awaitDrainWriters&&(!de._writableState||de._writableState.needDrain)&&ie()}function ce(){ve||(dt.pipes.length===1&&dt.pipes[0]===de?(_("false write response, pause",0),dt.awaitDrainWriters=de,dt.multiAwaitDrain=!1):dt.pipes.length>1&&dt.pipes.includes(de)&&(_("false write response, pause",dt.awaitDrainWriters.size),dt.awaitDrainWriters.add(de)),ot.pause()),ie||(ie=St(ot,de),de.on("drain",ie))}ot.on("data",ge);function ge(Fe){_("ondata");let Be=de.write(Fe);_("dest.write",Be),Be===!1&&ce()}function xe(Fe){if(_("onerror",Fe),Ne(),de.removeListener("error",xe),de.listenerCount("error")===0){let Be=de._writableState||de._readableState;Be&&!Be.errorEmitted?M(de,Fe):de.emit("error",Fe)}}E(de,"error",xe);function Le(){de.removeListener("finish",Ve),Ne()}de.once("close",Le);function Ve(){_("onfinish"),de.removeListener("close",Le),Ne()}de.once("finish",Ve);function Ne(){_("unpipe"),ot.unpipe(de)}return de.emit("pipe",ot),de.writableNeedDrain===!0?ce():dt.flowing||(_("pipe resume"),ot.resume()),de};function St(de,Se){return function(){let ot=de._readableState;ot.awaitDrainWriters===Se?(_("pipeOnDrain",1),ot.awaitDrainWriters=null):ot.multiAwaitDrain&&(_("pipeOnDrain",ot.awaitDrainWriters.size),ot.awaitDrainWriters.delete(Se)),(!ot.awaitDrainWriters||ot.awaitDrainWriters.size===0)&&de.listenerCount("data")&&de.resume()}}ke.prototype.unpipe=function(de){let Se=this._readableState,ot={hasUnpiped:!1};if(Se.pipes.length===0)return this;if(!de){let bt=Se.pipes;Se.pipes=[],this.pause();for(let kr=0;kr<bt.length;kr++)bt[kr].emit("unpipe",this,{hasUnpiped:!1});return this}let dt=n(Se.pipes,de);return dt===-1?this:(Se.pipes.splice(dt,1),Se.pipes.length===0&&this.pause(),de.emit("unpipe",this,ot),this)},ke.prototype.on=function(de,Se){let ot=x.prototype.on.call(this,de,Se),dt=this._readableState;return de==="data"?(dt.readableListening=this.listenerCount("readable")>0,dt.flowing!==!1&&this.resume()):de==="readable"&&!dt.endEmitted&&!dt.readableListening&&(dt.readableListening=dt.needReadable=!0,dt.flowing=!1,dt.emittedReadable=!1,_("on readable",dt.length,dt.reading),dt.length?We(this):dt.reading||t.nextTick(Lt,this)),ot},ke.prototype.addListener=ke.prototype.on,ke.prototype.removeListener=function(de,Se){let ot=x.prototype.removeListener.call(this,de,Se);return de==="readable"&&t.nextTick(xt,this),ot},ke.prototype.off=ke.prototype.removeListener,ke.prototype.removeAllListeners=function(de){let Se=x.prototype.removeAllListeners.apply(this,arguments);return(de==="readable"||de===void 0)&&t.nextTick(xt,this),Se};function xt(de){let Se=de._readableState;Se.readableListening=de.listenerCount("readable")>0,Se.resumeScheduled&&Se[Q]===!1?Se.flowing=!0:de.listenerCount("data")>0?de.resume():Se.readableListening||(Se.flowing=null)}function Lt(de){_("readable nexttick read 0"),de.read(0)}ke.prototype.resume=function(){let de=this._readableState;return de.flowing||(_("resume"),de.flowing=!de.readableListening,Nt(this,de)),de[Q]=!1,this};function Nt(de,Se){Se.resumeScheduled||(Se.resumeScheduled=!0,t.nextTick(bi,de,Se))}function bi(de,Se){_("resume",Se.reading),Se.reading||de.read(0),Se.resumeScheduled=!1,de.emit("resume"),Rn(de),Se.flowing&&!Se.reading&&de.read(0)}ke.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Q]=!0,this};function Rn(de){let Se=de._readableState;for(_("flow",Se.flowing);Se.flowing&&de.read()!==null;);}ke.prototype.wrap=function(de){let Se=!1;de.on("data",dt=>{!this.push(dt)&&de.pause&&(Se=!0,de.pause())}),de.on("end",()=>{this.push(null)}),de.on("error",dt=>{M(this,dt)}),de.on("close",()=>{this.destroy()}),de.on("destroy",()=>{this.destroy()}),this._read=()=>{Se&&de.resume&&(Se=!1,de.resume())};let ot=l(de);for(let dt=1;dt<ot.length;dt++){let bt=ot[dt];this[bt]===void 0&&typeof de[bt]=="function"&&(this[bt]=de[bt].bind(de))}return this},ke.prototype[m]=function(){return Wr(this)},ke.prototype.iterator=function(de){return de!==void 0&&z(de,"options"),Wr(this,de)};function Wr(de,Se){typeof de.read!="function"&&(de=ke.wrap(de,{objectMode:!0}));let ot=Kn(de,Se);return ot.stream=de,ot}async function*Kn(de,Se){let ot=W;function dt(nn){this===de?(ot(),ot=W):ot=nn}de.on("readable",dt);let bt,kr=T(de,{writable:!1},nn=>{bt=nn?N(bt,nn):null,ot(),ot=W});try{for(;;){let nn=de.destroyed?null:de.read();if(nn!==null)yield nn;else{if(bt)throw bt;if(bt===null)return;await new c(dt)}}}catch(nn){throw bt=N(bt,nn),bt}finally{(bt||Se?.destroyOnReturn!==!1)&&(bt===void 0||de._readableState.autoDestroy)?A.destroyer(de,null):(de.off("readable",dt),kr())}}o(ke.prototype,{readable:{__proto__:null,get(){let de=this._readableState;return!!de&&de.readable!==!1&&!de.destroyed&&!de.errorEmitted&&!de.endEmitted},set(de){this._readableState&&(this._readableState.readable=!!de)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(de){this._readableState&&(this._readableState.flowing=de)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(de){this._readableState&&(this._readableState.destroyed=de)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(st.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Q]!==!1},set(de){this[Q]=!!de}}}),ke._fromList=Sn;function Sn(de,Se){if(Se.length===0)return null;let ot;return Se.objectMode?ot=Se.buffer.shift():!de||de>=Se.length?(Se.decoder?ot=Se.buffer.join(""):Se.buffer.length===1?ot=Se.buffer.first():ot=Se.buffer.concat(Se.length),Se.buffer.clear()):ot=Se.buffer.consume(de,Se.decoder),ot}function Yn(de){let Se=de._readableState;_("endReadable",Se.endEmitted),Se.endEmitted||(Se.ended=!0,t.nextTick(rn,Se,de))}function rn(de,Se){if(_("endReadableNT",de.endEmitted,de.length),!de.errored&&!de.closeEmitted&&!de.endEmitted&&de.length===0){if(de.endEmitted=!0,Se.emit("end"),Se.writable&&Se.allowHalfOpen===!1)t.nextTick(Sl,Se);else if(de.autoDestroy){let ot=Se._writableState;(!ot||ot.autoDestroy&&(ot.finished||ot.writable===!1))&&Se.destroy()}}}function Sl(de){de.writable&&!de.writableEnded&&!de.destroyed&&de.end()}ke.from=function(de,Se){return ae(ke,de,Se)};var ts;function rs(){return ts===void 0&&(ts={}),ts}ke.fromWeb=function(de,Se){return rs().newStreamReadableFromReadableStream(de,Se)},ke.toWeb=function(de,Se){return rs().newReadableStreamFromStreamReadable(de,Se)},ke.wrap=function(de,Se){var ot,dt;return new ke({objectMode:(ot=(dt=de.readableObjectMode)!==null&&dt!==void 0?dt:de.objectMode)!==null&&ot!==void 0?ot:!0,...Se,destroy(bt,kr){A.destroyer(de,bt),kr(bt)}}).wrap(de)}}),rD=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),{ArrayPrototypeSlice:n,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:o,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:h}=qr();e.exports=z,z.WritableState=Y;var{EventEmitter:p}=(Lc(),wr(_u)),m=tD().Stream,{Buffer:g}=(Gn(),wr(Hn)),y=Ih(),{addAbortSignal:x}=xx(),{getHighWaterMark:E,getDefaultHighWaterMark:S}=bx(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:O,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:k,ERR_STREAM_WRITE_AFTER_END:N,ERR_UNKNOWN_ENCODING:B}=ki().codes,{errorOrDestroy:R}=y;l(z.prototype,m.prototype),l(z,m);function H(){}var X=c("kOnFinished");function Y(fe,he,ye){typeof ye!="boolean"&&(ye=he instanceof Qo()),this.objectMode=!!(fe&&fe.objectMode),ye&&(this.objectMode=this.objectMode||!!(fe&&fe.writableObjectMode)),this.highWaterMark=fe?E(this,fe,"writableHighWaterMark",ye):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Ie=!!(fe&&fe.decodeStrings===!1);this.decodeStrings=!Ie,this.defaultEncoding=fe&&fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,K(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!fe||fe.emitClose!==!1,this.autoDestroy=!fe||fe.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function K(fe){fe.buffered=[],fe.bufferedIndex=0,fe.allBuffers=!0,fe.allNoop=!0}Y.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},s(Y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function z(fe){let he=this instanceof Qo();if(!he&&!a(z,this))return new z(fe);this._writableState=new Y(fe,this,he),fe&&(typeof fe.write=="function"&&(this._write=fe.write),typeof fe.writev=="function"&&(this._writev=fe.writev),typeof fe.destroy=="function"&&(this._destroy=fe.destroy),typeof fe.final=="function"&&(this._final=fe.final),typeof fe.construct=="function"&&(this._construct=fe.construct),fe.signal&&x(fe.signal,this)),m.call(this,fe),y.construct(this,()=>{let ye=this._writableState;ye.writing||me(this,ye),re(this,ye)})}s(z,h,{__proto__:null,value:function(fe){return a(this,fe)?!0:this!==z?!1:fe&&fe._writableState instanceof Y}}),z.prototype.pipe=function(){R(this,new O)};function Q(fe,he,ye,Ie){let $e=fe._writableState;if(typeof ye=="function")Ie=ye,ye=$e.defaultEncoding;else{if(!ye)ye=$e.defaultEncoding;else if(ye!=="buffer"&&!g.isEncoding(ye))throw new B(ye);typeof Ie!="function"&&(Ie=H)}if(he===null)throw new k;if(!$e.objectMode)if(typeof he=="string")$e.decodeStrings!==!1&&(he=g.from(he,ye),ye="buffer");else if(he instanceof g)ye="buffer";else if(m._isUint8Array(he))he=m._uint8ArrayToBuffer(he),ye="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],he);let Ge;return $e.ending?Ge=new N:$e.destroyed&&(Ge=new A("write")),Ge?(t.nextTick(Ie,Ge),R(fe,Ge,!0),Ge):($e.pendingcb++,se(fe,$e,he,ye,Ie))}z.prototype.write=function(fe,he,ye){return Q(this,fe,he,ye)===!0},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){let fe=this._writableState;fe.corked&&(fe.corked--,fe.writing||me(this,fe))},z.prototype.setDefaultEncoding=function(fe){if(typeof fe=="string"&&(fe=u(fe)),!g.isEncoding(fe))throw new B(fe);return this._writableState.defaultEncoding=fe,this};function se(fe,he,ye,Ie,$e){let Ge=he.objectMode?1:ye.length;he.length+=Ge;let Ee=he.length<he.highWaterMark;return Ee||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ye,encoding:Ie,callback:$e}),he.allBuffers&&Ie!=="buffer"&&(he.allBuffers=!1),he.allNoop&&$e!==H&&(he.allNoop=!1)):(he.writelen=Ge,he.writecb=$e,he.writing=!0,he.sync=!0,fe._write(ye,Ie,he.onwrite),he.sync=!1),Ee&&!he.errored&&!he.destroyed}function ae(fe,he,ye,Ie,$e,Ge,Ee){he.writelen=Ie,he.writecb=Ee,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new A("write")):ye?fe._writev($e,he.onwrite):fe._write($e,Ge,he.onwrite),he.sync=!1}function W(fe,he,ye,Ie){--he.pendingcb,Ie(ye),Z(he),R(fe,ye)}function M(fe,he){let ye=fe._writableState,Ie=ye.sync,$e=ye.writecb;if(typeof $e!="function"){R(fe,new _);return}ye.writing=!1,ye.writecb=null,ye.length-=ye.writelen,ye.writelen=0,he?(he.stack,ye.errored||(ye.errored=he),fe._readableState&&!fe._readableState.errored&&(fe._readableState.errored=he),Ie?t.nextTick(W,fe,ye,he,$e):W(fe,ye,he,$e)):(ye.buffered.length>ye.bufferedIndex&&me(fe,ye),Ie?ye.afterWriteTickInfo!==null&&ye.afterWriteTickInfo.cb===$e?ye.afterWriteTickInfo.count++:(ye.afterWriteTickInfo={count:1,cb:$e,stream:fe,state:ye},t.nextTick(V,ye.afterWriteTickInfo)):ee(fe,ye,1,$e))}function V({stream:fe,state:he,count:ye,cb:Ie}){return he.afterWriteTickInfo=null,ee(fe,he,ye,Ie)}function ee(fe,he,ye,Ie){for(!he.ending&&!fe.destroyed&&he.length===0&&he.needDrain&&(he.needDrain=!1,fe.emit("drain"));ye-- >0;)he.pendingcb--,Ie();he.destroyed&&Z(he),re(fe,he)}function Z(fe){if(fe.writing)return;for(let $e=fe.bufferedIndex;$e<fe.buffered.length;++$e){var he;let{chunk:Ge,callback:Ee}=fe.buffered[$e],Ye=fe.objectMode?1:Ge.length;fe.length-=Ye,Ee((he=fe.errored)!==null&&he!==void 0?he:new A("write"))}let ye=fe[X].splice(0);for(let $e=0;$e<ye.length;$e++){var Ie;ye[$e]((Ie=fe.errored)!==null&&Ie!==void 0?Ie:new A("end"))}K(fe)}function me(fe,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;let{buffered:ye,bufferedIndex:Ie,objectMode:$e}=he,Ge=ye.length-Ie;if(!Ge)return;let Ee=Ie;if(he.bufferProcessing=!0,Ge>1&&fe._writev){he.pendingcb-=Ge-1;let Ye=he.allNoop?H:ke=>{for(let kt=Ee;kt<ye.length;++kt)ye[kt].callback(ke)},st=he.allNoop&&Ee===0?ye:n(ye,Ee);st.allBuffers=he.allBuffers,ae(fe,he,!0,he.length,st,"",Ye),K(he)}else{do{let{chunk:Ye,encoding:st,callback:ke}=ye[Ee];ye[Ee++]=null;let kt=$e?1:Ye.length;ae(fe,he,!1,kt,Ye,st,ke)}while(Ee<ye.length&&!he.writing);Ee===ye.length?K(he):Ee>256?(ye.splice(0,Ee),he.bufferedIndex=0):he.bufferedIndex=Ee}he.bufferProcessing=!1}z.prototype._write=function(fe,he,ye){if(this._writev)this._writev([{chunk:fe,encoding:he}],ye);else throw new T("_write()")},z.prototype._writev=null,z.prototype.end=function(fe,he,ye){let Ie=this._writableState;typeof fe=="function"?(ye=fe,fe=null,he=null):typeof he=="function"&&(ye=he,he=null);let $e;if(fe!=null){let Ge=Q(this,fe,he);Ge instanceof i&&($e=Ge)}return Ie.corked&&(Ie.corked=1,this.uncork()),$e||(!Ie.errored&&!Ie.ending?(Ie.ending=!0,re(this,Ie,!0),Ie.ended=!0):Ie.finished?$e=new I("end"):Ie.destroyed&&($e=new A("end"))),typeof ye=="function"&&($e||Ie.finished?t.nextTick(ye,$e):Ie[X].push(ye)),this};function ue(fe){return fe.ending&&!fe.destroyed&&fe.constructed&&fe.length===0&&!fe.errored&&fe.buffered.length===0&&!fe.finished&&!fe.writing&&!fe.errorEmitted&&!fe.closeEmitted}function q(fe,he){let ye=!1;function Ie($e){if(ye){R(fe,$e??_());return}if(ye=!0,he.pendingcb--,$e){let Ge=he[X].splice(0);for(let Ee=0;Ee<Ge.length;Ee++)Ge[Ee]($e);R(fe,$e,he.sync)}else ue(he)&&(he.prefinished=!0,fe.emit("prefinish"),he.pendingcb++,t.nextTick(pe,fe,he))}he.sync=!0,he.pendingcb++;try{fe._final(Ie)}catch($e){Ie($e)}he.sync=!1}function te(fe,he){!he.prefinished&&!he.finalCalled&&(typeof fe._final=="function"&&!he.destroyed?(he.finalCalled=!0,q(fe,he)):(he.prefinished=!0,fe.emit("prefinish")))}function re(fe,he,ye){ue(he)&&(te(fe,he),he.pendingcb===0&&(ye?(he.pendingcb++,t.nextTick((Ie,$e)=>{ue($e)?pe(Ie,$e):$e.pendingcb--},fe,he)):ue(he)&&(he.pendingcb++,pe(fe,he))))}function pe(fe,he){he.pendingcb--,he.finished=!0;let ye=he[X].splice(0);for(let Ie=0;Ie<ye.length;Ie++)ye[Ie]();if(fe.emit("finish"),he.autoDestroy){let Ie=fe._readableState;(!Ie||Ie.autoDestroy&&(Ie.endEmitted||Ie.readable===!1))&&fe.destroy()}}o(z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(fe){this._writableState&&(this._writableState.destroyed=fe)}},writable:{__proto__:null,get(){let fe=this._writableState;return!!fe&&fe.writable!==!1&&!fe.destroyed&&!fe.errored&&!fe.ending&&!fe.ended},set(fe){this._writableState&&(this._writableState.writable=!!fe)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let fe=this._writableState;return fe?!fe.destroyed&&!fe.ending&&fe.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ne=y.destroy;z.prototype.destroy=function(fe,he){let ye=this._writableState;return!ye.destroyed&&(ye.bufferedIndex<ye.buffered.length||ye[X].length)&&t.nextTick(Z,ye),ne.call(this,fe,he),this},z.prototype._undestroy=y.undestroy,z.prototype._destroy=function(fe,he){he(fe)},z.prototype[p.captureRejectionSymbol]=function(fe){this.destroy(fe)};var Oe;function be(){return Oe===void 0&&(Oe={}),Oe}z.fromWeb=function(fe,he){return be().newStreamWritableFromWritableStream(fe,he)},z.toWeb=function(fe){return be().newWritableStreamFromStreamWritable(fe)}}),tX=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),n=(Gn(),wr(Hn)),{isReadable:i,isWritable:a,isIterable:s,isNodeStream:o,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:c,isReadableStream:h,isWritableStream:p}=ul(),m=Tu(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:x}}=ki(),{destroyer:E}=Ih(),S=Qo(),w=Sx(),T=rD(),{createDeferredPromise:_}=zi(),O=J6(),A=globalThis.Blob||n.Blob,I=typeof A<"u"?function(X){return X instanceof A}:function(X){return!1},k=globalThis.AbortController||b0().AbortController,{FunctionPrototypeCall:N}=qr(),B=class extends S{constructor(X){super(X),X?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),X?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function X(Y,K){if(c(Y))return Y;if(l(Y))return H({readable:Y});if(u(Y))return H({writable:Y});if(o(Y))return H({writable:!1,readable:!1});if(h(Y))return H({readable:w.fromWeb(Y)});if(p(Y))return H({writable:T.fromWeb(Y)});if(typeof Y=="function"){let{value:Q,write:se,final:ae,destroy:W}=R(Y);if(s(Q))return O(B,Q,{objectMode:!0,write:se,final:ae,destroy:W});let M=Q?.then;if(typeof M=="function"){let V,ee=N(M,Q,Z=>{if(Z!=null)throw new x("nully","body",Z)},Z=>{E(V,Z)});return V=new B({objectMode:!0,readable:!1,write:se,final(Z){ae(async()=>{try{await ee,t.nextTick(Z,null)}catch(me){t.nextTick(Z,me)}})},destroy:W})}throw new x("Iterable, AsyncIterable or AsyncFunction",K,Q)}if(I(Y))return X(Y.arrayBuffer());if(s(Y))return O(B,Y,{objectMode:!0,writable:!1});if(h(Y?.readable)&&p(Y?.writable))return B.fromWeb(Y);if(typeof Y?.writable=="object"||typeof Y?.readable=="object"){let Q=Y!=null&&Y.readable?l(Y?.readable)?Y?.readable:X(Y.readable):void 0,se=Y!=null&&Y.writable?u(Y?.writable)?Y?.writable:X(Y.writable):void 0;return H({readable:Q,writable:se})}let z=Y?.then;if(typeof z=="function"){let Q;return N(z,Y,se=>{se!=null&&Q.push(se),Q.push(null)},se=>{E(Q,se)}),Q=new B({objectMode:!0,writable:!1,read(){}})}throw new y(K,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Y)};function R(X){let{promise:Y,resolve:K}=_(),z=new k,Q=z.signal;return{value:X((async function*(){for(;;){let se=Y;Y=null;let{chunk:ae,done:W,cb:M}=await se;if(t.nextTick(M),W)return;if(Q.aborted)throw new g(void 0,{cause:Q.reason});({promise:Y,resolve:K}=_()),yield ae}})(),{signal:Q}),write(se,ae,W){let M=K;K=null,M({chunk:se,done:!1,cb:W})},final(se){let ae=K;K=null,ae({done:!0,cb:se})},destroy(se,ae){z.abort(),ae(se)}}}function H(X){let Y=X.readable&&typeof X.readable.read!="function"?w.wrap(X.readable):X.readable,K=X.writable,z=!!i(Y),Q=!!a(K),se,ae,W,M,V;function ee(Z){let me=M;M=null,me?me(Z):Z&&V.destroy(Z)}return V=new B({readableObjectMode:!!(Y!=null&&Y.readableObjectMode),writableObjectMode:!!(K!=null&&K.writableObjectMode),readable:z,writable:Q}),Q&&(m(K,Z=>{Q=!1,Z&&E(Y,Z),ee(Z)}),V._write=function(Z,me,ue){K.write(Z,me)?ue():se=ue},V._final=function(Z){K.end(),ae=Z},K.on("drain",function(){if(se){let Z=se;se=null,Z()}}),K.on("finish",function(){if(ae){let Z=ae;ae=null,Z()}})),z&&(m(Y,Z=>{z=!1,Z&&E(Y,Z),ee(Z)}),Y.on("readable",function(){if(W){let Z=W;W=null,Z()}}),Y.on("end",function(){V.push(null)}),V._read=function(){for(;;){let Z=Y.read();if(Z===null){W=V._read;return}if(!V.push(Z))return}}),V._destroy=function(Z,me){!Z&&M!==null&&(Z=new g),W=null,se=null,ae=null,M===null?me(Z):(M=me,E(K,Z),E(Y,Z))},V}}),Qo=tt((r,e)=>{qe(),Qe(),Xe();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:i,ObjectSetPrototypeOf:a}=qr();e.exports=l;var s=Sx(),o=rD();a(l.prototype,s.prototype),a(l,s);{let p=i(o.prototype);for(let m=0;m<p.length;m++){let g=p[m];l.prototype[g]||(l.prototype[g]=o.prototype[g])}}function l(p){if(!(this instanceof l))return new l(p);s.call(this,p),o.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(l.prototype,{writable:{__proto__:null,...n(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(o.prototype,"writableLength")},writableFinished:{__proto__:null,...n(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var u;function c(){return u===void 0&&(u={}),u}l.fromWeb=function(p,m){return c().newStreamDuplexFromReadableWritablePair(p,m)},l.toWeb=function(p){return c().newReadableWritablePairFromDuplex(p)};var h;l.from=function(p){return h||(h=tX()),h(p,"body")}}),e8=tt((r,e)=>{qe(),Qe(),Xe();var{ObjectSetPrototypeOf:t,Symbol:n}=qr();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=ki().codes,a=Qo(),{getHighWaterMark:s}=bx();t(l.prototype,a.prototype),t(l,a);var o=n("kCallback");function l(h){if(!(this instanceof l))return new l(h);let p=h?s(this,h,"readableHighWaterMark",!0):null;p===0&&(h={...h,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:h.writableHighWaterMark||0}),a.call(this,h),this._readableState.sync=!1,this[o]=null,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}function u(h){typeof this._flush=="function"&&!this.destroyed?this._flush((p,m)=>{if(p){h?h(p):this.destroy(p);return}m!=null&&this.push(m),this.push(null),h&&h()}):(this.push(null),h&&h())}function c(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(h,p,m){throw new i("_transform()")},l.prototype._write=function(h,p,m){let g=this._readableState,y=this._writableState,x=g.length;this._transform(h,p,(E,S)=>{if(E){m(E);return}S!=null&&this.push(S),y.ended||x===g.length||g.length<g.highWaterMark?m():this[o]=m})},l.prototype._read=function(){if(this[o]){let h=this[o];this[o]=null,h()}}}),t8=tt((r,e)=>{qe(),Qe(),Xe();var{ObjectSetPrototypeOf:t}=qr();e.exports=i;var n=e8();t(i.prototype,n.prototype),t(i,n);function i(a){if(!(this instanceof i))return new i(a);n.call(this,a)}i.prototype._transform=function(a,s,o){o(null,a)}}),nD=tt((r,e)=>{qe(),Qe(),Xe();var t=Mc(),{ArrayIsArray:n,Promise:i,SymbolAsyncIterator:a,SymbolDispose:s}=qr(),o=Tu(),{once:l}=zi(),u=Ih(),c=Qo(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:x},AbortError:E}=ki(),{validateFunction:S,validateAbortSignal:w}=ap(),{isIterable:T,isReadable:_,isReadableNodeStream:O,isNodeStream:A,isTransformStream:I,isWebStream:k,isReadableStream:N,isReadableFinished:B}=ul(),R=globalThis.AbortController||b0().AbortController,H,X,Y;function K(Z,me,ue){let q=!1;Z.on("close",()=>{q=!0});let te=o(Z,{readable:me,writable:ue},re=>{q=!re});return{destroy:re=>{q||(q=!0,u.destroyer(Z,re||new y("pipe")))},cleanup:te}}function z(Z){return S(Z[Z.length-1],"streams[stream.length - 1]"),Z.pop()}function Q(Z){if(T(Z))return Z;if(O(Z))return se(Z);throw new p("val",["Readable","Iterable","AsyncIterable"],Z)}async function*se(Z){X||(X=Sx()),yield*X.prototype[a].call(Z)}async function ae(Z,me,ue,{end:q}){let te,re=null,pe=be=>{if(be&&(te=be),re){let fe=re;re=null,fe()}},ne=()=>new i((be,fe)=>{te?fe(te):re=()=>{te?fe(te):be()}});me.on("drain",pe);let Oe=o(me,{readable:!1},pe);try{me.writableNeedDrain&&await ne();for await(let be of Z)me.write(be)||await ne();q&&(me.end(),await ne()),ue()}catch(be){ue(te!==be?h(te,be):be)}finally{Oe(),me.off("drain",pe)}}async function W(Z,me,ue,{end:q}){I(me)&&(me=me.writable);let te=me.getWriter();try{for await(let re of Z)await te.ready,te.write(re).catch(()=>{});await te.ready,q&&await te.close(),ue()}catch(re){try{await te.abort(re),ue(re)}catch(pe){ue(pe)}}}function M(...Z){return V(Z,l(z(Z)))}function V(Z,me,ue){if(Z.length===1&&n(Z[0])&&(Z=Z[0]),Z.length<2)throw new g("streams");let q=new R,te=q.signal,re=ue?.signal,pe=[];w(re,"options.signal");function ne(){$e(new E)}Y=Y||zi().addAbortListener;let Oe;re&&(Oe=Y(re,ne));let be,fe,he=[],ye=0;function Ie(st){$e(st,--ye===0)}function $e(st,ke){var kt;if(st&&(!be||be.code==="ERR_STREAM_PREMATURE_CLOSE")&&(be=st),!(!be&&!ke)){for(;he.length;)he.shift()(be);(kt=Oe)===null||kt===void 0||kt[s](),q.abort(),ke&&(be||pe.forEach(P=>P()),t.nextTick(me,be,fe))}}let Ge;for(let st=0;st<Z.length;st++){let ke=Z[st],kt=st<Z.length-1,P=st>0,U=kt||ue?.end!==!1,J=st===Z.length-1;if(A(ke)){let we=function(De){De&&De.name!=="AbortError"&&De.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ie(De)};if(U){let{destroy:De,cleanup:We}=K(ke,kt,P);he.push(De),_(ke)&&J&&pe.push(We)}ke.on("error",we),_(ke)&&J&&pe.push(()=>{ke.removeListener("error",we)})}if(st===0)if(typeof ke=="function"){if(Ge=ke({signal:te}),!T(Ge))throw new m("Iterable, AsyncIterable or Stream","source",Ge)}else T(ke)||O(ke)||I(ke)?Ge=ke:Ge=c.from(ke);else if(typeof ke=="function"){if(I(Ge)){var Ee;Ge=Q((Ee=Ge)===null||Ee===void 0?void 0:Ee.readable)}else Ge=Q(Ge);if(Ge=ke(Ge,{signal:te}),kt){if(!T(Ge,!0))throw new m("AsyncIterable",`transform[${st-1}]`,Ge)}else{var Ye;H||(H=t8());let we=new H({objectMode:!0}),De=(Ye=Ge)===null||Ye===void 0?void 0:Ye.then;if(typeof De=="function")ye++,De.call(Ge,Te=>{fe=Te,Te!=null&&we.write(Te),U&&we.end(),t.nextTick(Ie)},Te=>{we.destroy(Te),t.nextTick(Ie,Te)});else if(T(Ge,!0))ye++,ae(Ge,we,Ie,{end:U});else if(N(Ge)||I(Ge)){let Te=Ge.readable||Ge;ye++,ae(Te,we,Ie,{end:U})}else throw new m("AsyncIterable or Promise","destination",Ge);Ge=we;let{destroy:We,cleanup:lt}=K(Ge,!1,!0);he.push(We),J&&pe.push(lt)}}else if(A(ke)){if(O(Ge)){ye+=2;let we=ee(Ge,ke,Ie,{end:U});_(ke)&&J&&pe.push(we)}else if(I(Ge)||N(Ge)){let we=Ge.readable||Ge;ye++,ae(we,ke,Ie,{end:U})}else if(T(Ge))ye++,ae(Ge,ke,Ie,{end:U});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ge);Ge=ke}else if(k(ke)){if(O(Ge))ye++,W(Q(Ge),ke,Ie,{end:U});else if(N(Ge)||T(Ge))ye++,W(Ge,ke,Ie,{end:U});else if(I(Ge))ye++,W(Ge.readable,ke,Ie,{end:U});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ge);Ge=ke}else Ge=c.from(ke)}return(te!=null&&te.aborted||re!=null&&re.aborted)&&t.nextTick(ne),Ge}function ee(Z,me,ue,{end:q}){let te=!1;if(me.on("close",()=>{te||ue(new x)}),Z.pipe(me,{end:!1}),q){let re=function(){te=!0,me.end()};B(Z)?t.nextTick(re):Z.once("end",re)}else ue();return o(Z,{readable:!0,writable:!1},re=>{let pe=Z._readableState;re&&re.code==="ERR_STREAM_PREMATURE_CLOSE"&&pe&&pe.ended&&!pe.errored&&!pe.errorEmitted?Z.once("end",ue).once("error",ue):ue(re)}),o(me,{readable:!1,writable:!0},ue)}e.exports={pipelineImpl:V,pipeline:M}}),r8=tt((r,e)=>{qe(),Qe(),Xe();var{pipeline:t}=nD(),n=Qo(),{destroyer:i}=Ih(),{isNodeStream:a,isReadable:s,isWritable:o,isWebStream:l,isTransformStream:u,isWritableStream:c,isReadableStream:h}=ul(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:g}}=ki(),y=Tu();e.exports=function(...x){if(x.length===0)throw new g("streams");if(x.length===1)return n.from(x[0]);let E=[...x];if(typeof x[0]=="function"&&(x[0]=n.from(x[0])),typeof x[x.length-1]=="function"){let R=x.length-1;x[R]=n.from(x[R])}for(let R=0;R<x.length;++R)if(!(!a(x[R])&&!l(x[R]))){if(R<x.length-1&&!(s(x[R])||h(x[R])||u(x[R])))throw new m(`streams[${R}]`,E[R],"must be readable");if(R>0&&!(o(x[R])||c(x[R])||u(x[R])))throw new m(`streams[${R}]`,E[R],"must be writable")}let S,w,T,_,O;function A(R){let H=_;_=null,H?H(R):R?O.destroy(R):!B&&!N&&O.destroy()}let I=x[0],k=t(x,A),N=!!(o(I)||c(I)||u(I)),B=!!(s(k)||h(k)||u(k));if(O=new n({writableObjectMode:!!(I!=null&&I.writableObjectMode),readableObjectMode:!!(k!=null&&k.readableObjectMode),writable:N,readable:B}),N){if(a(I))O._write=function(H,X,Y){I.write(H,X)?Y():S=Y},O._final=function(H){I.end(),w=H},I.on("drain",function(){if(S){let H=S;S=null,H()}});else if(l(I)){let H=(u(I)?I.writable:I).getWriter();O._write=async function(X,Y,K){try{await H.ready,H.write(X).catch(()=>{}),K()}catch(z){K(z)}},O._final=async function(X){try{await H.ready,H.close().catch(()=>{}),w=X}catch(Y){X(Y)}}}let R=u(k)?k.readable:k;y(R,()=>{if(w){let H=w;w=null,H()}})}if(B){if(a(k))k.on("readable",function(){if(T){let R=T;T=null,R()}}),k.on("end",function(){O.push(null)}),O._read=function(){for(;;){let R=k.read();if(R===null){T=O._read;return}if(!O.push(R))return}};else if(l(k)){let R=(u(k)?k.readable:k).getReader();O._read=async function(){for(;;)try{let{value:H,done:X}=await R.read();if(!O.push(H))return;if(X){O.push(null);return}}catch{return}}}}return O._destroy=function(R,H){!R&&_!==null&&(R=new p),T=null,S=null,w=null,_===null?H(R):(_=H,a(k)&&i(k,R))},O}}),rX=tt((r,e)=>{qe(),Qe(),Xe();var t=globalThis.AbortController||b0().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:o}=ki(),{validateAbortSignal:l,validateInteger:u,validateObject:c}=ap(),h=qr().Symbol("kWeak"),p=qr().Symbol("kResistStopPropagation"),{finished:m}=Tu(),g=r8(),{addAbortSignalNoValidate:y}=xx(),{isWritable:x,isNodeStream:E}=ul(),{deprecate:S}=zi(),{ArrayPrototypePush:w,Boolean:T,MathFloor:_,Number:O,NumberIsNaN:A,Promise:I,PromiseReject:k,PromiseResolve:N,PromisePrototypeThen:B,Symbol:R}=qr(),H=R("kEmpty"),X=R("kEof");function Y(re,pe){if(pe!=null&&c(pe,"options"),pe?.signal!=null&&l(pe.signal,"options.signal"),E(re)&&!x(re))throw new n("stream",re,"must be writable");let ne=g(this,re);return pe!=null&&pe.signal&&y(pe.signal,ne),ne}function K(re,pe){if(typeof re!="function")throw new i("fn",["Function","AsyncFunction"],re);pe!=null&&c(pe,"options"),pe?.signal!=null&&l(pe.signal,"options.signal");let ne=1;pe?.concurrency!=null&&(ne=_(pe.concurrency));let Oe=ne-1;return pe?.highWaterMark!=null&&(Oe=_(pe.highWaterMark)),u(ne,"options.concurrency",1),u(Oe,"options.highWaterMark",0),Oe+=ne,(async function*(){let be=zi().AbortSignalAny([pe?.signal].filter(T)),fe=this,he=[],ye={signal:be},Ie,$e,Ge=!1,Ee=0;function Ye(){Ge=!0,st()}function st(){Ee-=1,ke()}function ke(){$e&&!Ge&&Ee<ne&&he.length<Oe&&($e(),$e=null)}async function kt(){try{for await(let P of fe){if(Ge)return;if(be.aborted)throw new o;try{if(P=re(P,ye),P===H)continue;P=N(P)}catch(U){P=k(U)}Ee+=1,B(P,st,Ye),he.push(P),Ie&&(Ie(),Ie=null),!Ge&&(he.length>=Oe||Ee>=ne)&&await new I(U=>{$e=U})}he.push(X)}catch(P){let U=k(P);B(U,st,Ye),he.push(U)}finally{Ge=!0,Ie&&(Ie(),Ie=null)}}kt();try{for(;;){for(;he.length>0;){let P=await he[0];if(P===X)return;if(be.aborted)throw new o;P!==H&&(yield P),he.shift(),ke()}await new I(P=>{Ie=P})}}finally{Ge=!0,$e&&($e(),$e=null)}}).call(this)}function z(re=void 0){return re!=null&&c(re,"options"),re?.signal!=null&&l(re.signal,"options.signal"),(async function*(){let pe=0;for await(let Oe of this){var ne;if(re!=null&&(ne=re.signal)!==null&&ne!==void 0&&ne.aborted)throw new o({cause:re.signal.reason});yield[pe++,Oe]}}).call(this)}async function Q(re,pe=void 0){for await(let ne of M.call(this,re,pe))return!0;return!1}async function se(re,pe=void 0){if(typeof re!="function")throw new i("fn",["Function","AsyncFunction"],re);return!await Q.call(this,async(...ne)=>!await re(...ne),pe)}async function ae(re,pe){for await(let ne of M.call(this,re,pe))return ne}async function W(re,pe){if(typeof re!="function")throw new i("fn",["Function","AsyncFunction"],re);async function ne(Oe,be){return await re(Oe,be),H}for await(let Oe of K.call(this,ne,pe));}function M(re,pe){if(typeof re!="function")throw new i("fn",["Function","AsyncFunction"],re);async function ne(Oe,be){return await re(Oe,be)?Oe:H}return K.call(this,ne,pe)}var V=class extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ee(re,pe,ne){var Oe;if(typeof re!="function")throw new i("reducer",["Function","AsyncFunction"],re);ne!=null&&c(ne,"options"),ne?.signal!=null&&l(ne.signal,"options.signal");let be=arguments.length>1;if(ne!=null&&(Oe=ne.signal)!==null&&Oe!==void 0&&Oe.aborted){let $e=new o(void 0,{cause:ne.signal.reason});throw this.once("error",()=>{}),await m(this.destroy($e)),$e}let fe=new t,he=fe.signal;if(ne!=null&&ne.signal){let $e={once:!0,[h]:this,[p]:!0};ne.signal.addEventListener("abort",()=>fe.abort(),$e)}let ye=!1;try{for await(let $e of this){var Ie;if(ye=!0,ne!=null&&(Ie=ne.signal)!==null&&Ie!==void 0&&Ie.aborted)throw new o;be?pe=await re(pe,$e,{signal:he}):(pe=$e,be=!0)}if(!ye&&!be)throw new V}finally{fe.abort()}return pe}async function Z(re){re!=null&&c(re,"options"),re?.signal!=null&&l(re.signal,"options.signal");let pe=[];for await(let Oe of this){var ne;if(re!=null&&(ne=re.signal)!==null&&ne!==void 0&&ne.aborted)throw new o(void 0,{cause:re.signal.reason});w(pe,Oe)}return pe}function me(re,pe){let ne=K.call(this,re,pe);return(async function*(){for await(let Oe of ne)yield*Oe}).call(this)}function ue(re){if(re=O(re),A(re))return 0;if(re<0)throw new s("number",">= 0",re);return re}function q(re,pe=void 0){return pe!=null&&c(pe,"options"),pe?.signal!=null&&l(pe.signal,"options.signal"),re=ue(re),(async function*(){var ne;if(pe!=null&&(ne=pe.signal)!==null&&ne!==void 0&&ne.aborted)throw new o;for await(let be of this){var Oe;if(pe!=null&&(Oe=pe.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o;re--<=0&&(yield be)}}).call(this)}function te(re,pe=void 0){return pe!=null&&c(pe,"options"),pe?.signal!=null&&l(pe.signal,"options.signal"),re=ue(re),(async function*(){var ne;if(pe!=null&&(ne=pe.signal)!==null&&ne!==void 0&&ne.aborted)throw new o;for await(let be of this){var Oe;if(pe!=null&&(Oe=pe.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o;if(re-- >0&&(yield be),re<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:S(z,"readable.asIndexedPairs will be removed in a future version."),drop:q,filter:M,flatMap:me,map:K,take:te,compose:Y},e.exports.promiseReturningOperators={every:se,forEach:W,reduce:ee,toArray:Z,some:Q,find:ae}}),n8=tt((r,e)=>{qe(),Qe(),Xe();var{ArrayPrototypePop:t,Promise:n}=qr(),{isIterable:i,isNodeStream:a,isWebStream:s}=ul(),{pipelineImpl:o}=nD(),{finished:l}=Tu();i8();function u(...c){return new n((h,p)=>{let m,g,y=c[c.length-1];if(y&&typeof y=="object"&&!a(y)&&!i(y)&&!s(y)){let x=t(c);m=x.signal,g=x.end}o(c,(x,E)=>{x?p(x):h(E)},{signal:m,end:g})})}e.exports={finished:l,pipeline:u}}),i8=tt((r,e)=>{qe(),Qe(),Xe();var{Buffer:t}=(Gn(),wr(Hn)),{ObjectDefineProperty:n,ObjectKeys:i,ReflectApply:a}=qr(),{promisify:{custom:s}}=zi(),{streamReturningOperators:o,promiseReturningOperators:l}=rX(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=ki(),c=r8(),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:p}=bx(),{pipeline:m}=nD(),{destroyer:g}=Ih(),y=Tu(),x=n8(),E=ul(),S=e.exports=tD().Stream;S.isDestroyed=E.isDestroyed,S.isDisturbed=E.isDisturbed,S.isErrored=E.isErrored,S.isReadable=E.isReadable,S.isWritable=E.isWritable,S.Readable=Sx();for(let T of i(o)){let _=function(...A){if(new.target)throw u();return S.Readable.from(a(O,this,A))},O=o[T];n(_,"name",{__proto__:null,value:O.name}),n(_,"length",{__proto__:null,value:O.length}),n(S.Readable.prototype,T,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(let T of i(l)){let _=function(...A){if(new.target)throw u();return a(O,this,A)},O=l[T];n(_,"name",{__proto__:null,value:O.name}),n(_,"length",{__proto__:null,value:O.length}),n(S.Readable.prototype,T,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}S.Writable=rD(),S.Duplex=Qo(),S.Transform=e8(),S.PassThrough=t8(),S.pipeline=m;var{addAbortSignal:w}=xx();S.addAbortSignal=w,S.finished=y,S.destroy=g,S.compose=c,S.setDefaultHighWaterMark=h,S.getDefaultHighWaterMark=p,n(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return x}}),n(m,s,{__proto__:null,enumerable:!0,get(){return x.pipeline}}),n(y,s,{__proto__:null,enumerable:!0,get(){return x.finished}}),S.Stream=S,S._isUint8Array=function(T){return T instanceof Uint8Array},S._uint8ArrayToBuffer=function(T){return t.from(T.buffer,T.byteOffset,T.byteLength)}}),Nc=tt((r,e)=>{qe(),Qe(),Xe();var t=i8(),n=n8(),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}),nX=tt((r,e)=>{qe(),Qe(),Xe(),typeof Object.create=="function"?e.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),iX=tt((r,e)=>{qe(),Qe(),Xe();var{Buffer:t}=(Gn(),wr(Hn)),n=Symbol.for("BufferList");function i(a){if(!(this instanceof i))return new i(a);i._init.call(this,a)}i._init=function(a){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,a&&this.append(a)},i.prototype._new=function(a){return new i(a)},i.prototype._offset=function(a){if(a===0)return[0,0];let s=0;for(let o=0;o<this._bufs.length;o++){let l=s+this._bufs[o].length;if(a<l||o===this._bufs.length-1)return[o,a-s];s=l}},i.prototype._reverseOffset=function(a){let s=a[0],o=a[1];for(let l=0;l<s;l++)o+=this._bufs[l].length;return o},i.prototype.getBuffers=function(){return this._bufs},i.prototype.get=function(a){if(a>this.length||a<0)return;let s=this._offset(a);return this._bufs[s[0]][s[1]]},i.prototype.slice=function(a,s){return typeof a=="number"&&a<0&&(a+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,a,s)},i.prototype.copy=function(a,s,o,l){if((typeof o!="number"||o<0)&&(o=0),(typeof l!="number"||l>this.length)&&(l=this.length),o>=this.length||l<=0)return a||t.alloc(0);let u=!!a,c=this._offset(o),h=l-o,p=h,m=u&&s||0,g=c[1];if(o===0&&l===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(a,m),m+=this._bufs[y].length;return a}if(p<=this._bufs[c[0]].length-g)return u?this._bufs[c[0]].copy(a,s,g,g+p):this._bufs[c[0]].slice(g,g+p);u||(a=t.allocUnsafe(h));for(let y=c[0];y<this._bufs.length;y++){let x=this._bufs[y].length-g;if(p>x)this._bufs[y].copy(a,m,g),m+=x;else{this._bufs[y].copy(a,m,g,g+p),m+=x;break}p-=x,g&&(g=0)}return a.length>m?a.slice(0,m):a},i.prototype.shallowSlice=function(a,s){if(a=a||0,s=typeof s!="number"?this.length:s,a<0&&(a+=this.length),s<0&&(s+=this.length),a===s)return this._new();let o=this._offset(a),l=this._offset(s),u=this._bufs.slice(o[0],l[0]+1);return l[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,l[1]),o[1]!==0&&(u[0]=u[0].slice(o[1])),this._new(u)},i.prototype.toString=function(a,s,o){return this.slice(s,o).toString(a)},i.prototype.consume=function(a){if(a=Math.trunc(a),Number.isNaN(a)||a<=0)return this;for(;this._bufs.length;)if(a>=this._bufs[0].length)a-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(a),this.length-=a;break}return this},i.prototype.duplicate=function(){let a=this._new();for(let s=0;s<this._bufs.length;s++)a.append(this._bufs[s]);return a},i.prototype.append=function(a){return this._attach(a,i.prototype._appendBuffer)},i.prototype.prepend=function(a){return this._attach(a,i.prototype._prependBuffer,!0)},i.prototype._attach=function(a,s,o){if(a==null)return this;if(a.buffer)s.call(this,t.from(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a)){let[l,u]=o?[a.length-1,-1]:[0,1];for(let c=l;c>=0&&c<a.length;c+=u)this._attach(a[c],s,o)}else if(this._isBufferList(a)){let[l,u]=o?[a._bufs.length-1,-1]:[0,1];for(let c=l;c>=0&&c<a._bufs.length;c+=u)this._attach(a._bufs[c],s,o)}else typeof a=="number"&&(a=a.toString()),s.call(this,t.from(a));return this},i.prototype._appendBuffer=function(a){this._bufs.push(a),this.length+=a.length},i.prototype._prependBuffer=function(a){this._bufs.unshift(a),this.length+=a.length},i.prototype.indexOf=function(a,s,o){if(o===void 0&&typeof s=="string"&&(o=s,s=void 0),typeof a=="function"||Array.isArray(a))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof a=="number"?a=t.from([a]):typeof a=="string"?a=t.from(a,o):this._isBufferList(a)?a=a.slice():Array.isArray(a.buffer)?a=t.from(a.buffer,a.byteOffset,a.byteLength):t.isBuffer(a)||(a=t.from(a)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),a.length===0)return s>this.length?this.length:s;let l=this._offset(s),u=l[0],c=l[1];for(;u<this._bufs.length;u++){let h=this._bufs[u];for(;c<h.length;)if(h.length-c>=a.length){let p=h.indexOf(a,c);if(p!==-1)return this._reverseOffset([u,p]);c=h.length-a.length+1}else{let p=this._reverseOffset([u,c]);if(this._match(p,a))return p;c++}c=0}return-1},i.prototype._match=function(a,s){if(this.length-a<s.length)return!1;for(let o=0;o<s.length;o++)if(this.get(a+o)!==s[o])return!1;return!0},(function(){let a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in a)(function(o){a[o]===null?i.prototype[o]=function(l,u){return this.slice(l,l+u)[o](0,u)}:i.prototype[o]=function(l=0){return this.slice(l,l+a[o])[o](0)}})(s)})(),i.prototype._isBufferList=function(a){return a instanceof i||i.isBufferList(a)},i.isBufferList=function(a){return a!=null&&a[n]},e.exports=i}),aX=tt((r,e)=>{qe(),Qe(),Xe();var t=Nc().Duplex,n=nX(),i=iX();function a(s){if(!(this instanceof a))return new a(s);if(typeof s=="function"){this._callback=s;let o=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",o)}),this.on("unpipe",function(l){l.removeListener("error",o)}),s=null}i._init.call(this,s),t.call(this)}n(a,t),Object.assign(a.prototype,i.prototype),a.prototype._new=function(s){return new a(s)},a.prototype._write=function(s,o,l){this._appendBuffer(s),typeof l=="function"&&l()},a.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},a.prototype.end=function(s){t.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(s,o){this._bufs.length=0,this.length=0,o(s)},a.prototype._isBufferList=function(s){return s instanceof a||s instanceof i||a.isBufferList(s)},a.isBufferList=i.isBufferList,e.exports=a,e.exports.BufferListStream=a,e.exports.BufferList=i}),sX=tt((r,e)=>{qe(),Qe(),Xe();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=t}),a8=tt((r,e)=>{qe(),Qe(),Xe();var t=e.exports,{Buffer:n}=(Gn(),wr(Hn));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let a in t.requiredHeaderFlags){let s=t.requiredHeaderFlags[a];t.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+t.types[a]+" packet"}t.codes={};for(let a in t.types){let s=t.types[a];t.codes[s]=a}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=n.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=n.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=n.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let a in t.properties){let s=t.properties[a];t.propertiesCodes[s]=a}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(a){return[0,1,2].map(s=>[0,1].map(o=>[0,1].map(l=>{let u=n.alloc(1);return u.writeUInt8(t.codes[a]<<t.CMD_SHIFT|(o?t.DUP_MASK:0)|s<<t.QOS_SHIFT|l,0,!0),u})))}t.PUBLISH_HEADER=i("publish"),t.SUBSCRIBE_HEADER=i("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=i("unsubscribe"),t.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},t.SUBACK_HEADER=n.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=n.from([3]),t.VERSION4=n.from([4]),t.VERSION5=n.from([5]),t.VERSION131=n.from([131]),t.VERSION132=n.from([132]),t.QOS=[0,1,2].map(a=>n.from([a])),t.EMPTY={pingreq:n.from([t.codes.pingreq<<4,0]),pingresp:n.from([t.codes.pingresp<<4,0]),disconnect:n.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),oX=tt((r,e)=>{qe(),Qe(),Xe();var t=1e3,n=t*60,i=n*60,a=i*24,s=a*7,o=a*365.25;e.exports=function(p,m){m=m||{};var g=typeof p;if(g==="string"&&p.length>0)return l(p);if(g==="number"&&isFinite(p))return m.long?c(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var g=parseFloat(m[1]),y=(m[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return g*o;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*a;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(p){var m=Math.abs(p);return m>=a?Math.round(p/a)+"d":m>=i?Math.round(p/i)+"h":m>=n?Math.round(p/n)+"m":m>=t?Math.round(p/t)+"s":p+"ms"}function c(p){var m=Math.abs(p);return m>=a?h(p,m,a,"day"):m>=i?h(p,m,i,"hour"):m>=n?h(p,m,n,"minute"):m>=t?h(p,m,t,"second"):p+" ms"}function h(p,m,g,y){var x=m>=g*1.5;return Math.round(p/g)+" "+y+(x?"s":"")}}),lX=tt((r,e)=>{qe(),Qe(),Xe();function t(n){a.debug=a,a.default=a,a.coerce=h,a.disable=u,a.enable=o,a.enabled=c,a.humanize=oX(),a.destroy=p,Object.keys(n).forEach(m=>{a[m]=n[m]}),a.names=[],a.skips=[],a.formatters={};function i(m){let g=0;for(let y=0;y<m.length;y++)g=(g<<5)-g+m.charCodeAt(y),g|=0;return a.colors[Math.abs(g)%a.colors.length]}a.selectColor=i;function a(m){let g,y=null,x,E;function S(...w){if(!S.enabled)return;let T=S,_=Number(new Date),O=_-(g||_);T.diff=O,T.prev=g,T.curr=_,g=_,w[0]=a.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let A=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(I,k)=>{if(I==="%%")return"%";A++;let N=a.formatters[k];if(typeof N=="function"){let B=w[A];I=N.call(T,B),w.splice(A,1),A--}return I}),a.formatArgs.call(T,w),(T.log||a.log).apply(T,w)}return S.namespace=m,S.useColors=a.useColors(),S.color=a.selectColor(m),S.extend=s,S.destroy=a.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(x!==a.namespaces&&(x=a.namespaces,E=a.enabled(m)),E),set:w=>{y=w}}),typeof a.init=="function"&&a.init(S),S}function s(m,g){let y=a(this.namespace+(typeof g>"u"?":":g)+m);return y.log=this.log,y}function o(m){a.save(m),a.namespaces=m,a.names=[],a.skips=[];let g=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of g)y[0]==="-"?a.skips.push(y.slice(1)):a.names.push(y)}function l(m,g){let y=0,x=0,E=-1,S=0;for(;y<m.length;)if(x<g.length&&(g[x]===m[y]||g[x]==="*"))g[x]==="*"?(E=x,S=y,x++):(y++,x++);else if(E!==-1)x=E+1,S++,y=S;else return!1;for(;x<g.length&&g[x]==="*";)x++;return x===g.length}function u(){let m=[...a.names,...a.skips.map(g=>"-"+g)].join(",");return a.enable(""),m}function c(m){for(let g of a.skips)if(l(m,g))return!1;for(let g of a.names)if(l(m,g))return!0;return!1}function h(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}e.exports=t}),Zo=tt((r,e)=>{qe(),Qe(),Xe(),r.formatArgs=n,r.save=i,r.load=a,r.useColors=t,r.storage=s(),r.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,h=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(c++,p==="%c"&&(h=c))}),l.splice(h,0,u)}r.log=console.debug||console.log||(()=>{});function i(l){try{l?r.storage.setItem("debug",l):r.storage.removeItem("debug")}catch{}}function a(){let l;try{l=r.storage.getItem("debug")||r.storage.getItem("DEBUG")}catch{}return!l&&typeof Rr<"u"&&"env"in Rr&&(l=Rr.env.DEBUG),l}function s(){try{return localStorage}catch{}}e.exports=lX()(r);var{formatters:o}=e.exports;o.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),uX=tt((r,e)=>{qe(),Qe(),Xe();var t=aX(),{EventEmitter:n}=(Lc(),wr(_u)),i=sX(),a=a8(),s=Zo()("mqtt-packet:parser"),o=class AT extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof AT?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new AT().parser(u)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=t(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),c=u>>a.CMD_SHIFT;this.packet.cmd=a.types[c];let h=u&15,p=a.requiredHeaderFlags[c];return p!=null&&h!==p?this._emitError(new Error(a.requiredHeaderFlagsErrors[c])):(this.packet.retain=(u&a.RETAIN_MASK)!==0,this.packet.qos=u>>a.QOS_SHIFT&a.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&a.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),s("_parseLength %d",u.value),!!u}_parsePayload(){s("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return s("_parsePayload complete result: %s",u),u}_parseConnect(){s("_parseConnect");let u,c,h,p,m={},g=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));m.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK;let x=!!(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),E=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT;if(m.will)g.will={},g.will.retain=x,g.will.qos=E;else{if(x)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(E)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(g.properties=w)}let S=this._parseString();if(S===null)return this._emitError(new Error("Packet too short"));if(g.clientId=S,s("_parseConnect: packet.clientId: %s",g.clientId),m.will){if(g.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(g.will.properties=w)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=u,s("_parseConnect: packet.will.topic: %s",g.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=c,s("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(m.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));g.username=p,s("_parseConnect: packet.username: %s",g.username)}if(m.password){if(h=this._parseBuffer(),h===null)return this._emitError(new Error("Cannot parse password"));g.password=h}return this.settings=g,s("_parseConnect: complete"),g}_parseConnack(){s("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(c&a.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}u.payload=this._list.slice(this._pos,u.length),s("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){s("_parseSubscribe");let u=this.packet,c,h,p,m,g,y,x;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(u.properties=E)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(h=this._parseByte(),this.settings.protocolVersion===5){if(h&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(h&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=h&a.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(h>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(h>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,m=h>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,m>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));x={topic:c,qos:p},this.settings.protocolVersion===5?(x.nl=y,x.rap=g,x.rh=m):this.settings.bridgeMode&&(x.rh=0,x.rap=!0,x.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",x),u.subscriptions.push(x)}}}_parseSuback(){s("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!a.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),u.unsubscriptions.push(c)}}}_parseUnsuback(){s("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(u.properties=c),u.granted=[];this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(!a.MQTT5_UNSUBACK_CODES[h])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(h)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!a.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!a.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}}return!0}_parseDisconnect(){let u=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),a.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!a.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(u.properties=c),s("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let c=this._parseNum(),h=c+this._pos;if(c===-1||h>this._list.length||h>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,h);return this._pos+=c,s("_parseString: result: %s",p),p}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),c=u+this._pos;if(u===-1||c>this._list.length||c>this.packet.length)return null;let h=this._list.slice(this._pos,c);return this._pos+=u,s("_parseBuffer: result: %o",h),h}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){s("_parseVarByteNum");let c=4,h=0,p=1,m=0,g=!1,y,x=this._pos?this._pos:0;for(;h<c&&x+h<this._list.length;){if(y=this._list.readUInt8(x+h++),m+=p*(y&a.VARBYTEINT_MASK),p*=128,(y&a.VARBYTEINT_FIN_MASK)===0){g=!0;break}if(this._list.length<=h)break}return!g&&h===c&&this._list.length>=h&&this._emitError(new Error("Invalid variable byte integer")),x&&(this._pos+=h),g?u?g={bytes:h,value:m}:g=m:g=!1,s("_parseVarByteNum: result: %o",g),g}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",u),u}_parseByType(u){switch(s("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let u=this._parseVarByteNum(),c=this._pos+u,h={};for(;this._pos<c;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let m=a.propertiesCodes[p];if(!m)return this._emitError(new Error("Unknown property")),!1;if(m==="userProperties"){h[m]||(h[m]=Object.create(null));let g=this._parseByType(a.propertiesTypes[m]);if(h[m][g.name])if(Array.isArray(h[m][g.name]))h[m][g.name].push(g.value);else{let y=h[m][g.name];h[m][g.name]=[y],h[m][g.name].push(g.value)}else h[m][g.name]=g.value;continue}h[m]?Array.isArray(h[m])?h[m].push(this._parseByType(a.propertiesTypes[m])):(h[m]=[h[m]],h[m].push(this._parseByType(a.propertiesTypes[m]))):h[m]=this._parseByType(a.propertiesTypes[m])}return h}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(u){s("_emitError",u),this.error=u,this.emit("error",u)}};e.exports=o}),cX=tt((r,e)=>{qe(),Qe(),Xe();var{Buffer:t}=(Gn(),wr(Hn)),n=65536,i={},a=t.isBuffer(t.from([1,2]).subarray(0,1));function s(c){let h=t.allocUnsafe(2);return h.writeUInt8(c>>8,0),h.writeUInt8(c&255,1),h}function o(){for(let c=0;c<n;c++)i[c]=s(c)}function l(c){let h=0,p=0,m=t.allocUnsafe(4);do h=c%128|0,c=c/128|0,c>0&&(h=h|128),m.writeUInt8(h,p++);while(c>0&&p<4);return c>0&&(p=0),a?m.subarray(0,p):m.slice(0,p)}function u(c){let h=t.allocUnsafe(4);return h.writeUInt32BE(c,0),h}e.exports={cache:i,generateCache:o,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:u}}),fX=tt((r,e)=>{qe(),Qe(),Xe(),typeof Rr>"u"||!Rr.version||Rr.version.indexOf("v0.")===0||Rr.version.indexOf("v1.")===0&&Rr.version.indexOf("v1.8.")!==0?e.exports={nextTick:t}:e.exports=Rr;function t(n,i,a,s){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,l,u;switch(o){case 0:case 1:return Rr.nextTick(n);case 2:return Rr.nextTick(function(){n.call(null,i)});case 3:return Rr.nextTick(function(){n.call(null,i,a)});case 4:return Rr.nextTick(function(){n.call(null,i,a,s)});default:for(l=new Array(o-1),u=0;u<l.length;)l[u++]=arguments[u];return Rr.nextTick(function(){n.apply(null,l)})}}}),s8=tt((r,e)=>{qe(),Qe(),Xe();var t=a8(),{Buffer:n}=(Gn(),wr(Hn)),i=n.allocUnsafe(0),a=n.from([0]),s=cX(),o=fX().nextTick,l=Zo()("mqtt-packet:writeToStream"),u=s.cache,c=s.generateNumber,h=s.generateCache,p=s.genBufVariableByteInt,m=s.generate4ByteBuffer,g=z,y=!0;function x(ue,q,te){switch(l("generate called"),q.cork&&(q.cork(),o(E,q)),y&&(y=!1,h()),l("generate: packet.cmd: %s",ue.cmd),ue.cmd){case"connect":return S(ue,q);case"connack":return w(ue,q,te);case"publish":return T(ue,q,te);case"puback":case"pubrec":case"pubrel":case"pubcomp":return _(ue,q,te);case"subscribe":return O(ue,q,te);case"suback":return A(ue,q,te);case"unsubscribe":return I(ue,q,te);case"unsuback":return k(ue,q,te);case"pingreq":case"pingresp":return N(ue,q);case"disconnect":return B(ue,q,te);case"auth":return R(ue,q,te);default:return q.destroy(new Error("Unknown command")),!1}}Object.defineProperty(x,"cacheNumbers",{get(){return g===z},set(ue){ue?((!u||Object.keys(u).length===0)&&(y=!0),g=z):(y=!1,g=Q)}});function E(ue){ue.uncork()}function S(ue,q,te){let re=ue||{},pe=re.protocolId||"MQTT",ne=re.protocolVersion||4,Oe=re.will,be=re.clean,fe=re.keepalive||0,he=re.clientId||"",ye=re.username,Ie=re.password,$e=re.properties;be===void 0&&(be=!0);let Ge=0;if(typeof pe!="string"&&!n.isBuffer(pe))return q.destroy(new Error("Invalid protocolId")),!1;if(Ge+=pe.length+2,ne!==3&&ne!==4&&ne!==5)return q.destroy(new Error("Invalid protocol version")),!1;if(Ge+=1,(typeof he=="string"||n.isBuffer(he))&&(he||ne>=4)&&(he||be))Ge+=n.byteLength(he)+2;else{if(ne<4)return q.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(be*1===0)return q.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof fe!="number"||fe<0||fe>65535||fe%1!==0)return q.destroy(new Error("Invalid keepalive")),!1;Ge+=2,Ge+=1;let Ee,Ye;if(ne===5){if(Ee=W(q,$e),!Ee)return!1;Ge+=Ee.length}if(Oe){if(typeof Oe!="object")return q.destroy(new Error("Invalid will")),!1;if(!Oe.topic||typeof Oe.topic!="string")return q.destroy(new Error("Invalid will topic")),!1;if(Ge+=n.byteLength(Oe.topic)+2,Ge+=2,Oe.payload)if(Oe.payload.length>=0)typeof Oe.payload=="string"?Ge+=n.byteLength(Oe.payload):Ge+=Oe.payload.length;else return q.destroy(new Error("Invalid will payload")),!1;if(Ye={},ne===5){if(Ye=W(q,Oe.properties),!Ye)return!1;Ge+=Ye.length}}let st=!1;if(ye!=null)if(me(ye))st=!0,Ge+=n.byteLength(ye)+2;else return q.destroy(new Error("Invalid username")),!1;if(Ie!=null){if(!st)return q.destroy(new Error("Username is required to use password")),!1;if(me(Ie))Ge+=Z(Ie)+2;else return q.destroy(new Error("Invalid password")),!1}q.write(t.CONNECT_HEADER),X(q,Ge),ae(q,pe),re.bridgeMode&&(ne+=128),q.write(ne===131?t.VERSION131:ne===132?t.VERSION132:ne===4?t.VERSION4:ne===5?t.VERSION5:t.VERSION3);let ke=0;return ke|=ye!=null?t.USERNAME_MASK:0,ke|=Ie!=null?t.PASSWORD_MASK:0,ke|=Oe&&Oe.retain?t.WILL_RETAIN_MASK:0,ke|=Oe&&Oe.qos?Oe.qos<<t.WILL_QOS_SHIFT:0,ke|=Oe?t.WILL_FLAG_MASK:0,ke|=be?t.CLEAN_SESSION_MASK:0,q.write(n.from([ke])),g(q,fe),ne===5&&Ee.write(),ae(q,he),Oe&&(ne===5&&Ye.write(),Y(q,Oe.topic),ae(q,Oe.payload)),ye!=null&&ae(q,ye),Ie!=null&&ae(q,Ie),!0}function w(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=re===5?pe.reasonCode:pe.returnCode,Oe=pe.properties,be=2;if(typeof ne!="number")return q.destroy(new Error("Invalid return code")),!1;let fe=null;if(re===5){if(fe=W(q,Oe),!fe)return!1;be+=fe.length}return q.write(t.CONNACK_HEADER),X(q,be),q.write(pe.sessionPresent?t.SESSIONPRESENT_HEADER:a),q.write(n.from([ne])),fe?.write(),!0}function T(ue,q,te){l("publish: packet: %o",ue);let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.qos||0,Oe=pe.retain?t.RETAIN_MASK:0,be=pe.topic,fe=pe.payload||i,he=pe.messageId,ye=pe.properties,Ie=0;if(typeof be=="string")Ie+=n.byteLength(be)+2;else if(n.isBuffer(be))Ie+=be.length+2;else return q.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(fe)?Ie+=fe.length:Ie+=n.byteLength(fe),ne&&typeof he!="number")return q.destroy(new Error("Invalid messageId")),!1;ne&&(Ie+=2);let $e=null;if(re===5){if($e=W(q,ye),!$e)return!1;Ie+=$e.length}return q.write(t.PUBLISH_HEADER[ne][pe.dup?1:0][Oe?1:0]),X(q,Ie),g(q,Z(be)),q.write(be),ne>0&&g(q,he),$e?.write(),l("publish: payload: %o",fe),q.write(fe)}function _(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.cmd||"puback",Oe=pe.messageId,be=pe.dup&&ne==="pubrel"?t.DUP_MASK:0,fe=0,he=pe.reasonCode,ye=pe.properties,Ie=re===5?3:2;if(ne==="pubrel"&&(fe=1),typeof Oe!="number")return q.destroy(new Error("Invalid messageId")),!1;let $e=null;if(re===5&&typeof ye=="object"){if($e=M(q,ye,te,Ie),!$e)return!1;Ie+=$e.length}return q.write(t.ACKS[ne][fe][be][0]),Ie===3&&(Ie+=he!==0?1:-1),X(q,Ie),g(q,Oe),re===5&&Ie!==2&&q.write(n.from([he])),$e!==null?$e.write():Ie===4&&q.write(n.from([0])),!0}function O(ue,q,te){l("subscribe: packet: ");let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.dup?t.DUP_MASK:0,Oe=pe.messageId,be=pe.subscriptions,fe=pe.properties,he=0;if(typeof Oe!="number")return q.destroy(new Error("Invalid messageId")),!1;he+=2;let ye=null;if(re===5){if(ye=W(q,fe),!ye)return!1;he+=ye.length}if(typeof be=="object"&&be.length)for(let $e=0;$e<be.length;$e+=1){let Ge=be[$e].topic,Ee=be[$e].qos;if(typeof Ge!="string")return q.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Ee!="number")return q.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(re===5){if(typeof(be[$e].nl||!1)!="boolean")return q.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(be[$e].rap||!1)!="boolean")return q.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Ye=be[$e].rh||0;if(typeof Ye!="number"||Ye>2)return q.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}he+=n.byteLength(Ge)+2+1}else return q.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),q.write(t.SUBSCRIBE_HEADER[1][ne?1:0][0]),X(q,he),g(q,Oe),ye!==null&&ye.write();let Ie=!0;for(let $e of be){let Ge=$e.topic,Ee=$e.qos,Ye=+$e.nl,st=+$e.rap,ke=$e.rh,kt;Y(q,Ge),kt=t.SUBSCRIBE_OPTIONS_QOS[Ee],re===5&&(kt|=Ye?t.SUBSCRIBE_OPTIONS_NL:0,kt|=st?t.SUBSCRIBE_OPTIONS_RAP:0,kt|=ke?t.SUBSCRIBE_OPTIONS_RH[ke]:0),Ie=q.write(n.from([kt]))}return Ie}function A(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.messageId,Oe=pe.granted,be=pe.properties,fe=0;if(typeof ne!="number")return q.destroy(new Error("Invalid messageId")),!1;if(fe+=2,typeof Oe=="object"&&Oe.length)for(let ye=0;ye<Oe.length;ye+=1){if(typeof Oe[ye]!="number")return q.destroy(new Error("Invalid qos vector")),!1;fe+=1}else return q.destroy(new Error("Invalid qos vector")),!1;let he=null;if(re===5){if(he=M(q,be,te,fe),!he)return!1;fe+=he.length}return q.write(t.SUBACK_HEADER),X(q,fe),g(q,ne),he!==null&&he.write(),q.write(n.from(Oe))}function I(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.messageId,Oe=pe.dup?t.DUP_MASK:0,be=pe.unsubscriptions,fe=pe.properties,he=0;if(typeof ne!="number")return q.destroy(new Error("Invalid messageId")),!1;if(he+=2,typeof be=="object"&&be.length)for(let $e=0;$e<be.length;$e+=1){if(typeof be[$e]!="string")return q.destroy(new Error("Invalid unsubscriptions")),!1;he+=n.byteLength(be[$e])+2}else return q.destroy(new Error("Invalid unsubscriptions")),!1;let ye=null;if(re===5){if(ye=W(q,fe),!ye)return!1;he+=ye.length}q.write(t.UNSUBSCRIBE_HEADER[1][Oe?1:0][0]),X(q,he),g(q,ne),ye!==null&&ye.write();let Ie=!0;for(let $e=0;$e<be.length;$e++)Ie=Y(q,be[$e]);return Ie}function k(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.messageId,Oe=pe.dup?t.DUP_MASK:0,be=pe.granted,fe=pe.properties,he=pe.cmd,ye=0,Ie=2;if(typeof ne!="number")return q.destroy(new Error("Invalid messageId")),!1;if(re===5)if(typeof be=="object"&&be.length)for(let Ge=0;Ge<be.length;Ge+=1){if(typeof be[Ge]!="number")return q.destroy(new Error("Invalid qos vector")),!1;Ie+=1}else return q.destroy(new Error("Invalid qos vector")),!1;let $e=null;if(re===5){if($e=M(q,fe,te,Ie),!$e)return!1;Ie+=$e.length}return q.write(t.ACKS[he][ye][Oe][0]),X(q,Ie),g(q,ne),$e!==null&&$e.write(),re===5&&q.write(n.from(be)),!0}function N(ue,q,te){return q.write(t.EMPTY[ue.cmd])}function B(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.reasonCode,Oe=pe.properties,be=re===5?1:0,fe=null;if(re===5){if(fe=M(q,Oe,te,be),!fe)return!1;be+=fe.length}return q.write(n.from([t.codes.disconnect<<4])),X(q,be),re===5&&q.write(n.from([ne])),fe!==null&&fe.write(),!0}function R(ue,q,te){let re=te?te.protocolVersion:4,pe=ue||{},ne=pe.reasonCode,Oe=pe.properties,be=re===5?1:0;re!==5&&q.destroy(new Error("Invalid mqtt version for auth packet"));let fe=M(q,Oe,te,be);return fe?(be+=fe.length,q.write(n.from([t.codes.auth<<4])),X(q,be),q.write(n.from([ne])),fe!==null&&fe.write(),!0):!1}var H={};function X(ue,q){if(q>t.VARBYTEINT_MAX)return ue.destroy(new Error(`Invalid variable byte integer: ${q}`)),!1;let te=H[q];return te||(te=p(q),q<16384&&(H[q]=te)),l("writeVarByteInt: writing to stream: %o",te),ue.write(te)}function Y(ue,q){let te=n.byteLength(q);return g(ue,te),l("writeString: %s",q),ue.write(q,"utf8")}function K(ue,q,te){Y(ue,q),Y(ue,te)}function z(ue,q){return l("writeNumberCached: number: %d",q),l("writeNumberCached: %o",u[q]),ue.write(u[q])}function Q(ue,q){let te=c(q);return l("writeNumberGenerated: %o",te),ue.write(te)}function se(ue,q){let te=m(q);return l("write4ByteNumber: %o",te),ue.write(te)}function ae(ue,q){typeof q=="string"?Y(ue,q):q?(g(ue,q.length),ue.write(q)):g(ue,0)}function W(ue,q){if(typeof q!="object"||q.length!=null)return{length:1,write(){ee(ue,{},0)}};let te=0;function re(pe,ne){let Oe=t.propertiesTypes[pe],be=0;switch(Oe){case"byte":{if(typeof ne!="boolean")return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=2;break}case"int8":{if(typeof ne!="number"||ne<0||ne>255)return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=2;break}case"binary":{if(ne&&ne===null)return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=1+n.byteLength(ne)+2;break}case"int16":{if(typeof ne!="number"||ne<0||ne>65535)return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=3;break}case"int32":{if(typeof ne!="number"||ne<0||ne>4294967295)return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=5;break}case"var":{if(typeof ne!="number"||ne<0||ne>268435455)return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=1+n.byteLength(p(ne));break}case"string":{if(typeof ne!="string")return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=3+n.byteLength(ne.toString());break}case"pair":{if(typeof ne!="object")return ue.destroy(new Error(`Invalid ${pe}: ${ne}`)),!1;be+=Object.getOwnPropertyNames(ne).reduce((fe,he)=>{let ye=ne[he];return Array.isArray(ye)?fe+=ye.reduce((Ie,$e)=>(Ie+=3+n.byteLength(he.toString())+2+n.byteLength($e.toString()),Ie),0):fe+=3+n.byteLength(he.toString())+2+n.byteLength(ne[he].toString()),fe},0);break}default:return ue.destroy(new Error(`Invalid property ${pe}: ${ne}`)),!1}return be}if(q)for(let pe in q){let ne=0,Oe=0,be=q[pe];if(be!==void 0){if(Array.isArray(be))for(let fe=0;fe<be.length;fe++){if(Oe=re(pe,be[fe]),!Oe)return!1;ne+=Oe}else{if(Oe=re(pe,be),!Oe)return!1;ne=Oe}if(!ne)return!1;te+=ne}}return{length:n.byteLength(p(te))+te,write(){ee(ue,q,te)}}}function M(ue,q,te,re){let pe=["reasonString","userProperties"],ne=te&&te.properties&&te.properties.maximumPacketSize?te.properties.maximumPacketSize:0,Oe=W(ue,q);if(ne)for(;re+Oe.length>ne;){let be=pe.shift();if(be&&q[be])delete q[be],Oe=W(ue,q);else return!1}return Oe}function V(ue,q,te){switch(t.propertiesTypes[q]){case"byte":{ue.write(n.from([t.properties[q]])),ue.write(n.from([+te]));break}case"int8":{ue.write(n.from([t.properties[q]])),ue.write(n.from([te]));break}case"binary":{ue.write(n.from([t.properties[q]])),ae(ue,te);break}case"int16":{ue.write(n.from([t.properties[q]])),g(ue,te);break}case"int32":{ue.write(n.from([t.properties[q]])),se(ue,te);break}case"var":{ue.write(n.from([t.properties[q]])),X(ue,te);break}case"string":{ue.write(n.from([t.properties[q]])),Y(ue,te);break}case"pair":{Object.getOwnPropertyNames(te).forEach(re=>{let pe=te[re];Array.isArray(pe)?pe.forEach(ne=>{ue.write(n.from([t.properties[q]])),K(ue,re.toString(),ne.toString())}):(ue.write(n.from([t.properties[q]])),K(ue,re.toString(),pe.toString()))});break}default:return ue.destroy(new Error(`Invalid property ${q} value: ${te}`)),!1}}function ee(ue,q,te){X(ue,te);for(let re in q)if(Object.prototype.hasOwnProperty.call(q,re)&&q[re]!=null){let pe=q[re];if(Array.isArray(pe))for(let ne=0;ne<pe.length;ne++)V(ue,re,pe[ne]);else V(ue,re,pe)}}function Z(ue){return ue?ue instanceof n?ue.length:n.byteLength(ue):0}function me(ue){return typeof ue=="string"||ue instanceof n}e.exports=x}),hX=tt((r,e)=>{qe(),Qe(),Xe();var t=s8(),{EventEmitter:n}=(Lc(),wr(_u)),{Buffer:i}=(Gn(),wr(Hn));function a(o,l){let u=new s;return t(o,u,l),u.concat()}var s=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,l=new Array(this._array.length),u=this._array,c=0,h;for(h=0;h<u.length&&u[h]!==void 0;h++)typeof u[h]!="string"?l[h]=u[h].length:l[h]=i.byteLength(u[h]),o+=l[h];let p=i.allocUnsafe(o);for(h=0;h<u.length&&u[h]!==void 0;h++)typeof u[h]!="string"?(u[h].copy(p,c),c+=l[h]):(p.write(u[h],c),c+=l[h]);return p}destroy(o){o&&this.emit("error",o)}};e.exports=a}),dX=tt(r=>{qe(),Qe(),Xe(),r.parser=uX().parser,r.generate=hX(),r.writeToStream=s8()}),pX=tt((r,e)=>{qe(),Qe(),Xe(),e.exports=n;function t(a){return a instanceof Uv?Uv.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}function n(a){if(a=a||{},a.circles)return i(a);let s=new Map;if(s.set(Date,h=>new Date(h)),s.set(Map,(h,p)=>new Map(l(Array.from(h),p))),s.set(Set,(h,p)=>new Set(l(Array.from(h),p))),a.constructorHandlers)for(let h of a.constructorHandlers)s.set(h[0],h[1]);let o=null;return a.proto?c:u;function l(h,p){let m=Object.keys(h),g=new Array(m.length);for(let y=0;y<m.length;y++){let x=m[y],E=h[x];typeof E!="object"||E===null?g[x]=E:E.constructor!==Object&&(o=s.get(E.constructor))?g[x]=o(E,p):ArrayBuffer.isView(E)?g[x]=t(E):g[x]=p(E)}return g}function u(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return l(h,u);if(h.constructor!==Object&&(o=s.get(h.constructor)))return o(h,u);let p={};for(let m in h){if(Object.hasOwnProperty.call(h,m)===!1)continue;let g=h[m];typeof g!="object"||g===null?p[m]=g:g.constructor!==Object&&(o=s.get(g.constructor))?p[m]=o(g,u):ArrayBuffer.isView(g)?p[m]=t(g):p[m]=u(g)}return p}function c(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return l(h,c);if(h.constructor!==Object&&(o=s.get(h.constructor)))return o(h,c);let p={};for(let m in h){let g=h[m];typeof g!="object"||g===null?p[m]=g:g.constructor!==Object&&(o=s.get(g.constructor))?p[m]=o(g,c):ArrayBuffer.isView(g)?p[m]=t(g):p[m]=c(g)}return p}}function i(a){let s=[],o=[],l=new Map;if(l.set(Date,m=>new Date(m)),l.set(Map,(m,g)=>new Map(c(Array.from(m),g))),l.set(Set,(m,g)=>new Set(c(Array.from(m),g))),a.constructorHandlers)for(let m of a.constructorHandlers)l.set(m[0],m[1]);let u=null;return a.proto?p:h;function c(m,g){let y=Object.keys(m),x=new Array(y.length);for(let E=0;E<y.length;E++){let S=y[E],w=m[S];if(typeof w!="object"||w===null)x[S]=w;else if(w.constructor!==Object&&(u=l.get(w.constructor)))x[S]=u(w,g);else if(ArrayBuffer.isView(w))x[S]=t(w);else{let T=s.indexOf(w);T!==-1?x[S]=o[T]:x[S]=g(w)}}return x}function h(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return c(m,h);if(m.constructor!==Object&&(u=l.get(m.constructor)))return u(m,h);let g={};s.push(m),o.push(g);for(let y in m){if(Object.hasOwnProperty.call(m,y)===!1)continue;let x=m[y];if(typeof x!="object"||x===null)g[y]=x;else if(x.constructor!==Object&&(u=l.get(x.constructor)))g[y]=u(x,h);else if(ArrayBuffer.isView(x))g[y]=t(x);else{let E=s.indexOf(x);E!==-1?g[y]=o[E]:g[y]=h(x)}}return s.pop(),o.pop(),g}function p(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return c(m,p);if(m.constructor!==Object&&(u=l.get(m.constructor)))return u(m,p);let g={};s.push(m),o.push(g);for(let y in m){let x=m[y];if(typeof x!="object"||x===null)g[y]=x;else if(x.constructor!==Object&&(u=l.get(x.constructor)))g[y]=u(x,p);else if(ArrayBuffer.isView(x))g[y]=t(x);else{let E=s.indexOf(x);E!==-1?g[y]=o[E]:g[y]=p(x)}}return s.pop(),o.pop(),g}}}),mX=tt((r,e)=>{qe(),Qe(),Xe(),e.exports=pX()()}),gX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0}),r.validateTopic=e,r.validateTopics=t;function e(n){let i=n.split("/");for(let a=0;a<i.length;a++)if(i[a]!=="+"){if(i[a]==="#")return a===i.length-1;if(i[a].indexOf("+")!==-1||i[a].indexOf("#")!==-1)return!1}return!0}function t(n){if(n.length===0)return"empty_topic_list";for(let i=0;i<n.length;i++)if(!e(n[i]))return n[i];return null}}),o8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=Nc(),t={objectMode:!0},n={clean:!0},i=class{options;_inflights;constructor(a){this.options=a||{},this.options={...n,...a},this._inflights=new Map}put(a,s){return this._inflights.set(a.messageId,a),s&&s(),this}createStream(){let a=new e.Readable(t),s=[],o=!1,l=0;return this._inflights.forEach((u,c)=>{s.push(u)}),a._read=()=>{!o&&l<s.length?a.push(s[l++]):a.push(null)},a.destroy=u=>{if(!o)return o=!0,setTimeout(()=>{a.emit("close")},0),a},a}del(a,s){let o=this._inflights.get(a.messageId);return o?(this._inflights.delete(a.messageId),s(null,o)):s&&s(new Error("missing packet")),this}get(a,s){let o=this._inflights.get(a.messageId);return o?s(null,o):s&&s(new Error("missing packet")),this}close(a){this.options.clean&&(this._inflights=null),a&&a()}};r.default=i}),vX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],t=(n,i,a)=>{n.log("handlePublish: packet %o",i),a=typeof a<"u"?a:n.noop;let s=i.topic.toString(),o=i.payload,{qos:l}=i,{messageId:u}=i,{options:c}=n;if(n.options.protocolVersion===5){let h;if(i.properties&&(h=i.properties.topicAlias),typeof h<"u")if(s.length===0)if(h>0&&h<=65535){let p=n.topicAliasRecv.getTopicByAlias(h);if(p)s=p,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,h);else{n.log("handlePublish :: unregistered topic alias. alias: %d",h),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",h),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(s,h))n.log("handlePublish :: registered topic: %s - alias: %d",s,h);else{n.log("handlePublish :: topic alias out of range. alias: %d",h),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(s,o,i,(h,p)=>{if(typeof h=="number"&&(p=h,h=null),h)return n.emit("error",h);if(e.indexOf(p)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));p?n._sendPacket({cmd:"pubrec",messageId:u,reasonCode:p},a):n.incomingStore.put(i,()=>{n._sendPacket({cmd:"pubrec",messageId:u},a)})});break}case 1:{c.customHandleAcks(s,o,i,(h,p)=>{if(typeof h=="number"&&(p=h,h=null),h)return n.emit("error",h);if(e.indexOf(p)===-1)return n.emit("error",new Error("Wrong reason code for puback"));p||n.emit("message",s,o,i),n.handleMessage(i,m=>{if(m)return a&&a(m);n._sendPacket({cmd:"puback",messageId:u,reasonCode:p},a)})});break}case 0:n.emit("message",s,o,i),n.handleMessage(i,a);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};r.default=t}),yX=tt((r,e)=>{e.exports={version:"5.14.1"}}),Rh=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0}),r.MQTTJS_VERSION=r.nextTick=r.ErrorWithSubackPacket=r.ErrorWithReasonCode=void 0,r.applyMixin=n;var e=class l8 extends Error{code;constructor(a,s){super(a),this.code=s,Object.setPrototypeOf(this,l8.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};r.ErrorWithReasonCode=e;var t=class u8 extends Error{packet;constructor(a,s){super(a),this.packet=s,Object.setPrototypeOf(this,u8.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};r.ErrorWithSubackPacket=t;function n(i,a,s=!1){let o=[a];for(;;){let l=o[0],u=Object.getPrototypeOf(l);if(u?.prototype)o.unshift(u);else break}for(let l of o)for(let u of Object.getOwnPropertyNames(l.prototype))(s||u!=="constructor")&&Object.defineProperty(i.prototype,u,Object.getOwnPropertyDescriptor(l.prototype,u)??Object.create(null))}r.nextTick=typeof Rr?.nextTick=="function"?Rr.nextTick:i=>{setTimeout(i,0)},r.MQTTJS_VERSION=yX().version}),Ex=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=void 0;var e=Rh();r.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(n,i)=>{let{messageId:a}=i,s=i.cmd,o=null,l=n.outgoing[a]?n.outgoing[a].cb:null,u=null;if(!l){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let c=i.reasonCode;c&&c>0&&c!==16?(u=new e.ErrorWithReasonCode(`Publish error: ${r.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(a,()=>{l(u,i)})):n._removeOutgoingAndStoreMessage(a,l);break}case"pubrec":{o={cmd:"pubrel",qos:2,messageId:a};let c=i.reasonCode;c&&c>0&&c!==16?(u=new e.ErrorWithReasonCode(`Publish error: ${r.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(a,()=>{l(u,i)})):n._sendPacket(o);break}case"suback":{delete n.outgoing[a],n.messageIdProvider.deallocate(a);let c=i.granted;for(let h=0;h<c.length;h++){let p=c[h];if((p&128)!==0){u=new Error(`Subscribe error: ${r.ReasonCodes[p]}`),u.code=p;let m=n.messageIdToTopic[a];m&&m.forEach(g=>{delete n._resubscribeTopics[g]})}}delete n.messageIdToTopic[a],n._invokeStoreProcessingQueue(),l(u,i);break}case"unsuback":{delete n.outgoing[a],n.messageIdProvider.deallocate(a),n._invokeStoreProcessingQueue(),l(null,i);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};r.default=t}),xX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=Rh(),t=Ex(),n=(i,a)=>{let{options:s}=i,o=s.protocolVersion,l=o===5?a.reasonCode:a.returnCode;if(o!==5){let u=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,l);i.emit("error",u);return}i.handleAuth(a,(u,c)=>{if(u){i.emit("error",u);return}if(l===24)i.reconnecting=!1,i._sendPacket(c);else{let h=new e.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[l]}`,l);i.emit("error",h)}})};r.default=n}),bX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,n=typeof Rr=="object"&&Rr?Rr:{},i=(m,g,y,x)=>{typeof n.emitWarning=="function"?n.emitWarning(m,g,y,x):console.error(`[${y}] ${g}: ${m}`)},a=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof a>"u"){s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(y,x){this._onabort.push(x)}},a=class{constructor(){g()}signal=new s;abort(y){if(!this.signal.aborted){this.signal.reason=y,this.signal.aborted=!0;for(let x of this.signal._onabort)x(y);this.signal.onabort?.(y)}}};let m=n.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",g=()=>{m&&(m=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",g))}}var o=m=>!t.has(m),l=m=>m&&m===Math.floor(m)&&m>0&&isFinite(m),u=m=>l(m)?m<=Math.pow(2,8)?Uint8Array:m<=Math.pow(2,16)?Uint16Array:m<=Math.pow(2,32)?Uint32Array:m<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(m){super(m),this.fill(0)}},h=class e0{heap;length;static#l=!1;static create(g){let y=u(g);if(!y)return[];e0.#l=!0;let x=new e0(g,y);return e0.#l=!1,x}constructor(g,y){if(!e0.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new y(g),this.length=0}push(g){this.heap[this.length++]=g}pop(){return this.heap[--this.length]}},p=class c8{#l;#f;#m;#g;#I;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#v;#n;#r;#e;#u;#h;#o;#a;#y;#s;#x;#b;#d;#S;#A;#c;static unsafeExposeInternals(g){return{starts:g.#b,ttls:g.#d,sizes:g.#x,keyMap:g.#n,keyList:g.#r,valList:g.#e,next:g.#u,prev:g.#h,get head(){return g.#o},get tail(){return g.#a},free:g.#y,isBackgroundFetch:y=>g.#t(y),backgroundFetch:(y,x,E,S)=>g.#L(y,x,E,S),moveToTail:y=>g.#C(y),indexes:y=>g.#E(y),rindexes:y=>g.#w(y),isStale:y=>g.#p(y)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#v}get size(){return this.#i}get fetchMethod(){return this.#I}get memoMethod(){return this.#R}get dispose(){return this.#m}get disposeAfter(){return this.#g}constructor(g){let{max:y=0,ttl:x,ttlResolution:E=1,ttlAutopurge:S,updateAgeOnGet:w,updateAgeOnHas:T,allowStale:_,dispose:O,disposeAfter:A,noDisposeOnSet:I,noUpdateTTL:k,maxSize:N=0,maxEntrySize:B=0,sizeCalculation:R,fetchMethod:H,memoMethod:X,noDeleteOnFetchRejection:Y,noDeleteOnStaleGet:K,allowStaleOnFetchRejection:z,allowStaleOnFetchAbort:Q,ignoreFetchAbort:se}=g;if(y!==0&&!l(y))throw new TypeError("max option must be a nonnegative integer");let ae=y?u(y):Array;if(!ae)throw new Error("invalid max value: "+y);if(this.#l=y,this.#f=N,this.maxEntrySize=B||this.#f,this.sizeCalculation=R,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(X!==void 0&&typeof X!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#R=X,H!==void 0&&typeof H!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#I=H,this.#A=!!H,this.#n=new Map,this.#r=new Array(y).fill(void 0),this.#e=new Array(y).fill(void 0),this.#u=new ae(y),this.#h=new ae(y),this.#o=0,this.#a=0,this.#y=h.create(y),this.#i=0,this.#v=0,typeof O=="function"&&(this.#m=O),typeof A=="function"?(this.#g=A,this.#s=[]):(this.#g=void 0,this.#s=void 0),this.#S=!!this.#m,this.#c=!!this.#g,this.noDisposeOnSet=!!I,this.noUpdateTTL=!!k,this.noDeleteOnFetchRejection=!!Y,this.allowStaleOnFetchRejection=!!z,this.allowStaleOnFetchAbort=!!Q,this.ignoreFetchAbort=!!se,this.maxEntrySize!==0){if(this.#f!==0&&!l(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#$()}if(this.allowStale=!!_,this.noDeleteOnStaleGet=!!K,this.updateAgeOnGet=!!w,this.updateAgeOnHas=!!T,this.ttlResolution=l(E)||E===0?E:1,this.ttlAutopurge=!!S,this.ttl=x||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let W="LRU_CACHE_UNBOUNDED";o(W)&&(t.add(W),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,c8))}}getRemainingTTL(g){return this.#n.has(g)?1/0:0}#M(){let g=new c(this.#l),y=new c(this.#l);this.#d=g,this.#b=y,this.#N=(S,w,T=e.now())=>{if(y[S]=w!==0?T:0,g[S]=w,w!==0&&this.ttlAutopurge){let _=setTimeout(()=>{this.#p(S)&&this.#_(this.#r[S],"expire")},w+1);_.unref&&_.unref()}},this.#D=S=>{y[S]=g[S]!==0?e.now():0},this.#T=(S,w)=>{if(g[w]){let T=g[w],_=y[w];if(!T||!_)return;S.ttl=T,S.start=_,S.now=x||E();let O=S.now-_;S.remainingTTL=T-O}};let x=0,E=()=>{let S=e.now();if(this.ttlResolution>0){x=S;let w=setTimeout(()=>x=0,this.ttlResolution);w.unref&&w.unref()}return S};this.getRemainingTTL=S=>{let w=this.#n.get(S);if(w===void 0)return 0;let T=g[w],_=y[w];if(!T||!_)return 1/0;let O=(x||E())-_;return T-O},this.#p=S=>{let w=y[S],T=g[S];return!!T&&!!w&&(x||E())-w>T}}#D=()=>{};#T=()=>{};#N=()=>{};#p=()=>!1;#$(){let g=new c(this.#l);this.#v=0,this.#x=g,this.#O=y=>{this.#v-=g[y],g[y]=0},this.#F=(y,x,E,S)=>{if(this.#t(x))return 0;if(!l(E))if(S){if(typeof S!="function")throw new TypeError("sizeCalculation must be a function");if(E=S(x,y),!l(E))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return E},this.#k=(y,x,E)=>{if(g[y]=x,this.#f){let S=this.#f-g[y];for(;this.#v>S;)this.#P(!0)}this.#v+=g[y],E&&(E.entrySize=x,E.totalCalculatedSize=this.#v)}}#O=g=>{};#k=(g,y,x)=>{};#F=(g,y,x,E)=>{if(x||E)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:g=this.allowStale}={}){if(this.#i)for(let y=this.#a;!(!this.#B(y)||((g||!this.#p(y))&&(yield y),y===this.#o));)y=this.#h[y]}*#w({allowStale:g=this.allowStale}={}){if(this.#i)for(let y=this.#o;!(!this.#B(y)||((g||!this.#p(y))&&(yield y),y===this.#a));)y=this.#u[y]}#B(g){return g!==void 0&&this.#n.get(this.#r[g])===g}*entries(){for(let g of this.#E())this.#e[g]!==void 0&&this.#r[g]!==void 0&&!this.#t(this.#e[g])&&(yield[this.#r[g],this.#e[g]])}*rentries(){for(let g of this.#w())this.#e[g]!==void 0&&this.#r[g]!==void 0&&!this.#t(this.#e[g])&&(yield[this.#r[g],this.#e[g]])}*keys(){for(let g of this.#E()){let y=this.#r[g];y!==void 0&&!this.#t(this.#e[g])&&(yield y)}}*rkeys(){for(let g of this.#w()){let y=this.#r[g];y!==void 0&&!this.#t(this.#e[g])&&(yield y)}}*values(){for(let g of this.#E())this.#e[g]!==void 0&&!this.#t(this.#e[g])&&(yield this.#e[g])}*rvalues(){for(let g of this.#w())this.#e[g]!==void 0&&!this.#t(this.#e[g])&&(yield this.#e[g])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(g,y={}){for(let x of this.#E()){let E=this.#e[x],S=this.#t(E)?E.__staleWhileFetching:E;if(S!==void 0&&g(S,this.#r[x],this))return this.get(this.#r[x],y)}}forEach(g,y=this){for(let x of this.#E()){let E=this.#e[x],S=this.#t(E)?E.__staleWhileFetching:E;S!==void 0&&g.call(y,S,this.#r[x],this)}}rforEach(g,y=this){for(let x of this.#w()){let E=this.#e[x],S=this.#t(E)?E.__staleWhileFetching:E;S!==void 0&&g.call(y,S,this.#r[x],this)}}purgeStale(){let g=!1;for(let y of this.#w({allowStale:!0}))this.#p(y)&&(this.#_(this.#r[y],"expire"),g=!0);return g}info(g){let y=this.#n.get(g);if(y===void 0)return;let x=this.#e[y],E=this.#t(x)?x.__staleWhileFetching:x;if(E===void 0)return;let S={value:E};if(this.#d&&this.#b){let w=this.#d[y],T=this.#b[y];if(w&&T){let _=w-(e.now()-T);S.ttl=_,S.start=Date.now()}}return this.#x&&(S.size=this.#x[y]),S}dump(){let g=[];for(let y of this.#E({allowStale:!0})){let x=this.#r[y],E=this.#e[y],S=this.#t(E)?E.__staleWhileFetching:E;if(S===void 0||x===void 0)continue;let w={value:S};if(this.#d&&this.#b){w.ttl=this.#d[y];let T=e.now()-this.#b[y];w.start=Math.floor(Date.now()-T)}this.#x&&(w.size=this.#x[y]),g.unshift([x,w])}return g}load(g){this.clear();for(let[y,x]of g){if(x.start){let E=Date.now()-x.start;x.start=e.now()-E}this.set(y,x.value,x)}}set(g,y,x={}){if(y===void 0)return this.delete(g),this;let{ttl:E=this.ttl,start:S,noDisposeOnSet:w=this.noDisposeOnSet,sizeCalculation:T=this.sizeCalculation,status:_}=x,{noUpdateTTL:O=this.noUpdateTTL}=x,A=this.#F(g,y,x.size||0,T);if(this.maxEntrySize&&A>this.maxEntrySize)return _&&(_.set="miss",_.maxEntrySizeExceeded=!0),this.#_(g,"set"),this;let I=this.#i===0?void 0:this.#n.get(g);if(I===void 0)I=this.#i===0?this.#a:this.#y.length!==0?this.#y.pop():this.#i===this.#l?this.#P(!1):this.#i,this.#r[I]=g,this.#e[I]=y,this.#n.set(g,I),this.#u[this.#a]=I,this.#h[I]=this.#a,this.#a=I,this.#i++,this.#k(I,A,_),_&&(_.set="add"),O=!1;else{this.#C(I);let k=this.#e[I];if(y!==k){if(this.#A&&this.#t(k)){k.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:N}=k;N!==void 0&&!w&&(this.#S&&this.#m?.(N,g,"set"),this.#c&&this.#s?.push([N,g,"set"]))}else w||(this.#S&&this.#m?.(k,g,"set"),this.#c&&this.#s?.push([k,g,"set"]));if(this.#O(I),this.#k(I,A,_),this.#e[I]=y,_){_.set="replace";let N=k&&this.#t(k)?k.__staleWhileFetching:k;N!==void 0&&(_.oldValue=N)}}else _&&(_.set="update")}if(E!==0&&!this.#d&&this.#M(),this.#d&&(O||this.#N(I,E,S),_&&this.#T(_,I)),!w&&this.#c&&this.#s){let k=this.#s,N;for(;N=k?.shift();)this.#g?.(...N)}return this}pop(){try{for(;this.#i;){let g=this.#e[this.#o];if(this.#P(!0),this.#t(g)){if(g.__staleWhileFetching)return g.__staleWhileFetching}else if(g!==void 0)return g}}finally{if(this.#c&&this.#s){let g=this.#s,y;for(;y=g?.shift();)this.#g?.(...y)}}}#P(g){let y=this.#o,x=this.#r[y],E=this.#e[y];return this.#A&&this.#t(E)?E.__abortController.abort(new Error("evicted")):(this.#S||this.#c)&&(this.#S&&this.#m?.(E,x,"evict"),this.#c&&this.#s?.push([E,x,"evict"])),this.#O(y),g&&(this.#r[y]=void 0,this.#e[y]=void 0,this.#y.push(y)),this.#i===1?(this.#o=this.#a=0,this.#y.length=0):this.#o=this.#u[y],this.#n.delete(x),this.#i--,y}has(g,y={}){let{updateAgeOnHas:x=this.updateAgeOnHas,status:E}=y,S=this.#n.get(g);if(S!==void 0){let w=this.#e[S];if(this.#t(w)&&w.__staleWhileFetching===void 0)return!1;if(this.#p(S))E&&(E.has="stale",this.#T(E,S));else return x&&this.#D(S),E&&(E.has="hit",this.#T(E,S)),!0}else E&&(E.has="miss");return!1}peek(g,y={}){let{allowStale:x=this.allowStale}=y,E=this.#n.get(g);if(E===void 0||!x&&this.#p(E))return;let S=this.#e[E];return this.#t(S)?S.__staleWhileFetching:S}#L(g,y,x,E){let S=y===void 0?void 0:this.#e[y];if(this.#t(S))return S;let w=new a,{signal:T}=x;T?.addEventListener("abort",()=>w.abort(T.reason),{signal:w.signal});let _={signal:w.signal,options:x,context:E},O=(R,H=!1)=>{let{aborted:X}=w.signal,Y=x.ignoreFetchAbort&&R!==void 0;if(x.status&&(X&&!H?(x.status.fetchAborted=!0,x.status.fetchError=w.signal.reason,Y&&(x.status.fetchAbortIgnored=!0)):x.status.fetchResolved=!0),X&&!Y&&!H)return I(w.signal.reason);let K=N;return this.#e[y]===N&&(R===void 0?K.__staleWhileFetching?this.#e[y]=K.__staleWhileFetching:this.#_(g,"fetch"):(x.status&&(x.status.fetchUpdated=!0),this.set(g,R,_.options))),R},A=R=>(x.status&&(x.status.fetchRejected=!0,x.status.fetchError=R),I(R)),I=R=>{let{aborted:H}=w.signal,X=H&&x.allowStaleOnFetchAbort,Y=X||x.allowStaleOnFetchRejection,K=Y||x.noDeleteOnFetchRejection,z=N;if(this.#e[y]===N&&(!K||z.__staleWhileFetching===void 0?this.#_(g,"fetch"):X||(this.#e[y]=z.__staleWhileFetching)),Y)return x.status&&z.__staleWhileFetching!==void 0&&(x.status.returnedStale=!0),z.__staleWhileFetching;if(z.__returned===z)throw R},k=(R,H)=>{let X=this.#I?.(g,S,_);X&&X instanceof Promise&&X.then(Y=>R(Y===void 0?void 0:Y),H),w.signal.addEventListener("abort",()=>{(!x.ignoreFetchAbort||x.allowStaleOnFetchAbort)&&(R(void 0),x.allowStaleOnFetchAbort&&(R=Y=>O(Y,!0)))})};x.status&&(x.status.fetchDispatched=!0);let N=new Promise(k).then(O,A),B=Object.assign(N,{__abortController:w,__staleWhileFetching:S,__returned:void 0});return y===void 0?(this.set(g,B,{..._.options,status:void 0}),y=this.#n.get(g)):this.#e[y]=B,B}#t(g){if(!this.#A)return!1;let y=g;return!!y&&y instanceof Promise&&y.hasOwnProperty("__staleWhileFetching")&&y.__abortController instanceof a}async fetch(g,y={}){let{allowStale:x=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:S=this.noDeleteOnStaleGet,ttl:w=this.ttl,noDisposeOnSet:T=this.noDisposeOnSet,size:_=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:A=this.noUpdateTTL,noDeleteOnFetchRejection:I=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:k=this.allowStaleOnFetchRejection,ignoreFetchAbort:N=this.ignoreFetchAbort,allowStaleOnFetchAbort:B=this.allowStaleOnFetchAbort,context:R,forceRefresh:H=!1,status:X,signal:Y}=y;if(!this.#A)return X&&(X.fetch="get"),this.get(g,{allowStale:x,updateAgeOnGet:E,noDeleteOnStaleGet:S,status:X});let K={allowStale:x,updateAgeOnGet:E,noDeleteOnStaleGet:S,ttl:w,noDisposeOnSet:T,size:_,sizeCalculation:O,noUpdateTTL:A,noDeleteOnFetchRejection:I,allowStaleOnFetchRejection:k,allowStaleOnFetchAbort:B,ignoreFetchAbort:N,status:X,signal:Y},z=this.#n.get(g);if(z===void 0){X&&(X.fetch="miss");let Q=this.#L(g,z,K,R);return Q.__returned=Q}else{let Q=this.#e[z];if(this.#t(Q)){let M=x&&Q.__staleWhileFetching!==void 0;return X&&(X.fetch="inflight",M&&(X.returnedStale=!0)),M?Q.__staleWhileFetching:Q.__returned=Q}let se=this.#p(z);if(!H&&!se)return X&&(X.fetch="hit"),this.#C(z),E&&this.#D(z),X&&this.#T(X,z),Q;let ae=this.#L(g,z,K,R),W=ae.__staleWhileFetching!==void 0&&x;return X&&(X.fetch=se?"stale":"refresh",W&&se&&(X.returnedStale=!0)),W?ae.__staleWhileFetching:ae.__returned=ae}}async forceFetch(g,y={}){let x=await this.fetch(g,y);if(x===void 0)throw new Error("fetch() returned undefined");return x}memo(g,y={}){let x=this.#R;if(!x)throw new Error("no memoMethod provided to constructor");let{context:E,forceRefresh:S,...w}=y,T=this.get(g,w);if(!S&&T!==void 0)return T;let _=x(g,T,{options:w,context:E});return this.set(g,_,w),_}get(g,y={}){let{allowStale:x=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:S=this.noDeleteOnStaleGet,status:w}=y,T=this.#n.get(g);if(T!==void 0){let _=this.#e[T],O=this.#t(_);return w&&this.#T(w,T),this.#p(T)?(w&&(w.get="stale"),O?(w&&x&&_.__staleWhileFetching!==void 0&&(w.returnedStale=!0),x?_.__staleWhileFetching:void 0):(S||this.#_(g,"expire"),w&&x&&(w.returnedStale=!0),x?_:void 0)):(w&&(w.get="hit"),O?_.__staleWhileFetching:(this.#C(T),E&&this.#D(T),_))}else w&&(w.get="miss")}#U(g,y){this.#h[y]=g,this.#u[g]=y}#C(g){g!==this.#a&&(g===this.#o?this.#o=this.#u[g]:this.#U(this.#h[g],this.#u[g]),this.#U(this.#a,g),this.#a=g)}delete(g){return this.#_(g,"delete")}#_(g,y){let x=!1;if(this.#i!==0){let E=this.#n.get(g);if(E!==void 0)if(x=!0,this.#i===1)this.#j(y);else{this.#O(E);let S=this.#e[E];if(this.#t(S)?S.__abortController.abort(new Error("deleted")):(this.#S||this.#c)&&(this.#S&&this.#m?.(S,g,y),this.#c&&this.#s?.push([S,g,y])),this.#n.delete(g),this.#r[E]=void 0,this.#e[E]=void 0,E===this.#a)this.#a=this.#h[E];else if(E===this.#o)this.#o=this.#u[E];else{let w=this.#h[E];this.#u[w]=this.#u[E];let T=this.#u[E];this.#h[T]=this.#h[E]}this.#i--,this.#y.push(E)}}if(this.#c&&this.#s?.length){let E=this.#s,S;for(;S=E?.shift();)this.#g?.(...S)}return x}clear(){return this.#j("delete")}#j(g){for(let y of this.#w({allowStale:!0})){let x=this.#e[y];if(this.#t(x))x.__abortController.abort(new Error("deleted"));else{let E=this.#r[y];this.#S&&this.#m?.(x,E,g),this.#c&&this.#s?.push([x,E,g])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#d&&this.#b&&(this.#d.fill(0),this.#b.fill(0)),this.#x&&this.#x.fill(0),this.#o=0,this.#a=0,this.#y.length=0,this.#v=0,this.#i=0,this.#c&&this.#s){let y=this.#s,x;for(;x=y?.shift();)this.#g?.(...x)}}};r.LRUCache=p}),cl=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.ContainerIterator=r.Container=r.Base=void 0;var e=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};r.ContainerIterator=e;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};r.Base=t;var n=class extends t{};r.Container=n}),SX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=cl(),t=class extends e.Base{constructor(i=[]){super(),this.S=[];let a=this;i.forEach(function(s){a.push(s)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=t;r.default=n}),EX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=cl(),t=class extends e.Base{constructor(i=[]){super(),this.j=0,this.q=[];let a=this;i.forEach(function(s){a.push(s)})}clear(){this.q=[],this.i=this.j=0}push(i){let a=this.q.length;if(this.j/a>.5&&this.j+this.i>=a&&a>4096){let s=this.i;for(let o=0;o<s;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},n=t;r.default=n}),wX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=cl(),t=class extends e.Base{constructor(i=[],a=function(o,l){return o>l?-1:o<l?1:0},s=!0){if(super(),this.v=a,Array.isArray(i))this.C=s?[...i]:i;else{this.C=[];let l=this;i.forEach(function(u){l.C.push(u)})}this.i=this.C.length;let o=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,o)}m(i){let a=this.C[i];for(;i>0;){let s=i-1>>1,o=this.C[s];if(this.v(o,a)<=0)break;this.C[i]=o,i=s}this.C[i]=a}k(i,a){let s=this.C[i];for(;i<a;){let o=i<<1|1,l=o+1,u=this.C[o];if(l<this.i&&this.v(u,this.C[l])>0&&(o=l,u=this.C[l]),this.v(u,s)>=0)break;this.C[i]=u,i=o}this.C[i]=s}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],a=this.C.pop();return this.i-=1,this.i&&(this.C[0]=a,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let a=this.C.indexOf(i);return a<0?!1:(a===0?this.pop():a===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(a,1,this.C.pop()),this.i-=1,this.m(a),this.k(a,this.i>>1)),!0)}updateItem(i){let a=this.C.indexOf(i);return a<0?!1:(this.m(a),this.k(a,this.i>>1),!0)}toArray(){return[...this.C]}},n=t;r.default=n}),iD=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=cl(),t=class extends e.Container{},n=t;r.default=n}),fl=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),f8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.RandomIterator=void 0;var e=cl(),t=fl(),n=class extends e.ContainerIterator{constructor(i,a){super(a),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};r.RandomIterator=n}),_X=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=n(iD()),t=f8();function n(o){return o&&o.t?o:{default:o}}var i=class h8 extends t.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new h8(this.o,this.container,this.iteratorType)}},a=class extends e.default{constructor(o=[],l=!0){if(super(),Array.isArray(o))this.J=l?[...o]:o,this.i=o.length;else{this.J=[];let u=this;o.forEach(function(c){u.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let l=0;for(let u=0;u<this.i;++u)this.J[u]!==o&&(this.J[l++]=this.J[u]);return this.i=this.J.length=l,this.i}eraseElementByIterator(o){let l=o.o;return o=o.next(),this.eraseElementByPos(l),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,l){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=l}insert(o,l,u=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(u).fill(l)),this.i+=u,this.i}find(o){for(let l=0;l<this.i;++l)if(this.J[l]===o)return new i(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[o++]=this.J[l]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let l=0;l<this.i;++l)o(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},s=a;r.default=s}),TX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=i(iD()),t=cl(),n=fl();function i(l){return l&&l.t?l:{default:l}}var a=class d8 extends t.ContainerIterator{constructor(u,c,h,p){super(p),this.o=u,this.h=c,this.container=h,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=u}copy(){return new d8(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;l.forEach(function(c){u.pushBack(c)})}V(l){let{L:u,B:c}=l;u.B=c,c.L=u,l===this.p&&(this.p=c),l===this._&&(this._=u),this.i-=1}G(l,u){let c=u.B,h={l,L:u,B:c};u.B=h,c.L=h,u===this.h&&(this.p=h),c===this.h&&(this._=h),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return this.V(u),this.i}eraseElementByValue(l){let u=this.p;for(;u!==this.h;)u.l===l&&this.V(u),u=u.B;return this.i}eraseElementByIterator(l){let u=l.o;return u===this.h&&(0,n.throwIteratorAccessError)(),l=l.next(),this.V(u),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,u){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=u}insert(l,u,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(u);else if(l===this.i)for(;c--;)this.pushBack(u);else{let h=this.p;for(let m=1;m<l;++m)h=h.B;let p=h.B;for(this.i+=c;c--;)h.B={l:u,L:h},h.B.L=h,h=h.B;h.B=p,p.L=h}return this.i}find(l){let u=this.p;for(;u!==this.h;){if(u.l===l)return new a(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,u=this._,c=0;for(;c<<1<this.i;){let h=l.l;l.l=u.l,u.l=h,l=l.B,u=u.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let u=l;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;l.B=u.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let u=[];this.forEach(function(h){u.push(h)}),u.sort(l);let c=this.p;u.forEach(function(h){c.l=h,c=c.B})}merge(l){let u=this;if(this.i===0)l.forEach(function(c){u.pushBack(c)});else{let c=this.p;l.forEach(function(h){for(;c!==u.h&&c.l<=h;)c=c.B;u.G(h,c.L)})}return this.i}forEach(l){let u=this.p,c=0;for(;u!==this.h;)l(u.l,c++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},o=s;r.default=o}),AX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=n(iD()),t=f8();function n(o){return o&&o.t?o:{default:o}}var i=class p8 extends t.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new p8(this.o,this.container,this.iteratorType)}},a=class extends e.default{constructor(o=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(u/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let c=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-u%this.F>>1;let h=this;o.forEach(function(p){h.pushBack(p)})}T(){let o=[],l=Math.max(this.P>>1,1);for(let u=0;u<l;++u)o[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)o[o.length]=this.A[u];for(let u=0;u<this.R;++u)o[o.length]=this.A[u];o[o.length]=[...this.A[this.R]],this.j=l,this.R=o.length-1;for(let u=0;u<l;++u)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let l=this.D+o+1,u=l%this.F,c=u-1,h=this.j+(l-u)/this.F;return u===0&&(h-=1),h%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:h,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(o);return this.A[l][u]}setElementByPos(o,l){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:c}=this.O(o);this.A[u][c]=l}insert(o,l,u=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;u--;)this.pushFront(l);else if(o===this.i)for(;u--;)this.pushBack(l);else{let c=[];for(let h=o;h<this.i;++h)c.push(this.getElementByPos(h));this.cut(o-1);for(let h=0;h<u;++h)this.pushBack(l);for(let h=0;h<c.length;++h)this.pushBack(c[h])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(o);return this.R=l,this.N=u,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let l=[];for(let c=o+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(o),this.popBack();let u=this;l.forEach(function(c){u.pushBack(c)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let h=this.getElementByPos(c);h!==o&&l.push(h)}let u=l.length;for(let c=0;c<u;++c)this.setElementByPos(c,l[c]);return this.cut(u-1)}eraseElementByIterator(o){let l=o.o;return this.eraseElementByPos(l),o=o.next(),o}find(o){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===o)return new i(l,this);return this.end()}reverse(){let o=0,l=this.i-1;for(;o<l;){let u=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(l)),this.setElementByPos(l,u),o+=1,l-=1}}unique(){if(this.i<=1)return this.i;let o=1,l=this.getElementByPos(0);for(let u=1;u<this.i;++u){let c=this.getElementByPos(u);c!==l&&(l=c,this.setElementByPos(o++,c))}for(;this.i>o;)this.popBack();return this.i}sort(o){let l=[];for(let u=0;u<this.i;++u)l.push(this.getElementByPos(u));l.sort(o);for(let u=0;u<this.i;++u)this.setElementByPos(u,l[u])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(l){o.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<o.length;++l)this.pushBack(o[l])}forEach(o){for(let l=0;l<this.i;++l)o(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},s=a;r.default=s}),DX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.TreeNodeEnableIndex=r.TreeNode=void 0;var e=class{constructor(n,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=i}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let i=n.tt;for(;i.U===n;)n=i,i=n.tt;n=i}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let i=n.tt;for(;i.W===n;)n=i,i=n.tt;return n.W!==i?i:n}}te(){let n=this.tt,i=this.W,a=i.U;return n.tt===this?n.tt=i:n.U===this?n.U=i:n.W=i,i.tt=n,i.U=this,this.tt=i,this.W=a,a&&(a.tt=this),i}se(){let n=this.tt,i=this.U,a=i.W;return n.tt===this?n.tt=i:n.U===this?n.U=i:n.W=i,i.tt=n,i.W=this,this.tt=i,this.U=a,a&&(a.tt=this),i}};r.TreeNode=e;var t=class extends e{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};r.TreeNodeEnableIndex=t}),m8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=DX(),t=cl(),n=fl(),i=class extends t.Container{constructor(s=function(l,u){return l<u?-1:l>u?1:0},o=!1){super(),this.Y=void 0,this.v=s,o?(this.re=e.TreeNodeEnableIndex,this.M=function(l,u,c){let h=this.ne(l,u,c);if(h){let p=h.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let m=this.he(h);if(m){let{parentNode:g,grandParent:y,curNode:x}=m;g.ie(),y.ie(),x.ie()}}return this.i},this.V=function(l){let u=this.fe(l);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=e.TreeNode,this.M=function(l,u,c){let h=this.ne(l,u,c);return h&&this.he(h),this.i},this.V=this.fe),this.h=new this.re}X(s,o){let l=this.h;for(;s;){let u=this.v(s.u,o);if(u<0)s=s.W;else if(u>0)l=s,s=s.U;else return s}return l}Z(s,o){let l=this.h;for(;s;)this.v(s.u,o)<=0?s=s.W:(l=s,s=s.U);return l}$(s,o){let l=this.h;for(;s;){let u=this.v(s.u,o);if(u<0)l=s,s=s.W;else if(u>0)s=s.U;else return s}return l}rr(s,o){let l=this.h;for(;s;)this.v(s.u,o)<0?(l=s,s=s.W):s=s.U;return l}ue(s){for(;;){let o=s.tt;if(o===this.h)return;if(s.ee===1){s.ee=0;return}if(s===o.U){let l=o.W;if(l.ee===1)l.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(l.W&&l.W.ee===1){l.ee=o.ee,o.ee=0,l.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,s=o)}else{let l=o.U;if(l.ee===1)l.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(l.U&&l.U.ee===1){l.ee=o.ee,o.ee=0,l.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,s=o)}}}fe(s){if(this.i===1)return this.clear(),this.h;let o=s;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[s.u,o.u]=[o.u,s.u],[s.l,o.l]=[o.l,s.l],s=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let l=o.tt;return o===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(s,o){return s===void 0?!1:this.oe(s.U,o)||o(s)?!0:this.oe(s.W,o)}he(s){for(;;){let o=s.tt;if(o.ee===0)return;let l=o.tt;if(o===l.U){let u=l.W;if(u&&u.ee===1){if(u.ee=o.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===o.W){if(s.ee=0,s.U&&(s.U.tt=o),s.W&&(s.W.tt=l),o.W=s.U,l.U=s.W,s.U=o,s.W=l,l===this.Y)this.Y=s,this.h.tt=s;else{let c=l.tt;c.U===l?c.U=s:c.W=s}return s.tt=l.tt,o.tt=s,l.tt=s,l.ee=1,{parentNode:o,grandParent:l,curNode:s}}else o.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let u=l.U;if(u&&u.ee===1){if(u.ee=o.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===o.U){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=o),l.W=s.U,o.U=s.W,s.U=l,s.W=o,l===this.Y)this.Y=s,this.h.tt=s;else{let c=l.tt;c.U===l?c.U=s:c.W=s}return s.tt=l.tt,o.tt=s,l.tt=s,l.ee=1,{parentNode:o,grandParent:l,curNode:s}}else o.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(s,o,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,c=this.h.U,h=this.v(c.u,s);if(h===0){c.l=o;return}else if(h>0)c.U=new this.re(s,o),c.U.tt=c,u=c.U,this.h.U=u;else{let p=this.h.W,m=this.v(p.u,s);if(m===0){p.l=o;return}else if(m<0)p.W=new this.re(s,o),p.W.tt=p,u=p.W,this.h.W=u;else{if(l!==void 0){let g=l.o;if(g!==this.h){let y=this.v(g.u,s);if(y===0){g.l=o;return}else if(y>0){let x=g.L(),E=this.v(x.u,s);if(E===0){x.l=o;return}else E<0&&(u=new this.re(s,o),x.W===void 0?(x.W=u,u.tt=x):(g.U=u,u.tt=g))}}}if(u===void 0)for(u=this.Y;;){let g=this.v(u.u,s);if(g>0){if(u.U===void 0){u.U=new this.re(s,o),u.U.tt=u,u=u.U;break}u=u.U}else if(g<0){if(u.W===void 0){u.W=new this.re(s,o),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=o;return}}}}return this.i+=1,u}I(s,o){for(;s;){let l=this.v(s.u,o);if(l<0)s=s.W;else if(l>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,o){let l=s.o;if(l===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return l.u=o,!0;if(l===this.h.U)return this.v(l.B().u,o)>0?(l.u=o,!0):!1;if(l===this.h.W)return this.v(l.L().u,o)<0?(l.u=o,!0):!1;let u=l.L().u;if(this.v(u,o)>=0)return!1;let c=l.B().u;return this.v(c,o)<=0?!1:(l.u=o,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let o=0,l=this;return this.oe(this.Y,function(u){return s===o?(l.V(u),!0):(o+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let o=this.I(this.Y,s);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(s){let o=s.o;o===this.h&&(0,n.throwIteratorAccessError)();let l=o.W===void 0;return s.iteratorType===0?l&&s.next():(!l||o.U===void 0)&&s.next(),this.V(o),s}forEach(s){let o=0;for(let l of this)s(l,o++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let o,l=0;for(let u of this){if(l===s){o=u;break}l+=1}return o}getHeight(){if(this.i===0)return 0;let s=function(o){return o?Math.max(s(o.U),s(o.W))+1:0};return s(this.Y)}},a=i;r.default=a}),g8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=cl(),t=fl(),n=class extends e.ContainerIterator{constructor(a,s,o){super(o),this.o=a,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let a=this.o,s=this.h.tt;if(a===this.h)return s?s.rt-1:0;let o=0;for(a.U&&(o+=a.U.rt);a!==s;){let l=a.tt;a===l.W&&(o+=1,l.U&&(o+=l.U.rt)),a=l}return o}},i=n;r.default=i}),OX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=i(m8()),t=i(g8()),n=fl();function i(l){return l&&l.t?l:{default:l}}var a=class v8 extends t.default{constructor(u,c,h,p){super(u,c,p),this.container=h}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new v8(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.default{constructor(l=[],u,c){super(u,c);let h=this;l.forEach(function(p){h.insert(p)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,u){return this.M(l,void 0,u)}find(l){let u=this.I(this.Y,l);return new a(u,this.h,this)}lowerBound(l){let u=this.X(this.Y,l);return new a(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new a(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new a(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new a(u,this.h,this)}union(l){let u=this;return l.forEach(function(c){u.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=s;r.default=o}),CX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=i(m8()),t=i(g8()),n=fl();function i(l){return l&&l.t?l:{default:l}}var a=class y8 extends t.default{constructor(u,c,h,p){super(u,c,p),this.container=h}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,h){if(h==="0")return u.o.u;if(h==="1")return u.o.l},set(c,h,p){if(h!=="1")throw new TypeError("props must be 1");return u.o.l=p,!0}})}copy(){return new y8(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.default{constructor(l=[],u,c){super(u,c);let h=this;l.forEach(function(p){h.setElement(p[0],p[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let u=this.X(this.Y,l);return new a(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new a(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new a(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new a(u,this.h,this)}setElement(l,u,c){return this.M(l,u,c)}find(l){let u=this.I(this.Y,l);return new a(u,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let u=this;return l.forEach(function(c){u.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=s;r.default=o}),x8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=e;function e(t){let n=typeof t;return n==="object"&&t!==null||n==="function"}}),b8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.HashContainerIterator=r.HashContainer=void 0;var e=cl(),t=i(x8()),n=fl();function i(o){return o&&o.t?o:{default:o}}var a=class extends e.ContainerIterator{constructor(o,l,u){super(u),this.o=o,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};r.HashContainerIterator=a;var s=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:l,B:u}=o;l.B=u,u.L=l,o===this.p&&(this.p=u),o===this._&&(this._=l),this.i-=1}M(o,l,u){u===void 0&&(u=(0,t.default)(o));let c;if(u){let h=o[this.HASH_TAG];if(h!==void 0)return this.H[h].l=l,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:o,l,L:this._,B:this.h},this.H.push(c)}else{let h=this.g[o];if(h)return h.l=l,this.i;c={u:o,l,L:this._,B:this.h},this.g[o]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(o,l){if(l===void 0&&(l=(0,t.default)(o)),l){let u=o[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(l){delete l.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,l){let u;if(l===void 0&&(l=(0,t.default)(o)),l){let c=o[this.HASH_TAG];if(c===void 0)return!1;delete o[this.HASH_TAG],u=this.H[c],delete this.H[c]}else{if(u=this.g[o],u===void 0)return!1;delete this.g[o]}return this.V(u),!0}eraseElementByIterator(o){let l=o.o;return l===this.h&&(0,n.throwIteratorAccessError)(),this.V(l),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let l=this.p;for(;o--;)l=l.B;return this.V(l),this.i}};r.HashContainer=s}),IX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=b8(),t=fl(),n=class S8 extends e.HashContainerIterator{constructor(o,l,u,c){super(o,l,c),this.container=u}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new S8(this.o,this.h,this.container,this.iteratorType)}},i=class extends e.HashContainer{constructor(s=[]){super();let o=this;s.forEach(function(l){o.insert(l)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,o){return this.M(s,void 0,o)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let o=this.p;for(;s--;)o=o.B;return o.u}find(s,o){let l=this.I(s,o);return new n(l,this.h,this)}forEach(s){let o=0,l=this.p;for(;l!==this.h;)s(l.u,o++,this),l=l.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}).bind(this)()}},a=i;r.default=a}),RX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=b8(),t=i(x8()),n=fl();function i(l){return l&&l.t?l:{default:l}}var a=class E8 extends e.HashContainerIterator{constructor(u,c,h,p){super(u,c,p),this.container=h}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,h){if(h==="0")return u.o.u;if(h==="1")return u.o.l},set(c,h,p){if(h!=="1")throw new TypeError("props must be 1");return u.o.l=p,!0}})}copy(){return new E8(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(c){u.setElement(c[0],c[1])})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,u,c){return this.M(l,u,c)}getElementByKey(l,u){if(u===void 0&&(u=(0,t.default)(l)),u){let h=l[this.HASH_TAG];return h!==void 0?this.H[h].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return[u.u,u.l]}find(l,u){let c=this.I(l,u);return new a(c,this.h,this)}forEach(l){let u=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],u++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},o=s;r.default=o}),kX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"t",{value:!0}),Object.defineProperty(r,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"LinkList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"Vector",{enumerable:!0,get:function(){return i.default}});var e=h(SX()),t=h(EX()),n=h(wX()),i=h(_X()),a=h(TX()),s=h(AX()),o=h(OX()),l=h(CX()),u=h(IX()),c=h(RX());function h(p){return p&&p.t?p:{default:p}}}),PX=tt((r,e)=>{qe(),Qe(),Xe();var t=kX().OrderedSet,n=Zo()("number-allocator:trace"),i=Zo()("number-allocator:error");function a(o,l){this.low=o,this.high=l}a.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},a.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function s(o,l){if(!(this instanceof s))return new s(o,l);this.min=o,this.max=l,this.ss=new t([],(u,c)=>u.compare(c)),n("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let o=this.ss.begin(),l=o.pointer.low,u=o.pointer.high,c=l;return c+1<=u?this.ss.updateKeyByIterator(o,new a(l+1,u)):this.ss.eraseElementByPos(0),n("alloc():"+c),c},s.prototype.use=function(o){let l=new a(o,o),u=this.ss.lowerBound(l);if(!u.equals(this.ss.end())){let c=u.pointer.low,h=u.pointer.high;return u.pointer.equals(l)?(this.ss.eraseElementByIterator(u),n("use():"+o),!0):c>o?!1:c===o?(this.ss.updateKeyByIterator(u,new a(c+1,h)),n("use():"+o),!0):h===o?(this.ss.updateKeyByIterator(u,new a(c,h-1)),n("use():"+o),!0):(this.ss.updateKeyByIterator(u,new a(o+1,h)),this.ss.insert(new a(c,o-1)),n("use():"+o),!0)}return n("use():failed"),!1},s.prototype.free=function(o){if(o<this.min||o>this.max){i("free():"+o+" is out of range");return}let l=new a(o,o),u=this.ss.upperBound(l);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(l);return}u.pre();let c=u.pointer.high;u.pointer.high+1===o?this.ss.updateKeyByIterator(u,new a(c,o)):this.ss.insert(l)}else if(u.equals(this.ss.begin()))if(o+1===u.pointer.low){let c=u.pointer.high;this.ss.updateKeyByIterator(u,new a(o,c))}else this.ss.insert(l);else{let c=u.pointer.low,h=u.pointer.high;u.pre();let p=u.pointer.low;u.pointer.high+1===o?o+1===c?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new a(p,h))):this.ss.updateKeyByIterator(u,new a(p,o)):o+1===c?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new a(o,h))):this.ss.insert(l)}n("free():"+o)},s.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},e.exports=s}),w8=tt((r,e)=>{qe(),Qe(),Xe();var t=PX();e.exports.NumberAllocator=t}),LX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=bX(),t=w8(),n=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(i){i>0&&(this.aliasToTopic=new e.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,a){if(a===0||a>this.max)return!1;let s=this.aliasToTopic.get(a);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(a,i),this.topicToAlias[i]=a,this.numberAllocator.use(a),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let a=this.topicToAlias[i];return typeof a<"u"&&this.aliasToTopic.get(a),a}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};r.default=n}),MX=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0});var t=Ex(),n=e(LX()),i=Rh(),a=(s,o)=>{s.log("_handleConnack");let{options:l}=s,u=l.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(s.topicAliasSend=new n.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=o.properties.serverKeepAlive),o.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(u===0)s.reconnecting=!1,s._onConnect(o);else if(u>0){let c=new i.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[u]}`,u);s.emit("error",c),s.options.reconnectOnConnackError&&s._cleanUp(!0)}};r.default=a}),NX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=(t,n,i)=>{t.log("handling pubrel packet");let a=typeof i<"u"?i:t.noop,{messageId:s}=n,o={cmd:"pubcomp",messageId:s};t.incomingStore.get(n,(l,u)=>{l?t._sendPacket(o,a):(t.emit("message",u.topic,u.payload,u),t.handleMessage(u,c=>{if(c)return a(c);t.incomingStore.del(u,t.noop),t._sendPacket(o,a)}))})};r.default=e}),FX=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0});var t=e(vX()),n=e(xX()),i=e(MX()),a=e(Ex()),s=e(NX()),o=(l,u,c)=>{let{options:h}=l;if(h.protocolVersion===5&&h.properties&&h.properties.maximumPacketSize&&h.properties.maximumPacketSize<u.length)return l.emit("error",new Error(`exceeding packets size ${u.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",u),u.cmd){case"publish":(0,t.default)(l,u,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,a.default)(l,u),c();break;case"pubrel":l.reschedulePing(),(0,s.default)(l,u,c);break;case"connack":(0,i.default)(l,u),c();break;case"auth":l.reschedulePing(),(0,n.default)(l,u),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",u),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};r.default=o}),_8=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};r.default=e}),BX=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=class{aliasToTopic;max;length;constructor(t){this.aliasToTopic={},this.max=t}put(t,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};r.default=e}),UX=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.TypedEventEmitter=void 0;var t=e((Lc(),wr(_u))),n=Rh(),i=class{};r.TypedEventEmitter=i,(0,n.applyMixin)(i,t.default)}),_x=tt((r,e)=>{qe(),Qe(),Xe();function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),jX=tt((r,e)=>{qe(),Qe(),Xe();var t=_x().default;function n(i,a){if(t(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,a||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),$X=tt((r,e)=>{qe(),Qe(),Xe();var t=_x().default,n=jX();function i(a){var s=n(a,"string");return t(s)=="symbol"?s:s+""}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),HX=tt((r,e)=>{qe(),Qe(),Xe();var t=$X();function n(i,a,s){return(a=t(a))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),GX=tt((r,e)=>{qe(),Qe(),Xe();function t(n){if(Array.isArray(n))return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),WX=tt((r,e)=>{qe(),Qe(),Xe();function t(n,i){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var s,o,l,u,c=[],h=!0,p=!1;try{if(l=(a=a.call(n)).next,i===0){if(Object(a)!==a)return;h=!1}else for(;!(h=(s=l.call(a)).done)&&(c.push(s.value),c.length!==i);h=!0);}catch(m){p=!0,o=m}finally{try{if(!h&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(p)throw o}}return c}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),KX=tt((r,e)=>{qe(),Qe(),Xe();function t(n,i){(i==null||i>n.length)&&(i=n.length);for(var a=0,s=Array(i);a<i;a++)s[a]=n[a];return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),YX=tt((r,e)=>{qe(),Qe(),Xe();var t=KX();function n(i,a){if(i){if(typeof i=="string")return t(i,a);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?t(i,a):void 0}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),zX=tt((r,e)=>{qe(),Qe(),Xe();function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),VX=tt((r,e)=>{qe(),Qe(),Xe();var t=GX(),n=WX(),i=YX(),a=zX();function s(o,l){return t(o)||n(o,l)||i(o,l)||a()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}),T8=tt((r,e)=>{qe(),Qe(),Xe(),(function(t,n){typeof r=="object"&&typeof e<"u"?n(r):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.fastUniqueNumbers={}))})(r,function(t){var n=function(m){return function(g){var y=m(g);return g.add(y),y}},i=function(m){return function(g,y){return m.set(g,y),y}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,o=s*2,l=function(m,g){return function(y){var x=g.get(y),E=x===void 0?y.size:x<o?x+1:0;if(!y.has(E))return m(y,E);if(y.size<s){for(;y.has(E);)E=Math.floor(Math.random()*o);return m(y,E)}if(y.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(E);)E=Math.floor(Math.random()*a);return m(y,E)}},u=new WeakMap,c=i(u),h=l(c,u),p=n(h);t.addUniqueNumber=p,t.generateUniqueNumber=h})}),qX=tt((r,e)=>{qe(),Qe(),Xe();function t(i,a,s,o,l,u,c){try{var h=i[u](c),p=h.value}catch(m){return void s(m)}h.done?a(p):Promise.resolve(p).then(o,l)}function n(i){return function(){var a=this,s=arguments;return new Promise(function(o,l){var u=i.apply(a,s);function c(p){t(u,o,l,c,h,"next",p)}function h(p){t(u,o,l,c,h,"throw",p)}c(void 0)})}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),A8=tt((r,e)=>{qe(),Qe(),Xe();function t(n,i){this.v=n,this.k=i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),D8=tt((r,e)=>{qe(),Qe(),Xe();function t(n,i,a,s){var o=Object.defineProperty;try{o({},"",{})}catch{o=0}e.exports=t=function(l,u,c,h){function p(m,g){t(l,m,function(y){return this._invoke(m,g,y)})}u?o?o(l,u,{value:c,enumerable:!h,configurable:!h,writable:!h}):l[u]=c:(p("next",0),p("throw",1),p("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i,a,s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),O8=tt((r,e)=>{qe(),Qe(),Xe();var t=D8();function n(){var i,a,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",l=s.toStringTag||"@@toStringTag";function u(E,S,w,T){var _=S&&S.prototype instanceof h?S:h,O=Object.create(_.prototype);return t(O,"_invoke",(function(A,I,k){var N,B,R,H=0,X=k||[],Y=!1,K={p:0,n:0,v:i,a:z,f:z.bind(i,4),d:function(Q,se){return N=Q,B=0,R=i,K.n=se,c}};function z(Q,se){for(B=Q,R=se,a=0;!Y&&H&&!ae&&a<X.length;a++){var ae,W=X[a],M=K.p,V=W[2];Q>3?(ae=V===se)&&(R=W[(B=W[4])?5:(B=3,3)],W[4]=W[5]=i):W[0]<=M&&((ae=Q<2&&M<W[1])?(B=0,K.v=se,K.n=W[1]):M<V&&(ae=Q<3||W[0]>se||se>V)&&(W[4]=Q,W[5]=se,K.n=V,B=0))}if(ae||Q>1)return c;throw Y=!0,se}return function(Q,se,ae){if(H>1)throw TypeError("Generator is already running");for(Y&&se===1&&z(se,ae),B=se,R=ae;(a=B<2?i:R)||!Y;){N||(B?B<3?(B>1&&(K.n=-1),z(B,R)):K.n=R:K.v=R);try{if(H=2,N){if(B||(Q="next"),a=N[Q]){if(!(a=a.call(N,R)))throw TypeError("iterator result is not an object");if(!a.done)return a;R=a.value,B<2&&(B=0)}else B===1&&(a=N.return)&&a.call(N),B<2&&(R=TypeError("The iterator does not provide a '"+Q+"' method"),B=1);N=i}else if((a=(Y=K.n<0)?R:A.call(I,K))!==c)break}catch(W){N=i,B=1,R=W}finally{H=1}}return{value:a,done:Y}}})(E,w,T),!0),O}var c={};function h(){}function p(){}function m(){}a=Object.getPrototypeOf;var g=[][o]?a(a([][o]())):(t(a={},o,function(){return this}),a),y=m.prototype=h.prototype=Object.create(g);function x(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,m):(E.__proto__=m,t(E,l,"GeneratorFunction")),E.prototype=Object.create(y),E}return p.prototype=m,t(y,"constructor",m),t(m,"constructor",p),p.displayName="GeneratorFunction",t(m,l,"GeneratorFunction"),t(y),t(y,l,"Generator"),t(y,o,function(){return this}),t(y,"toString",function(){return"[object Generator]"}),(e.exports=n=function(){return{w:u,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),C8=tt((r,e)=>{qe(),Qe(),Xe();var t=A8(),n=D8();function i(a,s){function o(u,c,h,p){try{var m=a[u](c),g=m.value;return g instanceof t?s.resolve(g.v).then(function(y){o("next",y,h,p)},function(y){o("throw",y,h,p)}):s.resolve(g).then(function(y){m.value=y,h(m)},function(y){return o("throw",y,h,p)})}catch(y){p(y)}}var l;this.next||(n(i.prototype),n(i.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),n(this,"_invoke",function(u,c,h){function p(){return new s(function(m,g){o(u,h,m,g)})}return l=l?l.then(p,p):p()},!0)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),I8=tt((r,e)=>{qe(),Qe(),Xe();var t=O8(),n=C8();function i(a,s,o,l,u){return new n(t().w(a,s,o,l),u||Promise)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}),XX=tt((r,e)=>{qe(),Qe(),Xe();var t=I8();function n(i,a,s,o,l){var u=t(i,a,s,o,l);return u.next().then(function(c){return c.done?c.value:u.next()})}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),QX=tt((r,e)=>{qe(),Qe(),Xe();function t(n){var i=Object(n),a=[];for(var s in i)a.unshift(s);return function o(){for(;a.length;)if((s=a.pop())in i)return o.value=s,o.done=!1,o;return o.done=!0,o}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),ZX=tt((r,e)=>{qe(),Qe(),Xe();var t=_x().default;function n(i){if(i!=null){var a=i[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],s=0;if(a)return a.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length))return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}}}throw new TypeError(t(i)+" is not iterable")}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),JX=tt((r,e)=>{qe(),Qe(),Xe();var t=A8(),n=O8(),i=XX(),a=I8(),s=C8(),o=QX(),l=ZX();function u(){var c=n(),h=c.m(u),p=(Object.getPrototypeOf?Object.getPrototypeOf(h):h.__proto__).constructor;function m(x){var E=typeof x=="function"&&x.constructor;return!!E&&(E===p||(E.displayName||E.name)==="GeneratorFunction")}var g={throw:1,return:2,break:3,continue:3};function y(x){var E,S;return function(w){E||(E={stop:function(){return S(w.a,2)},catch:function(){return w.v},abrupt:function(T,_){return S(w.a,g[T],_)},delegateYield:function(T,_,O){return E.resultName=_,S(w.d,l(T),O)},finish:function(T){return S(w.f,T)}},S=function(T,_,O){w.p=E.prev,w.n=E.next;try{return T(_,O)}finally{E.next=w.n}}),E.resultName&&(E[E.resultName]=w.v,E.resultName=void 0),E.sent=w.v,E.next=w.n;try{return x.call(this,E)}finally{w.p=E.prev,w.n=E.next}}}return(e.exports=u=function(){return{wrap:function(x,E,S,w){return c.w(y(x),E,S,w&&w.reverse())},isGeneratorFunction:m,mark:c.m,awrap:function(x,E){return new t(x,E)},AsyncIterator:s,async:function(x,E,S,w,T){return(m(E)?a:i)(y(x),E,S,w,T)},keys:o,values:l}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}),eQ=tt((r,e)=>{qe(),Qe(),Xe();var t=JX()();e.exports=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}),tQ=tt((r,e)=>{qe(),Qe(),Xe(),(function(t,n){typeof r=="object"&&typeof e<"u"?n(r,HX(),VX(),T8(),qX(),eQ()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.brokerFactory={},t._defineProperty,t._slicedToArray,t.fastUniqueNumbers,t._asyncToGenerator,t._regeneratorRuntime))})(r,function(t,n,i,a,s,o){var l=function(S){return typeof S.start=="function"},u=new WeakMap;function c(S,w){var T=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);w&&(_=_.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),T.push.apply(T,_)}return T}function h(S){for(var w=1;w<arguments.length;w++){var T=arguments[w]!=null?arguments[w]:{};w%2?c(Object(T),!0).forEach(function(_){n(S,_,T[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(T)):c(Object(T)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(T,_))})}return S}var p=function(S){return h(h({},S),{},{connect:function(w){var T=w.call;return s(o.mark(function _(){var O,A,I,k;return o.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return O=new MessageChannel,A=O.port1,I=O.port2,N.next=1,T("connect",{port:A},[A]);case 1:return k=N.sent,u.set(I,k),N.abrupt("return",I);case 2:case"end":return N.stop()}},_)}))},disconnect:function(w){var T=w.call;return(function(){var _=s(o.mark(function O(A){var I;return o.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(I=u.get(A),I!==void 0){k.next=1;break}throw new Error("The given port is not connected.");case 1:return k.next=2,T("disconnect",{portId:I});case 2:case"end":return k.stop()}},O)}));return function(O){return _.apply(this,arguments)}})()},isSupported:function(w){var T=w.call;return function(){return T("isSupported")}}})};function m(S,w){var T=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);w&&(_=_.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),T.push.apply(T,_)}return T}function g(S){for(var w=1;w<arguments.length;w++){var T=arguments[w]!=null?arguments[w]:{};w%2?m(Object(T),!0).forEach(function(_){n(S,_,T[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(T)):m(Object(T)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(T,_))})}return S}var y=new WeakMap,x=function(S){if(y.has(S))return y.get(S);var w=new Map;return y.set(S,w),w},E=function(S){var w=p(S);return function(T){var _=x(T);T.addEventListener("message",function(X){var Y=X.data,K=Y.id;if(K!==null&&_.has(K)){var z=_.get(K),Q=z.reject,se=z.resolve;_.delete(K),Y.error===void 0?se(Y.result):Q(new Error(Y.error.message))}}),l(T)&&T.start();for(var O=function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(z,Q){var se=a.generateUniqueNumber(_);_.set(se,{reject:Q,resolve:z}),Y===null?T.postMessage({id:se,method:X},K):T.postMessage({id:se,method:X,params:Y},K)})},A=function(X,Y){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];T.postMessage({id:null,method:X,params:Y},K)},I={},k=0,N=Object.entries(w);k<N.length;k++){var B=i(N[k],2),R=B[0],H=B[1];I=g(g({},I),{},n({},R,H({call:O,notify:A})))}return g({},I)}};t.createBroker=E})}),rQ=tt((r,e)=>{qe(),Qe(),Xe(),(function(t,n){typeof r=="object"&&typeof e<"u"?n(r,_x(),tQ(),T8()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.workerTimersBroker={},t._typeof,t.brokerFactory,t.fastUniqueNumbers))})(r,function(t,n,i,a){var s=new Map([[0,null]]),o=new Map([[0,null]]),l=i.createBroker({clearInterval:function(c){var h=c.call;return function(p){n(s.get(p))==="symbol"&&(s.set(p,null),h("clear",{timerId:p,timerType:"interval"}).then(function(){s.delete(p)}))}},clearTimeout:function(c){var h=c.call;return function(p){n(o.get(p))==="symbol"&&(o.set(p,null),h("clear",{timerId:p,timerType:"timeout"}).then(function(){o.delete(p)}))}},setInterval:function(c){var h=c.call;return function(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length,y=new Array(g>2?g-2:0),x=2;x<g;x++)y[x-2]=arguments[x];var E=Symbol(),S=a.generateUniqueNumber(s);s.set(S,E);var w=function(){return h("set",{delay:m,now:performance.timeOrigin+performance.now(),timerId:S,timerType:"interval"}).then(function(){var T=s.get(S);if(T===void 0)throw new Error("The timer is in an undefined state.");T===E&&(p.apply(void 0,y),s.get(S)===E&&w())})};return w(),S}},setTimeout:function(c){var h=c.call;return function(p){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length,y=new Array(g>2?g-2:0),x=2;x<g;x++)y[x-2]=arguments[x];var E=Symbol(),S=a.generateUniqueNumber(o);return o.set(S,E),h("set",{delay:m,now:performance.timeOrigin+performance.now(),timerId:S,timerType:"timeout"}).then(function(){var w=o.get(S);if(w===void 0)throw new Error("The timer is in an undefined state.");w===E&&(o.delete(S),p.apply(void 0,y))}),S}}}),u=function(c){var h=new Worker(c);return l(h)};t.load=u,t.wrap=l})}),nQ=tt((r,e)=>{qe(),Qe(),Xe(),(function(t,n){typeof r=="object"&&typeof e<"u"?n(r,rQ()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.workerTimers={},t.workerTimersBroker))})(r,function(t,n){var i=function(h,p){var m=null;return function(){if(m!==null)return m;var g=new Blob([p],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(g);return m=h(y),setTimeout(function(){return URL.revokeObjectURL(y)}),m}},a=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=i(n.load,a),o=function(h){return s().clearInterval(h)},l=function(h){return s().clearTimeout(h)},u=function(){var h;return(h=s()).setInterval.apply(h,arguments)},c=function(){var h;return(h=s()).setTimeout.apply(h,arguments)};t.clearInterval=o,t.clearTimeout=l,t.setInterval=u,t.setTimeout=c})}),Tx=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0}),r.isReactNativeBrowser=r.isWebWorker=void 0;var e=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Rr?.versions?!Object.prototype.hasOwnProperty.call(Rr.versions,"electron"):typeof window.document<"u":!1,t=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i=e()||t()||n();r.isWebWorker=t(),r.isReactNativeBrowser=n(),r.default=i}),iQ=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__createBinding||(Object.create?function(u,c,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(c,h);(!m||("get"in m?!c.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(u,p,m)}:function(u,c,h,p){p===void 0&&(p=h),u[p]=c[h]}),t=r&&r.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),n=r&&r.__importStar||(function(){var u=function(c){return u=Object.getOwnPropertyNames||function(h){var p=[];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[p.length]=m);return p},u(c)};return function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var p=u(c),m=0;m<p.length;m++)p[m]!=="default"&&e(h,c,p[m]);return t(h,c),h}})();Object.defineProperty(r,"__esModule",{value:!0});var i=nQ(),a=n(Tx()),s={set:i.setInterval,clear:i.clearInterval},o={set:(u,c)=>setInterval(u,c),clear:u=>clearInterval(u)},l=u=>{switch(u){case"native":return o;case"worker":return s;case"auto":default:return a.default&&!a.isWebWorker&&!a.isReactNativeBrowser?s:o}};r.default=l}),R8=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(r,"__esModule",{value:!0});var t=e(iQ()),n=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(i,a){this.client=i,this.timer=typeof a=="object"&&"set"in a&&"clear"in a?a:(0,t.default)(a),this.setKeepalive(i.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(i){if(i*=1e3,isNaN(i)||i<=0||i>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${i}`);this._keepalive=i,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${i}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let i=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+i,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};r.default=n}),DT=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__createBinding||(Object.create?function(_,O,A,I){I===void 0&&(I=A);var k=Object.getOwnPropertyDescriptor(O,A);(!k||("get"in k?!O.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return O[A]}}),Object.defineProperty(_,I,k)}:function(_,O,A,I){I===void 0&&(I=A),_[I]=O[A]}),t=r&&r.__setModuleDefault||(Object.create?function(_,O){Object.defineProperty(_,"default",{enumerable:!0,value:O})}:function(_,O){_.default=O}),n=r&&r.__importStar||(function(){var _=function(O){return _=Object.getOwnPropertyNames||function(A){var I=[];for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(I[I.length]=k);return I},_(O)};return function(O){if(O&&O.__esModule)return O;var A={};if(O!=null)for(var I=_(O),k=0;k<I.length;k++)I[k]!=="default"&&e(A,O,I[k]);return t(A,O),A}})(),i=r&&r.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(r,"__esModule",{value:!0});var a=i(dX()),s=Nc(),o=i(mX()),l=i(Zo()),u=n(gX()),c=i(o8()),h=i(FX()),p=i(_8()),m=i(BX()),g=Rh(),y=UX(),x=i(R8()),E=n(Tx()),S=globalThis.setImmediate||((..._)=>{let O=_.shift();(0,g.nextTick)(()=>{O(..._)})}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},T=class OT extends y.TypedEventEmitter{static VERSION=g.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(O,A){super(),this.options=A||{};for(let I in w)typeof this.options[I]>"u"?this.options[I]=w[I]:this.options[I]=A[I];this.log=this.options.log||(0,l.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",OT.VERSION),E.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",E.default?"browser":"node"),this.log("MqttClient :: options.protocol",A.protocol),this.log("MqttClient :: options.protocolVersion",A.protocolVersion),this.log("MqttClient :: options.username",A.username),this.log("MqttClient :: options.keepalive",A.keepalive),this.log("MqttClient :: options.reconnectPeriod",A.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",A.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",A.properties?A.properties.topicAliasMaximum:void 0),this.options.clientId=typeof A.clientId=="string"?A.clientId:OT.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=A.protocolVersion===5&&A.customHandleAcks?A.customHandleAcks:(...I)=>{I[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=O,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=A.outgoingStore||new c.default,this.incomingStore=A.incomingStore||new c.default,this.queueQoSZero=A.queueQoSZero===void 0?!0:A.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,A.properties&&A.properties.topicAliasMaximum>0&&(A.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new m.default(A.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:I}=this,k=()=>{let N=I.shift();this.log("deliver :: entry %o",N);let B=null;if(!N){this._resubscribe();return}B=N.packet,this.log("deliver :: call _sendPacket for %o",B);let R=!0;B.messageId&&B.messageId!==0&&(this.messageIdProvider.register(B.messageId)||(R=!1)),R?this._sendPacket(B,H=>{N.cb&&N.cb(H),k()}):(this.log("messageId: %d has already used. The message is skipped and removed.",B.messageId),k())};this.log("connect :: sending queued packets"),k()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(O,A){A()}handleMessage(O,A){A()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let O=new s.Writable,A=a.default.parser(this.options),I=null,k=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),A.on("packet",X=>{this.log("parser :: on packet push to packets array."),k.push(X)});let N=()=>{this.log("work :: getting next packet in queue");let X=k.shift();if(X)this.log("work :: packet pulled from queue"),(0,h.default)(this,X,B);else{this.log("work :: no packets in queue");let Y=I;I=null,this.log("work :: done flag is %s",!!Y),Y&&Y()}},B=()=>{if(k.length)(0,g.nextTick)(N);else{let X=I;I=null,X()}};O._write=(X,Y,K)=>{I=K,this.log("writable stream :: parsing buffer"),A.parse(X),N()};let R=X=>{this.log("streamErrorHandler :: error",X.message),X.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",X)):this.noop(X)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(O),this.stream.on("error",R),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let H={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(H.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(H.properties||(H.properties={}),this.topicAliasRecv&&(H.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(H),A.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let X={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(X)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(O,A,I,k){this.log("publish :: message `%s` to topic `%s`",A,O);let{options:N}=this;typeof I=="function"&&(k=I,I=null),I=I||{},I={qos:0,retain:!1,dup:!1,...I};let{qos:B,retain:R,dup:H,properties:X,cbStorePut:Y}=I;if(this._checkDisconnecting(k))return this;let K=()=>{let z=0;if((B===1||B===2)&&(z=this._nextId(),z===null))return this.log("No messageId left"),!1;let Q={cmd:"publish",topic:O,payload:A,qos:B,retain:R,messageId:z,dup:H};switch(N.protocolVersion===5&&(Q.properties=X),this.log("publish :: qos",B),B){case 1:case 2:this.outgoing[Q.messageId]={volatile:!1,cb:k||this.noop},this.log("MqttClient:publish: packet cmd: %s",Q.cmd),this._sendPacket(Q,void 0,Y);break;default:this.log("MqttClient:publish: packet cmd: %s",Q.cmd),this._sendPacket(Q,k,Y);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!K())&&this._storeProcessingQueue.push({invoke:K,cbStorePut:I.cbStorePut,callback:k}),this}publishAsync(O,A,I){return new Promise((k,N)=>{this.publish(O,A,I,(B,R)=>{B?N(B):k(R)})})}subscribe(O,A,I){let k=this.options.protocolVersion;typeof A=="function"&&(I=A),I=I||this.noop;let N=!1,B=[];typeof O=="string"?(O=[O],B=O):Array.isArray(O)?B=O:typeof O=="object"&&(N=O.resubscribe,delete O.resubscribe,B=Object.keys(O));let R=u.validateTopics(B);if(R!==null)return S(I,new Error(`Invalid topic ${R}`)),this;if(this._checkDisconnecting(I))return this.log("subscribe: discconecting true"),this;let H={qos:0};k===5&&(H.nl=!1,H.rap=!1,H.rh=0),A={...H,...A};let{properties:X}=A,Y=[],K=(se,ae)=>{if(ae=ae||A,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,se)||this._resubscribeTopics[se].qos<ae.qos||N){let W={topic:se,qos:ae.qos};k===5&&(W.nl=ae.nl,W.rap=ae.rap,W.rh=ae.rh,W.properties=X),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",W.topic,W.qos),Y.push(W)}};if(Array.isArray(O)?O.forEach(se=>{this.log("subscribe: array topic %s",se),K(se)}):Object.keys(O).forEach(se=>{this.log("subscribe: object topic %s, %o",se,O[se]),K(se,O[se])}),!Y.length)return I(null,[]),this;let z=(se,ae)=>{let W={cmd:"subscribe",subscriptions:se,messageId:ae};if(X&&(W.properties=X),this.options.resubscribe){this.log("subscribe :: resubscribe true");let V=[];se.forEach(ee=>{if(this.options.reconnectPeriod>0){let Z={qos:ee.qos};k===5&&(Z.nl=ee.nl||!1,Z.rap=ee.rap||!1,Z.rh=ee.rh||0,Z.properties=ee.properties),this._resubscribeTopics[ee.topic]=Z,V.push(ee.topic)}}),this.messageIdToTopic[W.messageId]=V}let M=new Promise((V,ee)=>{this.outgoing[W.messageId]={volatile:!0,cb(Z,me){if(!Z){let{granted:ue}=me;for(let q=0;q<ue.length;q+=1)se[q].qos=ue[q]}Z?ee(new g.ErrorWithSubackPacket(Z.message,me)):V(me)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(W),M},Q=()=>{let se=this.options.subscribeBatchSize??Y.length,ae=[];for(let W=0;W<Y.length;W+=se){let M=Y.slice(W,W+se),V=this._nextId();if(V===null)return this.log("No messageId left"),!1;ae.push(z(M,V))}return Promise.all(ae).then(W=>{I(null,Y,W.at(-1))}).catch(W=>{I(W,Y,W.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Q())&&this._storeProcessingQueue.push({invoke:Q,callback:I}),this}subscribeAsync(O,A){return new Promise((I,k)=>{this.subscribe(O,A,(N,B)=>{N?k(N):I(B)})})}unsubscribe(O,A,I){typeof O=="string"&&(O=[O]),typeof A=="function"&&(I=A),I=I||this.noop;let k=u.validateTopics(O);if(k!==null)return S(I,new Error(`Invalid topic ${k}`)),this;if(this._checkDisconnecting(I))return this;let N=()=>{let B=this._nextId();if(B===null)return this.log("No messageId left"),!1;let R={cmd:"unsubscribe",messageId:B,unsubscriptions:[]};return typeof O=="string"?R.unsubscriptions=[O]:Array.isArray(O)&&(R.unsubscriptions=O),this.options.resubscribe&&R.unsubscriptions.forEach(H=>{delete this._resubscribeTopics[H]}),typeof A=="object"&&A.properties&&(R.properties=A.properties),this.outgoing[R.messageId]={volatile:!0,cb:I},this.log("unsubscribe: call _sendPacket"),this._sendPacket(R),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!N())&&this._storeProcessingQueue.push({invoke:N,callback:I}),this}unsubscribeAsync(O,A){return new Promise((I,k)=>{this.unsubscribe(O,A,(N,B)=>{N?k(N):I(B)})})}end(O,A,I){this.log("end :: (%s)",this.options.clientId),(O==null||typeof O!="boolean")&&(I=I||A,A=O,O=!1),typeof A!="object"&&(I=I||A,A=null),this.log("end :: cb? %s",!!I),(!I||typeof I!="function")&&(I=this.noop);let k=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(B=>{this.outgoingStore.close(R=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),I){let H=B||R;this.log("end :: closeStores: invoking callback with args"),I(H)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},N=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,O),this._cleanUp(O,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(k)},A)};return this.disconnecting?(I(),this):(this._clearReconnect(),this.disconnecting=!0,!O&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,N,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),N()),this)}endAsync(O,A){return new Promise((I,k)=>{this.end(O,A,N=>{N?k(N):I()})})}removeOutgoingMessage(O){if(this.outgoing[O]){let{cb:A}=this.outgoing[O];this._removeOutgoingAndStoreMessage(O,()=>{A(new Error("Message removed"))})}return this}reconnect(O){this.log("client reconnect");let A=()=>{O?(this.options.incomingStore=O.incomingStore,this.options.outgoingStore=O.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=A:A(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(O=>{this.outgoing[O].volatile&&typeof this.outgoing[O].cb=="function"&&(this.outgoing[O].cb(new Error("Connection closed")),delete this.outgoing[O])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(O=>{typeof this.outgoing[O].cb=="function"&&(this.outgoing[O].cb(new Error("Connection closed")),delete this.outgoing[O])}))}_removeTopicAliasAndRecoverTopicName(O){let A;O.properties&&(A=O.properties.topicAlias);let I=O.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",A,I),I.length===0){if(typeof A>"u")return new Error("Unregistered Topic Alias");if(I=this.topicAliasSend.getTopicByAlias(A),typeof I>"u")return new Error("Unregistered Topic Alias");O.topic=I}A&&delete O.properties.topicAlias}_checkDisconnecting(O){return this.disconnecting&&(O&&O!==this.noop?O(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(O,A,I={}){if(A&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",A)),this.log("_cleanUp :: forced? %s",O),O)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let k={cmd:"disconnect",...I};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(k,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),S(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),A&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",A),A())}_storeAndSend(O,A,I){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",O.cmd);let k=O,N;if(k.cmd==="publish"&&(k=(0,o.default)(O),N=this._removeTopicAliasAndRecoverTopicName(k),N))return A&&A(N);this.outgoingStore.put(k,B=>{if(B)return A&&A(B);I(),this._writePacket(O,A)})}_applyTopicAlias(O){if(this.options.protocolVersion===5&&O.cmd==="publish"){let A;O.properties&&(A=O.properties.topicAlias);let I=O.topic.toString();if(this.topicAliasSend)if(A){if(I.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",I,A),!this.topicAliasSend.put(I,A)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",I,A),new Error("Sending Topic Alias out of range")}else I.length!==0&&(this.options.autoAssignTopicAlias?(A=this.topicAliasSend.getAliasByTopic(I),A?(O.topic="",O.properties={...O.properties,topicAlias:A},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",I,A)):(A=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(I,A),O.properties={...O.properties,topicAlias:A},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",I,A))):this.options.autoUseTopicAlias&&(A=this.topicAliasSend.getAliasByTopic(I),A&&(O.topic="",O.properties={...O.properties,topicAlias:A},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",I,A))));else if(A)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",I,A),new Error("Sending Topic Alias out of range")}}_noop(O){this.log("noop ::",O)}_writePacket(O,A){this.log("_writePacket :: packet: %O",O),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",O),this.log("_writePacket :: writing to stream");let I=a.default.writeToStream(O,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",I),!I&&A&&A!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",A)):A&&(this.log("_writePacket :: invoking cb"),A())}_sendPacket(O,A,I,k){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),I=I||this.noop,A=A||this.noop;let N=this._applyTopicAlias(O);if(N){A(N);return}if(!this.connected){if(O.cmd==="auth"){this._writePacket(O,A);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(O,A,I);return}if(k){this._writePacket(O,A);return}switch(O.cmd){case"publish":break;case"pubrel":this._storeAndSend(O,A,I);return;default:this._writePacket(O,A);return}switch(O.qos){case 2:case 1:this._storeAndSend(O,A,I);break;case 0:default:this._writePacket(O,A);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(O,A,I){this.log("_storePacket :: packet: %o",O),this.log("_storePacket :: cb? %s",!!A),I=I||this.noop;let k=O;if(k.cmd==="publish"){k=(0,o.default)(O);let B=this._removeTopicAliasAndRecoverTopicName(k);if(B)return A&&A(B)}let N=k.qos||0;N===0&&this.queueQoSZero||k.cmd!=="publish"?this.queue.push({packet:k,cb:A}):N>0?(A=this.outgoing[k.messageId]?this.outgoing[k.messageId].cb:null,this.outgoingStore.put(k,B=>{if(B)return A&&A(B);I()})):A&&A(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new x.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(O=!1){this.keepaliveManager&&this.options.keepalive&&(O||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let O=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&O.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let A=0;A<O.length;A++){let I={};I[O[A]]=this._resubscribeTopics[O[A]],I.resubscribe=!0,this.subscribe(I,{properties:I[O[A]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(O){if(this.disconnected){this.emit("connect",O);return}this.connackPacket=O,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let A=()=>{let I=this.outgoingStore.createStream(),k=()=>{I.destroy(),I=null,this._flushStoreProcessingQueue(),N()},N=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",k),I.on("error",R=>{N(),this._flushStoreProcessingQueue(),this.removeListener("close",k),this.emit("error",R)});let B=()=>{if(!I)return;let R=I.read(1),H;if(!R){I.once("readable",B);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[R.messageId]){B();return}!this.disconnecting&&!this.reconnectTimer?(H=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoing[R.messageId]={volatile:!1,cb(X,Y){H&&H(X,Y),B()}},this._packetIdsDuringStoreProcessing[R.messageId]=!0,this.messageIdProvider.register(R.messageId)?this._sendPacket(R,void 0,void 0,!0):this.log("messageId: %d has already used.",R.messageId)):I.destroy&&I.destroy()};I.on("end",()=>{let R=!0;for(let H in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[H]){R=!1;break}this.removeListener("close",k),R?(N(),this._invokeAllStoreProcessingQueue(),this.emit("connect",O)):A()}),B()};A()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let O=this._storeProcessingQueue[0];if(O&&O.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let O of this._storeProcessingQueue)O.cbStorePut&&O.cbStorePut(new Error("Connection closed")),O.callback&&O.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(O,A){delete this.outgoing[O],this.outgoingStore.del({messageId:O},(I,k)=>{A(I,k),this.messageIdProvider.deallocate(O),this._invokeStoreProcessingQueue()})}};r.default=T}),aQ=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=w8(),t=class{numberAllocator;lastId;constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};r.default=t});function sQ(){if(CT)return Qg;CT=!0;let r=2147483647,e=36,t=1,n=26,i=38,a=700,s=72,o=128,l="-",u=/^xn--/,c=/[^\0-\x7F]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=e-t,g=Math.floor,y=String.fromCharCode;function x(N){throw new RangeError(p[N])}function E(N,B){let R=[],H=N.length;for(;H--;)R[H]=B(N[H]);return R}function S(N,B){let R=N.split("@"),H="";R.length>1&&(H=R[0]+"@",N=R[1]),N=N.replace(h,".");let X=N.split("."),Y=E(X,B).join(".");return H+Y}function w(N){let B=[],R=0,H=N.length;for(;R<H;){let X=N.charCodeAt(R++);if(X>=55296&&X<=56319&&R<H){let Y=N.charCodeAt(R++);(Y&64512)==56320?B.push(((X&1023)<<10)+(Y&1023)+65536):(B.push(X),R--)}else B.push(X)}return B}let T=N=>String.fromCodePoint(...N),_=function(N){return N>=48&&N<58?26+(N-48):N>=65&&N<91?N-65:N>=97&&N<123?N-97:e},O=function(N,B){return N+22+75*(N<26)-((B!=0)<<5)},A=function(N,B,R){let H=0;for(N=R?g(N/a):N>>1,N+=g(N/B);N>m*n>>1;H+=e)N=g(N/m);return g(H+(m+1)*N/(N+i))},I=function(N){let B=[],R=N.length,H=0,X=o,Y=s,K=N.lastIndexOf(l);K<0&&(K=0);for(let z=0;z<K;++z)N.charCodeAt(z)>=128&&x("not-basic"),B.push(N.charCodeAt(z));for(let z=K>0?K+1:0;z<R;){let Q=H;for(let ae=1,W=e;;W+=e){z>=R&&x("invalid-input");let M=_(N.charCodeAt(z++));M>=e&&x("invalid-input"),M>g((r-H)/ae)&&x("overflow"),H+=M*ae;let V=W<=Y?t:W>=Y+n?n:W-Y;if(M<V)break;let ee=e-V;ae>g(r/ee)&&x("overflow"),ae*=ee}let se=B.length+1;Y=A(H-Q,se,Q==0),g(H/se)>r-X&&x("overflow"),X+=g(H/se),H%=se,B.splice(H++,0,X)}return String.fromCodePoint(...B)},k=function(N){let B=[];N=w(N);let R=N.length,H=o,X=0,Y=s;for(let Q of N)Q<128&&B.push(y(Q));let K=B.length,z=K;for(K&&B.push(l);z<R;){let Q=r;for(let ae of N)ae>=H&&ae<Q&&(Q=ae);let se=z+1;Q-H>g((r-X)/se)&&x("overflow"),X+=(Q-H)*se,H=Q;for(let ae of N)if(ae<H&&++X>r&&x("overflow"),ae===H){let W=X;for(let M=e;;M+=e){let V=M<=Y?t:M>=Y+n?n:M-Y;if(W<V)break;let ee=W-V,Z=e-V;B.push(y(O(V+ee%Z,0))),W=g(ee/Z)}B.push(y(O(W,0))),Y=A(X,se,z===K),X=0,++z}++X,++H}return B.join("")};return Qg={version:"2.3.1",ucs2:{decode:w,encode:T},decode:I,encode:k,toASCII:function(N){return S(N,function(B){return c.test(B)?"xn--"+k(B):B})},toUnicode:function(N){return S(N,function(B){return u.test(B)?I(B.slice(4).toLowerCase()):B})}},Qg}var Qg,CT,Jl,oQ=Qi(()=>{qe(),Qe(),Xe(),Qg={},CT=!1,Jl=sQ(),Jl.decode,Jl.encode,Jl.toASCII,Jl.toUnicode,Jl.ucs2,Jl.version});function lQ(){return RT||(RT=!0,IT=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var n=42;r[e]=n;for(e in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var i=Object.getOwnPropertySymbols(r);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(r,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(r,e);if(a.value!==n||a.enumerable!==!0)return!1}return!0}),IT}function uQ(){return PT||(PT=!0,kT=Error),kT}function cQ(){return MT||(MT=!0,LT=EvalError),LT}function fQ(){return FT||(FT=!0,NT=RangeError),NT}function hQ(){return UT||(UT=!0,BT=ReferenceError),BT}function k8(){return $T||($T=!0,jT=SyntaxError),jT}function sp(){return GT||(GT=!0,HT=TypeError),HT}function dQ(){return KT||(KT=!0,WT=URIError),WT}function pQ(){if(YT)return Zg;YT=!0;var r=typeof Symbol<"u"&&Symbol,e=lQ();return Zg=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Zg}function mQ(){if(zT)return Jg;zT=!0;var r={__proto__:null,foo:{}},e=Object;return Jg=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof e)},Jg}function gQ(){if(VT)return ev;VT=!0;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(o,l){for(var u=[],c=0;c<o.length;c+=1)u[c]=o[c];for(var h=0;h<l.length;h+=1)u[h+o.length]=l[h];return u},a=function(o,l){for(var u=[],c=l,h=0;c<o.length;c+=1,h+=1)u[h]=o[c];return u},s=function(o,l){for(var u="",c=0;c<o.length;c+=1)u+=o[c],c+1<o.length&&(u+=l);return u};return ev=function(o){var l=this;if(typeof l!="function"||e.apply(l)!==n)throw new TypeError(r+l);for(var u=a(arguments,1),c,h=function(){if(this instanceof c){var x=l.apply(this,i(u,arguments));return Object(x)===x?x:this}return l.apply(o,i(u,arguments))},p=t(0,l.length-u.length),m=[],g=0;g<p;g++)m[g]="$"+g;if(c=Function("binder","return function ("+s(m,",")+"){ return binder.apply(this,arguments); }")(h),l.prototype){var y=function(){};y.prototype=l.prototype,c.prototype=new y,y.prototype=null}return c},ev}function aD(){if(qT)return tv;qT=!0;var r=gQ();return tv=Function.prototype.bind||r,tv}function vQ(){if(XT)return rv;XT=!0;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=aD();return rv=t.call(r,e),rv}function kh(){if(QT)return nv;QT=!0;var r,e=uQ(),t=cQ(),n=fQ(),i=hQ(),a=k8(),s=sp(),o=dQ(),l=Function,u=function(z){try{return l('"use strict"; return ('+z+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var h=function(){throw new s},p=c?(function(){try{return arguments.callee,h}catch{try{return c(arguments,"callee").get}catch{return h}}})():h,m=pQ()(),g=mQ()(),y=Object.getPrototypeOf||(g?function(z){return z.__proto__}:null),x={},E=typeof Uint8Array>"u"||!y?r:y(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":m&&y?y([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":x,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&y?y(y([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!y?r:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!y?r:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&y?y(""[Symbol.iterator]()):r,"%Symbol%":m?Symbol:r,"%SyntaxError%":a,"%ThrowTypeError%":p,"%TypedArray%":E,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":o,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(y)try{null.error}catch(z){var w=y(y(z));S["%Error.prototype%"]=w}var T=function z(Q){var se;if(Q==="%AsyncFunction%")se=u("async function () {}");else if(Q==="%GeneratorFunction%")se=u("function* () {}");else if(Q==="%AsyncGeneratorFunction%")se=u("async function* () {}");else if(Q==="%AsyncGenerator%"){var ae=z("%AsyncGeneratorFunction%");ae&&(se=ae.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var W=z("%AsyncGenerator%");W&&y&&(se=y(W.prototype))}return S[Q]=se,se},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=aD(),A=vQ(),I=O.call(Function.call,Array.prototype.concat),k=O.call(Function.apply,Array.prototype.splice),N=O.call(Function.call,String.prototype.replace),B=O.call(Function.call,String.prototype.slice),R=O.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,Y=function(z){var Q=B(z,0,1),se=B(z,-1);if(Q==="%"&&se!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(se==="%"&&Q!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var ae=[];return N(z,H,function(W,M,V,ee){ae[ae.length]=V?N(ee,X,"$1"):M||W}),ae},K=function(z,Q){var se=z,ae;if(A(_,se)&&(ae=_[se],se="%"+ae[0]+"%"),A(S,se)){var W=S[se];if(W===x&&(W=T(se)),typeof W>"u"&&!Q)throw new s("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:ae,name:se,value:W}}throw new a("intrinsic "+z+" does not exist!")};return nv=function(z,Q){if(typeof z!="string"||z.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Q!="boolean")throw new s('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,z)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var se=Y(z),ae=se.length>0?se[0]:"",W=K("%"+ae+"%",Q),M=W.name,V=W.value,ee=!1,Z=W.alias;Z&&(ae=Z[0],k(se,I([0,1],Z)));for(var me=1,ue=!0;me<se.length;me+=1){var q=se[me],te=B(q,0,1),re=B(q,-1);if((te==='"'||te==="'"||te==="`"||re==='"'||re==="'"||re==="`")&&te!==re)throw new a("property names with quotes must have matching quotes");if((q==="constructor"||!ue)&&(ee=!0),ae+="."+q,M="%"+ae+"%",A(S,M))V=S[M];else if(V!=null){if(!(q in V)){if(!Q)throw new s("base intrinsic for "+z+" exists, but the property is not available.");return}if(c&&me+1>=se.length){var pe=c(V,q);ue=!!pe,ue&&"get"in pe&&!("originalValue"in pe.get)?V=pe.get:V=V[q]}else ue=A(V,q),V=V[q];ue&&!ee&&(S[M]=V)}}return V},nv}function sD(){if(ZT)return iv;ZT=!0;var r=kh(),e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return iv=e,iv}function P8(){if(JT)return av;JT=!0;var r=kh(),e=r("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return av=e,av}function yQ(){if(eA)return sv;eA=!0;var r=sD(),e=k8(),t=sp(),n=P8();return sv=function(i,a,s){if(!i||typeof i!="object"&&typeof i!="function")throw new t("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,h=!!n&&n(i,a);if(r)r(i,a,{configurable:u===null&&h?h.configurable:!u,enumerable:o===null&&h?h.enumerable:!o,value:s,writable:l===null&&h?h.writable:!l});else if(c||!o&&!l&&!u)i[a]=s;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},sv}function xQ(){if(tA)return ov;tA=!0;var r=sD(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},ov=e,ov}function bQ(){if(rA)return lv;rA=!0;var r=kh(),e=yQ(),t=xQ()(),n=P8(),i=sp(),a=r("%Math.floor%");return lv=function(s,o){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof o!="number"||o<0||o>4294967295||a(o)!==o)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],u=!0,c=!0;if("length"in s&&n){var h=n(s,"length");h&&!h.configurable&&(u=!1),h&&!h.writable&&(c=!1)}return(u||c||!l)&&(t?e(s,"length",o,!0,!0):e(s,"length",o)),s},lv}function SQ(){if(nA)return jf;nA=!0;var r=aD(),e=kh(),t=bQ(),n=sp(),i=e("%Function.prototype.apply%"),a=e("%Function.prototype.call%"),s=e("%Reflect.apply%",!0)||r.call(a,i),o=sD(),l=e("%Math.max%");jf=function(c){if(typeof c!="function")throw new n("a function is required");var h=s(r,a,arguments);return t(h,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return s(r,i,arguments)};return o?o(jf,"apply",{value:u}):jf.apply=u,jf}function EQ(){if(iA)return uv;iA=!0;var r=kh(),e=SQ(),t=e(r("String.prototype.indexOf"));return uv=function(n,i){var a=r(n,!!i);return typeof a=="function"&&t(n,".prototype.")>-1?e(a):a},uv}var IT,RT,kT,PT,LT,MT,NT,FT,BT,UT,jT,$T,HT,GT,WT,KT,Zg,YT,Jg,zT,ev,VT,tv,qT,rv,XT,nv,QT,iv,ZT,av,JT,sv,eA,ov,tA,lv,rA,jf,nA,uv,iA,wQ=Qi(()=>{qe(),Qe(),Xe(),IT={},RT=!1,kT={},PT=!1,LT={},MT=!1,NT={},FT=!1,BT={},UT=!1,jT={},$T=!1,HT={},GT=!1,WT={},KT=!1,Zg={},YT=!1,Jg={},zT=!1,ev={},VT=!1,tv={},qT=!1,rv={},XT=!1,nv={},QT=!1,iv={},ZT=!1,av={},JT=!1,sv={},eA=!1,ov={},tA=!1,lv={},rA=!1,jf={},nA=!1,uv={},iA=!1});function oD(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function _Q(){!dc||!sc||(dc=!1,sc.length?Hs=sc.concat(Hs):l0=-1,Hs.length&&L8())}function L8(){if(!dc){var r=setTimeout(_Q,0);dc=!0;for(var e=Hs.length;e;){for(sc=Hs,Hs=[];++l0<e;)sc&&sc[l0].run();l0=-1,e=Hs.length}sc=null,dc=!1,clearTimeout(r)}}function TQ(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Hs.push(new M8(r,e)),Hs.length===1&&!dc&&setTimeout(L8,0)}function M8(r,e){this.fun=r,this.array=e}function hi(){}function AQ(r){oD("_linkedBinding")}function DQ(r){oD("dlopen")}function OQ(){return[]}function CQ(){return[]}function IQ(r,e){if(!r)throw new Error(e||"assertion error")}function RQ(){return!1}function kQ(){return Lo.now()/1e3}function zS(r){var e=Math.floor((Date.now()-Lo.now())*.001),t=Lo.now()*.001,n=Math.floor(t)+e,i=Math.floor(t%1*1e9);return r&&(n=n-r[0],i=i-r[1],i<0&&(n--,i+=cv)),[n,i]}function Yl(){return lD}function PQ(r){return[]}var Hs,dc,sc,l0,tL,rL,nL,iL,aL,sL,oL,lL,uL,cL,fL,hL,dL,pL,mL,gL,vL,yL,xL,bL,SL,Xm,EL,wL,_L,TL,AL,DL,OL,CL,IL,RL,kL,PL,LL,ML,NL,FL,BL,UL,jL,$L,HL,GL,WL,KL,YL,Lo,VS,cv,zL,VL,qL,XL,QL,ZL,JL,eM,tM,rM,nM,lD,N8=Qi(()=>{qe(),Qe(),Xe(),Hs=[],dc=!1,l0=-1,M8.prototype.run=function(){this.fun.apply(null,this.array)},tL="browser",rL="x64",nL="browser",iL={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},aL=["/usr/bin/node"],sL=[],oL="v16.8.0",lL={},uL=function(r,e){console.warn((e?e+": ":"")+r)},cL=function(r){oD("binding")},fL=function(r){return 0},hL=function(){return"/"},dL=function(r){},pL={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},mL=hi,gL=[],vL={},yL=!1,xL={},bL=hi,SL=hi,Xm=function(){return{}},EL=Xm,wL=Xm,_L=hi,TL=hi,AL=hi,DL={},OL={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},CL=hi,IL=hi,RL=hi,kL=hi,PL=hi,LL=hi,ML=hi,NL=void 0,FL=void 0,BL=void 0,UL=hi,jL=2,$L=1,HL="/bin/usr/node",GL=9229,WL="node",KL=[],YL=hi,Lo={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Lo.now===void 0&&(VS=Date.now(),Lo.timing&&Lo.timing.navigationStart&&(VS=Lo.timing.navigationStart),Lo.now=()=>Date.now()-VS),cv=1e9,zS.bigint=function(r){var e=zS(r);return typeof BigInt>"u"?e[0]*cv+e[1]:BigInt(e[0]*cv)+BigInt(e[1])},zL=10,VL={},qL=0,XL=Yl,QL=Yl,ZL=Yl,JL=Yl,eM=Yl,tM=hi,rM=Yl,nM=Yl,lD={version:oL,versions:lL,arch:rL,platform:nL,release:pL,_rawDebug:mL,moduleLoadList:gL,binding:cL,_linkedBinding:AQ,_events:VL,_eventsCount:qL,_maxListeners:zL,on:Yl,addListener:XL,once:QL,off:ZL,removeListener:JL,removeAllListeners:eM,emit:tM,prependListener:rM,prependOnceListener:nM,listeners:PQ,domain:vL,_exiting:yL,config:xL,dlopen:DQ,uptime:kQ,_getActiveRequests:OQ,_getActiveHandles:CQ,reallyExit:bL,_kill:SL,cpuUsage:Xm,resourceUsage:EL,memoryUsage:wL,kill:_L,exit:TL,openStdin:AL,allowedNodeEnvironmentFlags:DL,assert:IQ,features:OL,_fatalExceptions:CL,setUncaughtExceptionCaptureCallback:IL,hasUncaughtExceptionCaptureCallback:RQ,emitWarning:uL,nextTick:TQ,_tickCallback:RL,_debugProcess:kL,_debugEnd:PL,_startProfilerIdleNotifier:LL,_stopProfilerIdleNotifier:ML,stdout:NL,stdin:BL,stderr:FL,abort:UL,umask:fL,chdir:dL,cwd:hL,env:iL,title:tL,argv:aL,execArgv:sL,pid:jL,ppid:$L,execPath:HL,debugPort:GL,hrtime:zS,argv0:WL,_preload_modules:KL,setSourceMapsEnabled:YL}});function LQ(){if(aA)return fv;aA=!0;var r=lD;function e(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function t(a,s){for(var o="",l=0,u=-1,c=0,h,p=0;p<=a.length;++p){if(p<a.length)h=a.charCodeAt(p);else{if(h===47)break;h=47}if(h===47){if(!(u===p-1||c===1))if(u!==p-1&&c===2){if(o.length<2||l!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var m=o.lastIndexOf("/");if(m!==o.length-1){m===-1?(o="",l=0):(o=o.slice(0,m),l=o.length-1-o.lastIndexOf("/")),u=p,c=0;continue}}else if(o.length===2||o.length===1){o="",l=0,u=p,c=0;continue}}s&&(o.length>0?o+="/..":o="..",l=2)}else o.length>0?o+="/"+a.slice(u+1,p):o=a.slice(u+1,p),l=p-u-1;u=p,c=0}else h===46&&c!==-1?++c:c=-1}return o}function n(a,s){var o=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return o?o===s.root?o+l:o+a+l:l}var i={resolve:function(){for(var a="",s=!1,o,l=arguments.length-1;l>=-1&&!s;l--){var u;l>=0?u=arguments[l]:(o===void 0&&(o=r.cwd()),u=o),e(u),u.length!==0&&(a=u+"/"+a,s=u.charCodeAt(0)===47)}return a=t(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var s=a.charCodeAt(0)===47,o=a.charCodeAt(a.length-1)===47;return a=t(a,!s),a.length===0&&!s&&(a="."),a.length>0&&o&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var o=arguments[s];e(o),o.length>0&&(a===void 0?a=o:a+="/"+o)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(e(a),e(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var o=1;o<a.length&&a.charCodeAt(o)===47;++o);for(var l=a.length,u=l-o,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,p=h-c,m=u<p?u:p,g=-1,y=0;y<=m;++y){if(y===m){if(p>m){if(s.charCodeAt(c+y)===47)return s.slice(c+y+1);if(y===0)return s.slice(c+y)}else u>m&&(a.charCodeAt(o+y)===47?g=y:y===0&&(g=0));break}var x=a.charCodeAt(o+y),E=s.charCodeAt(c+y);if(x!==E)break;x===47&&(g=y)}var S="";for(y=o+g+1;y<=l;++y)(y===l||a.charCodeAt(y)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+s.slice(c+g):(c+=g,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var s=a.charCodeAt(0),o=s===47,l=-1,u=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!u){l=c;break}}else u=!1;return l===-1?o?"/":".":o&&l===1?"//":a.slice(0,l)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');e(a);var o=0,l=-1,u=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,p=-1;for(c=a.length-1;c>=0;--c){var m=a.charCodeAt(c);if(m===47){if(!u){o=c+1;break}}else p===-1&&(u=!1,p=c+1),h>=0&&(m===s.charCodeAt(h)?--h===-1&&(l=c):(h=-1,l=p))}return o===l?l=p:l===-1&&(l=a.length),a.slice(o,l)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!u){o=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":a.slice(o,l)}},extname:function(a){e(a);for(var s=-1,o=0,l=-1,u=!0,c=0,h=a.length-1;h>=0;--h){var p=a.charCodeAt(h);if(p===47){if(!u){o=h+1;break}continue}l===-1&&(u=!1,l=h+1),p===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||l===-1||c===0||c===1&&s===l-1&&s===o+1?"":a.slice(s,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){e(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var o=a.charCodeAt(0),l=o===47,u;l?(s.root="/",u=1):u=0;for(var c=-1,h=0,p=-1,m=!0,g=a.length-1,y=0;g>=u;--g){if(o=a.charCodeAt(g),o===47){if(!m){h=g+1;break}continue}p===-1&&(m=!1,p=g+1),o===46?c===-1?c=g:y!==1&&(y=1):c!==-1&&(y=-1)}return c===-1||p===-1||y===0||y===1&&c===p-1&&c===h+1?p!==-1&&(h===0&&l?s.base=s.name=a.slice(1,p):s.base=s.name=a.slice(h,p)):(h===0&&l?(s.name=a.slice(1,c),s.base=a.slice(1,p)):(s.name=a.slice(h,c),s.base=a.slice(h,p)),s.ext=a.slice(c,p)),h>0?s.dir=a.slice(0,h-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,fv=i,fv}var fv,aA,sA,MQ=Qi(()=>{qe(),Qe(),Xe(),N8(),fv={},aA=!1,sA=LQ()}),F8={};Ch(F8,{URL:()=>z8,Url:()=>H8,default:()=>di,fileURLToPath:()=>U8,format:()=>G8,parse:()=>Y8,pathToFileURL:()=>j8,resolve:()=>W8,resolveObject:()=>K8});function NQ(){if(oA)return hv;oA=!0;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&a&&typeof a.get=="function"?a.get:null,o=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,h=c?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,m=p?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,y=Object.prototype.toString,x=Function.prototype.toString,E=String.prototype.match,S=String.prototype.slice,w=String.prototype.replace,T=String.prototype.toUpperCase,_=String.prototype.toLowerCase,O=RegExp.prototype.test,A=Array.prototype.concat,I=Array.prototype.join,k=Array.prototype.slice,N=Math.floor,B=typeof BigInt=="function"?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Y=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X||!0)?Symbol.toStringTag:null,K=Object.prototype.propertyIsEnumerable,z=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Te){return Te.__proto__}:null);function Q(Te,Pe){if(Te===1/0||Te===-1/0||Te!==Te||Te&&Te>-1e3&&Te<1e3||O.call(/e/,Pe))return Pe;var St=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Te=="number"){var xt=Te<0?-N(-Te):N(Te);if(xt!==Te){var Lt=String(xt),Nt=S.call(Pe,Lt.length+1);return w.call(Lt,St,"$&_")+"."+w.call(w.call(Nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(Pe,St,"$&_")}var se=$8,ae=se.custom,W=pe(ae)?ae:null;hv=function Te(Pe,St,xt,Lt){var Nt=St||{};if(be(Nt,"quoteStyle")&&Nt.quoteStyle!=="single"&&Nt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(be(Nt,"maxStringLength")&&(typeof Nt.maxStringLength=="number"?Nt.maxStringLength<0&&Nt.maxStringLength!==1/0:Nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var bi=be(Nt,"customInspect")?Nt.customInspect:!0;if(typeof bi!="boolean"&&bi!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(be(Nt,"indent")&&Nt.indent!==null&&Nt.indent!=="	"&&!(parseInt(Nt.indent,10)===Nt.indent&&Nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(be(Nt,"numericSeparator")&&typeof Nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Rn=Nt.numericSeparator;if(typeof Pe>"u")return"undefined";if(Pe===null)return"null";if(typeof Pe=="boolean")return Pe?"true":"false";if(typeof Pe=="string")return ke(Pe,Nt);if(typeof Pe=="number"){if(Pe===0)return 1/0/Pe>0?"0":"-0";var Wr=String(Pe);return Rn?Q(Pe,Wr):Wr}if(typeof Pe=="bigint"){var Kn=String(Pe)+"n";return Rn?Q(Pe,Kn):Kn}var Sn=typeof Nt.depth>"u"?5:Nt.depth;if(typeof xt>"u"&&(xt=0),xt>=Sn&&Sn>0&&typeof Pe=="object")return ee(Pe)?"[Array]":"[Object]";var Yn=De(Nt,xt);if(typeof Lt>"u")Lt=[];else if(ye(Lt,Pe)>=0)return"[Circular]";function rn(Le,Ve,Ne){if(Ve&&(Lt=k.call(Lt),Lt.push(Ve)),Ne){var Fe={depth:Nt.depth};return be(Nt,"quoteStyle")&&(Fe.quoteStyle=Nt.quoteStyle),Te(Le,Fe,xt+1,Lt)}return Te(Le,Nt,xt+1,Lt)}if(typeof Pe=="function"&&!me(Pe)){var Sl=he(Pe),ts=lt(Pe,rn);return"[Function"+(Sl?": "+Sl:" (anonymous)")+"]"+(ts.length>0?" { "+I.call(ts,", ")+" }":"")}if(pe(Pe)){var rs=X?w.call(String(Pe),/^(Symbol\(.*\))_[^)]*$/,"$1"):H.call(Pe);return typeof Pe=="object"&&!X?P(rs):rs}if(st(Pe)){for(var de="<"+_.call(String(Pe.nodeName)),Se=Pe.attributes||[],ot=0;ot<Se.length;ot++)de+=" "+Se[ot].name+"="+M(V(Se[ot].value),"double",Nt);return de+=">",Pe.childNodes&&Pe.childNodes.length&&(de+="..."),de+="</"+_.call(String(Pe.nodeName))+">",de}if(ee(Pe)){if(Pe.length===0)return"[]";var dt=lt(Pe,rn);return Yn&&!we(dt)?"["+We(dt,Yn)+"]":"[ "+I.call(dt,", ")+" ]"}if(ue(Pe)){var bt=lt(Pe,rn);return!("cause"in Error.prototype)&&"cause"in Pe&&!K.call(Pe,"cause")?"{ ["+String(Pe)+"] "+I.call(A.call("[cause]: "+rn(Pe.cause),bt),", ")+" }":bt.length===0?"["+String(Pe)+"]":"{ ["+String(Pe)+"] "+I.call(bt,", ")+" }"}if(typeof Pe=="object"&&bi){if(W&&typeof Pe[W]=="function"&&se)return se(Pe,{depth:Sn-xt});if(bi!=="symbol"&&typeof Pe.inspect=="function")return Pe.inspect()}if(Ie(Pe)){var kr=[];return n&&n.call(Pe,function(Le,Ve){kr.push(rn(Ve,Pe,!0)+" => "+rn(Le,Pe))}),J("Map",t.call(Pe),kr,Yn)}if(Ee(Pe)){var nn=[];return o&&o.call(Pe,function(Le){nn.push(rn(Le,Pe))}),J("Set",s.call(Pe),nn,Yn)}if($e(Pe))return U("WeakMap");if(Ye(Pe))return U("WeakSet");if(Ge(Pe))return U("WeakRef");if(te(Pe))return P(rn(Number(Pe)));if(ne(Pe))return P(rn(B.call(Pe)));if(re(Pe))return P(g.call(Pe));if(q(Pe))return P(rn(String(Pe)));if(typeof window<"u"&&Pe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Pe===globalThis||typeof dv<"u"&&Pe===dv)return"{ [object globalThis] }";if(!Z(Pe)&&!me(Pe)){var ie=lt(Pe,rn),ve=z?z(Pe)===Object.prototype:Pe instanceof Object||Pe.constructor===Object,le=Pe instanceof Object?"":"null prototype",ce=!ve&&Y&&Object(Pe)===Pe&&Y in Pe?S.call(fe(Pe),8,-1):le?"Object":"",ge=ve||typeof Pe.constructor!="function"?"":Pe.constructor.name?Pe.constructor.name+" ":"",xe=ge+(ce||le?"["+I.call(A.call([],ce||[],le||[]),": ")+"] ":"");return ie.length===0?xe+"{}":Yn?xe+"{"+We(ie,Yn)+"}":xe+"{ "+I.call(ie,", ")+" }"}return String(Pe)};function M(Te,Pe,St){var xt=(St.quoteStyle||Pe)==="double"?'"':"'";return xt+Te+xt}function V(Te){return w.call(String(Te),/"/g,"&quot;")}function ee(Te){return fe(Te)==="[object Array]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function Z(Te){return fe(Te)==="[object Date]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function me(Te){return fe(Te)==="[object RegExp]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function ue(Te){return fe(Te)==="[object Error]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function q(Te){return fe(Te)==="[object String]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function te(Te){return fe(Te)==="[object Number]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function re(Te){return fe(Te)==="[object Boolean]"&&(!Y||!(typeof Te=="object"&&Y in Te))}function pe(Te){if(X)return Te&&typeof Te=="object"&&Te instanceof Symbol;if(typeof Te=="symbol")return!0;if(!Te||typeof Te!="object"||!H)return!1;try{return H.call(Te),!0}catch{}return!1}function ne(Te){if(!Te||typeof Te!="object"||!B)return!1;try{return B.call(Te),!0}catch{}return!1}var Oe=Object.prototype.hasOwnProperty||function(Te){return Te in(this||dv)};function be(Te,Pe){return Oe.call(Te,Pe)}function fe(Te){return y.call(Te)}function he(Te){if(Te.name)return Te.name;var Pe=E.call(x.call(Te),/^function\s*([\w$]+)/);return Pe?Pe[1]:null}function ye(Te,Pe){if(Te.indexOf)return Te.indexOf(Pe);for(var St=0,xt=Te.length;St<xt;St++)if(Te[St]===Pe)return St;return-1}function Ie(Te){if(!t||!Te||typeof Te!="object")return!1;try{t.call(Te);try{s.call(Te)}catch{return!0}return Te instanceof Map}catch{}return!1}function $e(Te){if(!u||!Te||typeof Te!="object")return!1;try{u.call(Te,u);try{h.call(Te,h)}catch{return!0}return Te instanceof WeakMap}catch{}return!1}function Ge(Te){if(!m||!Te||typeof Te!="object")return!1;try{return m.call(Te),!0}catch{}return!1}function Ee(Te){if(!s||!Te||typeof Te!="object")return!1;try{s.call(Te);try{t.call(Te)}catch{return!0}return Te instanceof Set}catch{}return!1}function Ye(Te){if(!h||!Te||typeof Te!="object")return!1;try{h.call(Te,h);try{u.call(Te,u)}catch{return!0}return Te instanceof WeakSet}catch{}return!1}function st(Te){return!Te||typeof Te!="object"?!1:typeof HTMLElement<"u"&&Te instanceof HTMLElement?!0:typeof Te.nodeName=="string"&&typeof Te.getAttribute=="function"}function ke(Te,Pe){if(Te.length>Pe.maxStringLength){var St=Te.length-Pe.maxStringLength,xt="... "+St+" more character"+(St>1?"s":"");return ke(S.call(Te,0,Pe.maxStringLength),Pe)+xt}var Lt=w.call(w.call(Te,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,kt);return M(Lt,"single",Pe)}function kt(Te){var Pe=Te.charCodeAt(0),St={8:"b",9:"t",10:"n",12:"f",13:"r"}[Pe];return St?"\\"+St:"\\x"+(Pe<16?"0":"")+T.call(Pe.toString(16))}function P(Te){return"Object("+Te+")"}function U(Te){return Te+" { ? }"}function J(Te,Pe,St,xt){var Lt=xt?We(St,xt):I.call(St,", ");return Te+" ("+Pe+") {"+Lt+"}"}function we(Te){for(var Pe=0;Pe<Te.length;Pe++)if(ye(Te[Pe],`
`)>=0)return!1;return!0}function De(Te,Pe){var St;if(Te.indent==="	")St="	";else if(typeof Te.indent=="number"&&Te.indent>0)St=I.call(Array(Te.indent+1)," ");else return null;return{base:St,prev:I.call(Array(Pe+1),St)}}function We(Te,Pe){if(Te.length===0)return"";var St=`
`+Pe.prev+Pe.base;return St+I.call(Te,","+St)+`
`+Pe.prev}function lt(Te,Pe){var St=ee(Te),xt=[];if(St){xt.length=Te.length;for(var Lt=0;Lt<Te.length;Lt++)xt[Lt]=be(Te,Lt)?Pe(Te[Lt],Te):""}var Nt=typeof R=="function"?R(Te):[],bi;if(X){bi={};for(var Rn=0;Rn<Nt.length;Rn++)bi["$"+Nt[Rn]]=Nt[Rn]}for(var Wr in Te)be(Te,Wr)&&(St&&String(Number(Wr))===Wr&&Wr<Te.length||X&&bi["$"+Wr]instanceof Symbol||(O.call(/[^\w$]/,Wr)?xt.push(Pe(Wr,Te)+": "+Pe(Te[Wr],Te)):xt.push(Wr+": "+Pe(Te[Wr],Te))));if(typeof R=="function")for(var Kn=0;Kn<Nt.length;Kn++)K.call(Te,Nt[Kn])&&xt.push("["+Pe(Nt[Kn])+"]: "+Pe(Te[Nt[Kn]],Te));return xt}return hv}function FQ(){if(lA)return pv;lA=!0;var r=kh(),e=EQ(),t=NQ(),n=sp(),i=r("%WeakMap%",!0),a=r("%Map%",!0),s=e("WeakMap.prototype.get",!0),o=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),p=function(x,E){for(var S=x,w;(w=S.next)!==null;S=w)if(w.key===E)return S.next=w.next,w.next=x.next,x.next=w,w},m=function(x,E){var S=p(x,E);return S&&S.value},g=function(x,E,S){var w=p(x,E);w?w.value=S:x.next={key:E,next:x.next,value:S}},y=function(x,E){return!!p(x,E)};return pv=function(){var x,E,S,w={assert:function(T){if(!w.has(T))throw new n("Side channel does not contain "+t(T))},get:function(T){if(i&&T&&(typeof T=="object"||typeof T=="function")){if(x)return s(x,T)}else if(a){if(E)return u(E,T)}else if(S)return m(S,T)},has:function(T){if(i&&T&&(typeof T=="object"||typeof T=="function")){if(x)return l(x,T)}else if(a){if(E)return h(E,T)}else if(S)return y(S,T);return!1},set:function(T,_){i&&T&&(typeof T=="object"||typeof T=="function")?(x||(x=new i),o(x,T,_)):a?(E||(E=new a),c(E,T,_)):(S||(S={key:{},next:null}),g(S,T,_))}};return w},pv}function uD(){if(uA)return mv;uA=!0;var r=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return mv={default:t.RFC3986,formatters:{RFC1738:function(n){return r.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},mv}function B8(){if(cA)return gv;cA=!0;var r=uD(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n=(function(){for(var x=[],E=0;E<256;++E)x.push("%"+((E<16?"0":"")+E.toString(16)).toUpperCase());return x})(),i=function(x){for(;x.length>1;){var E=x.pop(),S=E.obj[E.prop];if(t(S)){for(var w=[],T=0;T<S.length;++T)typeof S[T]<"u"&&w.push(S[T]);E.obj[E.prop]=w}}},a=function(x,E){for(var S=E&&E.plainObjects?Object.create(null):{},w=0;w<x.length;++w)typeof x[w]<"u"&&(S[w]=x[w]);return S},s=function x(E,S,w){if(!S)return E;if(typeof S!="object"){if(t(E))E.push(S);else if(E&&typeof E=="object")(w&&(w.plainObjects||w.allowPrototypes)||!e.call(Object.prototype,S))&&(E[S]=!0);else return[E,S];return E}if(!E||typeof E!="object")return[E].concat(S);var T=E;return t(E)&&!t(S)&&(T=a(E,w)),t(E)&&t(S)?(S.forEach(function(_,O){if(e.call(E,O)){var A=E[O];A&&typeof A=="object"&&_&&typeof _=="object"?E[O]=x(A,_,w):E.push(_)}else E[O]=_}),E):Object.keys(S).reduce(function(_,O){var A=S[O];return e.call(_,O)?_[O]=x(_[O],A,w):_[O]=A,_},T)},o=function(x,E){return Object.keys(E).reduce(function(S,w){return S[w]=E[w],S},x)},l=function(x,E,S){var w=x.replace(/\+/g," ");if(S==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},u=1024,c=function(x,E,S,w,T){if(x.length===0)return x;var _=x;if(typeof x=="symbol"?_=Symbol.prototype.toString.call(x):typeof x!="string"&&(_=String(x)),S==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(R){return"%26%23"+parseInt(R.slice(2),16)+"%3B"});for(var O="",A=0;A<_.length;A+=u){for(var I=_.length>=u?_.slice(A,A+u):_,k=[],N=0;N<I.length;++N){var B=I.charCodeAt(N);if(B===45||B===46||B===95||B===126||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122||T===r.RFC1738&&(B===40||B===41)){k[k.length]=I.charAt(N);continue}if(B<128){k[k.length]=n[B];continue}if(B<2048){k[k.length]=n[192|B>>6]+n[128|B&63];continue}if(B<55296||B>=57344){k[k.length]=n[224|B>>12]+n[128|B>>6&63]+n[128|B&63];continue}N+=1,B=65536+((B&1023)<<10|I.charCodeAt(N)&1023),k[k.length]=n[240|B>>18]+n[128|B>>12&63]+n[128|B>>6&63]+n[128|B&63]}O+=k.join("")}return O},h=function(x){for(var E=[{obj:{o:x},prop:"o"}],S=[],w=0;w<E.length;++w)for(var T=E[w],_=T.obj[T.prop],O=Object.keys(_),A=0;A<O.length;++A){var I=O[A],k=_[I];typeof k=="object"&&k!==null&&S.indexOf(k)===-1&&(E.push({obj:_,prop:I}),S.push(k))}return i(E),x},p=function(x){return Object.prototype.toString.call(x)==="[object RegExp]"},m=function(x){return!x||typeof x!="object"?!1:!!(x.constructor&&x.constructor.isBuffer&&x.constructor.isBuffer(x))},g=function(x,E){return[].concat(x,E)},y=function(x,E){if(t(x)){for(var S=[],w=0;w<x.length;w+=1)S.push(E(x[w]));return S}return E(x)};return gv={arrayToObject:a,assign:o,combine:g,compact:h,decode:l,encode:c,isBuffer:m,isRegExp:p,maybeMap:y,merge:s},gv}function BQ(){if(fA)return vv;fA=!0;var r=FQ(),e=B8(),t=uD(),n=Object.prototype.hasOwnProperty,i={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,x){return y+"["+x+"]"},repeat:function(y){return y}},a=Array.isArray,s=Array.prototype.push,o=function(y,x){s.apply(y,a(x)?x:[x])},l=Date.prototype.toISOString,u=t.default,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:u,formatter:t.formatters[u],indices:!1,serializeDate:function(y){return l.call(y)},skipNulls:!1,strictNullHandling:!1},h=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},p={},m=function y(x,E,S,w,T,_,O,A,I,k,N,B,R,H,X,Y,K,z){for(var Q=x,se=z,ae=0,W=!1;(se=se.get(p))!==void 0&&!W;){var M=se.get(x);if(ae+=1,typeof M<"u"){if(M===ae)throw new RangeError("Cyclic object value");W=!0}typeof se.get(p)>"u"&&(ae=0)}if(typeof k=="function"?Q=k(E,Q):Q instanceof Date?Q=R(Q):S==="comma"&&a(Q)&&(Q=e.maybeMap(Q,function(fe){return fe instanceof Date?R(fe):fe})),Q===null){if(_)return I&&!Y?I(E,c.encoder,K,"key",H):E;Q=""}if(h(Q)||e.isBuffer(Q)){if(I){var V=Y?E:I(E,c.encoder,K,"key",H);return[X(V)+"="+X(I(Q,c.encoder,K,"value",H))]}return[X(E)+"="+X(String(Q))]}var ee=[];if(typeof Q>"u")return ee;var Z;if(S==="comma"&&a(Q))Y&&I&&(Q=e.maybeMap(Q,I)),Z=[{value:Q.length>0?Q.join(",")||null:void 0}];else if(a(k))Z=k;else{var me=Object.keys(Q);Z=N?me.sort(N):me}var ue=A?E.replace(/\./g,"%2E"):E,q=w&&a(Q)&&Q.length===1?ue+"[]":ue;if(T&&a(Q)&&Q.length===0)return q+"[]";for(var te=0;te<Z.length;++te){var re=Z[te],pe=typeof re=="object"&&typeof re.value<"u"?re.value:Q[re];if(!(O&&pe===null)){var ne=B&&A?re.replace(/\./g,"%2E"):re,Oe=a(Q)?typeof S=="function"?S(q,ne):q:q+(B?"."+ne:"["+ne+"]");z.set(x,ae);var be=r();be.set(p,z),o(ee,y(pe,Oe,S,w,T,_,O,A,S==="comma"&&Y&&a(Q)?null:I,k,N,B,R,H,X,Y,K,be))}}return ee},g=function(y){if(!y)return c;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.encodeDotInKeys<"u"&&typeof y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var x=y.charset||c.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=t.default;if(typeof y.format<"u"){if(!n.call(t.formatters,y.format))throw new TypeError("Unknown format option provided.");E=y.format}var S=t.formatters[E],w=c.filter;(typeof y.filter=="function"||a(y.filter))&&(w=y.filter);var T;if(y.arrayFormat in i?T=y.arrayFormat:"indices"in y?T=y.indices?"indices":"repeat":T=c.arrayFormat,"commaRoundTrip"in y&&typeof y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var _=typeof y.allowDots>"u"?y.encodeDotInKeys===!0?!0:c.allowDots:!!y.allowDots;return{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:c.addQueryPrefix,allowDots:_,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:T,charset:x,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:c.charsetSentinel,commaRoundTrip:y.commaRoundTrip,delimiter:typeof y.delimiter>"u"?c.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:c.encode,encodeDotInKeys:typeof y.encodeDotInKeys=="boolean"?y.encodeDotInKeys:c.encodeDotInKeys,encoder:typeof y.encoder=="function"?y.encoder:c.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:c.encodeValuesOnly,filter:w,format:E,formatter:S,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:c.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:c.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:c.strictNullHandling}};return vv=function(y,x){var E=y,S=g(x),w,T;typeof S.filter=="function"?(T=S.filter,E=T("",E)):a(S.filter)&&(T=S.filter,w=T);var _=[];if(typeof E!="object"||E===null)return"";var O=i[S.arrayFormat],A=O==="comma"&&S.commaRoundTrip;w||(w=Object.keys(E)),S.sort&&w.sort(S.sort);for(var I=r(),k=0;k<w.length;++k){var N=w[k];S.skipNulls&&E[N]===null||o(_,m(E[N],N,O,A,S.allowEmptyArrays,S.strictNullHandling,S.skipNulls,S.encodeDotInKeys,S.encode?S.encoder:null,S.filter,S.sort,S.allowDots,S.serializeDate,S.format,S.formatter,S.encodeValuesOnly,S.charset,I))}var B=_.join(S.delimiter),R=S.addQueryPrefix===!0?"?":"";return S.charsetSentinel&&(S.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),B.length>0?R+B:""},vv}function UQ(){if(hA)return yv;hA=!0;var r=B8(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(m,g){return String.fromCharCode(parseInt(g,10))})},a=function(p,m){return p&&typeof p=="string"&&m.comma&&p.indexOf(",")>-1?p.split(","):p},s="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",l=function(p,m){var g={__proto__:null},y=m.ignoreQueryPrefix?p.replace(/^\?/,""):p;y=y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var x=m.parameterLimit===1/0?void 0:m.parameterLimit,E=y.split(m.delimiter,x),S=-1,w,T=m.charset;if(m.charsetSentinel)for(w=0;w<E.length;++w)E[w].indexOf("utf8=")===0&&(E[w]===o?T="utf-8":E[w]===s&&(T="iso-8859-1"),S=w,w=E.length);for(w=0;w<E.length;++w)if(w!==S){var _=E[w],O=_.indexOf("]="),A=O===-1?_.indexOf("="):O+1,I,k;A===-1?(I=m.decoder(_,n.decoder,T,"key"),k=m.strictNullHandling?null:""):(I=m.decoder(_.slice(0,A),n.decoder,T,"key"),k=r.maybeMap(a(_.slice(A+1),m),function(B){return m.decoder(B,n.decoder,T,"value")})),k&&m.interpretNumericEntities&&T==="iso-8859-1"&&(k=i(k)),_.indexOf("[]=")>-1&&(k=t(k)?[k]:k);var N=e.call(g,I);N&&m.duplicates==="combine"?g[I]=r.combine(g[I],k):(!N||m.duplicates==="last")&&(g[I]=k)}return g},u=function(p,m,g,y){for(var x=y?m:a(m,g),E=p.length-1;E>=0;--E){var S,w=p[E];if(w==="[]"&&g.parseArrays)S=g.allowEmptyArrays&&(x===""||g.strictNullHandling&&x===null)?[]:[].concat(x);else{S=g.plainObjects?Object.create(null):{};var T=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,_=g.decodeDotInKeys?T.replace(/%2E/g,"."):T,O=parseInt(_,10);!g.parseArrays&&_===""?S={0:x}:!isNaN(O)&&w!==_&&String(O)===_&&O>=0&&g.parseArrays&&O<=g.arrayLimit?(S=[],S[O]=x):_!=="__proto__"&&(S[_]=x)}x=S}return x},c=function(p,m,g,y){if(p){var x=g.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,E=/(\[[^[\]]*])/,S=/(\[[^[\]]*])/g,w=g.depth>0&&E.exec(x),T=w?x.slice(0,w.index):x,_=[];if(T){if(!g.plainObjects&&e.call(Object.prototype,T)&&!g.allowPrototypes)return;_.push(T)}for(var O=0;g.depth>0&&(w=S.exec(x))!==null&&O<g.depth;){if(O+=1,!g.plainObjects&&e.call(Object.prototype,w[1].slice(1,-1))&&!g.allowPrototypes)return;_.push(w[1])}if(w){if(g.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+g.depth+" and strictDepth is true");_.push("["+x.slice(w.index)+"]")}return u(_,m,g,y)}},h=function(p){if(!p)return n;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=typeof p.charset>"u"?n.charset:p.charset,g=typeof p.duplicates>"u"?n.duplicates:p.duplicates;if(g!=="combine"&&g!=="first"&&g!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var y=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:n.allowDots:!!p.allowDots;return{allowDots:y,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:n.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:n.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:n.arrayLimit,charset:m,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:n.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:n.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:n.decoder,delimiter:typeof p.delimiter=="string"||r.isRegExp(p.delimiter)?p.delimiter:n.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:n.depth,duplicates:g,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:n.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:n.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:n.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:n.strictNullHandling}};return yv=function(p,m){var g=h(m);if(p===""||p===null||typeof p>"u")return g.plainObjects?Object.create(null):{};for(var y=typeof p=="string"?l(p,g):p,x=g.plainObjects?Object.create(null):{},E=Object.keys(y),S=0;S<E.length;++S){var w=E[S],T=c(w,y[w],g,typeof p=="string");x=r.merge(x,T,g)}return g.allowSparse===!0?x:r.compact(x)},yv}function jQ(){if(dA)return xv;dA=!0;var r=BQ(),e=UQ(),t=uD();return xv={formats:t,parse:e,stringify:r},xv}function $Q(){if(pA)return eu;pA=!0;var r=Jl;function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(a),o=["'"].concat(s),l=["%","/","?",";","#"].concat(o),u=["/","?","#"],c=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=jQ();function E(_,O,A){if(_&&typeof _=="object"&&_ instanceof e)return _;var I=new e;return I.parse(_,O,A),I}e.prototype.parse=function(_,O,A){if(typeof _!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _);var I=_.indexOf("?"),k=I!==-1&&I<_.indexOf("#")?"?":"#",N=_.split(k),B=/\\/g;N[0]=N[0].replace(B,"/"),_=N.join(k);var R=_;if(R=R.trim(),!A&&_.split("#").length===1){var H=i.exec(R);if(H)return this.path=R,this.href=R,this.pathname=H[1],H[2]?(this.search=H[2],O?this.query=x.parse(this.search.substr(1)):this.query=this.search.substr(1)):O&&(this.search="",this.query={}),this}var X=t.exec(R);if(X){X=X[0];var Y=X.toLowerCase();this.protocol=Y,R=R.substr(X.length)}if(A||X||R.match(/^\/\/[^@/]+@[^@/]+/)){var K=R.substr(0,2)==="//";K&&!(X&&g[X])&&(R=R.substr(2),this.slashes=!0)}if(!g[X]&&(K||X&&!y[X])){for(var z=-1,Q=0;Q<u.length;Q++){var se=R.indexOf(u[Q]);se!==-1&&(z===-1||se<z)&&(z=se)}var ae,W;z===-1?W=R.lastIndexOf("@"):W=R.lastIndexOf("@",z),W!==-1&&(ae=R.slice(0,W),R=R.slice(W+1),this.auth=decodeURIComponent(ae)),z=-1;for(var Q=0;Q<l.length;Q++){var se=R.indexOf(l[Q]);se!==-1&&(z===-1||se<z)&&(z=se)}z===-1&&(z=R.length),this.host=R.slice(0,z),R=R.slice(z),this.parseHost(),this.hostname=this.hostname||"";var M=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!M)for(var V=this.hostname.split(/\./),Q=0,ee=V.length;Q<ee;Q++){var Z=V[Q];if(Z&&!Z.match(h)){for(var me="",ue=0,q=Z.length;ue<q;ue++)Z.charCodeAt(ue)>127?me+="x":me+=Z[ue];if(!me.match(h)){var te=V.slice(0,Q),re=V.slice(Q+1),pe=Z.match(p);pe&&(te.push(pe[1]),re.unshift(pe[2])),re.length&&(R="/"+re.join(".")+R),this.hostname=te.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var ne=this.port?":"+this.port:"",Oe=this.hostname||"";this.host=Oe+ne,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),R[0]!=="/"&&(R="/"+R))}if(!m[Y])for(var Q=0,ee=o.length;Q<ee;Q++){var be=o[Q];if(R.indexOf(be)!==-1){var fe=encodeURIComponent(be);fe===be&&(fe=escape(be)),R=R.split(be).join(fe)}}var he=R.indexOf("#");he!==-1&&(this.hash=R.substr(he),R=R.slice(0,he));var ye=R.indexOf("?");if(ye!==-1?(this.search=R.substr(ye),this.query=R.substr(ye+1),O&&(this.query=x.parse(this.query)),R=R.slice(0,ye)):O&&(this.search="",this.query={}),R&&(this.pathname=R),y[Y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ne=this.pathname||"",Ie=this.search||"";this.path=ne+Ie}return this.href=this.format(),this};function S(_){return typeof _=="string"&&(_=E(_)),_ instanceof e?_.format():e.prototype.format.call(_)}e.prototype.format=function(){var _=this.auth||"";_&&(_=encodeURIComponent(_),_=_.replace(/%3A/i,":"),_+="@");var O=this.protocol||"",A=this.pathname||"",I=this.hash||"",k=!1,N="";this.host?k=_+this.host:this.hostname&&(k=_+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(N=x.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var B=this.search||N&&"?"+N||"";return O&&O.substr(-1)!==":"&&(O+=":"),this.slashes||(!O||y[O])&&k!==!1?(k="//"+(k||""),A&&A.charAt(0)!=="/"&&(A="/"+A)):k||(k=""),I&&I.charAt(0)!=="#"&&(I="#"+I),B&&B.charAt(0)!=="?"&&(B="?"+B),A=A.replace(/[?#]/g,function(R){return encodeURIComponent(R)}),B=B.replace("#","%23"),O+k+A+B+I};function w(_,O){return E(_,!1,!0).resolve(O)}e.prototype.resolve=function(_){return this.resolveObject(E(_,!1,!0)).format()};function T(_,O){return _?E(_,!1,!0).resolveObject(O):O}return e.prototype.resolveObject=function(_){if(typeof _=="string"){var O=new e;O.parse(_,!1,!0),_=O}for(var A=new e,I=Object.keys(this),k=0;k<I.length;k++){var N=I[k];A[N]=this[N]}if(A.hash=_.hash,_.href==="")return A.href=A.format(),A;if(_.slashes&&!_.protocol){for(var B=Object.keys(_),R=0;R<B.length;R++){var H=B[R];H!=="protocol"&&(A[H]=_[H])}return y[A.protocol]&&A.hostname&&!A.pathname&&(A.pathname="/",A.path=A.pathname),A.href=A.format(),A}if(_.protocol&&_.protocol!==A.protocol){if(!y[_.protocol]){for(var X=Object.keys(_),Y=0;Y<X.length;Y++){var K=X[Y];A[K]=_[K]}return A.href=A.format(),A}if(A.protocol=_.protocol,!_.host&&!g[_.protocol]){for(var ee=(_.pathname||"").split("/");ee.length&&!(_.host=ee.shift()););_.host||(_.host=""),_.hostname||(_.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),A.pathname=ee.join("/")}else A.pathname=_.pathname;if(A.search=_.search,A.query=_.query,A.host=_.host||"",A.auth=_.auth,A.hostname=_.hostname||_.host,A.port=_.port,A.pathname||A.search){var z=A.pathname||"",Q=A.search||"";A.path=z+Q}return A.slashes=A.slashes||_.slashes,A.href=A.format(),A}var se=A.pathname&&A.pathname.charAt(0)==="/",ae=_.host||_.pathname&&_.pathname.charAt(0)==="/",W=ae||se||A.host&&_.pathname,M=W,V=A.pathname&&A.pathname.split("/")||[],ee=_.pathname&&_.pathname.split("/")||[],Z=A.protocol&&!y[A.protocol];if(Z&&(A.hostname="",A.port=null,A.host&&(V[0]===""?V[0]=A.host:V.unshift(A.host)),A.host="",_.protocol&&(_.hostname=null,_.port=null,_.host&&(ee[0]===""?ee[0]=_.host:ee.unshift(_.host)),_.host=null),W=W&&(ee[0]===""||V[0]==="")),ae)A.host=_.host||_.host===""?_.host:A.host,A.hostname=_.hostname||_.hostname===""?_.hostname:A.hostname,A.search=_.search,A.query=_.query,V=ee;else if(ee.length)V||(V=[]),V.pop(),V=V.concat(ee),A.search=_.search,A.query=_.query;else if(_.search!=null){if(Z){A.host=V.shift(),A.hostname=A.host;var me=A.host&&A.host.indexOf("@")>0?A.host.split("@"):!1;me&&(A.auth=me.shift(),A.hostname=me.shift(),A.host=A.hostname)}return A.search=_.search,A.query=_.query,(A.pathname!==null||A.search!==null)&&(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.href=A.format(),A}if(!V.length)return A.pathname=null,A.search?A.path="/"+A.search:A.path=null,A.href=A.format(),A;for(var ue=V.slice(-1)[0],q=(A.host||_.host||V.length>1)&&(ue==="."||ue==="..")||ue==="",te=0,re=V.length;re>=0;re--)ue=V[re],ue==="."?V.splice(re,1):ue===".."?(V.splice(re,1),te++):te&&(V.splice(re,1),te--);if(!W&&!M)for(;te--;te)V.unshift("..");W&&V[0]!==""&&(!V[0]||V[0].charAt(0)!=="/")&&V.unshift(""),q&&V.join("/").substr(-1)!=="/"&&V.push("");var pe=V[0]===""||V[0]&&V[0].charAt(0)==="/";if(Z){A.hostname=pe?"":V.length?V.shift():"",A.host=A.hostname;var me=A.host&&A.host.indexOf("@")>0?A.host.split("@"):!1;me&&(A.auth=me.shift(),A.hostname=me.shift(),A.host=A.hostname)}return W=W||A.host&&V.length,W&&!pe&&V.unshift(""),V.length>0?A.pathname=V.join("/"):(A.pathname=null,A.path=null),(A.pathname!==null||A.search!==null)&&(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.auth=_.auth||A.auth,A.slashes=A.slashes||_.slashes,A.href=A.format(),A},e.prototype.parseHost=function(){var _=this.host,O=n.exec(_);O&&(O=O[0],O!==":"&&(this.port=O.substr(1)),_=_.substr(0,_.length-O.length)),_&&(this.hostname=_)},eu.parse=E,eu.resolve=w,eu.resolveObject=T,eu.format=S,eu.Url=e,eu}function U8(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jv?HQ(r):GQ(r)}function HQ(r){let e=r.hostname,t=r.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let i=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&i===102||t[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(Z8,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let n=t.codePointAt(1)|32,i=t[2];if(n<X8||n>Q8||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function GQ(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=r.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let n=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function j8(r){let e=sA.resolve(r),t=r.charCodeAt(r.length-1);(t===q8||jv&&t===V8)&&e[e.length-1]!==sA.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(J8,"%25")),!jv&&e.includes("\\")&&(e=e.replace(e5,"%5C")),e.includes(`
`)&&(e=e.replace(t5,"%0A")),e.includes("\r")&&(e=e.replace(r5,"%0D")),e.includes("	")&&(e=e.replace(n5,"%09")),n.pathname=e,n}var $8,hv,oA,dv,pv,lA,mv,uA,gv,cA,vv,fA,yv,hA,xv,dA,eu,pA,di,iM,H8,G8,W8,K8,Y8,z8,V8,q8,X8,Q8,jv,Z8,J8,e5,t5,r5,n5,WQ=Qi(()=>{qe(),Qe(),Xe(),oQ(),wQ(),MQ(),N8(),$8=Object.freeze(Object.create(null)),hv={},oA=!1,dv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,pv={},lA=!1,mv={},uA=!1,gv={},cA=!1,vv={},fA=!1,yv={},hA=!1,xv={},dA=!1,eu={},pA=!1,di=$Q(),di.parse,di.resolve,di.resolveObject,di.format,di.Url,iM=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,di.URL=typeof URL<"u"?URL:null,di.pathToFileURL=j8,di.fileURLToPath=U8,H8=di.Url,G8=di.format,W8=di.resolve,K8=di.resolveObject,Y8=di.parse,z8=di.URL,V8=92,q8=47,X8=97,Q8=122,jv=iM==="win32",Z8=/\//g,J8=/%/g,e5=/\\/g,t5=/\n/g,r5=/\r/g,n5=/\t/g}),KQ=tt((r,e)=>{qe(),Qe(),Xe(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),cD=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0}),r.BufferedDuplex=void 0,r.writev=n;var e=Nc(),t=(Gn(),wr(Hn));function n(a,s){let o=new Array(a.length);for(let l=0;l<a.length;l++)typeof a[l].chunk=="string"?o[l]=t.Buffer.from(a[l].chunk,"utf8"):o[l]=a[l].chunk;this._write(t.Buffer.concat(o),"binary",s)}var i=class extends e.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(a,s,o){super({objectMode:!0}),this.proxy=s,this.socket=o,this.writeQueue=[],a.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(a){this.proxy.read(a)}_write(a,s,o){this.isSocketOpen?this.writeToProxy(a,s,o):this.writeQueue.push({chunk:a,encoding:s,cb:o})}_final(a){this.writeQueue=[],this.proxy.end(a)}_destroy(a,s){this.writeQueue=[],this.proxy.destroy(),s(a)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(a,s,o){this.proxy.write(a,s)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:a,encoding:s,cb:o}=this.writeQueue.shift();this.writeToProxy(a,s,o)}}};r.BufferedDuplex=i}),Qm=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(r,"__esModule",{value:!0}),r.streamBuilder=r.browserStreamBuilder=void 0;var t=(Gn(),wr(Hn)),n=e(KQ()),i=e(Zo()),a=Nc(),s=e(Tx()),o=cD(),l=(0,i.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(E,S){let w=`${E.protocol}://${E.hostname}:${E.port}${E.path}`;return typeof E.transformWsUrl=="function"&&(w=E.transformWsUrl(w,E,S)),w}function h(E){let S=E;return E.port||(E.protocol==="wss"?S.port=443:S.port=80),E.path||(S.path="/"),E.wsOptions||(S.wsOptions={}),!s.default&&!E.forceNativeWebSocket&&E.protocol==="wss"&&u.forEach(w=>{Object.prototype.hasOwnProperty.call(E,w)&&!Object.prototype.hasOwnProperty.call(E.wsOptions,w)&&(S.wsOptions[w]=E[w])}),S}function p(E){let S=h(E);if(S.hostname||(S.hostname=S.host),!S.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let w=new URL(document.URL);S.hostname=w.hostname,S.port||(S.port=Number(w.port))}return S.objectMode===void 0&&(S.objectMode=!(S.binary===!0||S.binary===void 0)),S}function m(E,S,w){l("createWebSocket"),l(`protocol: ${w.protocolId} ${w.protocolVersion}`);let T=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${S} and protocol: ${T}`);let _;return w.createWebsocket?_=w.createWebsocket(S,[T],w):_=new n.default(S,[T],w.wsOptions),_}function g(E,S){let w=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt",T=c(S,E),_;return S.createWebsocket?_=S.createWebsocket(T,[w],S):_=new WebSocket(T,[w]),_.binaryType="arraybuffer",_}var y=(E,S)=>{l("streamBuilder");let w=h(S);w.hostname=w.hostname||w.host||"localhost";let T=c(w,E),_=m(E,T,w),O=n.default.createWebSocketStream(_,w.wsOptions);return O.url=T,_.on("close",()=>{O.destroy()}),O};r.streamBuilder=y;var x=(E,S)=>{l("browserStreamBuilder");let w,T=p(S).browserBufferSize||1024*512,_=S.browserBufferTimeout||1e3,O=!S.objectMode,A=g(E,S),I=N(S,Y,K);S.objectMode||(I._writev=o.writev.bind(I)),I.on("close",()=>{A.close()});let k=typeof A.addEventListener<"u";A.readyState===A.OPEN?(w=I,w.socket=A):(w=new o.BufferedDuplex(S,I,A),k?A.addEventListener("open",B):A.onopen=B),k?(A.addEventListener("close",R),A.addEventListener("error",H),A.addEventListener("message",X)):(A.onclose=R,A.onerror=H,A.onmessage=X);function N(z,Q,se){let ae=new a.Transform({objectMode:z.objectMode});return ae._write=Q,ae._flush=se,ae}function B(){l("WebSocket onOpen"),w instanceof o.BufferedDuplex&&w.socketReady()}function R(z){l("WebSocket onClose",z),w.end(),w.destroy()}function H(z){l("WebSocket onError",z);let Q=new Error("WebSocket error");Q.event=z,w.destroy(Q)}async function X(z){if(!I||!I.readable||!I.writable)return;let{data:Q}=z;Q instanceof ArrayBuffer?Q=t.Buffer.from(Q):Q instanceof Blob?Q=t.Buffer.from(await new Response(Q).arrayBuffer()):Q=t.Buffer.from(Q,"utf8"),I.push(Q)}function Y(z,Q,se){if(A.bufferedAmount>T){setTimeout(Y,_,z,Q,se);return}O&&typeof z=="string"&&(z=t.Buffer.from(z,"utf8"));try{A.send(z)}catch(ae){return se(ae)}se()}function K(z){A.close(),z()}return w};r.browserStreamBuilder=x}),fD={};Ch(fD,{Server:()=>$r,Socket:()=>$r,Stream:()=>$r,_createServerHandle:()=>$r,_normalizeArgs:()=>$r,_setSimultaneousAccepts:()=>$r,connect:()=>$r,createConnection:()=>$r,createServer:()=>$r,default:()=>i5,isIP:()=>$r,isIPv4:()=>$r,isIPv6:()=>$r});function $r(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var i5,a5=Qi(()=>{qe(),Qe(),Xe(),i5={_createServerHandle:$r,_normalizeArgs:$r,_setSimultaneousAccepts:$r,connect:$r,createConnection:$r,createServer:$r,isIP:$r,isIPv4:$r,isIPv6:$r,Server:$r,Socket:$r,Stream:$r}}),s5=tt((r,e)=>{qe(),Qe(),Xe(),e.exports={}}),aM=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(r,"__esModule",{value:!0});var t=e((a5(),wr(fD))),n=e(Zo()),i=e(s5()),a=(0,n.default)("mqttjs:tcp"),s=(o,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,i.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:u,path:c}=l,h=l.hostname;return a("port %d and host %s",u,h),t.default.createConnection({port:u,host:h,path:c})};r.default=s}),o5={};Ch(o5,{default:()=>l5});var l5,YQ=Qi(()=>{qe(),Qe(),Xe(),l5={}}),sM=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0});var t=(YQ(),wr(o5)),n=e((a5(),wr(fD))),i=e(Zo()),a=e(s5()),s=(0,i.default)("mqttjs:tls");function o(u){let{host:c,port:h,socksProxy:p,...m}=u;if(p!==void 0){let g=(0,a.default)(c,h,p,{timeout:u.socksTimeout});return(0,t.connect)({...m,socket:g})}return(0,t.connect)(u)}var l=(u,c)=>{c.port=c.port||8883,c.host=c.hostname||c.host||"localhost",n.default.isIP(c.host)===0&&(c.servername=c.host),c.rejectUnauthorized=c.rejectUnauthorized!==!1,delete c.path,s("port %d host %s rejectUnauthorized %b",c.port,c.host,c.rejectUnauthorized);let h=o(c);h.on("secureConnect",()=>{c.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",p)});function p(m){c.rejectUnauthorized&&u.emit("error",m),h.end()}return h.on("error",p),h};r.default=l}),oM=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=(Gn(),wr(Hn)),t=Nc(),n=cD(),i,a,s;function o(){let p=new t.Transform;return p._write=(m,g,y)=>{i.send({data:m.buffer,success(){y()},fail(x){y(new Error(x))}})},p._flush=m=>{i.close({success(){m()}})},p}function l(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function u(p,m){let g=p.protocol==="wxs"?"wss":"ws",y=`${g}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(y=`${g}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(y=p.transformWsUrl(y,p,m)),y}function c(){i.onOpen(()=>{s.socketReady()}),i.onMessage(p=>{let{data:m}=p;m instanceof ArrayBuffer?m=e.Buffer.from(m):m=e.Buffer.from(m,"utf8"),a.push(m)}),i.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),i.onError(p=>{let m=new Error(p.errMsg);s.destroy(m)})}var h=(p,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let g=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";l(m);let y=u(m,p);i=wx.connectSocket({url:y,protocols:[g]}),a=o(),s=new n.BufferedDuplex(m,a,i),s._destroy=(E,S)=>{i.close({success(){S&&S(E)}})};let x=s.destroy;return s.destroy=(E,S)=>(s.destroy=x,setTimeout(()=>{i.close({fail(){s._destroy(E,S)}})},0),s),c(),s};r.default=h}),lM=tt(r=>{qe(),Qe(),Xe(),Object.defineProperty(r,"__esModule",{value:!0});var e=(Gn(),wr(Hn)),t=Nc(),n=cD(),i,a,s,o=!1;function l(){let m=new t.Transform;return m._write=(g,y,x)=>{i.sendSocketMessage({data:g.buffer,success(){x()},fail(){x(new Error)}})},m._flush=g=>{i.closeSocket({success(){g()}})},m}function u(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function c(m,g){let y=m.protocol==="alis"?"wss":"ws",x=`${y}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(x=`${y}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(x=m.transformWsUrl(x,m,g)),x}function h(){o||(o=!0,i.onSocketOpen(()=>{s.socketReady()}),i.onSocketMessage(m=>{if(typeof m.data=="string"){let g=e.Buffer.from(m.data,"base64");a.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{if(g.result instanceof ArrayBuffer){a.push(e.Buffer.from(g.result));return}a.push(e.Buffer.from(g.result,"utf-8"))}),g.readAsArrayBuffer(m.data)}}),i.onSocketClose(()=>{s.end(),s.destroy()}),i.onSocketError(m=>{s.destroy(m)}))}var p=(m,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let y=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";u(g);let x=c(g,m);return i=g.my,i.connectSocket({url:x,protocols:y}),a=l(),s=new n.BufferedDuplex(g,a,i),h(),s};r.default=p}),zQ=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(r,"__esModule",{value:!0}),r.connectAsync=c;var t=e(Zo()),n=e((WQ(),wr(F8))),i=e(DT()),a=e(Tx());typeof Rr?.nextTick!="function"&&(Rr.nextTick=setImmediate);var s=(0,t.default)("mqttjs"),o=null;function l(h){let p;if(h.auth)if(p=h.auth.match(/^(.+):(.+)$/),p){let[,m,g]=p;h.username=m,h.password=g}else h.username=h.auth}function u(h,p){if(s("connecting to an MQTT broker..."),typeof h=="object"&&!p&&(p=h,h=""),p=p||{},h&&typeof h=="string"){let y=n.default.parse(h,!0),x={};if(y.port!=null&&(x.port=Number(y.port)),x.host=y.hostname,x.query=y.query,x.auth=y.auth,x.protocol=y.protocol,x.path=y.path,p={...x,...p},!p.protocol)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(p.unixSocket=p.unixSocket||p.protocol?.includes("+unix"),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!p.protocol?.startsWith("ws")&&!p.protocol?.startsWith("wx")&&delete p.path,l(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),a.default||p.unixSocket?p.socksProxy=void 0:p.socksProxy===void 0&&typeof Rr<"u"&&(p.socksProxy=Rr.env.MQTTJS_SOCKS_PROXY),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(o||(o={},!a.default&&!p.forceNativeWebSocket?(o.ws=Qm().streamBuilder,o.wss=Qm().streamBuilder,o.mqtt=aM().default,o.tcp=aM().default,o.ssl=sM().default,o.tls=o.ssl,o.mqtts=sM().default):(o.ws=Qm().browserStreamBuilder,o.wss=Qm().browserStreamBuilder,o.wx=oM().default,o.wxs=oM().default,o.ali=lM().default,o.alis=lM().default)),!o[p.protocol]){let y=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((x,E)=>y&&E%2===0?!1:typeof o[x]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function m(y){return p.servers&&((!y._reconnectCount||y._reconnectCount===p.servers.length)&&(y._reconnectCount=0),p.host=p.servers[y._reconnectCount].host,p.port=p.servers[y._reconnectCount].port,p.protocol=p.servers[y._reconnectCount].protocol?p.servers[y._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,y._reconnectCount++),s("calling streambuilder for",p.protocol),o[p.protocol](y,p)}let g=new i.default(m,p);return g.on("error",()=>{}),g}function c(h,p,m=!0){return new Promise((g,y)=>{let x=u(h,p),E={connect:w=>{S(),g(x)},end:()=>{S(),g(x)},error:w=>{S(),x.end(),y(w)}};m===!1&&(E.close=()=>{E.error(new Error("Couldn't connect to server"))});function S(){Object.keys(E).forEach(w=>{x.off(w,E[w])})}Object.keys(E).forEach(w=>{x.on(w,E[w])})})}r.default=u}),uM=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__createBinding||(Object.create?function(m,g,y,x){x===void 0&&(x=y);var E=Object.getOwnPropertyDescriptor(g,y);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(m,x,E)}:function(m,g,y,x){x===void 0&&(x=y),m[x]=g[y]}),t=r&&r.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=r&&r.__importStar||(function(){var m=function(g){return m=Object.getOwnPropertyNames||function(y){var x=[];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(x[x.length]=E);return x},m(g)};return function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var x=m(g),E=0;E<x.length;E++)x[E]!=="default"&&e(y,g,x[E]);return t(y,g),y}})(),i=r&&r.__exportStar||function(m,g){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&e(g,m,y)},a=r&&r.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=r.KeepaliveManager=r.UniqueMessageIdProvider=r.DefaultMessageIdProvider=r.Store=r.MqttClient=r.connectAsync=r.connect=r.Client=void 0;var s=a(DT());r.MqttClient=s.default;var o=a(_8());r.DefaultMessageIdProvider=o.default;var l=a(aQ());r.UniqueMessageIdProvider=l.default;var u=a(o8());r.Store=u.default;var c=n(zQ());r.connect=c.default,Object.defineProperty(r,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var h=a(R8());r.KeepaliveManager=h.default,r.Client=s.default,i(DT(),r),i(Rh(),r);var p=Ex();Object.defineProperty(r,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),VQ=tt(r=>{qe(),Qe(),Xe();var e=r&&r.__createBinding||(Object.create?function(s,o,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(o,l);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(s,u,c)}:function(s,o,l,u){u===void 0&&(u=l),s[u]=o[l]}),t=r&&r.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),n=r&&r.__importStar||(function(){var s=function(o){return s=Object.getOwnPropertyNames||function(l){var u=[];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[u.length]=c);return u},s(o)};return function(o){if(o&&o.__esModule)return o;var l={};if(o!=null)for(var u=s(o),c=0;c<u.length;c++)u[c]!=="default"&&e(l,o,u[c]);return t(l,o),l}})(),i=r&&r.__exportStar||function(s,o){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&e(o,s,l)};Object.defineProperty(r,"__esModule",{value:!0});var a=n(uM());r.default=a,i(uM(),r)});const qQ=VQ();const XQ="22ada06fd6cf4059bd700ddbf6004d68.s1.eu.hivemq.cloud",QQ="8884",ZQ="esp32-client-01",JQ="Qjawns3445";let la=null;const qf=[],eZ=new Map;function S0(){if(la)return la;const r=`wss://${XQ}:${QQ}/mqtt`;return console.log(` Connecting to HiveMQ Cloud: ${r}`),la=qQ.connect(r,{username:ZQ,password:JQ,clean:!0,reconnectPeriod:3e3,clientId:`tansaeng-web-${Math.random().toString(16).slice(2,10)}`}),la.setMaxListeners(20),la.on("connect",()=>{console.log(" MQTT Connected to HiveMQ Cloud"),qf.forEach(e=>e(!0))}),la.on("error",e=>{console.error(" MQTT Connection Error:",e),qf.forEach(t=>t(!1))}),la.on("reconnect",()=>{console.log(" MQTT Reconnecting...")}),la.on("offline",()=>{console.log(" MQTT Offline"),qf.forEach(e=>e(!1))}),la.on("message",(e,t)=>{const n=eZ.get(e);if(n){const i=t.toString();n.forEach(a=>a(i))}}),la}function cM(){return la?.connected??!1}function u5(r){return qf.push(r),la&&r(la.connected),()=>{const e=qf.indexOf(r);e>-1&&qf.splice(e,1)}}function zl(r,e){const t=S0();let n;"power"in e?n=e.power.toUpperCase():n=JSON.stringify(e),t.publish(r,n,{qos:1},i=>{i?console.error(` Failed to publish to ${r}:`,i):console.log(` Published to ${r}:`,n)})}async function Zm(r,e,t){try{return await(await fetch("https://www.tansaeng.com/api/smartfarm/device_control.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({controllerId:r,deviceId:e,command:t})})).json()}catch(n){return console.error("[API Error]",n),{success:!1,message:n instanceof Error?n.message:"Unknown error"}}}function tZ({deviceState:r,setDeviceState:e}){const[t,n]=L.useState({}),[i,a]=L.useState(!1),[s,o]=L.useState({}),l=L.useRef({}),[u,c]=L.useState({}),[h,p]=L.useState({}),m=Fd("fan"),g=Fd("vent"),y=Fd("pump"),x=Fd("skylight"),E=Fd("sidescreen");L.useEffect(()=>{S0();const I=u5(k=>{a(k),console.log(`[MQTT] Connection status: ${k?"Connected":"Disconnected"}`)});return()=>{I()}},[]),L.useEffect(()=>{const I=async()=>{try{const B=await(await fetch("/api/device_status.php")).json();if(B.success){const R={};Object.entries(B.devices).forEach(([H,X])=>{R[H]=X.is_online}),n(R),console.log("[API] ESP32  :",R)}}catch(N){console.error("[API] Failed to fetch ESP32 status:",N)}};I();const k=setInterval(I,5e3);return()=>clearInterval(k)},[]);const S=async(I,k)=>{const N={...r,[I]:{...r[I],power:k?"on":"off",lastSavedAt:new Date().toISOString()}};e(N);const B=[...m,...g,...y].find(R=>R.id===I);if(B){const H=B.commandTopic.split("/")[2],X=k?"ON":"OFF",Y=await Zm(B.esp32Id,H,X);Y.success?console.log(`[API SUCCESS] ${B.name} - ${X}`):console.error(`[API ERROR] ${Y.message}`)}},w=async(I,k)=>{const N=[...x,...E].find(B=>B.id===I);if(N){console.log(`[SCREEN] ${N.name} - ${k}`);const R=N.commandTopic.split("/")[2],H=await Zm(N.esp32Id,R,k);H.success?console.log(`[API SUCCESS] ${H.message}`):console.error(`[API ERROR] ${H.message}`)}},T=I=>{const k=s[I];if(!k)return;const N=parseInt(k);if(isNaN(N)||N<0||N>100){alert("0~100   .");return}const B={...r,[I]:{...r[I],targetPercentage:N,lastSavedAt:new Date().toISOString()}};e(B),console.log(`[SAVE] ${I} - ${N}% `)},_=async I=>{const k=r[I]?.targetPercentage??0,N=h[I]??0,B=[...x,...E].find(ae=>ae.id===I);if(!B)return;const R=k-N;if(R===0){alert(` ${k}%  .`);return}l.current[I]&&(clearTimeout(l.current[I]),delete l.current[I]),c({...u,[I]:"running"});const H=B.esp32Id==="ctlr-0012"?300:120,Y=Math.abs(R)/100*H,K=R>0?"OPEN":"CLOSE",z=R>0?"":"";console.log(`[EXECUTE] ${B.name} - : ${N}%, : ${k}%, : ${R>0?"+":""}${R}% (${Y.toFixed(1)} ${z})`);const se=B.commandTopic.split("/")[2];try{await Zm(B.esp32Id,se,K),console.log(`[EXECUTE] ${B.name} - ${Y.toFixed(1)}  ${z} `),l.current[I]=setTimeout(async()=>{await Zm(B.esp32Id,se,"STOP"),console.log(`[EXECUTE] ${B.name} - ${k}%  `),delete l.current[I],p(ae=>({...ae,[I]:k})),c(ae=>({...ae,[I]:"completed"}))},Y*1e3)}catch(ae){console.error(`[EXECUTE ERROR] ${B.name}:`,ae),c({...u,[I]:"idle"})}},O=Object.values(t).filter(Boolean).length,A=JP.length;return F.jsx("div",{className:"bg-gray-50 min-h-screen",children:F.jsxs("div",{className:"max-w-screen-2xl mx-auto p-2 sm:p-3",children:[F.jsx("header",{className:"bg-white border-2 border-farm-500 px-3 sm:px-4 py-2 sm:py-3 rounded-lg mb-2 sm:mb-3 shadow-md",children:F.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"text-lg sm:text-xl font-bold mb-0.5 sm:mb-1 text-gray-900",children:" "}),F.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:", ,     "})]}),F.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-purple-50 border border-purple-200 px-2 sm:px-3 py-1 sm:py-1.5 rounded-md",children:[F.jsx("div",{className:`
                  w-2 sm:w-2.5 h-2 sm:h-2.5 rounded-full flex-shrink-0
                  ${i?"bg-green-500 animate-pulse":"bg-red-500"}
                `}),F.jsxs("span",{className:"text-xs font-medium text-gray-900 whitespace-nowrap",children:[F.jsx("span",{className:"hidden sm:inline",children:"HiveMQ "}),i?"":""]})]}),F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-farm-50 border border-farm-200 px-2 sm:px-3 py-1 sm:py-1.5 rounded-md",children:[F.jsx("div",{className:`
                  w-2 sm:w-2.5 h-2 sm:h-2.5 rounded-full flex-shrink-0
                  ${O>0?"bg-farm-500 animate-pulse":"bg-gray-400"}
                `}),F.jsxs("span",{className:"text-xs font-medium text-gray-900 whitespace-nowrap",children:[F.jsx("span",{className:"hidden sm:inline",children:" "}),O,"/",A]})]})]})]})}),F.jsxs("section",{className:"mb-2 sm:mb-3",children:[F.jsx("header",{className:"bg-farm-500 px-3 sm:px-4 py-2 sm:py-2.5 rounded-t-lg",children:F.jsx("h2",{className:"text-sm sm:text-base font-semibold flex items-center gap-1.5 text-gray-900",children:"ESP32  "})}),F.jsx("div",{className:"bg-white shadow-sm rounded-b-lg p-2 sm:p-3",children:F.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-1.5 sm:gap-2",children:JP.map(I=>{const k=t[I.controllerId]===!0;return F.jsxs("div",{className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-md border transition-colors ${k?"bg-green-50 border-green-300":"bg-gray-50 border-gray-300"}`,children:[F.jsx("div",{className:`w-1.5 sm:w-2 h-1.5 sm:h-2 rounded-full flex-shrink-0 ${k?"bg-green-500 animate-pulse":"bg-gray-400"}`}),F.jsxs("div",{className:"flex-1 min-w-0",children:[F.jsx("span",{className:"text-[10px] sm:text-xs font-medium text-gray-900 block truncate",children:I.name}),F.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 hidden sm:block",children:I.controllerId})]}),F.jsx("span",{className:`text-[10px] sm:text-xs font-medium flex-shrink-0 ${k?"text-green-600":"text-gray-500"}`,children:k?"ON":"OFF"})]},I.id)})})})]}),F.jsxs("section",{className:"mb-2 sm:mb-3",children:[F.jsxs("header",{className:"bg-farm-500 px-3 sm:px-4 py-2 sm:py-2.5 rounded-t-lg flex items-center justify-between",children:[F.jsx("h2",{className:"text-sm sm:text-base font-semibold flex items-center gap-1.5 text-gray-900",children:" "}),F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-800",children:[m.length,""]})]}),F.jsx("div",{className:"bg-white shadow-sm rounded-b-lg p-1.5 sm:p-3",children:F.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-1.5 sm:gap-3",children:m.map(I=>F.jsx(eL,{device:I,power:r[I.id]?.power??"off",lastSavedAt:r[I.id]?.lastSavedAt,onToggle:k=>S(I.id,k)},I.id))})})]}),F.jsxs("section",{className:"mb-2 sm:mb-3",children:[F.jsxs("header",{className:"bg-amber-400 px-3 sm:px-4 py-2 sm:py-2.5 rounded-t-lg flex items-center justify-between",children:[F.jsx("h2",{className:"text-sm sm:text-base font-semibold flex items-center gap-1.5 text-gray-900",children:" "}),F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-800",children:[x.length,""]})]}),F.jsx("div",{className:"bg-white shadow-sm rounded-b-lg p-2 sm:p-3",children:F.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3",children:x.map(I=>F.jsxs("div",{className:"bg-white border-2 border-amber-200 rounded-lg p-2 sm:p-4 shadow-sm",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[F.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:I.name}),F.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 bg-gray-100 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",children:I.esp32Id})]}),F.jsxs("div",{className:"mb-2 sm:mb-4",children:[F.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 font-medium mb-1.5 sm:mb-2",children:" "}),F.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[F.jsx("button",{onClick:()=>w(I.id,"OPEN"),className:"flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-semibold py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-colors text-xs sm:text-sm",children:""}),F.jsx("button",{onClick:()=>w(I.id,"STOP"),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-semibold py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-colors text-xs sm:text-sm",children:""}),F.jsx("button",{onClick:()=>w(I.id,"CLOSE"),className:"flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-semibold py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-colors text-xs sm:text-sm",children:""})]})]}),F.jsxs("div",{children:[F.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[F.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 font-medium",children:"  "}),u[I.id]==="running"&&F.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-blue-100 text-blue-700 text-[10px] sm:text-xs font-semibold rounded-full",children:[F.jsx("span",{className:"animate-pulse",children:""})," "]}),u[I.id]==="completed"&&F.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-green-100 text-green-700 text-[10px] sm:text-xs font-semibold rounded-full",children:""})]}),F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[F.jsx("input",{type:"number",min:"0",max:"100",value:s[I.id]??r[I.id]?.targetPercentage??0,onChange:k=>o({...s,[I.id]:k.target.value}),className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"0-100"}),F.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"%"}),F.jsx("button",{onClick:()=>T(I.id),className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white text-xs sm:text-sm font-medium rounded-md transition-colors",children:""})]}),F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[F.jsxs("div",{className:"flex-1 text-[10px] sm:text-xs text-gray-600 space-y-0.5 sm:space-y-1",children:[F.jsxs("div",{children:[": ",F.jsxs("span",{className:"font-semibold text-gray-800",children:[h[I.id]??0,"%"]})]}),F.jsxs("div",{children:[": ",F.jsxs("span",{className:"font-semibold text-amber-600",children:[r[I.id]?.targetPercentage??0,"%"]})]})]}),F.jsx("button",{onClick:()=>_(I.id),className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-amber-500 hover:bg-amber-600 active:bg-amber-700 text-white text-xs sm:text-sm font-semibold rounded-md transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:u[I.id]==="running",children:""})]})]})]},I.id))})})]}),F.jsxs("section",{className:"mb-2 sm:mb-3",children:[F.jsxs("header",{className:"bg-blue-400 px-3 sm:px-4 py-2 sm:py-2.5 rounded-t-lg flex items-center justify-between",children:[F.jsx("h2",{className:"text-sm sm:text-base font-semibold flex items-center gap-1.5 text-gray-900",children:" "}),F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-800",children:[E.length,""]})]}),F.jsx("div",{className:"bg-white shadow-sm rounded-b-lg p-2 sm:p-3",children:F.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3",children:E.map(I=>F.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-2 sm:p-4 shadow-sm",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[F.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:I.name}),F.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 bg-gray-100 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",children:I.esp32Id})]}),F.jsxs("div",{className:"mb-2 sm:mb-4",children:[F.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 font-medium mb-1.5 sm:mb-2",children:" "}),F.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[F.jsx("button",{onClick:()=>w(I.id,"OPEN"),className:"flex-1 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-semibold py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-colors text-xs sm:text-sm",children:""}),F.jsx("button",{onClick:()=>w(I.id,"STOP"),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-semibold py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-colors text-xs sm:text-sm",children:""}),F.jsx("button",{onClick:()=>w(I.id,"CLOSE"),className:"flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-semibold py-2 sm:py-3 px-2 sm:px-4 rounded-md transition-colors text-xs sm:text-sm",children:""})]})]}),F.jsxs("div",{children:[F.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[F.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 font-medium",children:"  "}),u[I.id]==="running"&&F.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-blue-100 text-blue-700 text-[10px] sm:text-xs font-semibold rounded-full",children:[F.jsx("span",{className:"animate-pulse",children:""})," "]}),u[I.id]==="completed"&&F.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-green-100 text-green-700 text-[10px] sm:text-xs font-semibold rounded-full",children:""})]}),F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[F.jsx("input",{type:"number",min:"0",max:"100",value:s[I.id]??r[I.id]?.targetPercentage??0,onChange:k=>o({...s,[I.id]:k.target.value}),className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0-100"}),F.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"%"}),F.jsx("button",{onClick:()=>T(I.id),className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white text-xs sm:text-sm font-medium rounded-md transition-colors",children:""})]}),F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[F.jsxs("div",{className:"flex-1 text-[10px] sm:text-xs text-gray-600 space-y-0.5 sm:space-y-1",children:[F.jsxs("div",{children:[": ",F.jsxs("span",{className:"font-semibold text-gray-800",children:[h[I.id]??0,"%"]})]}),F.jsxs("div",{children:[": ",F.jsxs("span",{className:"font-semibold text-blue-600",children:[r[I.id]?.targetPercentage??0,"%"]})]})]}),F.jsx("button",{onClick:()=>_(I.id),className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white text-xs sm:text-sm font-semibold rounded-md transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:u[I.id]==="running",children:""})]})]})]},I.id))})})]}),F.jsxs("section",{className:"mb-2 sm:mb-3",children:[F.jsxs("header",{className:"bg-farm-500 px-3 sm:px-4 py-2 sm:py-2.5 rounded-t-lg flex items-center justify-between",children:[F.jsx("h2",{className:"text-sm sm:text-base font-semibold flex items-center gap-1.5 text-gray-900",children:" "}),F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-800",children:[y.length,""]})]}),F.jsx("div",{className:"bg-white shadow-sm rounded-b-lg p-1.5 sm:p-3",children:F.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-1.5 sm:gap-3",children:y.map(I=>F.jsx(eL,{device:I,power:r[I.id]?.power??"off",lastSavedAt:r[I.id]?.lastSavedAt,onToggle:k=>S(I.id,k)},I.id))})})]})]})})}const rZ={zone_a:"ctlr-0004",zone_b:"ctlr-0005",zone_c:"ctlr-0006",zone_d:"ctlr-0007",zone_e:"ctlr-0008"};function nZ({zones:r,setZones:e}){const[t,n]=L.useState({}),[i,a]=L.useState({}),[s,o]=L.useState({}),[l,u]=L.useState({}),c=L.useRef({}),[h,p]=L.useState(!1);L.useEffect(()=>{S0();const R=u5(H=>{p(H),console.log(`[MQTT] Connection status: ${H?"Connected":"Disconnected"}`)});return()=>R()},[]),L.useEffect(()=>{const R=async()=>{try{const Y=await(await fetch("/api/device_status.php")).json();if(Y.success){const K={};Object.entries(Y.devices).forEach(([z,Q])=>{K[z]=Q.is_online}),a(K),n(z=>{const Q={...z};return Object.entries(rZ).forEach(([se,ae])=>{Q[se]?Q[se]={...Q[se],online:K[ae]??!1}:Q[se]={valveState:"UNKNOWN",online:K[ae]??!1,lastUpdated:""}}),Q})}}catch(X){console.error("[API] Failed to fetch ESP32 status:",X)}};R();const H=setInterval(R,5e3);return()=>clearInterval(H)},[]),L.useEffect(()=>{const R=S0(),H=(Y,K)=>{const z=K.toString();Y==="tansaeng/ctlr-0004/valve1/state"&&(n(Q=>({...Q,zone_a:{...Q.zone_a,valveState:z==="OPEN"?"OPEN":"CLOSE",lastUpdated:new Date().toLocaleTimeString()}})),o(Q=>({...Q,zone_a:z==="OPEN"?"spraying":"stopped"}))),Y==="tansaeng/ctlr-0004/status"&&n(Q=>({...Q,zone_a:{...Q.zone_a,online:z==="online",lastUpdated:new Date().toLocaleTimeString()}})),Y==="tansaeng/ctlr-0005/valve1/state"&&(n(Q=>({...Q,zone_b:{...Q.zone_b,valveState:z==="OPEN"?"OPEN":"CLOSE",lastUpdated:new Date().toLocaleTimeString()}})),o(Q=>({...Q,zone_b:z==="OPEN"?"spraying":"stopped"}))),Y==="tansaeng/ctlr-0005/status"&&n(Q=>({...Q,zone_b:{...Q.zone_b,online:z==="online",lastUpdated:new Date().toLocaleTimeString()}})),Y==="tansaeng/ctlr-0006/valve1/state"&&(n(Q=>({...Q,zone_c:{...Q.zone_c,valveState:z==="OPEN"?"OPEN":"CLOSE",lastUpdated:new Date().toLocaleTimeString()}})),o(Q=>({...Q,zone_c:z==="OPEN"?"spraying":"stopped"}))),Y==="tansaeng/ctlr-0006/status"&&n(Q=>({...Q,zone_c:{...Q.zone_c,online:z==="online",lastUpdated:new Date().toLocaleTimeString()}})),Y==="tansaeng/ctlr-0007/valve1/state"&&(n(Q=>({...Q,zone_d:{...Q.zone_d,valveState:z==="OPEN"?"OPEN":"CLOSE",lastUpdated:new Date().toLocaleTimeString()}})),o(Q=>({...Q,zone_d:z==="OPEN"?"spraying":"stopped"}))),Y==="tansaeng/ctlr-0007/status"&&n(Q=>({...Q,zone_d:{...Q.zone_d,online:z==="online",lastUpdated:new Date().toLocaleTimeString()}})),Y==="tansaeng/ctlr-0008/valve1/state"&&(n(Q=>({...Q,zone_e:{...Q.zone_e,valveState:z==="OPEN"?"OPEN":"CLOSE",lastUpdated:new Date().toLocaleTimeString()}})),o(Q=>({...Q,zone_e:z==="OPEN"?"spraying":"stopped"}))),Y==="tansaeng/ctlr-0008/status"&&n(Q=>({...Q,zone_e:{...Q.zone_e,online:z==="online",lastUpdated:new Date().toLocaleTimeString()}}))};return R.on("message",H),["tansaeng/ctlr-0004/valve1/state","tansaeng/ctlr-0004/status","tansaeng/ctlr-0005/valve1/state","tansaeng/ctlr-0005/status","tansaeng/ctlr-0006/valve1/state","tansaeng/ctlr-0006/status","tansaeng/ctlr-0007/valve1/state","tansaeng/ctlr-0007/status","tansaeng/ctlr-0008/valve1/state","tansaeng/ctlr-0008/status"].forEach(Y=>{R.subscribe(Y,K=>{K||console.log(`[MQTT] Subscribed: ${Y}`)})}),()=>{R.off("message",H)}},[]);const m=(R,H)=>{e(X=>X.map(Y=>Y.id===R?{...Y,...H}:Y))},g=(R,H)=>{e(X=>X.map(Y=>Y.id===R?{...Y,daySchedule:{...Y.daySchedule,...H}}:Y))},y=(R,H)=>{e(X=>X.map(Y=>Y.id===R?{...Y,nightSchedule:{...Y.nightSchedule,...H}}:Y))},x=R=>`tansaeng/${R}/valve1/cmd`,E=R=>{if(R.mode==="AUTO"){if(R.daySchedule.enabled&&!R.daySchedule.sprayDurationSeconds){alert("   . ()  .");return}if(R.nightSchedule.enabled&&!R.nightSchedule.sprayDurationSeconds){alert("   . ()  .");return}if(!R.daySchedule.enabled&&!R.nightSchedule.enabled){alert("AUTO         .");return}}R.controllerId&&zl(`tansaeng/mist/${R.id}/config`,{mode:R.mode,controllerId:R.controllerId,daySchedule:R.daySchedule,nightSchedule:R.nightSchedule}),alert(`${R.name}  .`)},S=R=>{const H=c.current[R];H&&(H.stopTimer&&clearTimeout(H.stopTimer),H.sprayTimer&&clearTimeout(H.sprayTimer),H.isRunning=!1),u(X=>({...X,[R]:"idle"}))},w=(R,H)=>{const X=R.id,Y=R.controllerId;if(!Y)return;const K=x(Y),z=(H.sprayDurationSeconds??0)*1e3,Q=(H.stopDurationSeconds??0)*1e3;console.log(`[AUTO] Starting cycle for ${R.name}`),console.log(`[AUTO] Topic: ${K}`),console.log(`[AUTO] Spray: ${z/1e3}s, Stop: ${Q/1e3}s`),console.log(`[AUTO] MQTT Connected: ${cM()}`),S(X),c.current[X]={stopTimer:null,sprayTimer:null,isRunning:!0};const se=()=>{if(c.current[X]?.isRunning){if(!cM()){console.error("[AUTO] MQTT not connected! Retrying in 3 seconds..."),c.current[X].stopTimer=setTimeout(se,3e3);return}console.log(`[AUTO] ${R.name}: Sending OFF to ${K}`),zl(K,{power:"off"}),u(ae=>({...ae,[X]:"waiting"})),o(ae=>({...ae,[X]:"stopped"})),c.current[X].stopTimer=setTimeout(()=>{c.current[X]?.isRunning&&(console.log(`[AUTO] ${R.name}: Sending ON to ${K}`),zl(K,{power:"on"}),u(ae=>({...ae,[X]:"spraying"})),o(ae=>({...ae,[X]:"spraying"})),c.current[X].sprayTimer=setTimeout(()=>{c.current[X]?.isRunning&&se()},z))},Q)}};se()},T=R=>{const H=new Date,X=H.getHours()*60+H.getMinutes(),Y=K=>{if(!K)return 0;const[z,Q]=K.split(":").map(Number);return z*60+Q};if(R.daySchedule.enabled){const K=Y(R.daySchedule.startTime),z=Y(R.daySchedule.endTime);if(K<=X&&X<z)return R.daySchedule}if(R.nightSchedule.enabled){const K=Y(R.nightSchedule.startTime),z=Y(R.nightSchedule.endTime);if(K>z){if(X>=K||X<z)return R.nightSchedule}else if(K<=X&&X<z)return R.nightSchedule}return null},_=R=>{if(!R.controllerId){alert("   .");return}if(R.mode==="OFF"){alert("   MANUAL  AUTO .");return}if(R.mode==="AUTO"){const H=T(R);if(!H){alert("    . /  .");return}w(R,H),m(R.id,{isRunning:!0}),alert(`${R.name} AUTO  .
 ${H.stopDurationSeconds??0}   ${H.sprayDurationSeconds??0}  `)}else zl(`tansaeng/mist/${R.id}/control`,{action:"start",controllerId:R.controllerId}),m(R.id,{isRunning:!0}),alert(`${R.name}  .`)},O=R=>{if(!R.controllerId){alert("   .");return}S(R.id);const H=x(R.controllerId);zl(H,{power:"off"}),zl(`tansaeng/mist/${R.id}/control`,{action:"stop",controllerId:R.controllerId}),m(R.id,{isRunning:!1}),alert(`${R.name}  .`)};L.useEffect(()=>()=>{Object.keys(c.current).forEach(R=>{S(R)})},[]);const A=R=>{if(!R.controllerId){alert("   .");return}const H=x(R.controllerId);zl(H,{power:"on"}),o(X=>({...X,[R.id]:"spraying"})),console.log(`[MQTT] Published to ${H}: ON`)},I=R=>{if(!R.controllerId){alert("   .");return}const H=x(R.controllerId);zl(H,{power:"off"}),o(X=>({...X,[R.id]:"stopped"})),console.log(`[MQTT] Published to ${H}: OFF`)},k=R=>R==="OFF"?{bg:"#f3f4f6",text:"#4b5563"}:R==="MANUAL"?{bg:"#dbeafe",text:"#1e40af"}:{bg:"#d1fae5",text:"#065f46"},N=({state:R,zoneId:H,controllerId:X})=>{const Y=t[H],K=X?i[X]===!0:Y?.online??!1,z=Y?.valveState??"UNKNOWN",Q=z==="OPEN"?"spraying":z==="CLOSE"?"stopped":R;return Q==="spraying"?F.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-100 rounded-lg border border-green-300",children:[F.jsxs("div",{className:"relative",children:[F.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse"}),F.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-green-400 rounded-full animate-ping opacity-75"})]}),F.jsx("span",{className:"text-green-700 font-semibold",children:""}),K&&F.jsx("span",{className:"text-xs text-green-600 ml-2",children:"()"})]}):Q==="stopped"?F.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 rounded-lg border border-red-300",children:[F.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),F.jsx("span",{className:"text-red-700 font-semibold",children:""}),K&&F.jsx("span",{className:"text-xs text-red-600 ml-2",children:"()"})]}):F.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg border border-gray-300",children:[F.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full"}),F.jsx("span",{className:"text-gray-600 font-medium",children:""}),!K&&F.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"()"})]})},B=({schedule:R,label:H})=>R.enabled?F.jsxs("div",{className:"text-xs bg-white/80 rounded px-2 py-1 border",children:[F.jsxs("span",{className:"font-medium",children:[H,":"]})," ",R.startTime||"--:--"," ~ ",R.endTime||"--:--",","," "," ",R.stopDurationSeconds??0,"   ",R.sprayDurationSeconds??0,""]}):null;return F.jsx("div",{className:"bg-gray-50 min-h-full",children:F.jsxs("div",{className:"p-2",children:[F.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg px-3 py-2 mb-2 shadow-sm",children:[F.jsx("span",{className:"text-sm font-bold text-gray-800",children:" "}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${h?"bg-green-500 animate-pulse":"bg-red-500"}`}),F.jsx("span",{className:"text-xs text-gray-600",children:"MQTT"})]})]}),r.map(R=>{const H=k(R.mode),X=s[R.id]||"idle",Y=R.controllerId?i[R.controllerId]===!0:!1;return F.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-2 overflow-hidden",children:[F.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-farm-500",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-sm font-bold text-gray-900",children:R.name}),R.controllerId&&F.jsx("span",{className:`w-2 h-2 rounded-full ${Y?"bg-green-400 animate-pulse":"bg-red-400"}`})]}),F.jsxs("div",{className:"flex items-center gap-1.5",children:[R.isRunning&&F.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded",children:""}),F.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{background:H.bg,color:H.text},children:R.mode})]})]}),F.jsxs("div",{className:"p-3",children:[F.jsx("div",{className:"flex gap-1 mb-3",children:["OFF","MANUAL","AUTO"].map(K=>F.jsx("button",{onClick:()=>m(R.id,{mode:K}),className:`flex-1 py-2 text-xs font-bold rounded transition-all ${R.mode===K?"bg-farm-500 text-white":"bg-gray-100 text-gray-600 active:bg-gray-200"}`,children:K},K))}),R.mode==="MANUAL"&&F.jsxs("div",{className:"space-y-2",children:[F.jsx(N,{state:X,zoneId:R.id,controllerId:R.controllerId}),F.jsxs("div",{className:"flex gap-2",children:[F.jsx("button",{onClick:()=>A(R),disabled:!R.controllerId,className:"flex-1 bg-green-500 active:bg-green-600 disabled:bg-gray-300 text-white font-bold py-3 rounded text-sm",children:" "}),F.jsx("button",{onClick:()=>I(R),disabled:!R.controllerId,className:"flex-1 bg-red-500 active:bg-red-600 disabled:bg-gray-300 text-white font-bold py-3 rounded text-sm",children:" "})]})]}),R.mode==="AUTO"&&F.jsxs("div",{children:[F.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[F.jsxs("div",{className:"flex items-center justify-between mb-3",children:[F.jsx("h3",{className:"text-lg font-semibold text-yellow-800 m-0",children:"  "}),F.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[F.jsx("input",{type:"checkbox",checked:R.daySchedule.enabled,onChange:K=>g(R.id,{enabled:K.target.checked}),className:"w-4 h-4 accent-yellow-500"}),F.jsx("span",{className:"text-sm text-yellow-700",children:""})]})]}),R.daySchedule.enabled&&F.jsxs("div",{className:"space-y-3",children:[F.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),F.jsx("input",{type:"time",value:R.daySchedule.startTime,onChange:K=>g(R.id,{startTime:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),F.jsx("input",{type:"time",value:R.daySchedule.endTime,onChange:K=>g(R.id,{endTime:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base"})]})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[F.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[F.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"  ()"}),F.jsx("input",{type:"number",min:"1",value:R.daySchedule.sprayDurationSeconds??"",onChange:K=>g(R.id,{sprayDurationSeconds:Number(K.target.value)||null}),placeholder:"  ",className:"w-full px-3 py-2 border border-green-300 rounded-lg text-base"}),F.jsx("p",{className:"text-xs text-green-600 mt-1",children:"  "})]}),F.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[F.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"  ()"}),F.jsx("input",{type:"number",min:"0",value:R.daySchedule.stopDurationSeconds??"",onChange:K=>g(R.id,{stopDurationSeconds:Number(K.target.value)||null}),placeholder:"   ",className:"w-full px-3 py-2 border border-red-300 rounded-lg text-base"}),F.jsx("p",{className:"text-xs text-red-600 mt-1",children:"   "})]})]}),F.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:[" : (",R.daySchedule.stopDurationSeconds??0,")  (",R.daySchedule.sprayDurationSeconds??0,")  "]})]})]}),F.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-xl border border-indigo-200",children:[F.jsxs("div",{className:"flex items-center justify-between mb-3",children:[F.jsx("h3",{className:"text-lg font-semibold text-indigo-800 m-0",children:"  "}),F.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[F.jsx("input",{type:"checkbox",checked:R.nightSchedule.enabled,onChange:K=>y(R.id,{enabled:K.target.checked}),className:"w-4 h-4 accent-indigo-500"}),F.jsx("span",{className:"text-sm text-indigo-700",children:""})]})]}),R.nightSchedule.enabled&&F.jsxs("div",{className:"space-y-3",children:[F.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),F.jsx("input",{type:"time",value:R.nightSchedule.startTime,onChange:K=>y(R.id,{startTime:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),F.jsx("input",{type:"time",value:R.nightSchedule.endTime,onChange:K=>y(R.id,{endTime:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base"})]})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[F.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[F.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"  ()"}),F.jsx("input",{type:"number",min:"1",value:R.nightSchedule.sprayDurationSeconds??"",onChange:K=>y(R.id,{sprayDurationSeconds:Number(K.target.value)||null}),placeholder:"  ",className:"w-full px-3 py-2 border border-green-300 rounded-lg text-base"}),F.jsx("p",{className:"text-xs text-green-600 mt-1",children:"  "})]}),F.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[F.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"  ()"}),F.jsx("input",{type:"number",min:"0",value:R.nightSchedule.stopDurationSeconds??"",onChange:K=>y(R.id,{stopDurationSeconds:Number(K.target.value)||null}),placeholder:"   ",className:"w-full px-3 py-2 border border-red-300 rounded-lg text-base"}),F.jsx("p",{className:"text-xs text-red-600 mt-1",children:"   "})]})]}),F.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:[" : (",R.nightSchedule.stopDurationSeconds??0,")  (",R.nightSchedule.sprayDurationSeconds??0,")  "]})]})]}),F.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[F.jsx(B,{schedule:R.daySchedule,label:" "}),F.jsx(B,{schedule:R.nightSchedule,label:" "})]}),F.jsx("div",{className:"mb-4",children:F.jsx(N,{state:s[R.id]||"idle",zoneId:R.id,controllerId:R.controllerId})}),R.isRunning&&F.jsxs("div",{className:`mb-4 p-3 rounded-lg border flex items-center gap-3 ${l[R.id]==="spraying"?"bg-green-100 border-green-300":l[R.id]==="waiting"?"bg-yellow-100 border-yellow-300":"bg-gray-100 border-gray-300"}`,children:[F.jsxs("div",{className:"relative",children:[F.jsx("div",{className:`w-4 h-4 rounded-full ${l[R.id]==="spraying"?"bg-green-500 animate-pulse":l[R.id]==="waiting"?"bg-yellow-500":"bg-gray-400"}`}),l[R.id]==="spraying"&&F.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-green-400 rounded-full animate-ping opacity-75"})]}),F.jsx("span",{className:`font-semibold ${l[R.id]==="spraying"?"text-green-700":l[R.id]==="waiting"?"text-yellow-700":"text-gray-600"}`,children:l[R.id]==="spraying"?"  ...":l[R.id]==="waiting"?"   ...":""})]}),F.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[F.jsx("button",{onClick:()=>E(R),className:"bg-farm-500 hover:bg-farm-600 text-white font-medium px-4 py-3 rounded-lg border-none cursor-pointer transition-all duration-200 hover:-translate-y-0.5",children:"  "}),F.jsx("button",{onClick:()=>_(R),disabled:!R.controllerId||R.isRunning,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium px-4 py-3 rounded-lg border-none cursor-pointer transition-all duration-200 hover:-translate-y-0.5",children:" "}),F.jsx("button",{onClick:()=>O(R),disabled:!R.controllerId||!R.isRunning,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium px-4 py-3 rounded-lg border-none cursor-pointer transition-all duration-200 hover:-translate-y-0.5",children:" "})]})]}),R.mode==="OFF"&&F.jsx("p",{className:"text-gray-500 text-xs text-center py-2",children:" "})]})]},R.id)})]})})}function Vu({label:r,value:e,unit:t}){const n=e!=null;return F.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[F.jsx("dt",{className:"text-sm text-gray-600",children:r}),F.jsx("dd",{className:`text-base font-semibold ${n?"text-gray-800":"text-gray-400"}`,children:n?`${e}${t}`:" "})]})}function c5(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=c5(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Bt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=c5(r))&&(n&&(n+=" "),n+=e);return n}var iZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hD(r){if(typeof r!="string")return!1;var e=iZ;return e.includes(r)}var aZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sZ=new Set(aZ);function f5(r){return typeof r!="string"?!1:sZ.has(r)}function h5(r){return typeof r=="string"&&r.startsWith("data-")}function Xs(r){if(typeof r!="object"||r===null)return{};var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(f5(t)||h5(t))&&(e[t]=r[t]);return e}function Ax(r){if(r==null)return null;if(L.isValidElement(r)&&typeof r.props=="object"&&r.props!==null){var e=r.props;return Xs(e)}return typeof r=="object"&&!Array.isArray(r)?Xs(r):null}function Ii(r){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(f5(t)||h5(t)||hD(t))&&(e[t]=r[t]);return e}function oZ(r){return r==null?null:L.isValidElement(r)?Ii(r.props):typeof r=="object"&&!Array.isArray(r)?Ii(r):null}var lZ=["children","width","height","viewBox","className","style","title","desc"];function mA(){return mA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mA.apply(null,arguments)}function uZ(r,e){if(r==null)return{};var t,n,i=cZ(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function cZ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var dD=L.forwardRef((r,e)=>{var{children:t,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=r,c=uZ(r,lZ),h=a||{width:n,height:i,x:0,y:0},p=Bt("recharts-surface",s);return L.createElement("svg",mA({},Ii(c),{className:p,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),L.createElement("title",null,l),L.createElement("desc",null,u),t)}),fZ=["children","className"];function gA(){return gA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gA.apply(null,arguments)}function hZ(r,e){if(r==null)return{};var t,n,i=dZ(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function dZ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var pu=L.forwardRef((r,e)=>{var{children:t,className:n}=r,i=hZ(r,fZ),a=Bt("recharts-layer",n);return L.createElement("g",gA({className:a},Ii(i),{ref:e}),t)}),d5=L.createContext(null),pZ=()=>L.useContext(d5);function Ir(r){return function(){return r}}const p5=Math.cos,$v=Math.sin,_s=Math.sqrt,Hv=Math.PI,Dx=2*Hv,vA=Math.PI,yA=2*vA,Qu=1e-6,mZ=yA-Qu;function m5(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function gZ(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return m5;const t=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class vZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m5:gZ(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,a,s){this._append`C${+e},${+t},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,n,i,a){if(e=+e,t=+t,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-t,c=s-e,h=o-t,p=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>Qu)if(!(Math.abs(h*l-u*c)>Qu)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let m=n-s,g=i-o,y=l*l+u*u,x=m*m+g*g,E=Math.sqrt(y),S=Math.sqrt(p),w=a*Math.tan((vA-Math.acos((y+p-x)/(2*E*S)))/2),T=w/S,_=w/E;Math.abs(T-1)>Qu&&this._append`L${e+T*c},${t+T*h}`,this._append`A${a},${a},0,0,${+(h*m>c*g)},${this._x1=e+_*l},${this._y1=t+_*u}`}}arc(e,t,n,i,a,s){if(e=+e,t=+t,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,c=t+l,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qu||Math.abs(this._y1-c)>Qu)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%yA+yA),p>mZ?this._append`A${n},${n},0,1,${h},${e-o},${t-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=c}`:p>Qu&&this._append`A${n},${n},0,${+(p>=vA)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function pD(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new vZ(e)}function mD(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function g5(r){this._context=r}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function Ox(r){return new g5(r)}function v5(r){return r[0]}function y5(r){return r[1]}function x5(r,e){var t=Ir(!0),n=null,i=Ox,a=null,s=pD(o);r=typeof r=="function"?r:r===void 0?v5:Ir(r),e=typeof e=="function"?e:e===void 0?y5:Ir(e);function o(l){var u,c=(l=mD(l)).length,h,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&t(h=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+r(h,u,l),+e(h,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(r=typeof l=="function"?l:Ir(+l),o):r},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ir(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Ir(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Jm(r,e,t){var n=null,i=Ir(!0),a=null,s=Ox,o=null,l=pD(u);r=typeof r=="function"?r:r===void 0?v5:Ir(+r),e=typeof e=="function"?e:Ir(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?y5:Ir(+t);function u(h){var p,m,g,y=(h=mD(h)).length,x,E=!1,S,w=new Array(y),T=new Array(y);for(a==null&&(o=s(S=l())),p=0;p<=y;++p){if(!(p<y&&i(x=h[p],p,h))===E)if(E=!E)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=m;--g)o.point(w[g],T[g]);o.lineEnd(),o.areaEnd()}E&&(w[p]=+r(x,p,h),T[p]=+e(x,p,h),o.point(n?+n(x,p,h):w[p],t?+t(x,p,h):T[p]))}if(S)return o=null,S+""||null}function c(){return x5().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(r=typeof h=="function"?h:Ir(+h),n=null,u):r},u.x0=function(h){return arguments.length?(r=typeof h=="function"?h:Ir(+h),u):r},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ir(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ir(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ir(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Ir(+h),u):t},u.lineX0=u.lineY0=function(){return c().x(r).y(e)},u.lineY1=function(){return c().x(r).y(t)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ir(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class b5{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function yZ(r){return new b5(r,!0)}function xZ(r){return new b5(r,!1)}const gD={draw(r,e){const t=_s(e/Hv);r.moveTo(t,0),r.arc(0,0,t,0,Dx)}},bZ={draw(r,e){const t=_s(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},S5=_s(1/3),SZ=S5*2,EZ={draw(r,e){const t=_s(e/SZ),n=t*S5;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},wZ={draw(r,e){const t=_s(e),n=-t/2;r.rect(n,n,t,t)}},_Z=.8908130915292852,E5=$v(Hv/10)/$v(7*Hv/10),TZ=$v(Dx/10)*E5,AZ=-p5(Dx/10)*E5,DZ={draw(r,e){const t=_s(e*_Z),n=TZ*t,i=AZ*t;r.moveTo(0,-t),r.lineTo(n,i);for(let a=1;a<5;++a){const s=Dx*a/5,o=p5(s),l=$v(s);r.lineTo(l*t,-o*t),r.lineTo(o*n-l*i,l*n+o*i)}r.closePath()}},qS=_s(3),OZ={draw(r,e){const t=-_s(e/(qS*3));r.moveTo(0,t*2),r.lineTo(-qS*t,-t),r.lineTo(qS*t,-t),r.closePath()}},Ua=-.5,ja=_s(3)/2,xA=1/_s(12),CZ=(xA/2+1)*3,IZ={draw(r,e){const t=_s(e/CZ),n=t/2,i=t*xA,a=n,s=t*xA+t,o=-a,l=s;r.moveTo(n,i),r.lineTo(a,s),r.lineTo(o,l),r.lineTo(Ua*n-ja*i,ja*n+Ua*i),r.lineTo(Ua*a-ja*s,ja*a+Ua*s),r.lineTo(Ua*o-ja*l,ja*o+Ua*l),r.lineTo(Ua*n+ja*i,Ua*i-ja*n),r.lineTo(Ua*a+ja*s,Ua*s-ja*a),r.lineTo(Ua*o+ja*l,Ua*l-ja*o),r.closePath()}};function RZ(r,e){let t=null,n=pD(i);r=typeof r=="function"?r:Ir(r||gD),e=typeof e=="function"?e:Ir(e===void 0?64:+e);function i(){let a;if(t||(t=a=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(r=typeof a=="function"?a:Ir(a),i):r},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ir(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function Gv(){}function Wv(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function w5(r){this._context=r}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function kZ(r){return new w5(r)}function _5(r){this._context=r}_5.prototype={areaStart:Gv,areaEnd:Gv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Wv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function PZ(r){return new _5(r)}function T5(r){this._context=r}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Wv(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function LZ(r){return new T5(r)}function A5(r){this._context=r}A5.prototype={areaStart:Gv,areaEnd:Gv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function MZ(r){return new A5(r)}function fM(r){return r<0?-1:1}function hM(r,e,t){var n=r._x1-r._x0,i=e-r._x1,a=(r._y1-r._y0)/(n||i<0&&-0),s=(t-r._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(fM(a)+fM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function dM(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function XS(r,e,t){var n=r._x0,i=r._y0,a=r._x1,s=r._y1,o=(a-n)/3;r._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*t,a,s)}function Kv(r){this._context=r}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XS(this,this._t0,dM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,XS(this,dM(this,t=hM(this,r,e)),t);break;default:XS(this,this._t0,t=hM(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function D5(r){this._context=new O5(r)}(D5.prototype=Object.create(Kv.prototype)).point=function(r,e){Kv.prototype.point.call(this,e,r)};function O5(r){this._context=r}O5.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,i,a){this._context.bezierCurveTo(e,r,n,t,a,i)}};function NZ(r){return new Kv(r)}function FZ(r){return new D5(r)}function C5(r){this._context=r}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=pM(r),i=pM(e),a=0,s=1;s<t;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],r[s],e[s]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function pM(r){var e,t=r.length-1,n,i=new Array(t),a=new Array(t),s=new Array(t);for(i[0]=0,a[0]=2,s[0]=r[0]+2*r[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,s[e]=4*r[e]+2*r[e+1];for(i[t-1]=2,a[t-1]=7,s[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[t-1]=s[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[t-1]=(r[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*r[e+1]-i[e+1];return[i,a]}function BZ(r){return new C5(r)}function Cx(r,e){this._context=r,this._t=e}Cx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function UZ(r){return new Cx(r,.5)}function jZ(r){return new Cx(r,0)}function $Z(r){return new Cx(r,1)}function lh(r,e){if((s=r.length)>1)for(var t=1,n,i,a=r[e[0]],s,o=a.length;t<s;++t)for(i=a,a=r[e[t]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function bA(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function HZ(r,e){return r[e]}function GZ(r){const e=[];return e.key=r,e}function WZ(){var r=Ir([]),e=bA,t=lh,n=HZ;function i(a){var s=Array.from(r.apply(this,arguments),GZ),o,l=s.length,u=-1,c;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,c=mD(e(s));o<l;++o)s[c[o]].index=o;return t(s,c),s}return i.keys=function(a){return arguments.length?(r=typeof a=="function"?a:Ir(Array.from(a)),i):r},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ir(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?bA:typeof a=="function"?a:Ir(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??lh,i):t},i}function KZ(r,e){if((n=r.length)>0){for(var t,n,i=0,a=r[0].length,s;i<a;++i){for(s=t=0;t<n;++t)s+=r[t][i][1]||0;if(s)for(t=0;t<n;++t)r[t][i][1]/=s}lh(r,e)}}function YZ(r,e){if((i=r.length)>0){for(var t=0,n=r[e[0]],i,a=n.length;t<a;++t){for(var s=0,o=0;s<i;++s)o+=r[s][t][1]||0;n[t][1]+=n[t][0]=-o/2}lh(r,e)}}function zZ(r,e){if(!(!((s=r.length)>0)||!((a=(i=r[e[0]]).length)>0))){for(var t=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=r[e[o]],h=c[n][1]||0,p=c[n-1][1]||0,m=(h-p)/2,g=0;g<o;++g){var y=r[e[g]],x=y[n][1]||0,E=y[n-1][1]||0;m+=x-E}l+=h,u+=m*h}i[n-1][1]+=i[n-1][0]=t,l&&(t-=u/l)}i[n-1][1]+=i[n-1][0]=t,lh(r,e)}}var QS={},ZS={},mM;function VZ(){return mM||(mM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(ZS)),ZS}var JS={},gM;function I5(){return gM||(gM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(JS)),JS}var eE={},vM;function vD(){return vM||(vM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(eE)),eE}var tE={},rE={},yM;function qZ(){return yM||(yM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return n==="0"&&Object.is(Number(t),-0)?"-0":n}r.toString=e})(rE)),rE}var xM;function yD(){return xM||(xM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=qZ(),t=vD();function n(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,l+=i[o]):h===u?u="":l+=h:c?h==='"'||h==="'"?u=h:h==="]"?(c=!1,a.push(l),l=""):l+=h:h==="["?(c=!0,l&&(a.push(l),l="")):h==="."?l&&(a.push(l),l=""):l+=h,o++}return l&&a.push(l),a}r.toPath=n})(tE)),tE}var bM;function xD(){return bM||(bM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=VZ(),t=I5(),n=vD(),i=yD();function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?t.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let h=0;h<l.length;h++){if(c==null||e.isUnsafeProperty(l[h]))return u;c=c[l[h]]}return c===void 0?u:c}r.get=a})(QS)),QS}var nE,SM;function XZ(){return SM||(SM=1,nE=xD().get),nE}var QZ=XZ();const Ix=ao(QZ);var Ya=r=>r===0?0:r>0?1:-1,Qs=r=>typeof r=="number"&&r!=+r,Jo=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,Rt=r=>(typeof r=="number"||r instanceof Number)&&!Qs(r),Zs=r=>Rt(r)||typeof r=="string",ZZ=0,E0=r=>{var e=++ZZ;return"".concat(r||"").concat(e)},mu=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Rt(e)&&typeof e!="string")return n;var a;if(Jo(e)){if(t==null)return n;var s=e.indexOf("%");a=t*parseFloat(e.slice(0,s))/100}else a=+e;return Qs(a)&&(a=n),i&&t!=null&&a>t&&(a=t),a},R5=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1};function Gi(r,e,t){return Rt(r)&&Rt(e)?r+t*(e-r):e}function k5(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):Ix(n,e))===t)}var jn=r=>r===null||typeof r>"u",op=r=>jn(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1));function JZ(r){return r!=null}function lp(){}var eJ=["type","size","sizeType"];function SA(){return SA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},SA.apply(null,arguments)}function EM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function wM(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(t),!0).forEach(function(n){tJ(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):EM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tJ(r,e,t){return(e=rJ(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rJ(r){var e=nJ(r,"string");return typeof e=="symbol"?e:e+""}function nJ(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function iJ(r,e){if(r==null)return{};var t,n,i=aJ(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function aJ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var P5={symbolCircle:gD,symbolCross:bZ,symbolDiamond:EZ,symbolSquare:wZ,symbolStar:DZ,symbolTriangle:OZ,symbolWye:IZ},sJ=Math.PI/180,oJ=r=>{var e="symbol".concat(op(r));return P5[e]||gD},lJ=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*sJ;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},uJ=(r,e)=>{P5["symbol".concat(op(r))]=e},bD=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,i=iJ(r,eJ),a=wM(wM({},i),{},{type:e,size:t,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var p=oJ(s),m=RZ().type(p).size(lJ(t,n,s)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,h=Ii(a);return Rt(u)&&Rt(c)&&Rt(t)?L.createElement("path",SA({},h,{className:Bt("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};bD.registerSymbol=uJ;var L5=r=>"radius"in r&&"startAngle"in r&&"endAngle"in r,SD=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(L.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(i=>{hD(i)&&(n[i]=(a=>t[i](t,a)))}),n},cJ=(r,e,t)=>n=>(r(e,t,n),null),M5=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(i=>{var a=r[i];hD(i)&&typeof a=="function"&&(n||(n={}),n[i]=cJ(a,e,t))}),n};function _M(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fJ(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(t),!0).forEach(function(n){hJ(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_M(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hJ(r,e,t){return(e=dJ(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dJ(r){var e=pJ(r,"string");return typeof e=="symbol"?e:e+""}function pJ(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function xi(r,e){var t=fJ({},r),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),t);return a}function Yv(){return Yv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Yv.apply(null,arguments)}function TM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mJ(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(t),!0).forEach(function(n){gJ(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gJ(r,e,t){return(e=vJ(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function vJ(r){var e=yJ(r,"string");return typeof e=="symbol"?e:e+""}function yJ(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ga=32,xJ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function bJ(r){var{data:e,iconType:t,inactiveColor:n}=r,i=Ga/2,a=Ga/6,s=Ga/3,o=e.inactive?n:e.color,l=t??e.type;if(l==="none")return null;if(l==="plainline"){var u;return L.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ga,y2:i,className:"recharts-legend-icon"})}if(l==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ga,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return L.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(L.isValidElement(e.legendIcon)){var c=mJ({},e);return delete c.legendIcon,L.cloneElement(e.legendIcon,c)}return L.createElement(bD,{fill:o,cx:i,cy:i,size:Ga,sizeType:"diameter",type:l})}function SJ(r){var{payload:e,iconSize:t,layout:n,formatter:i,inactiveColor:a,iconType:s}=r,o={x:0,y:0,width:Ga,height:Ga},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,h)=>{var p=c.formatter||i,m=Bt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,y=p?p(c.value,c,h):c.value;return L.createElement("li",Yv({className:m,style:l,key:"legend-item-".concat(h)},M5(r,c,h)),L.createElement(dD,{width:t,height:t,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},L.createElement(bJ,{data:c,iconType:s,inactiveColor:a})),L.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var EJ=r=>{var e=xi(r,xJ),{payload:t,layout:n,align:i}=e;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:a},L.createElement(SJ,Yv({},e,{payload:t})))},iE={},aE={},AM;function wJ(){return AM||(AM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const i=new Map;for(let a=0;a<t.length;a++){const s=t[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}r.uniqBy=e})(aE)),aE}var sE={},DM;function N5(){return DM||(DM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(sE)),sE}var oE={},lE={},uE={},OM;function _J(){return OM||(OM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(uE)),uE}var CM;function ED(){return CM||(CM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_J();function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(lE)),lE}var cE={},IM;function TJ(){return IM||(IM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(cE)),cE}var RM;function AJ(){return RM||(RM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=ED(),t=TJ();function n(i){return t.isObjectLike(i)&&e.isArrayLike(i)}r.isArrayLikeObject=n})(oE)),oE}var fE={},hE={},kM;function DJ(){return kM||(kM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=xD();function t(n){return function(i){return e.get(i,n)}}r.property=t})(hE)),hE}var dE={},pE={},mE={},gE={},PM;function F5(){return PM||(PM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(gE)),gE}var vE={},LM;function B5(){return LM||(LM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(vE)),vE}var yE={},MM;function U5(){return MM||(MM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(yE)),yE}var NM;function OJ(){return NM||(NM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=F5(),t=B5(),n=U5();function i(c,h,p){return typeof p!="function"?i(c,h,()=>{}):a(c,h,function m(g,y,x,E,S,w){const T=p(g,y,x,E,S,w);return T!==void 0?!!T:a(g,y,m,w)},new Map)}function a(c,h,p,m){if(h===c)return!0;switch(typeof h){case"object":return s(c,h,p,m);case"function":return Object.keys(h).length>0?a(c,{...h},p,m):n.eq(c,h);default:return e.isObject(c)?typeof h=="string"?h==="":!0:n.eq(c,h)}}function s(c,h,p,m){if(h==null)return!0;if(Array.isArray(h))return l(c,h,p,m);if(h instanceof Map)return o(c,h,p,m);if(h instanceof Set)return u(c,h,p,m);const g=Object.keys(h);if(c==null)return g.length===0;if(g.length===0)return!0;if(m?.has(h))return m.get(h)===c;m?.set(h,c);try{for(let y=0;y<g.length;y++){const x=g[y];if(!t.isPrimitive(c)&&!(x in c)||h[x]===void 0&&c[x]!==void 0||h[x]===null&&c[x]!==null||!p(c[x],h[x],x,c,h,m))return!1}return!0}finally{m?.delete(h)}}function o(c,h,p,m){if(h.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,y]of h.entries()){const x=c.get(g);if(p(x,y,g,c,h,m)===!1)return!1}return!0}function l(c,h,p,m){if(h.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let y=0;y<h.length;y++){const x=h[y];let E=!1;for(let S=0;S<c.length;S++){if(g.has(S))continue;const w=c[S];let T=!1;if(p(w,x,y,c,h,m)&&(T=!0),T){g.add(S),E=!0;break}}if(!E)return!1}return!0}function u(c,h,p,m){return h.size===0?!0:c instanceof Set?l([...c],[...h],p,m):!1}r.isMatchWith=i,r.isSetMatch=u})(mE)),mE}var FM;function j5(){return FM||(FM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=OJ();function t(n,i){return e.isMatchWith(n,i,()=>{})}r.isMatch=t})(pE)),pE}var xE={},bE={},SE={},BM;function CJ(){return BM||(BM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(SE)),SE}var EE={},UM;function $5(){return UM||(UM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(EE)),EE}var wE={},jM;function H5(){return jM||(jM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",h="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]",T="[object BigUint64Array]",_="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",I="[object BigInt64Array]",k="[object Float32Array]",N="[object Float64Array]";r.argumentsTag=a,r.arrayBufferTag=p,r.arrayTag=c,r.bigInt64ArrayTag=I,r.bigUint64ArrayTag=T,r.booleanTag=i,r.dataViewTag=y,r.dateTag=o,r.errorTag=g,r.float32ArrayTag=k,r.float64ArrayTag=N,r.functionTag=h,r.int16ArrayTag=O,r.int32ArrayTag=A,r.int8ArrayTag=_,r.mapTag=l,r.numberTag=n,r.objectTag=m,r.regexpTag=e,r.setTag=u,r.stringTag=t,r.symbolTag=s,r.uint16ArrayTag=S,r.uint32ArrayTag=w,r.uint8ArrayTag=x,r.uint8ClampedArrayTag=E})(wE)),wE}var _E={},$M;function IJ(){return $M||($M=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})(_E)),_E}var HM;function G5(){return HM||(HM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=CJ(),t=$5(),n=H5(),i=B5(),a=IJ();function s(c,h){return o(c,void 0,c,new Map,h)}function o(c,h,p,m=new Map,g=void 0){const y=g?.(c,h,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const x=new Array(c.length);m.set(c,x);for(let E=0;E<c.length;E++)x[E]=o(c[E],E,p,m,g);return Object.hasOwn(c,"index")&&(x.index=c.index),Object.hasOwn(c,"input")&&(x.input=c.input),x}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const x=new RegExp(c.source,c.flags);return x.lastIndex=c.lastIndex,x}if(c instanceof Map){const x=new Map;m.set(c,x);for(const[E,S]of c)x.set(E,o(S,E,p,m,g));return x}if(c instanceof Set){const x=new Set;m.set(c,x);for(const E of c)x.add(o(E,void 0,p,m,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const x=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,x);for(let E=0;E<c.length;E++)x[E]=o(c[E],E,p,m,g);return x}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const x=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,x),l(x,c,p,m,g),x}if(typeof File<"u"&&c instanceof File){const x=new File([c],c.name,{type:c.type});return m.set(c,x),l(x,c,p,m,g),x}if(typeof Blob<"u"&&c instanceof Blob){const x=new Blob([c],{type:c.type});return m.set(c,x),l(x,c,p,m,g),x}if(c instanceof Error){const x=new c.constructor;return m.set(c,x),x.message=c.message,x.name=c.name,x.stack=c.stack,x.cause=c.cause,l(x,c,p,m,g),x}if(c instanceof Boolean){const x=new Boolean(c.valueOf());return m.set(c,x),l(x,c,p,m,g),x}if(c instanceof Number){const x=new Number(c.valueOf());return m.set(c,x),l(x,c,p,m,g),x}if(c instanceof String){const x=new String(c.valueOf());return m.set(c,x),l(x,c,p,m,g),x}if(typeof c=="object"&&u(c)){const x=Object.create(Object.getPrototypeOf(c));return m.set(c,x),l(x,c,p,m,g),x}return c}function l(c,h,p=c,m,g){const y=[...Object.keys(h),...e.getSymbols(h)];for(let x=0;x<y.length;x++){const E=y[x],S=Object.getOwnPropertyDescriptor(c,E);(S==null||S.writable)&&(c[E]=o(h[E],E,p,m,g))}}function u(c){switch(t.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=s,r.cloneDeepWithImpl=o,r.copyProperties=l})(bE)),bE}var GM;function RJ(){return GM||(GM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=G5();function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(xE)),xE}var WM;function kJ(){return WM||(WM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=j5(),t=RJ();function n(i){return i=t.cloneDeep(i),a=>e.isMatch(a,i)}r.matches=n})(dE)),dE}var TE={},AE={},DE={},KM;function PJ(){return KM||(KM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=G5(),t=H5();function n(i,a){return e.cloneDeepWith(i,(s,o,l,u)=>{const c=a?.(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new i.constructor(i?.valueOf());return e.copyProperties(h,i),h}case t.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}r.cloneDeepWith=n})(DE)),DE}var YM;function LJ(){return YM||(YM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=PJ();function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(AE)),AE}var OE={},CE={},zM;function W5(){return zM||(zM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(CE)),CE}var IE={},VM;function MJ(){return VM||(VM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=$5();function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})(IE)),IE}var qM;function NJ(){return qM||(qM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=I5(),t=W5(),n=MJ(),i=yD();function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&s?.[o]==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const h=l[c];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}r.has=a})(OE)),OE}var XM;function FJ(){return XM||(XM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=j5(),t=vD(),n=LJ(),i=xD(),a=NJ();function s(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:e.isMatch(c,l)}}r.matchesProperty=s})(TE)),TE}var QM;function BJ(){return QM||(QM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=N5(),t=DJ(),n=kJ(),i=FJ();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return t.property(s)}}r.iteratee=a})(fE)),fE}var ZM;function UJ(){return ZM||(ZM=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=wJ(),t=N5(),n=AJ(),i=BJ();function a(s,o=t.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}r.uniqBy=a})(iE)),iE}var RE,JM;function jJ(){return JM||(JM=1,RE=UJ().uniqBy),RE}var $J=jJ();const eN=ao($J);function K5(r,e,t){return e===!0?eN(r,t):typeof e=="function"?eN(r,e):r}var kE={exports:{}},PE={},LE={exports:{}},ME={};var tN;function HJ(){if(tN)return ME;tN=1;var r=Ah();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,i=r.useEffect,a=r.useLayoutEffect,s=r.useDebugValue;function o(h,p){var m=p(),g=n({inst:{value:m,getSnapshot:p}}),y=g[0].inst,x=g[1];return a(function(){y.value=m,y.getSnapshot=p,l(y)&&x({inst:y})},[h,m,p]),i(function(){return l(y)&&x({inst:y}),h(function(){l(y)&&x({inst:y})})},[h]),s(m),m}function l(h){var p=h.getSnapshot;h=h.value;try{var m=p();return!t(h,m)}catch{return!0}}function u(h,p){return p()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return ME.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:c,ME}var rN;function GJ(){return rN||(rN=1,LE.exports=HJ()),LE.exports}var nN;function WJ(){if(nN)return PE;nN=1;var r=Ah(),e=GJ();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=r.useRef,s=r.useEffect,o=r.useMemo,l=r.useDebugValue;return PE.useSyncExternalStoreWithSelector=function(u,c,h,p,m){var g=a(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=o(function(){function E(O){if(!S){if(S=!0,w=O,O=p(O),m!==void 0&&y.hasValue){var A=y.value;if(m(A,O))return T=A}return T=O}if(A=T,n(w,O))return A;var I=p(O);return m!==void 0&&m(A,I)?(w=O,A):(w=O,T=I)}var S=!1,w,T,_=h===void 0?null:h;return[function(){return E(c())},_===null?void 0:function(){return E(_())}]},[c,h,p,m]);var x=i(u,g[0],g[1]);return s(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},PE}var iN;function KJ(){return iN||(iN=1,kE.exports=WJ()),kE.exports}var YJ=KJ(),wD=L.createContext(null),zJ=r=>r,xn=()=>{var r=L.useContext(wD);return r?r.store.dispatch:zJ},bv=()=>{},VJ=()=>bv,qJ=(r,e)=>r===e;function Ct(r){var e=L.useContext(wD);return YJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:VJ,e?e.store.getState:bv,e?e.store.getState:bv,e?r:bv,qJ)}function XJ(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function QJ(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function ZJ(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var aN=r=>Array.isArray(r)?r:[r];function JJ(r){const e=Array.isArray(r[0])?r[0]:r;return ZJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function eee(r,e){const t=[],{length:n}=r;for(let i=0;i<n;i++)t.push(r[i].apply(null,e));return t}var tee=class{constructor(r){this.value=r}deref(){return this.value}},ree=typeof WeakRef<"u"?WeakRef:tee,nee=0,sN=1;function eg(){return{s:nee,v:void 0,o:null,p:null}}function Y5(r,e={}){let t=eg();const{resultEqualityCheck:n}=e;let i,a=0;function s(){let o=t;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(m);y===void 0?(o=eg(),g.set(m,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(m);y===void 0?(o=eg(),g.set(m,o)):o=y}}const u=o;let c;if(o.s===sN)c=o.v;else if(c=r.apply(null,arguments),a++,n){const h=i?.deref?.()??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new ree(c):c}return u.s=sN,u.v=c,c}return s.clearCache=()=>{t=eg(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function iee(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),XJ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...t,...l},{memoize:h,memoizeOptions:p=[],argsMemoize:m=Y5,argsMemoizeOptions:g=[]}=c,y=aN(p),x=aN(g),E=JJ(i),S=h(function(){return a++,u.apply(null,arguments)},...y),w=m(function(){s++;const _=eee(E,arguments);return o=S.apply(null,_),o},...x);return Object.assign(w,{resultFunc:u,memoizedResultFunc:S,dependencies:E,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var ze=iee(Y5),aee=Object.assign((r,e=ze)=>{QJ(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(a=>r[a]);return e(n,(...a)=>a.reduce((s,o,l)=>(s[t[l]]=o,s),{}))},{withTypes:()=>aee}),NE={},FE={},BE={},oN;function see(){return oN||(oN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};r.compareValues=t})(BE)),BE}var UE={},jE={},lN;function z5(){return lN||(lN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(jE)),jE}var uN;function oee(){return uN||(uN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=z5(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!t.test(a))||s!=null&&Object.hasOwn(s,a)}r.isKey=i})(UE)),UE}var cN;function lee(){return cN||(cN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=see(),t=oee(),n=yD();function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let y=m;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,h=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||t.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:h.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<h.length;y++){const x=e.compareValues(m.criteria[y],g.criteria[y],o[y]);if(x!==0)return x}return 0}).map(m=>m.original)}r.orderBy=i})(FE)),FE}var $E={},fN;function uee(){return fN||(fN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(t,0),i}r.flatten=e})($E)),$E}var HE={},hN;function V5(){return hN||(hN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=W5(),t=ED(),n=F5(),i=U5();function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}r.isIterateeCall=a})(HE)),HE}var dN;function cee(){return dN||(dN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=lee(),t=uee(),n=V5();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,t.flatten(s),["asc"])}r.sortBy=i})(NE)),NE}var GE,pN;function fee(){return pN||(pN=1,GE=cee().sortBy),GE}var hee=fee();const Rx=ao(hee);var q5=r=>r.legend.settings,dee=r=>r.legend.size,pee=r=>r.legend.payload,mee=ze([pee,q5],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?Rx(n,t):n});function gee(){return Ct(mee)}var tg=1;function X5(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=L.useState({height:0,left:0,top:0,width:0}),n=L.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>tg||Math.abs(s.left-e.left)>tg||Math.abs(s.top-e.top)>tg||Math.abs(s.width-e.width)>tg)&&t({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Zn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var vee=typeof Symbol=="function"&&Symbol.observable||"@@observable",mN=vee,WE=()=>Math.random().toString(36).substring(7).split("").join("."),yee={INIT:`@@redux/INIT${WE()}`,REPLACE:`@@redux/REPLACE${WE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${WE()}`},zv=yee;function _D(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function Q5(r,e,t){if(typeof r!="function")throw new Error(Zn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Zn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Zn(1));return t(Q5)(r,e)}let n=r,i=e,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((x,E)=>{s.set(E,x)}))}function c(){if(l)throw new Error(Zn(3));return i}function h(x){if(typeof x!="function")throw new Error(Zn(4));if(l)throw new Error(Zn(5));let E=!0;u();const S=o++;return s.set(S,x),function(){if(E){if(l)throw new Error(Zn(6));E=!1,u(),s.delete(S),a=null}}}function p(x){if(!_D(x))throw new Error(Zn(7));if(typeof x.type>"u")throw new Error(Zn(8));if(typeof x.type!="string")throw new Error(Zn(17));if(l)throw new Error(Zn(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=s).forEach(S=>{S()}),x}function m(x){if(typeof x!="function")throw new Error(Zn(10));n=x,p({type:zv.REPLACE})}function g(){const x=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Zn(11));function S(){const T=E;T.next&&T.next(c())}return S(),{unsubscribe:x(S)}},[mN](){return this}}}return p({type:zv.INIT}),{dispatch:p,subscribe:h,getState:c,replaceReducer:m,[mN]:g}}function xee(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:zv.INIT})>"u")throw new Error(Zn(12));if(typeof t(void 0,{type:zv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zn(13))})}function Z5(r){const e=Object.keys(r),t={};for(let a=0;a<e.length;a++){const s=e[a];typeof r[s]=="function"&&(t[s]=r[s])}const n=Object.keys(t);let i;try{xee(t)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const h=n[c],p=t[h],m=s[h],g=p(m,o);if(typeof g>"u")throw o&&o.type,new Error(Zn(14));u[h]=g,l=l||g!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function Vv(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function bee(...r){return e=>(t,n)=>{const i=e(t,n);let a=()=>{throw new Error(Zn(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=r.map(l=>l(s));return a=Vv(...o)(i.dispatch),{...i,dispatch:a}}}function J5(r){return _D(r)&&"type"in r&&typeof r.type=="string"}var ej=Symbol.for("immer-nothing"),gN=Symbol.for("immer-draftable"),Ri=Symbol.for("immer-state");function fs(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Ea=Object,uh=Ea.getPrototypeOf,qv="constructor",kx="prototype",EA="configurable",Xv="enumerable",Sv="writable",w0="value",el=r=>!!r&&!!r[Ri];function Es(r){return r?tj(r)||Px(r)||!!r[gN]||!!r[qv]?.[gN]||Lx(r)||Mx(r):!1}var See=Ea[kx][qv].toString(),vN=new WeakMap;function tj(r){if(!r||!TD(r))return!1;const e=uh(r);if(e===null||e===Ea[kx])return!0;const t=Ea.hasOwnProperty.call(e,qv)&&e[qv];if(t===Object)return!0;if(!$f(t))return!1;let n=vN.get(t);return n===void 0&&(n=Function.toString.call(t),vN.set(t,n)),n===See}function up(r,e,t=!0){cp(r)===0?(t?Reflect.ownKeys(r):Ea.keys(r)).forEach(i=>{e(i,r[i],r)}):r.forEach((n,i)=>e(i,n,r))}function cp(r){const e=r[Ri];return e?e.type_:Px(r)?1:Lx(r)?2:Mx(r)?3:0}var yN=(r,e,t=cp(r))=>t===2?r.has(e):Ea[kx].hasOwnProperty.call(r,e),wA=(r,e,t=cp(r))=>t===2?r.get(e):r[e],Qv=(r,e,t,n=cp(r))=>{n===2?r.set(e,t):n===3?r.add(t):r[e]=t};function Eee(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}var Px=Array.isArray,Lx=r=>r instanceof Map,Mx=r=>r instanceof Set,TD=r=>typeof r=="object",$f=r=>typeof r=="function",KE=r=>typeof r=="boolean",Mo=r=>r.copy_||r.base_,AD=r=>r.modified_?r.copy_:r.base_;function _A(r,e){if(Lx(r))return new Map(r);if(Mx(r))return new Set(r);if(Px(r))return Array[kx].slice.call(r);const t=tj(r);if(e===!0||e==="class_only"&&!t){const n=Ea.getOwnPropertyDescriptors(r);delete n[Ri];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Sv]===!1&&(o[Sv]=!0,o[EA]=!0),(o.get||o.set)&&(n[s]={[EA]:!0,[Sv]:!0,[Xv]:o[Xv],[w0]:r[s]})}return Ea.create(uh(r),n)}else{const n=uh(r);if(n!==null&&t)return{...r};const i=Ea.create(n);return Ea.assign(i,r)}}function DD(r,e=!1){return Nx(r)||el(r)||!Es(r)||(cp(r)>1&&Ea.defineProperties(r,{set:rg,add:rg,clear:rg,delete:rg}),Ea.freeze(r),e&&up(r,(t,n)=>{DD(n,!0)},!1)),r}function wee(){fs(2)}var rg={[w0]:wee};function Nx(r){return r===null||!TD(r)?!0:Ea.isFrozen(r)}var Zv="MapSet",TA="Patches",rj={};function ch(r){const e=rj[r];return e||fs(0,r),e}var _ee=r=>!!rj[r],_0,nj=()=>_0,Tee=(r,e)=>({drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_ee(Zv)?ch(Zv):void 0});function xN(r,e){e&&(r.patchPlugin_=ch(TA),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function AA(r){DA(r),r.drafts_.forEach(Aee),r.drafts_=null}function DA(r){r===_0&&(_0=r.parent_)}var bN=r=>_0=Tee(_0,r);function Aee(r){const e=r[Ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function SN(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(r!==void 0&&r!==t){t[Ri].modified_&&(AA(e),fs(4)),Es(r)&&(r=EN(e,r));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[Ri].base_,r,e)}else r=EN(e,t);return Dee(e,r,!0),AA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==ej?r:void 0}function EN(r,e){if(Nx(e))return e;const t=e[Ri];if(!t)return OD(e,r.handledSet_,r);if(!Fx(t,r))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:n}=t;if(n)for(;n.length>0;)n.pop()(r);sj(t,r)}return t.copy_}function Dee(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&DD(e,t)}function ij(r){r.finalized_=!0,r.scope_.unfinalizedDrafts_--}var Fx=(r,e)=>r.scope_===e,Oee=[];function aj(r,e,t,n){const i=Mo(r),a=r.type_;if(n!==void 0&&wA(i,n,a)===e){Qv(i,n,t,a);return}if(!r.draftLocations_){const o=r.draftLocations_=new Map;up(i,(l,u)=>{if(el(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=r.draftLocations_.get(e)??Oee;for(const o of s)Qv(i,o,t,a)}function Cee(r,e,t){r.callbacks_.push(function(i){const a=e;if(!a||!Fx(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=AD(a);aj(r,a.draft_??a,s,t),sj(a,i)})}function sj(r,e){if(r.modified_&&!r.finalized_&&(r.type_===3||(r.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(r);i&&n.generatePatches_(r,i,e)}ij(r)}}function Iee(r,e,t){const{scope_:n}=r;if(el(t)){const i=t[Ri];Fx(i,n)&&i.callbacks_.push(function(){Ev(r);const s=AD(i);aj(r,t,s,e)})}else Es(t)&&r.callbacks_.push(function(){const a=Mo(r);wA(a,e,r.type_)===t&&n.drafts_.length>1&&(r.assigned_.get(e)??!1)===!0&&r.copy_&&OD(wA(r.copy_,e,r.type_),n.handledSet_,n)})}function OD(r,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||el(r)||e.has(r)||!Es(r)||Nx(r)||(e.add(r),up(r,(n,i)=>{if(el(i)){const a=i[Ri];if(Fx(a,t)){const s=AD(a);Qv(r,n,s,r.type_),ij(a)}}else Es(i)&&OD(i,e,t)})),r}function Ree(r,e){const t=Px(r),n={type_:t?1:0,scope_:e?e.scope_:nj(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=CD;t&&(i=[n],a=T0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var CD={get(r,e){if(e===Ri)return r;const t=Mo(r);if(!yN(t,e,r.type_))return kee(r,t,e);const n=t[e];if(r.finalized_||!Es(n))return n;if(n===YE(r.base_,e)){Ev(r);const i=r.type_===1?+e:e,a=CA(r.scope_,n,r,i);return r.copy_[i]=a}return n},has(r,e){return e in Mo(r)},ownKeys(r){return Reflect.ownKeys(Mo(r))},set(r,e,t){const n=oj(Mo(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=YE(Mo(r),e),a=i?.[Ri];if(a&&a.base_===t)return r.copy_[e]=t,r.assigned_.set(e,!1),!0;if(Eee(t,i)&&(t!==void 0||yN(r.base_,e,r.type_)))return!0;Ev(r),OA(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_.set(e,!0),Iee(r,e,t)),!0},deleteProperty(r,e){return Ev(r),YE(r.base_,e)!==void 0||e in r.base_?(r.assigned_.set(e,!1),OA(r)):r.assigned_.delete(e),r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Mo(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{[Sv]:!0,[EA]:r.type_!==1||e!=="length",[Xv]:n[Xv],[w0]:t[e]}},defineProperty(){fs(11)},getPrototypeOf(r){return uh(r.base_)},setPrototypeOf(){fs(12)}},T0={};up(CD,(r,e)=>{T0[r]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});T0.deleteProperty=function(r,e){return T0.set.call(this,r,e,void 0)};T0.set=function(r,e,t){return CD.set.call(this,r[0],e,t,r[0])};function YE(r,e){const t=r[Ri];return(t?Mo(t):r)[e]}function kee(r,e,t){const n=oj(e,t);return n?w0 in n?n[w0]:n.get?.call(r.draft_):void 0}function oj(r,e){if(!(e in r))return;let t=uh(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=uh(t)}}function OA(r){r.modified_||(r.modified_=!0,r.parent_&&OA(r.parent_))}function Ev(r){r.copy_||(r.assigned_=new Map,r.copy_=_A(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var Pee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,i)=>{if($f(t)&&!$f(n)){const s=n;n=t;const o=this;return function(u=s,...c){return o.produce(u,h=>n.call(this,h,...c))}}$f(n)||fs(6),i!==void 0&&!$f(i)&&fs(7);let a;if(Es(t)){const s=bN(this),o=CA(s,t,void 0);let l=!0;try{a=n(o),l=!1}finally{l?AA(s):DA(s)}return xN(s,i),SN(a,s)}else if(!t||!TD(t)){if(a=n(t),a===void 0&&(a=t),a===ej&&(a=void 0),this.autoFreeze_&&DD(a,!0),i){const s=[],o=[];ch(TA).generateReplacementPatches_(t,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else fs(1,t)},this.produceWithPatches=(t,n)=>{if($f(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let i,a;return[this.produce(t,n,(o,l)=>{i=o,a=l}),i,a]},KE(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),KE(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),KE(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Es(e)||fs(8),el(e)&&(e=ys(e));const t=bN(this),n=CA(t,e,void 0);return n[Ri].isManual_=!0,DA(t),n}finishDraft(e,t){const n=e&&e[Ri];(!n||!n.isManual_)&&fs(9);const{scope_:i}=n;return xN(i,t),SN(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const i=ch(TA).applyPatches_;return el(e)?i(e,t):this.produce(e,a=>i(a,t))}};function CA(r,e,t,n){const[i,a]=Lx(e)?ch(Zv).proxyMap_(e,t):Mx(e)?ch(Zv).proxySet_(e,t):Ree(e,t);return(t?.scope_??nj()).drafts_.push(i),a.callbacks_=t?.callbacks_??[],a.key_=n,t&&n!==void 0?Cee(t,a,n):a.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function ys(r){return el(r)||fs(10,r),lj(r)}function lj(r){if(!Es(r)||Nx(r))return r;const e=r[Ri];let t,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=_A(r,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else t=_A(r,!0);return up(t,(i,a)=>{Qv(t,i,lj(a))},n),e&&(e.finalized_=!1),t}var Lee=new Pee,uj=Lee.produce;function cj(r){return({dispatch:t,getState:n})=>i=>a=>typeof a=="function"?a(t,n,r):i(a)}var Mee=cj(),Nee=cj,Fee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vv:Vv.apply(null,arguments)};function Va(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(wa(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>J5(n)&&n.type===r,t}var fj=class t0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,t0.prototype)}static get[Symbol.species](){return t0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new t0(...e[0].concat(this)):new t0(...e.concat(this))}};function wN(r){return Es(r)?uj(r,()=>{}):r}function ng(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function Bee(r){return typeof r=="boolean"}var Uee=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new fj;return t&&(Bee(t)?s.push(Mee):s.push(Nee(t.extraArgument))),s},hj="RTK_autoBatch",Hr=()=>r=>({payload:r,meta:{[hj]:!0}}),_N=r=>e=>{setTimeout(e,r)},dj=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,a=!1,s=!1;const o=new Set,l=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_N(10):r.type==="callback"?r.queueNotification:_N(r.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const h=()=>i&&c(),p=n.subscribe(h);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){try{return i=!c?.meta?.[hj],a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},jee=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new fj(r);return n&&i.push(dj(typeof n=="object"?n:void 0)),i};function $ee(r){const e=Uee(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=r||{};let o;if(typeof t=="function")o=t;else if(_D(t))o=Z5(t);else throw new Error(wa(1));let l;typeof n=="function"?l=n(e):l=e();let u=Vv;i&&(u=Fee({trace:!1,...typeof i=="object"&&i}));const c=bee(...l),h=jee(c);let p=typeof s=="function"?s(h):h();const m=u(...p);return Q5(o,a,m)}function pj(r){const e={},t=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(wa(28));if(o in e)throw new Error(wa(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&t.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return t.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return r(i),[e,t,n]}function Hee(r){return typeof r=="function"}function Gee(r,e){let[t,n,i]=pj(e),a;if(Hee(r))a=()=>wN(r());else{const o=wN(r);a=()=>o}function s(o=a(),l){let u=[t[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(el(c)){const m=h(c,l);return m===void 0?c:m}else{if(Es(c))return uj(c,p=>h(p,l));{const p=h(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var Wee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Kee=(r=21)=>{let e="",t=r;for(;t--;)e+=Wee[Math.random()*64|0];return e},Yee=Symbol.for("rtk-slice-createasyncthunk");function zee(r,e){return`${r}/${e}`}function Vee({creators:r}={}){const e=r?.asyncThunk?.[Yee];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(wa(11));const s=(typeof n.reducers=="function"?n.reducers(Xee()):n.reducers)||{},o=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,T){const _=typeof w=="string"?w:w.type;if(!_)throw new Error(wa(12));if(_ in l.sliceCaseReducersByType)throw new Error(wa(13));return l.sliceCaseReducersByType[_]=T,u},addMatcher(w,T){return l.sliceMatchers.push({matcher:w,reducer:T}),u},exposeAction(w,T){return l.actionCreators[w]=T,u},exposeCaseReducer(w,T){return l.sliceCaseReducersByName[w]=T,u}};o.forEach(w=>{const T=s[w],_={reducerName:w,type:zee(i,w),createNotation:typeof n.reducers=="function"};Zee(T)?ete(_,T,u,e):Qee(_,T,u)});function c(){const[w={},T=[],_=void 0]=typeof n.extraReducers=="function"?pj(n.extraReducers):[n.extraReducers],O={...w,...l.sliceCaseReducersByType};return Gee(n.initialState,A=>{for(let I in O)A.addCase(I,O[I]);for(let I of l.sliceMatchers)A.addMatcher(I.matcher,I.reducer);for(let I of T)A.addMatcher(I.matcher,I.reducer);_&&A.addDefaultCase(_)})}const h=w=>w,p=new Map,m=new WeakMap;let g;function y(w,T){return g||(g=c()),g(w,T)}function x(){return g||(g=c()),g.getInitialState()}function E(w,T=!1){function _(A){let I=A[w];return typeof I>"u"&&T&&(I=ng(m,_,x)),I}function O(A=h){const I=ng(p,T,()=>new WeakMap);return ng(I,A,()=>{const k={};for(const[N,B]of Object.entries(n.selectors??{}))k[N]=qee(B,A,()=>ng(m,A,x),T);return k})}return{reducerPath:w,getSelectors:O,get selectors(){return O(_)},selectSlice:_}}const S={name:i,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...E(a),injectInto(w,{reducerPath:T,..._}={}){const O=T??a;return w.inject({reducerPath:O,reducer:y},_),{...S,...E(O,!0)}}};return S}}function qee(r,e,t,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=t()),r(o,...s)}return i.unwrapped=r,i}var Zi=Vee();function Xee(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function Qee({type:r,reducerName:e,createNotation:t},n,i){let a,s;if("reducer"in n){if(t&&!Jee(n))throw new Error(wa(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(r,a).exposeCaseReducer(e,a).exposeAction(e,s?Va(r,s):Va(r))}function Zee(r){return r._reducerDefinitionType==="asyncThunk"}function Jee(r){return r._reducerDefinitionType==="reducerWithPrepare"}function ete({type:r,reducerName:e},t,n,i){if(!i)throw new Error(wa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=t,h=i(r,a,c);n.exposeAction(e,h),s&&n.addCase(h.fulfilled,s),o&&n.addCase(h.pending,o),l&&n.addCase(h.rejected,l),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:s||ig,pending:o||ig,rejected:l||ig,settled:u||ig})}function ig(){}var tte="task",mj="listener",gj="completed",ID="cancelled",rte=`task-${ID}`,nte=`task-${gj}`,IA=`${mj}-${ID}`,ite=`${mj}-${gj}`,Bx=class{constructor(r){this.code=r,this.message=`${tte} ${ID} (reason: ${r})`}name="TaskAbortError";message},RD=(r,e)=>{if(typeof r!="function")throw new TypeError(wa(32))},Jv=()=>{},vj=(r,e=Jv)=>(r.catch(e),r),yj=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),pc=(r,e)=>{const t=r.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},mc=r=>{if(r.aborted){const{reason:e}=r;throw new Bx(e)}};function xj(r,e){let t=Jv;return new Promise((n,i)=>{const a=()=>i(new Bx(r.reason));if(r.aborted){a();return}t=yj(r,a),e.finally(()=>t()).then(n,i)}).finally(()=>{t=Jv})}var ate=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof Bx?"cancelled":"rejected",error:t}}finally{e?.()}},ey=r=>e=>vj(xj(r,e).then(t=>(mc(r),t))),bj=r=>{const e=ey(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:Xf}=Object,TN={},Ux="listenerMiddleware",ste=(r,e)=>{const t=n=>yj(r,()=>pc(n,r.reason));return(n,i)=>{RD(n);const a=new AbortController;t(a);const s=ate(async()=>{mc(r),mc(a.signal);const o=await n({pause:ey(a.signal),delay:bj(a.signal),signal:a.signal});return mc(a.signal),o},()=>pc(a,nte));return i?.autoJoin&&e.push(s.catch(Jv)),{result:ey(r)(s),cancel(){pc(a,rte)}}}},ote=(r,e)=>{const t=async(n,i)=>{mc(e);let a=()=>{};const o=[new Promise((l,u)=>{let c=r({predicate:n,effect:(h,p)=>{p.unsubscribe(),l([h,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await xj(e,Promise.race(o));return mc(e),l}finally{a()}};return(n,i)=>vj(t(n,i))},Sj=r=>{let{type:e,actionCreator:t,matcher:n,predicate:i,effect:a}=r;if(e)i=Va(e).match;else if(t)e=t.type,i=t.match;else if(n)i=n;else if(!i)throw new Error(wa(21));return RD(a),{predicate:i,type:e,effect:a}},Ej=Xf(r=>{const{type:e,predicate:t,effect:n}=Sj(r);return{id:Kee(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(wa(22))}}},{withTypes:()=>Ej}),AN=(r,e)=>{const{type:t,effect:n,predicate:i}=Sj(e);return Array.from(r.values()).find(a=>(typeof t=="string"?a.type===t:a.predicate===i)&&a.effect===n)},RA=r=>{r.pending.forEach(e=>{pc(e,IA)})},lte=(r,e)=>()=>{for(const t of e.keys())RA(t);r.clear()},DN=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},wj=Xf(Va(`${Ux}/add`),{withTypes:()=>wj}),ute=Va(`${Ux}/removeAll`),_j=Xf(Va(`${Ux}/remove`),{withTypes:()=>_j}),cte=(...r)=>{console.error(`${Ux}/error`,...r)},fp=(r={})=>{const e=new Map,t=new Map,n=m=>{const g=t.get(m)??0;t.set(m,g+1)},i=m=>{const g=t.get(m)??1;g===1?t.delete(m):t.set(m,g-1)},{extra:a,onError:s=cte}=r;RD(s);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&RA(m)}),l=m=>{const g=AN(e,m)??Ej(m);return o(g)};Xf(l,{withTypes:()=>l});const u=m=>{const g=AN(e,m);return g&&(g.unsubscribe(),m.cancelActive&&RA(g)),!!g};Xf(u,{withTypes:()=>u});const c=async(m,g,y,x)=>{const E=new AbortController,S=ote(l,E.signal),w=[];try{m.pending.add(E),n(m),await Promise.resolve(m.effect(g,Xf({},y,{getOriginalState:x,condition:(T,_)=>S(T,_).then(Boolean),take:S,delay:bj(E.signal),pause:ey(E.signal),extra:a,signal:E.signal,fork:ste(E.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,_,O)=>{T!==E&&(pc(T,IA),O.delete(T))})},cancel:()=>{pc(E,IA),m.pending.delete(E)},throwIfCancelled:()=>{mc(E.signal)}})))}catch(T){T instanceof Bx||DN(s,T,{raisedBy:"effect"})}finally{await Promise.all(w),pc(E,ite),i(m),m.pending.delete(E)}},h=lte(e,t);return{middleware:m=>g=>y=>{if(!J5(y))return g(y);if(wj.match(y))return l(y.payload);if(ute.match(y)){h();return}if(_j.match(y))return u(y.payload);let x=m.getState();const E=()=>{if(x===TN)throw new Error(wa(23));return x};let S;try{if(S=g(y),e.size>0){const w=m.getState(),T=Array.from(e.values());for(const _ of T){let O=!1;try{O=_.predicate(y,w,x)}catch(A){O=!1,DN(s,A,{raisedBy:"predicate"})}O&&c(_,y,m,E)}}}finally{x=TN}return S},startListening:l,stopListening:u,clearListeners:h}};function wa(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var fte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Tj=Zi({name:"chartLayout",initialState:fte,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,i,a;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,r.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:hte,setLayout:dte,setChartSize:pte,setScale:mte}=Tj.actions,gte=Tj.reducer;function Aj(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function ON(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Kf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(t),!0).forEach(function(n){vte(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ON(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vte(r,e,t){return(e=yte(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yte(r){var e=xte(r,"string");return typeof e=="symbol"?e:e+""}function xte(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gi(r,e,t){return jn(r)||jn(e)?t:Zs(e)?Ix(r,e,t):typeof e=="function"?e(r):t}var bte=(r,e,t)=>{if(e&&t){var{width:n,height:i}=t,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Rt(r[a]))return Kf(Kf({},r),{},{[a]:r[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Rt(r[s]))return Kf(Kf({},r),{},{[s]:r[s]+(i||0)})}return r},Au=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",Dj=(r,e,t,n)=>{if(n)return r.map(o=>o.coordinate);var i,a,s=r.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===t&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(t),s},Oj=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:h,niceTicks:p,axisType:m}=r;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=m==="angleAxis"&&a&&a.length>=2?Ya(a[0]-a[1])*2*y:y,h||p){var x=(h||p||[]).map((E,S)=>{var w=n?n.indexOf(E):E;return{coordinate:s(w)+y,value:E,offset:y,index:S}});return x.filter(E=>!Qs(E.coordinate))}return l&&u?u.map((E,S)=>({coordinate:s(E)+y,value:E,index:S,offset:y})):s.ticks&&c!=null?s.ticks(c).map((E,S)=>({coordinate:s(E)+y,value:E,offset:y,index:S})):s.domain().map((E,S)=>({coordinate:s(E)+y,value:n?n[E]:E,index:S,offset:y}))},CN=1e-4,Ste=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),i=Math.min(n[0],n[1])-CN,a=Math.max(n[0],n[1])+CN,s=r(e[0]),o=r(e[t-1]);(s<i||s>a||o<i||o>a)&&r.domain([e[0],e[t-1]])}},Ete=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var i=0,a=0,s=0;s<e;++s){var o=Qs(r[s][t][1])?r[s][t][0]:r[s][t][1];o>=0?(r[s][t][0]=i,r[s][t][1]=i+o,i=r[s][t][1]):(r[s][t][0]=a,r[s][t][1]=a+o,a=r[s][t][1])}},wte=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var i=0,a=0;a<e;++a){var s=Qs(r[a][t][1])?r[a][t][0]:r[a][t][1];s>=0?(r[a][t][0]=i,r[a][t][1]=i+s,i=r[a][t][1]):(r[a][t][0]=0,r[a][t][1]=0)}},_te={sign:Ete,expand:KZ,none:lh,silhouette:YZ,wiggle:zZ,positive:wte},Tte=(r,e,t)=>{var n=_te[t],i=WZ().keys(e).value((a,s)=>Number(gi(a,s,0))).order(bA).offset(n);return i(r)};function IN(r){var{axis:e,ticks:t,bandSize:n,entry:i,index:a,dataKey:s}=r;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!jn(i[e.dataKey])){var o=k5(t,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return t[a]?t[a].coordinate+n/2:null}var l=gi(i,jn(s)?e.dataKey:s);return jn(l)?null:e.scale(l)}var Ate=r=>{var e=r.flat(2).filter(Rt);return[Math.min(...e),Math.max(...e)]},Dte=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],Ote=(r,e,t)=>{if(r!=null)return Dte(Object.keys(r).reduce((n,i)=>{var a=r[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var c=Aj(u,e,t),h=Ate(c);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},RN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ty=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var i=Rx(e,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return t?void 0:0};function PN(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:i,name:a}=r;return Kf(Kf({},e),{},{dataKey:t,payload:n,value:i,name:a})}function Cj(r,e){if(r)return String(r);if(typeof e=="string")return e}var Cte=(r,e)=>{if(e==="horizontal")return r.chartX;if(e==="vertical")return r.chartY},Ite=(r,e)=>e==="centric"?r.angle:r.radius,hl=r=>r.layout.width,dl=r=>r.layout.height,Rte=r=>r.layout.scale,Ij=r=>r.layout.margin,jx=ze(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),$x=ze(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),kte="data-recharts-item-index",Pte="data-recharts-item-data-key",hp=60;function LN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ag(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(t),!0).forEach(function(n){Lte(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Lte(r,e,t){return(e=Mte(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mte(r){var e=Nte(r,"string");return typeof e=="symbol"?e:e+""}function Nte(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Fte=r=>r.brush.height;function Bte(r){var e=$x(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hp;return t+i}return t},0)}function Ute(r){var e=$x(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hp;return t+i}return t},0)}function jte(r){var e=jx(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function $te(r){var e=jx(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var li=ze([hl,dl,Ij,Fte,Bte,Ute,jte,$te,q5,dee],(r,e,t,n,i,a,s,o,l,u)=>{var c={left:(t.left||0)+i,right:(t.right||0)+a},h={top:(t.top||0)+s,bottom:(t.bottom||0)+o},p=ag(ag({},h),c),m=p.bottom;p.bottom+=n,p=bte(p,l,u);var g=r-p.left-p.right,y=e-p.top-p.bottom;return ag(ag({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),Hte=ze(li,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),Rj=ze(hl,dl,(r,e)=>({x:0,y:0,width:r,height:e})),Gte=L.createContext(null),Ji=()=>L.useContext(Gte)!=null,Hx=r=>r.brush,Gx=ze([Hx,li,Ij],(r,e,t)=>({height:r.height,x:Rt(r.x)?r.x:e.left,y:Rt(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:Rt(r.width)?r.width:e.width})),zE={},VE={},qE={},MN;function Wte(){return MN||(MN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(t.apply(s,o),s=void 0,o=null)},h=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),s=void 0,o=null},x=()=>{c()},E=function(...S){if(i?.aborted)return;s=this,o=S;const w=p==null;m(),l&&w&&c()};return E.schedule=m,E.cancel=y,E.flush=x,i?.addEventListener("abort",y,{once:!0}),E}r.debounce=e})(qE)),qE}var NN;function Kte(){return NN||(NN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Wte();function t(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,h=null;const p=e.debounce(function(...y){c=n.apply(this,y),h=null},i,{edges:u}),m=function(...y){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(c=n.apply(this,y),h=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},g=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=g,m}r.debounce=t})(VE)),VE}var FN;function Yte(){return FN||(FN=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Kte();function t(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}r.throttle=t})(zE)),zE}var XE,BN;function zte(){return BN||(BN=1,XE=Yte().throttle),XE}var Vte=zte();const qte=ao(Vte);var ry=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(t.replace(/%s/g,()=>i[s++]))}},kj=(r,e,t)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=t,o=Jo(n)?r:Number(n),l=Jo(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Xte={width:0,height:0,overflow:"visible"},Qte={width:0,overflowX:"visible"},Zte={height:0,overflowY:"visible"},Jte={},ere=r=>{var{width:e,height:t}=r,n=Jo(e),i=Jo(t);return n&&i?Xte:n?Qte:i?Zte:Jte};function tre(r){var{width:e,height:t,aspect:n}=r,i=e,a=t;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function $n(r){return Number.isFinite(r)}function Js(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function kA(){return kA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},kA.apply(null,arguments)}function UN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(t),!0).forEach(function(n){rre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rre(r,e,t){return(e=nre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nre(r){var e=ire(r,"string");return typeof e=="symbol"?e:e+""}function ire(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Pj=L.createContext({width:-1,height:-1});function are(r){return Js(r.width)&&Js(r.height)}function Lj(r){var{children:e,width:t,height:n}=r,i=L.useMemo(()=>({width:t,height:n}),[t,n]);return are(i)?L.createElement(Pj.Provider,{value:i},e):null}var kD=()=>L.useContext(Pj),sre=L.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:h,className:p,onResize:m,style:g={}}=r,y=L.useRef(null),x=L.useRef();x.current=m,L.useImperativeHandle(e,()=>y.current);var[E,S]=L.useState({containerWidth:n.width,containerHeight:n.height}),w=L.useCallback((I,k)=>{S(N=>{var B=Math.round(I),R=Math.round(k);return N.containerWidth===B&&N.containerHeight===R?N:{containerWidth:B,containerHeight:R}})},[]);L.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return lp;var I=R=>{var H,{width:X,height:Y}=R[0].contentRect;w(X,Y),(H=x.current)===null||H===void 0||H.call(x,X,Y)};c>0&&(I=qte(I,c,{trailing:!0,leading:!1}));var k=new ResizeObserver(I),{width:N,height:B}=y.current.getBoundingClientRect();return w(N,B),k.observe(y.current),()=>{k.disconnect()}},[w,c]);var{containerWidth:T,containerHeight:_}=E;ry(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:O,calculatedHeight:A}=kj(T,_,{width:i,height:a,aspect:t,maxHeight:l});return ry(O!=null&&O>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,A,i,a,s,o,t),L.createElement("div",{id:h?"".concat(h):void 0,className:Bt("recharts-responsive-container",p),style:jN(jN({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},L.createElement("div",{style:ere({width:i,height:a})},L.createElement(Lj,{width:O,height:A},u)))}),$N=L.forwardRef((r,e)=>{var t=kD();if(Js(t.width)&&Js(t.height))return r.children;var{width:n,height:i}=tre({width:r.width,height:r.height,aspect:r.aspect}),{calculatedWidth:a,calculatedHeight:s}=kj(void 0,void 0,{width:n,height:i,aspect:r.aspect,maxHeight:r.maxHeight});return Rt(a)&&Rt(s)?L.createElement(Lj,{width:a,height:s},r.children):L.createElement(sre,kA({},r,{width:n,height:i,ref:e}))});function Mj(r){if(r)return{x:r.x,y:r.y,upperWidth:"upperWidth"in r?r.upperWidth:r.width,lowerWidth:"lowerWidth"in r?r.lowerWidth:r.width,width:r.width,height:r.height}}var Wx=()=>{var r,e=Ji(),t=Ct(Hte),n=Ct(Gx),i=(r=Ct(Hx))===null||r===void 0?void 0:r.padding;return!e||!n||!i?t:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},ore={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nj=()=>{var r;return(r=Ct(li))!==null&&r!==void 0?r:ore},PD=()=>Ct(hl),LD=()=>Ct(dl),lre=()=>Ct(r=>r.layout.margin),Br=r=>r.layout.layoutType,Kx=()=>Ct(Br),ure=()=>{var r=Kx();return r!==void 0},Yx=r=>{var e=xn(),t=Ji(),{width:n,height:i}=r,a=kD(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),L.useEffect(()=>{!t&&Js(s)&&Js(o)&&e(pte({width:s,height:o}))},[e,t,s,o]),null},Fj=Symbol.for("immer-nothing"),HN=Symbol.for("immer-draftable"),Aa=Symbol.for("immer-state");function hs(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var A0=Object.getPrototypeOf;function fh(r){return!!r&&!!r[Aa]}function Ec(r){return r?Bj(r)||Array.isArray(r)||!!r[HN]||!!r.constructor?.[HN]||dp(r)||Vx(r):!1}var cre=Object.prototype.constructor.toString(),GN=new WeakMap;function Bj(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let n=GN.get(t);return n===void 0&&(n=Function.toString.call(t),GN.set(t,n)),n===cre}function ny(r,e,t=!0){zx(r)===0?(t?Reflect.ownKeys(r):Object.keys(r)).forEach(i=>{e(i,r[i],r)}):r.forEach((n,i)=>e(i,n,r))}function zx(r){const e=r[Aa];return e?e.type_:Array.isArray(r)?1:dp(r)?2:Vx(r)?3:0}function PA(r,e){return zx(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Uj(r,e,t){const n=zx(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function fre(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function dp(r){return r instanceof Map}function Vx(r){return r instanceof Set}function Zu(r){return r.copy_||r.base_}function LA(r,e){if(dp(r))return new Map(r);if(Vx(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=Bj(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Aa];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:r[s]})}return Object.create(A0(r),n)}else{const n=A0(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function MD(r,e=!1){return qx(r)||fh(r)||!Ec(r)||(zx(r)>1&&Object.defineProperties(r,{set:sg,add:sg,clear:sg,delete:sg}),Object.freeze(r),e&&Object.values(r).forEach(t=>MD(t,!0))),r}function hre(){hs(2)}var sg={value:hre};function qx(r){return r===null||typeof r!="object"?!0:Object.isFrozen(r)}var dre={};function wc(r){const e=dre[r];return e||hs(0,r),e}var D0;function jj(){return D0}function pre(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function WN(r,e){e&&(wc("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function MA(r){NA(r),r.drafts_.forEach(mre),r.drafts_=null}function NA(r){r===D0&&(D0=r.parent_)}function KN(r){return D0=pre(D0,r)}function mre(r){const e=r[Aa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YN(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Aa].modified_&&(MA(e),hs(4)),Ec(r)&&(r=iy(e,r),e.parent_||ay(e,r)),e.patches_&&wc("Patches").generateReplacementPatches_(t[Aa].base_,r,e.patches_,e.inversePatches_)):r=iy(e,t,[]),MA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==Fj?r:void 0}function iy(r,e,t){if(qx(e))return e;const n=r.immer_.shouldUseStrictIteration(),i=e[Aa];if(!i)return ny(e,(a,s)=>zN(r,i,e,a,s,t),n),e;if(i.scope_!==r)return e;if(!i.modified_)return ay(r,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),ny(s,(l,u)=>zN(r,i,a,l,u,t,o),n),ay(r,a,!1),t&&r.patches_&&wc("Patches").generatePatches_(i,t,r.patches_,r.inversePatches_)}return i.copy_}function zN(r,e,t,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=qx(i);if(!(o&&!s)){if(fh(i)){const l=a&&e&&e.type_!==3&&!PA(e.assigned_,n)?a.concat(n):void 0,u=iy(r,i,l);if(Uj(t,n,u),fh(u))r.canAutoFreeze_=!1;else return}else s&&t.add(i);if(Ec(i)&&!o){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;iy(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(dp(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&ay(r,i)}}}function ay(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&MD(e,t)}function gre(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:jj(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ND;t&&(i=[n],a=O0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var ND={get(r,e){if(e===Aa)return r;const t=Zu(r);if(!PA(t,e))return vre(r,t,e);const n=t[e];return r.finalized_||!Ec(n)?n:n===QE(r.base_,e)?(ZE(r),r.copy_[e]=BA(n,r)):n},has(r,e){return e in Zu(r)},ownKeys(r){return Reflect.ownKeys(Zu(r))},set(r,e,t){const n=$j(Zu(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=QE(Zu(r),e),a=i?.[Aa];if(a&&a.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(fre(t,i)&&(t!==void 0||PA(r.base_,e)))return!0;ZE(r),FA(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return QE(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,ZE(r),FA(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Zu(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){hs(11)},getPrototypeOf(r){return A0(r.base_)},setPrototypeOf(){hs(12)}},O0={};ny(ND,(r,e)=>{O0[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});O0.deleteProperty=function(r,e){return O0.set.call(this,r,e,void 0)};O0.set=function(r,e,t){return ND.set.call(this,r[0],e,t,r[0])};function QE(r,e){const t=r[Aa];return(t?Zu(t):r)[e]}function vre(r,e,t){const n=$j(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function $j(r,e){if(!(e in r))return;let t=A0(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=A0(t)}}function FA(r){r.modified_||(r.modified_=!0,r.parent_&&FA(r.parent_))}function ZE(r){r.copy_||(r.copy_=LA(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var yre=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const s=this;return function(l=a,...u){return s.produce(l,c=>t.call(this,c,...u))}}typeof t!="function"&&hs(6),n!==void 0&&typeof n!="function"&&hs(7);let i;if(Ec(e)){const a=KN(this),s=BA(e,void 0);let o=!0;try{i=t(s),o=!1}finally{o?MA(a):NA(a)}return WN(a,n),YN(i,a)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===Fj&&(i=void 0),this.autoFreeze_&&MD(i,!0),n){const a=[],s=[];wc("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else hs(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let n,i;return[this.produce(e,t,(s,o)=>{n=s,i=o}),n,i]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy),typeof r?.useStrictIteration=="boolean"&&this.setUseStrictIteration(r.useStrictIteration)}createDraft(r){Ec(r)||hs(8),fh(r)&&(r=xre(r));const e=KN(this),t=BA(r,void 0);return t[Aa].isManual_=!0,NA(e),t}finishDraft(r,e){const t=r&&r[Aa];(!t||!t.isManual_)&&hs(9);const{scope_:n}=t;return WN(n,e),YN(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}setUseStrictIteration(r){this.useStrictIteration_=r}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=wc("Patches").applyPatches_;return fh(r)?n(r,e):this.produce(r,i=>n(i,e))}};function BA(r,e){const t=dp(r)?wc("MapSet").proxyMap_(r,e):Vx(r)?wc("MapSet").proxySet_(r,e):gre(r,e);return(e?e.scope_:jj()).drafts_.push(t),t}function xre(r){return fh(r)||hs(10,r),Hj(r)}function Hj(r){if(!Ec(r)||qx(r))return r;const e=r[Aa];let t,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=LA(r,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else t=LA(r,!0);return ny(t,(i,a)=>{Uj(t,i,Hj(a))},n),e&&(e.finalized_=!1),t}var bre=new yre;bre.produce;var Sre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Gj=Zi({name:"legend",initialState:Sre,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(r,e){r.payload.push(e.payload)},prepare:Hr()},replaceLegendPayload:{reducer(r,e){var{prev:t,next:n}=e.payload,i=ys(r).payload.indexOf(t);i>-1&&(r.payload[i]=n)},prepare:Hr()},removeLegendPayload:{reducer(r,e){var t=ys(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)},prepare:Hr()}}}),{setLegendSize:VN,setLegendSettings:Ere,addLegendPayload:wre,replaceLegendPayload:_re,removeLegendPayload:Tre}=Gj.actions,Are=Gj.reducer,Dre=["contextPayload"];function UA(){return UA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},UA.apply(null,arguments)}function qN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(t),!0).forEach(function(n){Ore(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ore(r,e,t){return(e=Cre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cre(r){var e=Ire(r,"string");return typeof e=="symbol"?e:e+""}function Ire(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Rre(r,e){if(r==null)return{};var t,n,i=kre(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function kre(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Pre(r){return r.value}function Lre(r){var{contextPayload:e}=r,t=Rre(r,Dre),n=K5(e,r.payloadUniqBy,Pre),i=hh(hh({},t),{},{payload:n});return L.isValidElement(r.content)?L.cloneElement(r.content,i):typeof r.content=="function"?L.createElement(r.content,i):L.createElement(EJ,i)}function Mre(r,e,t,n,i,a){var{layout:s,align:o,verticalAlign:l}=e,u,c;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),hh(hh({},u),c)}function Nre(r){var e=xn();return L.useEffect(()=>{e(Ere(r))},[e,r]),null}function Fre(r){var e=xn();return L.useEffect(()=>(e(VN(r)),()=>{e(VN({width:0,height:0}))}),[e,r]),null}function Bre(r,e,t,n){return r==="vertical"&&Rt(e)?{height:e}:r==="horizontal"?{width:t||n}:null}var Ure={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jA(r){var e=xi(r,Ure),t=gee(),n=pZ(),i=lre(),{width:a,height:s,wrapperStyle:o,portal:l}=e,[u,c]=X5([t]),h=PD(),p=LD();if(h==null||p==null)return null;var m=h-(i?.left||0)-(i?.right||0),g=Bre(e.layout,s,a,m),y=l?o:hh(hh({position:"absolute",width:g?.width||a||"auto",height:g?.height||s||"auto"},Mre(o,e,i,h,p,u)),o),x=l??n;if(x==null||t==null)return null;var E=L.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},L.createElement(Nre,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&L.createElement(Fre,{width:u.width,height:u.height}),L.createElement(Lre,UA({},e,g,{margin:i,chartWidth:h,chartHeight:p,contextPayload:t})));return ip.createPortal(E,x)}jA.displayName="Legend";function $A(){return $A=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},$A.apply(null,arguments)}function XN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function JE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(t),!0).forEach(function(n){jre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):XN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jre(r,e,t){return(e=$re(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $re(r){var e=Hre(r,"string");return typeof e=="symbol"?e:e+""}function Hre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Gre(r){return Array.isArray(r)&&Zs(r[0])&&Zs(r[1])?r.join(" ~ "):r}var Wre=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:h,accessibilityLayer:p=!1}=r,m=()=>{if(a&&a.length){var _={padding:0,margin:0},O=(o?Rx(a,o):a).map((A,I)=>{if(A.type==="none")return null;var k=A.formatter||s||Gre,{value:N,name:B}=A,R=N,H=B;if(k){var X=k(N,B,A,I,a);if(Array.isArray(X))[R,H]=X;else if(X!=null)R=X;else return null}var Y=JE({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Y},Zs(H)?L.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Zs(H)?L.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,L.createElement("span",{className:"recharts-tooltip-item-value"},R),L.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:_},O)}return null},g=JE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),y=JE({margin:0},i),x=!jn(c),E=x?c:"",S=Bt("recharts-default-tooltip",l),w=Bt("recharts-tooltip-label",u);x&&h&&a!==void 0&&a!==null&&(E=h(c,a));var T=p?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",$A({className:S,style:g},T),L.createElement("p",{className:w,style:y},L.isValidElement(E)?E:"".concat(E)),m())},Bd="recharts-tooltip-wrapper",Kre={visibility:"hidden"};function Yre(r){var{coordinate:e,translateX:t,translateY:n}=r;return Bt(Bd,{["".concat(Bd,"-right")]:Rt(t)&&e&&Rt(e.x)&&t>=e.x,["".concat(Bd,"-left")]:Rt(t)&&e&&Rt(e.x)&&t<e.x,["".concat(Bd,"-bottom")]:Rt(n)&&e&&Rt(e.y)&&n>=e.y,["".concat(Bd,"-top")]:Rt(n)&&e&&Rt(e.y)&&n<e.y})}function QN(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=r;if(a&&Rt(a[n]))return a[n];var c=t[n]-o-(i>0?i:0),h=t[n]+i;if(e[n])return s[n]?c:h;var p=l[n];if(p==null)return 0;if(s[n]){var m=c,g=p;return m<g?Math.max(h,p):Math.max(c,p)}if(u==null)return 0;var y=h+o,x=p+u;return y>x?Math.max(c,p):Math.max(h,p)}function zre(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Vre(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=r,u,c,h;return s.height>0&&s.width>0&&t?(c=QN({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=QN({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=zre({translateX:c,translateY:h,useTranslate3d:o})):u=Kre,{cssProperties:u,cssClasses:Yre({translateX:c,translateY:h,coordinate:t})}}function ZN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function og(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(t),!0).forEach(function(n){HA(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function HA(r,e,t){return(e=qre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qre(r){var e=Xre(r,"string");return typeof e=="symbol"?e:e+""}function Xre(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Qre extends L.PureComponent{constructor(){super(...arguments),HA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),HA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:h,useTranslate3d:p,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:E}=this.props,{cssClasses:S,cssProperties:w}=Vre({allowEscapeViewBox:t,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),T=E?{}:og(og({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=og(og({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return L.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:_,ref:x},a)}}var Wj=()=>{var r;return(r=Ct(e=>e.rootProps.accessibilityLayer))!==null&&r!==void 0?r:!0};function GA(){return GA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},GA.apply(null,arguments)}function JN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function eF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(t),!0).forEach(function(n){Zre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zre(r,e,t){return(e=Jre(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Jre(r){var e=ene(r,"string");return typeof e=="symbol"?e:e+""}function ene(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var tF={curveBasisClosed:PZ,curveBasisOpen:LZ,curveBasis:kZ,curveBumpX:yZ,curveBumpY:xZ,curveLinearClosed:MZ,curveLinear:Ox,curveMonotoneX:NZ,curveMonotoneY:FZ,curveNatural:BZ,curveStep:UZ,curveStepAfter:$Z,curveStepBefore:jZ},sy=r=>$n(r.x)&&$n(r.y),rF=r=>r.base!=null&&sy(r.base)&&sy(r),Ud=r=>r.x,jd=r=>r.y,tne=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(op(r));return(t==="curveMonotone"||t==="curveBump")&&e?tF["".concat(t).concat(e==="vertical"?"Y":"X")]:tF[t]||Ox},rne=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:i,connectNulls:a=!1}=r,s=tne(e,i),o=a?t.filter(sy):t,l;if(Array.isArray(n)){var u=t.map((m,g)=>eF(eF({},m),{},{base:n[g]}));i==="vertical"?l=Jm().y(jd).x1(Ud).x0(m=>m.base.x):l=Jm().x(Ud).y1(jd).y0(m=>m.base.y);var c=l.defined(rF).curve(s),h=a?u.filter(rF):u;return c(h)}i==="vertical"&&Rt(n)?l=Jm().y(jd).x1(Ud).x0(n):Rt(n)?l=Jm().x(Ud).y1(jd).y0(n):l=x5().x(Ud).y(jd);var p=l.defined(sy).curve(s);return p(o)},Kj=r=>{var{className:e,points:t,path:n,pathRef:i}=r;if((!t||!t.length)&&!n)return null;var a=t&&t.length?rne(r):n;return L.createElement("path",GA({},Xs(r),SD(r),{className:Bt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},nne=["x","y","top","left","width","height","className"];function WA(){return WA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},WA.apply(null,arguments)}function nF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ine(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(t),!0).forEach(function(n){ane(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ane(r,e,t){return(e=sne(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sne(r){var e=one(r,"string");return typeof e=="symbol"?e:e+""}function one(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lne(r,e){if(r==null)return{};var t,n,i=une(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function une(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var cne=(r,e,t,n,i,a)=>"M".concat(r,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(t),fne=r=>{var{x:e=0,y:t=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=r,l=lne(r,nne),u=ine({x:e,y:t,top:n,left:i,width:a,height:s},l);return!Rt(e)||!Rt(t)||!Rt(a)||!Rt(s)||!Rt(n)||!Rt(i)?null:L.createElement("path",WA({},Ii(u),{className:Bt("recharts-cross",o),d:cne(e,t,a,s,n,i)}))};function hne(r,e,t,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-i,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function iF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function aF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(t),!0).forEach(function(n){dne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function dne(r,e,t){return(e=pne(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pne(r){var e=mne(r,"string");return typeof e=="symbol"?e:e+""}function mne(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var gne=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Yj=(r,e,t)=>r.map(n=>"".concat(gne(n)," ").concat(e,"ms ").concat(t)).join(","),vne=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(i=>n.includes(i))),C0=(r,e)=>Object.keys(e).reduce((t,n)=>aF(aF({},t),{},{[n]:r(n,e[n])}),{});function sF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Tn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(t),!0).forEach(function(n){yne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function yne(r,e,t){return(e=xne(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xne(r){var e=bne(r,"string");return typeof e=="symbol"?e:e+""}function bne(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var oy=(r,e,t)=>r+(e-r)*t,KA=r=>{var{from:e,to:t}=r;return e!==t},zj=(r,e,t)=>{var n=C0((i,a)=>{if(KA(a)){var[s,o]=r(a.from,a.to,a.velocity);return Tn(Tn({},a),{},{from:s,velocity:o})}return a},e);return t<1?C0((i,a)=>KA(a)?Tn(Tn({},a),{},{velocity:oy(a.velocity,n[i].velocity,t),from:oy(a.from,n[i].from,t)}):a,e):zj(r,n,t-1)};function Sne(r,e,t,n,i,a){var s,o=n.reduce((p,m)=>Tn(Tn({},p),{},{[m]:{from:r[m],velocity:0,to:e[m]}}),{}),l=()=>C0((p,m)=>m.from,o),u=()=>!Object.values(o).filter(KA).length,c=null,h=p=>{s||(s=p);var m=p-s,g=m/t.dt;o=zj(t,o,g),i(Tn(Tn(Tn({},r),e),l())),s=p,u()||(c=a.setTimeout(h))};return()=>(c=a.setTimeout(h),()=>{var p;(p=c)===null||p===void 0||p()})}function Ene(r,e,t,n,i,a,s){var o=null,l=i.reduce((h,p)=>Tn(Tn({},h),{},{[p]:[r[p],e[p]]}),{}),u,c=h=>{u||(u=h);var p=(h-u)/n,m=C0((y,x)=>oy(...x,t(p)),l);if(a(Tn(Tn(Tn({},r),e),m)),p<1)o=s.setTimeout(c);else{var g=C0((y,x)=>oy(...x,t(1)),l);a(Tn(Tn(Tn({},r),e),g))}};return()=>(o=s.setTimeout(c),()=>{var h;(h=o)===null||h===void 0||h()})}const wne=(r,e,t,n,i,a)=>{var s=vne(r,e);return t==null?()=>(i(Tn(Tn({},r),e)),()=>{}):t.isStepper===!0?Sne(r,e,t,s,i,a):Ene(r,e,t,n,s,i,a)};var ly=1e-4,Vj=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],qj=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),oF=(r,e)=>t=>{var n=Vj(r,e);return qj(n,t)},_ne=(r,e)=>t=>{var n=Vj(r,e),i=[...n.map((a,s)=>a*s).slice(1),0];return qj(i,t)},Tne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=t[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return t.length===4?t:[0,0,1,1]},Ane=(r,e,t,n)=>{var i=oF(r,t),a=oF(e,n),s=_ne(r,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,h=c,p=0;p<8;++p){var m=i(h)-c,g=s(h);if(Math.abs(m-c)<ly||g<ly)return a(h);h=o(h-m/g)}return a(h)};return l.isStepper=!1,l},lF=function(){return Ane(...Tne(...arguments))},Dne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:i=17}=e,a=(s,o,l)=>{var u=-(s-o)*t,c=l*n,h=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<ly&&Math.abs(h)<ly?[o,0]:[p,h]};return a.isStepper=!0,a.dt=i,a},One=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lF(r);case"spring":return Dne();default:if(r.split("(")[0]==="cubic-bezier")return lF(r)}return typeof r=="function"?r:null};function Cne(r){var e,t=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=r.setTimeout(a.bind(null,u),l);return}a(l),i=r.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,t(e)),typeof s=="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(t=s,()=>{t=()=>null}),getTimeoutController:()=>r}}class Ine{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=t?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Rne(){return Cne(new Ine)}var kne=L.createContext(Rne);function Pne(r,e){var t=L.useContext(kne);return L.useMemo(()=>e??t(r),[r,e,t])}var Lne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pp={devToolsEnabled:!1,isSsr:Lne()},Mne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uF={t:0},ew={t:1};function FD(r){var e=xi(r,Mne),{isActive:t,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=e,c=t==="auto"?!pp.isSsr:t,h=Pne(e.animationId,e.animationManager),[p,m]=L.useState(c?uF:ew),g=L.useRef(null);return L.useEffect(()=>{c||m(ew)},[c]),L.useEffect(()=>{if(!c||!n)return lp;var y=wne(uF,ew,One(a),i,m,h.getTimeoutController()),x=()=>{g.current=y()};return h.start([l,s,x,i,o]),()=>{h.stop(),g.current&&g.current(),o()}},[c,n,i,a,s,l,o,h]),u(p.t)}function BD(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=L.useRef(E0(e)),n=L.useRef(r);return n.current!==r&&(t.current=E0(e),n.current=r),t.current}var Nne=["radius"],Fne=["radius"];function cF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(t),!0).forEach(function(n){Bne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Bne(r,e,t){return(e=Une(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Une(r){var e=jne(r,"string");return typeof e=="symbol"?e:e+""}function jne(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uy(){return uy=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},uy.apply(null,arguments)}function hF(r,e){if(r==null)return{};var t,n,i=$ne(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function $ne(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var dF=(r,e,t,n,i)=>{var a=Math.min(Math.abs(t)/2,Math.abs(n)/2),s=n>=0?1:-1,o=t>=0?1:-1,l=n>=0&&t>=0||n<0&&t<0?1:0,u;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],h=0,p=4;h<p;h++)c[h]=i[h]>a?a:i[h];u="M".concat(r,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(r+o*c[0],",").concat(e)),u+="L ".concat(r+t-o*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(r+t,",").concat(e+s*c[1])),u+="L ".concat(r+t,",").concat(e+n-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(r+t-o*c[2],",").concat(e+n)),u+="L ".concat(r+o*c[3],",").concat(e+n),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(r,",").concat(e+n-s*c[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(r,",").concat(e+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(r+o*m,",").concat(e,`
            L `).concat(r+t-o*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(r+t,",").concat(e+s*m,`
            L `).concat(r+t,",").concat(e+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(r+t-o*m,",").concat(e+n,`
            L `).concat(r+o*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(r,",").concat(e+n-s*m," Z")}else u="M ".concat(r,",").concat(e," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return u},pF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xj=r=>{var e=xi(r,pF),t=L.useRef(null),[n,i]=L.useState(-1);L.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var z=t.current.getTotalLength();z&&i(z)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=e,{animationEasing:h,animationDuration:p,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=e,x=L.useRef(o),E=L.useRef(l),S=L.useRef(a),w=L.useRef(s),T=L.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),_=BD(T,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Bt("recharts-rectangle",c);if(!y){var A=Ii(e),{radius:I}=A,k=hF(A,Nne);return L.createElement("path",uy({},k,{radius:typeof u=="number"?u:void 0,className:O,d:dF(a,s,o,l,u)}))}var N=x.current,B=E.current,R=S.current,H=w.current,X="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),K=Yj(["strokeDasharray"],p,typeof h=="string"?h:pF.animationEasing);return L.createElement(FD,{animationId:_,key:_,canBegin:n>0,duration:p,easing:h,isActive:y,begin:m},z=>{var Q=Gi(N,o,z),se=Gi(B,l,z),ae=Gi(R,a,z),W=Gi(H,s,z);t.current&&(x.current=Q,E.current=se,S.current=ae,w.current=W);var M;g?z>0?M={transition:K,strokeDasharray:Y}:M={strokeDasharray:X}:M={strokeDasharray:Y};var V=Ii(e),{radius:ee}=V,Z=hF(V,Fne);return L.createElement("path",uy({},Z,{radius:typeof u=="number"?u:void 0,className:O,d:dF(ae,W,Q,se,u),ref:t,style:fF(fF({},M),e.style)}))})};function mF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gF(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(t),!0).forEach(function(n){Hne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mF(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hne(r,e,t){return(e=Gne(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Gne(r){var e=Wne(r,"string");return typeof e=="symbol"?e:e+""}function Wne(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var cy=Math.PI/180,Kne=r=>r*180/Math.PI,ai=(r,e,t,n)=>({x:r+Math.cos(-cy*n)*t,y:e+Math.sin(-cy*n)*t}),Yne=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},zne=(r,e)=>{var{x:t,y:n}=r,{x:i,y:a}=e;return Math.sqrt((t-i)**2+(n-a)**2)},Vne=(r,e)=>{var{x:t,y:n}=r,{cx:i,cy:a}=e,s=zne({x:t,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(t-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:Kne(l),angleInRadian:l}},qne=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),i=Math.floor(t/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:t-a*360}},Xne=(r,e)=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(i,a);return r+s*360},Qne=(r,e)=>{var{chartX:t,chartY:n}=r,{radius:i,angle:a}=Vne({x:t,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=qne(e),c=a,h;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;h=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;h=c>=u&&c<=l}return h?gF(gF({},e),{},{radius:i,angle:Xne(c,e)}):null};function Qj(r){var{cx:e,cy:t,radius:n,startAngle:i,endAngle:a}=r,s=ai(e,t,n,i),o=ai(e,t,n,a);return{points:[s,o],cx:e,cy:t,radius:n,startAngle:i,endAngle:a}}function YA(){return YA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},YA.apply(null,arguments)}var Zne=(r,e)=>{var t=Ya(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},lg=r=>{var{cx:e,cy:t,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=r,u=o*(s?1:-1)+n,c=Math.asin(o/u)/cy,h=l?i:i+a*c,p=ai(e,t,u,h),m=ai(e,t,n,h),g=l?i-a*c:i,y=ai(e,t,u*Math.cos(c*cy),g);return{center:p,circleTangency:m,lineTangency:y,theta:c}},Zj=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=r,o=Zne(a,s),l=a+o,u=ai(e,t,i,a),c=ai(e,t,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var p=ai(e,t,n,a),m=ai(e,t,n,l);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},Jne=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=r,c=Ya(u-l),{circleTangency:h,lineTangency:p,theta:m}=lg({cx:e,cy:t,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:x}=lg({cx:e,cy:t,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(l-u):Math.abs(l-u)-m-x;if(E<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Zj({cx:e,cy:t,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:T,theta:_}=lg({cx:e,cy:t,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:A,theta:I}=lg({cx:e,cy:t,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-_-I;if(k<0&&a===0)return"".concat(S,"L").concat(e,",").concat(t,"Z");S+="L".concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(e,",").concat(t,"Z");return S},eie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jj=r=>{var e=xi(r,eie),{cx:t,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:h}=e;if(a<i||u===c)return null;var p=Bt("recharts-sector",h),m=a-i,g=mu(s,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=Jne({cx:t,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=Zj({cx:t,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),L.createElement("path",YA({},Ii(e),{className:p,d:y}))};function tie(r,e,t){if(r==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(r==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(L5(e)){if(r==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,l=ai(n,i,a,o),u=ai(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Qj(e)}}var tw={},rw={},nw={},vF;function rie(){return vF||(vF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=z5();function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(nw)),nw}var yF;function nie(){return yF||(yF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=rie();function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(rw)),rw}var xF;function iie(){return xF||(xF=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=V5(),t=nie();function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=t.toFinite(i),a===void 0?(a=i,i=0):a=t.toFinite(a),s=s===void 0?i<a?1:-1:t.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}r.range=n})(tw)),tw}var iw,bF;function aie(){return bF||(bF=1,iw=iie().range),iw}var sie=aie();const e$=ao(sie);function cu(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function oie(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function UD(r){let e,t,n;r.length!==2?(e=cu,t=(o,l)=>cu(r(o),l),n=(o,l)=>r(o)-l):(e=r===cu||r===oie?r:lie,t=r,n=r);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;t(o[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;t(o[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(o,l,u=0,c=o.length){const h=i(o,l,u,c-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function lie(){return 0}function t$(r){return r===null?NaN:+r}function*uie(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const cie=UD(cu),mp=cie.right;UD(t$).center;class SF extends Map{constructor(e,t=die){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(EF(this,e))}has(e){return super.has(EF(this,e))}set(e,t){return super.set(fie(this,e),t)}delete(e){return super.delete(hie(this,e))}}function EF({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function fie({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function hie({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function die(r){return r!==null&&typeof r=="object"?r.valueOf():r}function pie(r=cu){if(r===cu)return r$;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function r$(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const mie=Math.sqrt(50),gie=Math.sqrt(10),vie=Math.sqrt(2);function fy(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=mie?10:a>=gie?5:a>=vie?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(r*u),l=Math.round(e*u),o/u<r&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(r/u),l=Math.round(e/u),o*u<r&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?fy(r,e,t*2):[o,l,u]}function zA(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,a,s]=n?fy(e,r,t):fy(r,e,t);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function VA(r,e,t){return e=+e,r=+r,t=+t,fy(r,e,t)[2]}function qA(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?VA(e,r,t):VA(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function wF(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function _F(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function n$(r,e,t=0,n=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(i=i===void 0?r$:pie(i);n>t;){if(n-t>600){const l=n-t+1,u=e-t+1,c=Math.log(l),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(t,Math.floor(e-u*h/l+p)),g=Math.min(n,Math.floor(e+(l-u)*h/l+p));n$(r,e,m,g,i)}const a=r[e];let s=t,o=n;for($d(r,t,e),i(r[n],a)>0&&$d(r,t,n);s<o;){for($d(r,s,o),++s,--o;i(r[s],a)<0;)++s;for(;i(r[o],a)>0;)--o}i(r[t],a)===0?$d(r,t,o):(++o,$d(r,o,n)),o<=e&&(t=o+1),e<=o&&(n=o-1)}return r}function $d(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function yie(r,e,t){if(r=Float64Array.from(uie(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return _F(r);if(e>=1)return wF(r);var n,i=(n-1)*e,a=Math.floor(i),s=wF(n$(r,a).subarray(0,a+1)),o=_F(r.subarray(a+1));return s+(o-s)*(i-a)}}function xie(r,e,t=t$){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,i=(n-1)*e,a=Math.floor(i),s=+t(r[a],a,r),o=+t(r[a+1],a+1,r);return s+(o-s)*(i-a)}}function bie(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,a=new Array(i);++n<i;)a[n]=r+n*t;return a}function Za(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function pl(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const XA=Symbol("implicit");function jD(){var r=new SF,e=[],t=[],n=XA;function i(a){let s=r.get(a);if(s===void 0){if(n!==XA)return n;r.set(a,s=e.push(a)-1)}return t[s%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],r=new SF;for(const s of a)r.has(s)||r.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jD(e,t).unknown(n)},Za.apply(i,arguments),i}function $D(){var r=jD().unknown(void 0),e=r.domain,t=r.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete r.unknown;function h(){var p=e().length,m=i<n,g=m?i:n,y=m?n:i;a=(y-g)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(p-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=bie(p).map(function(E){return g+a*E});return t(m?x.reverse():x)}return r.domain=function(p){return arguments.length?(e(p),h()):e()},r.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},r.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},r.bandwidth=function(){return s},r.step=function(){return a},r.round=function(p){return arguments.length?(o=!!p,h()):o},r.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},r.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},r.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},r.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),h()):c},r.copy=function(){return $D(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Za.apply(h(),arguments)}function i$(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return i$(e())},r}function Sie(){return i$($D.apply(null,arguments).paddingInner(1))}function HD(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function a$(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function gp(){}var I0=.7,hy=1/I0,Qf="\\s*([+-]?\\d+)\\s*",R0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eie=/^#([0-9a-f]{3,8})$/,wie=new RegExp(`^rgb\\(${Qf},${Qf},${Qf}\\)$`),_ie=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),Tie=new RegExp(`^rgba\\(${Qf},${Qf},${Qf},${R0}\\)$`),Aie=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${R0}\\)$`),Die=new RegExp(`^hsl\\(${R0},${Vs},${Vs}\\)$`),Oie=new RegExp(`^hsla\\(${R0},${Vs},${Vs},${R0}\\)$`),TF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HD(gp,k0,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:AF,formatHex:AF,formatHex8:Cie,formatHsl:Iie,formatRgb:DF,toString:DF});function AF(){return this.rgb().formatHex()}function Cie(){return this.rgb().formatHex8()}function Iie(){return s$(this).formatHsl()}function DF(){return this.rgb().formatRgb()}function k0(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Eie.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?OF(e):t===3?new Ki(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ug(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ug(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wie.exec(r))?new Ki(e[1],e[2],e[3],1):(e=_ie.exec(r))?new Ki(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tie.exec(r))?ug(e[1],e[2],e[3],e[4]):(e=Aie.exec(r))?ug(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Die.exec(r))?RF(e[1],e[2]/100,e[3]/100,1):(e=Oie.exec(r))?RF(e[1],e[2]/100,e[3]/100,e[4]):TF.hasOwnProperty(r)?OF(TF[r]):r==="transparent"?new Ki(NaN,NaN,NaN,0):null}function OF(r){return new Ki(r>>16&255,r>>8&255,r&255,1)}function ug(r,e,t,n){return n<=0&&(r=e=t=NaN),new Ki(r,e,t,n)}function Rie(r){return r instanceof gp||(r=k0(r)),r?(r=r.rgb(),new Ki(r.r,r.g,r.b,r.opacity)):new Ki}function QA(r,e,t,n){return arguments.length===1?Rie(r):new Ki(r,e,t,n??1)}function Ki(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}HD(Ki,QA,a$(gp,{brighter(r){return r=r==null?hy:Math.pow(hy,r),new Ki(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?I0:Math.pow(I0,r),new Ki(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Ki(gc(this.r),gc(this.g),gc(this.b),dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CF,formatHex:CF,formatHex8:kie,formatRgb:IF,toString:IF}));function CF(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function kie(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function IF(){const r=dy(this.opacity);return`${r===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${r===1?")":`, ${r})`}`}function dy(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function gc(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function oc(r){return r=gc(r),(r<16?"0":"")+r.toString(16)}function RF(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new ds(r,e,t,n)}function s$(r){if(r instanceof ds)return new ds(r.h,r.s,r.l,r.opacity);if(r instanceof gp||(r=k0(r)),!r)return new ds;if(r instanceof ds)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(t-n)/o+(t<n)*6:t===a?s=(n-e)/o+2:s=(e-t)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ds(s,o,l,r.opacity)}function Pie(r,e,t,n){return arguments.length===1?s$(r):new ds(r,e,t,n??1)}function ds(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}HD(ds,Pie,a$(gp,{brighter(r){return r=r==null?hy:Math.pow(hy,r),new ds(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?I0:Math.pow(I0,r),new ds(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new Ki(aw(r>=240?r-240:r+120,i,n),aw(r,i,n),aw(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new ds(kF(this.h),cg(this.s),cg(this.l),dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=dy(this.opacity);return`${r===1?"hsl(":"hsla("}${kF(this.h)}, ${cg(this.s)*100}%, ${cg(this.l)*100}%${r===1?")":`, ${r})`}`}}));function kF(r){return r=(r||0)%360,r<0?r+360:r}function cg(r){return Math.max(0,Math.min(1,r||0))}function aw(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const GD=r=>()=>r;function Lie(r,e){return function(t){return r+t*e}}function Mie(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Nie(r){return(r=+r)==1?o$:function(e,t){return t-e?Mie(e,t,r):GD(isNaN(e)?t:e)}}function o$(r,e){var t=e-r;return t?Lie(r,t):GD(isNaN(r)?e:r)}const PF=(function r(e){var t=Nie(e);function n(i,a){var s=t((i=QA(i)).r,(a=QA(a)).r),o=t(i.g,a.g),l=t(i.b,a.b),u=o$(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=r,n})(1);function Fie(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=r[i]*(1-a)+e[i]*a;return n}}function Bie(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Uie(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),a=new Array(t),s;for(s=0;s<n;++s)i[s]=Ph(r[s],e[s]);for(;s<t;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function jie(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function py(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function $ie(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=Ph(r[i],e[i]):n[i]=e[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var ZA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sw=new RegExp(ZA.source,"g");function Hie(r){return function(){return r}}function Gie(r){return function(e){return r(e)+""}}function Wie(r,e){var t=ZA.lastIndex=sw.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(r=r+"",e=e+"";(n=ZA.exec(r))&&(i=sw.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:py(n,i)})),t=sw.lastIndex;return t<e.length&&(a=e.slice(t),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Gie(l[0].x):Hie(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}function Ph(r,e){var t=typeof e,n;return e==null||t==="boolean"?GD(e):(t==="number"?py:t==="string"?(n=k0(e))?(e=n,PF):Wie:e instanceof k0?PF:e instanceof Date?jie:Bie(e)?Fie:Array.isArray(e)?Uie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$ie:py)(r,e)}function WD(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function Kie(r,e){e===void 0&&(e=r,r=Ph);for(var t=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);t<n;)a[t]=r(i,i=e[++t]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Yie(r){return function(){return r}}function my(r){return+r}var LF=[0,1];function Ti(r){return r}function JA(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:Yie(isNaN(e)?NaN:.5)}function zie(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function Vie(r,e,t){var n=r[0],i=r[1],a=e[0],s=e[1];return i<n?(n=JA(i,n),a=t(s,a)):(n=JA(n,i),a=t(a,s)),function(o){return a(n(o))}}function qie(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=JA(r[s],r[s+1]),a[s]=t(e[s],e[s+1]);return function(o){var l=mp(r,o,1,n)-1;return a[l](i[l](o))}}function vp(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Xx(){var r=LF,e=LF,t=Ph,n,i,a,s=Ti,o,l,u;function c(){var p=Math.min(r.length,e.length);return s!==Ti&&(s=zie(r[0],r[p-1])),o=p>2?qie:Vie,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=o(r.map(n),e,t)))(n(s(p)))}return h.invert=function(p){return s(i((u||(u=o(e,r.map(n),py)))(p)))},h.domain=function(p){return arguments.length?(r=Array.from(p,my),c()):r.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),t=WD,c()},h.clamp=function(p){return arguments.length?(s=p?!0:Ti,c()):s!==Ti},h.interpolate=function(p){return arguments.length?(t=p,c()):t},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,m){return n=p,i=m,c()}}function KD(){return Xx()(Ti,Ti)}function Xie(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function gy(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function dh(r){return r=gy(Math.abs(r)),r?r[1]:NaN}function Qie(r,e){return function(t,n){for(var i=t.length,a=[],s=0,o=r[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(t.substring(i-=o,i+o)),!((l+=o+1)>n));)o=r[s=(s+1)%r.length];return a.reverse().join(e)}}function Zie(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var Jie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function P0(r){if(!(e=Jie.exec(r)))throw new Error("invalid format: "+r);var e;return new YD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}P0.prototype=YD.prototype;function YD(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}YD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eae(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var l$;function tae(r,e){var t=gy(r,e);if(!t)return r+"";var n=t[0],i=t[1],a=i-(l$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+gy(r,Math.max(0,e+a-1))[0]}function MF(r,e){var t=gy(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const NF={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Xie,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>MF(r*100,e),r:MF,s:tae,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function FF(r){return r}var BF=Array.prototype.map,UF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rae(r){var e=r.grouping===void 0||r.thousands===void 0?FF:Qie(BF.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",a=r.numerals===void 0?FF:Zie(BF.call(r.numerals,String)),s=r.percent===void 0?"%":r.percent+"",o=r.minus===void 0?"":r.minus+"",l=r.nan===void 0?"NaN":r.nan+"";function u(h){h=P0(h);var p=h.fill,m=h.align,g=h.sign,y=h.symbol,x=h.zero,E=h.width,S=h.comma,w=h.precision,T=h.trim,_=h.type;_==="n"?(S=!0,_="g"):NF[_]||(w===void 0&&(w=12),T=!0,_="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var O=y==="$"?t:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=y==="$"?n:/[%p]/.test(_)?s:"",I=NF[_],k=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(B){var R=O,H=A,X,Y,K;if(_==="c")H=I(B)+H,B="";else{B=+B;var z=B<0||1/B<0;if(B=isNaN(B)?l:I(Math.abs(B),w),T&&(B=eae(B)),z&&+B==0&&g!=="+"&&(z=!1),R=(z?g==="("?g:o:g==="-"||g==="("?"":g)+R,H=(_==="s"?UF[8+l$/3]:"")+H+(z&&g==="("?")":""),k){for(X=-1,Y=B.length;++X<Y;)if(K=B.charCodeAt(X),48>K||K>57){H=(K===46?i+B.slice(X+1):B.slice(X))+H,B=B.slice(0,X);break}}}S&&!x&&(B=e(B,1/0));var Q=R.length+B.length+H.length,se=Q<E?new Array(E-Q+1).join(p):"";switch(S&&x&&(B=e(se+B,se.length?E-H.length:1/0),se=""),m){case"<":B=R+B+H+se;break;case"=":B=R+se+B+H;break;case"^":B=se.slice(0,Q=se.length>>1)+R+B+H+se.slice(Q);break;default:B=se+R+B+H;break}return a(B)}return N.toString=function(){return h+""},N}function c(h,p){var m=u((h=P0(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(dh(p)/3)))*3,y=Math.pow(10,-g),x=UF[8+g/3];return function(E){return m(y*E)+x}}return{format:u,formatPrefix:c}}var fg,zD,u$;nae({thousands:",",grouping:[3],currency:["$",""]});function nae(r){return fg=rae(r),zD=fg.format,u$=fg.formatPrefix,fg}function iae(r){return Math.max(0,-dh(Math.abs(r)))}function aae(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dh(e)/3)))*3-dh(Math.abs(r)))}function sae(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,dh(e)-dh(r))+1}function c$(r,e,t,n){var i=qA(r,e,t),a;switch(n=P0(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(a=aae(i,s))&&(n.precision=a),u$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=sae(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=iae(i))&&(n.precision=a-(n.type==="%")*2);break}}return zD(n)}function Du(r){var e=r.domain;return r.ticks=function(t){var n=e();return zA(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return c$(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=VA(s,o,t),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return r},r}function f$(){var r=KD();return r.copy=function(){return vp(r,f$())},Za.apply(r,arguments),Du(r)}function h$(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,my),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return h$(r).unknown(e)},r=arguments.length?Array.from(r,my):[0,1],Du(t)}function d$(r,e){r=r.slice();var t=0,n=r.length-1,i=r[t],a=r[n],s;return a<i&&(s=t,t=n,n=s,s=i,i=a,a=s),r[t]=e.floor(i),r[n]=e.ceil(a),r}function jF(r){return Math.log(r)}function $F(r){return Math.exp(r)}function oae(r){return-Math.log(-r)}function lae(r){return-Math.exp(-r)}function uae(r){return isFinite(r)?+("1e"+r):r<0?0:r}function cae(r){return r===10?uae:r===Math.E?Math.exp:e=>Math.pow(r,e)}function fae(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function HF(r){return(e,t)=>-r(-e,t)}function VD(r){const e=r(jF,$F),t=e.domain;let n=10,i,a;function s(){return i=fae(n),a=cae(n),t()[0]<0?(i=HF(i),a=HF(a),r(oae,lae)):r(jF,$F),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(t(o),s()):t()},e.ticks=o=>{const l=t();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let p=i(u),m=i(c),g,y;const x=o==null?10:+o;let E=[];if(!(n%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<n;++g)if(y=p<0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;E.push(y)}}else for(;p<=m;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/a(-p):g*a(p),!(y<u)){if(y>c)break;E.push(y)}E.length*2<x&&(E=zA(u,c,x))}else E=zA(p,m,Math.min(m-p,x)).map(a);return h?E.reverse():E},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=P0(l)).precision==null&&(l.trim=!0),l=zD(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*n<n-.5&&(h*=n),h<=u?l(c):""}},e.nice=()=>t(d$(t(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function p$(){const r=VD(Xx()).domain([1,10]);return r.copy=()=>vp(r,p$()).base(r.base()),Za.apply(r,arguments),r}function GF(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function WF(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function qD(r){var e=1,t=r(GF(e),WF(e));return t.constant=function(n){return arguments.length?r(GF(e=+n),WF(e)):e},Du(t)}function m$(){var r=qD(Xx());return r.copy=function(){return vp(r,m$()).constant(r.constant())},Za.apply(r,arguments)}function KF(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function hae(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function dae(r){return r<0?-r*r:r*r}function XD(r){var e=r(Ti,Ti),t=1;function n(){return t===1?r(Ti,Ti):t===.5?r(hae,dae):r(KF(t),KF(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,n()):t},Du(e)}function QD(){var r=XD(Xx());return r.copy=function(){return vp(r,QD()).exponent(r.exponent())},Za.apply(r,arguments),r}function pae(){return QD.apply(null,arguments).exponent(.5)}function YF(r){return Math.sign(r)*r*r}function mae(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function g$(){var r=KD(),e=[0,1],t=!1,n;function i(a){var s=mae(r(a));return isNaN(s)?n:t?Math.round(s):s}return i.invert=function(a){return r.invert(YF(a))},i.domain=function(a){return arguments.length?(r.domain(a),i):r.domain()},i.range=function(a){return arguments.length?(r.range((e=Array.from(a,my)).map(YF)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(r.clamp(a),i):r.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return g$(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},Za.apply(i,arguments),Du(i)}function v$(){var r=[],e=[],t=[],n;function i(){var s=0,o=Math.max(1,e.length);for(t=new Array(o-1);++s<o;)t[s-1]=xie(r,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[mp(t,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?t[o-1]:r[0],o<t.length?t[o]:r[r.length-1]]},a.domain=function(s){if(!arguments.length)return r.slice();r=[];for(let o of s)o!=null&&!isNaN(o=+o)&&r.push(o);return r.sort(cu),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return t.slice()},a.copy=function(){return v$().domain(r).range(e).unknown(n)},Za.apply(a,arguments)}function y$(){var r=0,e=1,t=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[mp(n,l,0,t)]:a}function o(){var l=-1;for(n=new Array(t);++l<t;)n[l]=((l+1)*e-(l-t)*r)/(t+1);return s}return s.domain=function(l){return arguments.length?([r,e]=l,r=+r,e=+e,o()):[r,e]},s.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[r,n[0]]:u>=t?[n[t-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return y$().domain([r,e]).range(i).unknown(a)},Za.apply(Du(s),arguments)}function x$(){var r=[.5],e=[0,1],t,n=1;function i(a){return a!=null&&a<=a?e[mp(r,a,0,n)]:t}return i.domain=function(a){return arguments.length?(r=Array.from(a),n=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[r[s-1],r[s]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return x$().domain(r).range(e).unknown(t)},Za.apply(i,arguments)}const ow=new Date,lw=new Date;function Dn(r,e,t,n){function i(a){return r(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(r(a=new Date(+a)),a),i.ceil=a=>(r(a=new Date(a-1)),e(a,1),r(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),r(a);while(u<a&&a<s);return l},i.filter=a=>Dn(s=>{if(s>=s)for(;r(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),t&&(i.count=(a,s)=>(ow.setTime(+a),lw.setTime(+s),r(ow),r(lw),Math.floor(t(ow,lw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const vy=Dn(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);vy.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?Dn(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):vy);vy.range;const Bo=1e3,za=Bo*60,Uo=za*60,tl=Uo*24,ZD=tl*7,zF=tl*30,uw=tl*365,lc=Dn(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*Bo)},(r,e)=>(e-r)/Bo,r=>r.getUTCSeconds());lc.range;const JD=Dn(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Bo)},(r,e)=>{r.setTime(+r+e*za)},(r,e)=>(e-r)/za,r=>r.getMinutes());JD.range;const eO=Dn(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*za)},(r,e)=>(e-r)/za,r=>r.getUTCMinutes());eO.range;const tO=Dn(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Bo-r.getMinutes()*za)},(r,e)=>{r.setTime(+r+e*Uo)},(r,e)=>(e-r)/Uo,r=>r.getHours());tO.range;const rO=Dn(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*Uo)},(r,e)=>(e-r)/Uo,r=>r.getUTCHours());rO.range;const yp=Dn(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*za)/tl,r=>r.getDate()-1);yp.range;const Qx=Dn(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/tl,r=>r.getUTCDate()-1);Qx.range;const b$=Dn(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/tl,r=>Math.floor(r/tl));b$.range;function Fc(r){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*za)/ZD)}const Zx=Fc(0),yy=Fc(1),gae=Fc(2),vae=Fc(3),ph=Fc(4),yae=Fc(5),xae=Fc(6);Zx.range;yy.range;gae.range;vae.range;ph.range;yae.range;xae.range;function Bc(r){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/ZD)}const Jx=Bc(0),xy=Bc(1),bae=Bc(2),Sae=Bc(3),mh=Bc(4),Eae=Bc(5),wae=Bc(6);Jx.range;xy.range;bae.range;Sae.range;mh.range;Eae.range;wae.range;const nO=Dn(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());nO.range;const iO=Dn(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());iO.range;const rl=Dn(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());rl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});rl.range;const nl=Dn(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());nl.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});nl.range;function S$(r,e,t,n,i,a){const s=[[lc,1,Bo],[lc,5,5*Bo],[lc,15,15*Bo],[lc,30,30*Bo],[a,1,za],[a,5,5*za],[a,15,15*za],[a,30,30*za],[i,1,Uo],[i,3,3*Uo],[i,6,6*Uo],[i,12,12*Uo],[n,1,tl],[n,2,2*tl],[t,1,ZD],[e,1,zF],[e,3,3*zF],[r,1,uw]];function o(u,c,h){const p=c<u;p&&([u,c]=[c,u]);const m=h&&typeof h.range=="function"?h:l(u,c,h),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,h){const p=Math.abs(c-u)/h,m=UD(([,,x])=>x).right(s,p);if(m===s.length)return r.every(qA(u/uw,c/uw,h));if(m===0)return vy.every(Math.max(qA(u,c,h),1));const[g,y]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return g.every(y)}return[o,l]}const[_ae,Tae]=S$(nl,iO,Jx,b$,rO,eO),[Aae,Dae]=S$(rl,nO,Zx,yp,tO,JD);function cw(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function fw(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Hd(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function Oae(r){var e=r.dateTime,t=r.date,n=r.time,i=r.periods,a=r.days,s=r.shortDays,o=r.months,l=r.shortMonths,u=Gd(i),c=Wd(i),h=Gd(a),p=Wd(a),m=Gd(s),g=Wd(s),y=Gd(o),x=Wd(o),E=Gd(l),S=Wd(l),w={a:z,A:Q,b:se,B:ae,c:null,d:JF,e:JF,f:Qae,g:ose,G:use,H:Vae,I:qae,j:Xae,L:E$,m:Zae,M:Jae,p:W,q:M,Q:r3,s:n3,S:ese,u:tse,U:rse,V:nse,w:ise,W:ase,x:null,X:null,y:sse,Y:lse,Z:cse,"%":t3},T={a:V,A:ee,b:Z,B:me,c:null,d:e3,e:e3,f:pse,g:_se,G:Ase,H:fse,I:hse,j:dse,L:_$,m:mse,M:gse,p:ue,q,Q:r3,s:n3,S:vse,u:yse,U:xse,V:bse,w:Sse,W:Ese,x:null,X:null,y:wse,Y:Tse,Z:Dse,"%":t3},_={a:N,A:B,b:R,B:H,c:X,d:QF,e:QF,f:Wae,g:XF,G:qF,H:ZF,I:ZF,j:jae,L:Gae,m:Uae,M:$ae,p:k,q:Bae,Q:Yae,s:zae,S:Hae,u:Pae,U:Lae,V:Mae,w:kae,W:Nae,x:Y,X:K,y:XF,Y:qF,Z:Fae,"%":Kae};w.x=O(t,w),w.X=O(n,w),w.c=O(e,w),T.x=O(t,T),T.X=O(n,T),T.c=O(e,T);function O(te,re){return function(pe){var ne=[],Oe=-1,be=0,fe=te.length,he,ye,Ie;for(pe instanceof Date||(pe=new Date(+pe));++Oe<fe;)te.charCodeAt(Oe)===37&&(ne.push(te.slice(be,Oe)),(ye=VF[he=te.charAt(++Oe)])!=null?he=te.charAt(++Oe):ye=he==="e"?" ":"0",(Ie=re[he])&&(he=Ie(pe,ye)),ne.push(he),be=Oe+1);return ne.push(te.slice(be,Oe)),ne.join("")}}function A(te,re){return function(pe){var ne=Hd(1900,void 0,1),Oe=I(ne,te,pe+="",0),be,fe;if(Oe!=pe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(re&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(be=fw(Hd(ne.y,0,1)),fe=be.getUTCDay(),be=fe>4||fe===0?xy.ceil(be):xy(be),be=Qx.offset(be,(ne.V-1)*7),ne.y=be.getUTCFullYear(),ne.m=be.getUTCMonth(),ne.d=be.getUTCDate()+(ne.w+6)%7):(be=cw(Hd(ne.y,0,1)),fe=be.getDay(),be=fe>4||fe===0?yy.ceil(be):yy(be),be=yp.offset(be,(ne.V-1)*7),ne.y=be.getFullYear(),ne.m=be.getMonth(),ne.d=be.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),fe="Z"in ne?fw(Hd(ne.y,0,1)).getUTCDay():cw(Hd(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(fe+5)%7:ne.w+ne.U*7-(fe+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,fw(ne)):cw(ne)}}function I(te,re,pe,ne){for(var Oe=0,be=re.length,fe=pe.length,he,ye;Oe<be;){if(ne>=fe)return-1;if(he=re.charCodeAt(Oe++),he===37){if(he=re.charAt(Oe++),ye=_[he in VF?re.charAt(Oe++):he],!ye||(ne=ye(te,pe,ne))<0)return-1}else if(he!=pe.charCodeAt(ne++))return-1}return ne}function k(te,re,pe){var ne=u.exec(re.slice(pe));return ne?(te.p=c.get(ne[0].toLowerCase()),pe+ne[0].length):-1}function N(te,re,pe){var ne=m.exec(re.slice(pe));return ne?(te.w=g.get(ne[0].toLowerCase()),pe+ne[0].length):-1}function B(te,re,pe){var ne=h.exec(re.slice(pe));return ne?(te.w=p.get(ne[0].toLowerCase()),pe+ne[0].length):-1}function R(te,re,pe){var ne=E.exec(re.slice(pe));return ne?(te.m=S.get(ne[0].toLowerCase()),pe+ne[0].length):-1}function H(te,re,pe){var ne=y.exec(re.slice(pe));return ne?(te.m=x.get(ne[0].toLowerCase()),pe+ne[0].length):-1}function X(te,re,pe){return I(te,e,re,pe)}function Y(te,re,pe){return I(te,t,re,pe)}function K(te,re,pe){return I(te,n,re,pe)}function z(te){return s[te.getDay()]}function Q(te){return a[te.getDay()]}function se(te){return l[te.getMonth()]}function ae(te){return o[te.getMonth()]}function W(te){return i[+(te.getHours()>=12)]}function M(te){return 1+~~(te.getMonth()/3)}function V(te){return s[te.getUTCDay()]}function ee(te){return a[te.getUTCDay()]}function Z(te){return l[te.getUTCMonth()]}function me(te){return o[te.getUTCMonth()]}function ue(te){return i[+(te.getUTCHours()>=12)]}function q(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var re=O(te+="",w);return re.toString=function(){return te},re},parse:function(te){var re=A(te+="",!1);return re.toString=function(){return te},re},utcFormat:function(te){var re=O(te+="",T);return re.toString=function(){return te},re},utcParse:function(te){var re=A(te+="",!0);return re.toString=function(){return te},re}}}var VF={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,Cae=/^%/,Iae=/[\\^$*+?|[\]().{}]/g;function nr(r,e,t){var n=r<0?"-":"",i=(n?-r:r)+"",a=i.length;return n+(a<t?new Array(t-a+1).join(e)+i:i)}function Rae(r){return r.replace(Iae,"\\$&")}function Gd(r){return new RegExp("^(?:"+r.map(Rae).join("|")+")","i")}function Wd(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function kae(r,e,t){var n=Wn.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function Pae(r,e,t){var n=Wn.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function Lae(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function Mae(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function Nae(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function qF(r,e,t){var n=Wn.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function XF(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function Fae(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function Bae(r,e,t){var n=Wn.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function Uae(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function QF(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function jae(r,e,t){var n=Wn.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function ZF(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function $ae(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function Hae(r,e,t){var n=Wn.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function Gae(r,e,t){var n=Wn.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function Wae(r,e,t){var n=Wn.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function Kae(r,e,t){var n=Cae.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function Yae(r,e,t){var n=Wn.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function zae(r,e,t){var n=Wn.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function JF(r,e){return nr(r.getDate(),e,2)}function Vae(r,e){return nr(r.getHours(),e,2)}function qae(r,e){return nr(r.getHours()%12||12,e,2)}function Xae(r,e){return nr(1+yp.count(rl(r),r),e,3)}function E$(r,e){return nr(r.getMilliseconds(),e,3)}function Qae(r,e){return E$(r,e)+"000"}function Zae(r,e){return nr(r.getMonth()+1,e,2)}function Jae(r,e){return nr(r.getMinutes(),e,2)}function ese(r,e){return nr(r.getSeconds(),e,2)}function tse(r){var e=r.getDay();return e===0?7:e}function rse(r,e){return nr(Zx.count(rl(r)-1,r),e,2)}function w$(r){var e=r.getDay();return e>=4||e===0?ph(r):ph.ceil(r)}function nse(r,e){return r=w$(r),nr(ph.count(rl(r),r)+(rl(r).getDay()===4),e,2)}function ise(r){return r.getDay()}function ase(r,e){return nr(yy.count(rl(r)-1,r),e,2)}function sse(r,e){return nr(r.getFullYear()%100,e,2)}function ose(r,e){return r=w$(r),nr(r.getFullYear()%100,e,2)}function lse(r,e){return nr(r.getFullYear()%1e4,e,4)}function use(r,e){var t=r.getDay();return r=t>=4||t===0?ph(r):ph.ceil(r),nr(r.getFullYear()%1e4,e,4)}function cse(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nr(e/60|0,"0",2)+nr(e%60,"0",2)}function e3(r,e){return nr(r.getUTCDate(),e,2)}function fse(r,e){return nr(r.getUTCHours(),e,2)}function hse(r,e){return nr(r.getUTCHours()%12||12,e,2)}function dse(r,e){return nr(1+Qx.count(nl(r),r),e,3)}function _$(r,e){return nr(r.getUTCMilliseconds(),e,3)}function pse(r,e){return _$(r,e)+"000"}function mse(r,e){return nr(r.getUTCMonth()+1,e,2)}function gse(r,e){return nr(r.getUTCMinutes(),e,2)}function vse(r,e){return nr(r.getUTCSeconds(),e,2)}function yse(r){var e=r.getUTCDay();return e===0?7:e}function xse(r,e){return nr(Jx.count(nl(r)-1,r),e,2)}function T$(r){var e=r.getUTCDay();return e>=4||e===0?mh(r):mh.ceil(r)}function bse(r,e){return r=T$(r),nr(mh.count(nl(r),r)+(nl(r).getUTCDay()===4),e,2)}function Sse(r){return r.getUTCDay()}function Ese(r,e){return nr(xy.count(nl(r)-1,r),e,2)}function wse(r,e){return nr(r.getUTCFullYear()%100,e,2)}function _se(r,e){return r=T$(r),nr(r.getUTCFullYear()%100,e,2)}function Tse(r,e){return nr(r.getUTCFullYear()%1e4,e,4)}function Ase(r,e){var t=r.getUTCDay();return r=t>=4||t===0?mh(r):mh.ceil(r),nr(r.getUTCFullYear()%1e4,e,4)}function Dse(){return"+0000"}function t3(){return"%"}function r3(r){return+r}function n3(r){return Math.floor(+r/1e3)}var Tf,A$,D$;Ose({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ose(r){return Tf=Oae(r),A$=Tf.format,Tf.parse,D$=Tf.utcFormat,Tf.utcParse,Tf}function Cse(r){return new Date(r)}function Ise(r){return r instanceof Date?+r:+new Date(+r)}function aO(r,e,t,n,i,a,s,o,l,u){var c=KD(),h=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),E=u("%a %d"),S=u("%b %d"),w=u("%B"),T=u("%Y");function _(O){return(l(O)<O?m:o(O)<O?g:s(O)<O?y:a(O)<O?x:n(O)<O?i(O)<O?E:S:t(O)<O?w:T)(O)}return c.invert=function(O){return new Date(h(O))},c.domain=function(O){return arguments.length?p(Array.from(O,Ise)):p().map(Cse)},c.ticks=function(O){var A=p();return r(A[0],A[A.length-1],O??10)},c.tickFormat=function(O,A){return A==null?_:u(A)},c.nice=function(O){var A=p();return(!O||typeof O.range!="function")&&(O=e(A[0],A[A.length-1],O??10)),O?p(d$(A,O)):c},c.copy=function(){return vp(c,aO(r,e,t,n,i,a,s,o,l,u))},c}function Rse(){return Za.apply(aO(Aae,Dae,rl,nO,Zx,yp,tO,JD,lc,A$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kse(){return Za.apply(aO(_ae,Tae,nl,iO,Jx,Qx,rO,eO,lc,D$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e1(){var r=0,e=1,t,n,i,a,s=Ti,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-t)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([r,e]=h,t=a(r=+r),n=a(e=+e),i=t===n?0:1/(n-t),u):[r,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function c(h){return function(p){var m,g;return arguments.length?([m,g]=p,s=h(m,g),u):[s(0),s(1)]}}return u.range=c(Ph),u.rangeRound=c(WD),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,t=h(r),n=h(e),i=t===n?0:1/(n-t),u}}function Ou(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function O$(){var r=Du(e1()(Ti));return r.copy=function(){return Ou(r,O$())},pl.apply(r,arguments)}function C$(){var r=VD(e1()).domain([1,10]);return r.copy=function(){return Ou(r,C$()).base(r.base())},pl.apply(r,arguments)}function I$(){var r=qD(e1());return r.copy=function(){return Ou(r,I$()).constant(r.constant())},pl.apply(r,arguments)}function sO(){var r=XD(e1());return r.copy=function(){return Ou(r,sO()).exponent(r.exponent())},pl.apply(r,arguments)}function Pse(){return sO.apply(null,arguments).exponent(.5)}function R$(){var r=[],e=Ti;function t(n){if(n!=null&&!isNaN(n=+n))return e((mp(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(cu),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,i)=>e(i/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(i,a)=>yie(r,a/n))},t.copy=function(){return R$(e).domain(r)},pl.apply(t,arguments)}function t1(){var r=0,e=.5,t=1,n=1,i,a,s,o,l,u=Ti,c,h=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?o:l),u(h?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([r,e,t]=y,i=c(r=+r),a=c(e=+e),s=c(t=+t),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[r,e,t]},m.clamp=function(y){return arguments.length?(h=!!y,m):h},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(x){var E,S,w;return arguments.length?([E,S,w]=x,u=Kie(y,[E,S,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ph),m.rangeRound=g(WD),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(r),a=y(e),s=y(t),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function k$(){var r=Du(t1()(Ti));return r.copy=function(){return Ou(r,k$())},pl.apply(r,arguments)}function P$(){var r=VD(t1()).domain([.1,1,10]);return r.copy=function(){return Ou(r,P$()).base(r.base())},pl.apply(r,arguments)}function L$(){var r=qD(t1());return r.copy=function(){return Ou(r,L$()).constant(r.constant())},pl.apply(r,arguments)}function oO(){var r=XD(t1());return r.copy=function(){return Ou(r,oO()).exponent(r.exponent())},pl.apply(r,arguments)}function Lse(){return oO.apply(null,arguments).exponent(.5)}const r0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$D,scaleDiverging:k$,scaleDivergingLog:P$,scaleDivergingPow:oO,scaleDivergingSqrt:Lse,scaleDivergingSymlog:L$,scaleIdentity:h$,scaleImplicit:XA,scaleLinear:f$,scaleLog:p$,scaleOrdinal:jD,scalePoint:Sie,scalePow:QD,scaleQuantile:v$,scaleQuantize:y$,scaleRadial:g$,scaleSequential:O$,scaleSequentialLog:C$,scaleSequentialPow:sO,scaleSequentialQuantile:R$,scaleSequentialSqrt:Pse,scaleSequentialSymlog:I$,scaleSqrt:pae,scaleSymlog:m$,scaleThreshold:x$,scaleTime:Rse,scaleUtc:kse,tickFormat:c$},Symbol.toStringTag,{value:"Module"}));var Cu=r=>r.chartData,Mse=ze([Cu],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),lO=(r,e,t,n)=>n?Mse(r):Cu(r);function gu(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if($n(e)&&$n(t))return!0}return!1}function i3(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function M$(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,i,a;if($n(t))i=t;else if(typeof t=="function")return;if($n(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(gu(s))return s}}function Nse(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(gu(n))return i3(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[i,a]=r,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Rt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&RN.test(i)){var l=RN.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Rt(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&kN.test(a)){var c=kN.exec(a);if(c==null||e==null)o=void 0;else{var h=+c[1];o=e[1]+h}}else o=e?.[1];var p=[s,o];if(gu(p))return e==null?p:i3(p,e,t)}}}var Lh=1e9,Fse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cO,Gr=!0,qa="[DecimalError] ",vc=qa+"Invalid argument: ",uO=qa+"Exponent out of range: ",Mh=Math.floor,Ju=Math.pow,Bse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ba,Nn=1e7,Mr=7,N$=9007199254740991,by=Mh(N$/Mr),wt={};wt.absoluteValue=wt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};wt.comparedTo=wt.cmp=function(r){var e,t,n,i,a=this;if(r=new a.constructor(r),a.s!==r.s)return a.s||-r.s;if(a.e!==r.e)return a.e>r.e^a.s<0?1:-1;for(n=a.d.length,i=r.d.length,e=0,t=n<i?n:i;e<t;++e)if(a.d[e]!==r.d[e])return a.d[e]>r.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*Mr;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};wt.dividedBy=wt.div=function(r){return Ho(this,new this.constructor(r))};wt.dividedToIntegerBy=wt.idiv=function(r){var e=this,t=e.constructor;return Ar(Ho(e,new t(r),0,1),t.precision)};wt.equals=wt.eq=function(r){return!this.cmp(r)};wt.exponent=function(){return vn(this)};wt.greaterThan=wt.gt=function(r){return this.cmp(r)>0};wt.greaterThanOrEqualTo=wt.gte=function(r){return this.cmp(r)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(r){return this.cmp(r)<0};wt.lessThanOrEqualTo=wt.lte=function(r){return this.cmp(r)<1};wt.logarithm=wt.log=function(r){var e,t=this,n=t.constructor,i=n.precision,a=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(ba))throw Error(qa+"NaN");if(t.s<1)throw Error(qa+(t.s?"NaN":"-Infinity"));return t.eq(ba)?new n(0):(Gr=!1,e=Ho(L0(t,a),L0(r,a),a),Gr=!0,Ar(e,i))};wt.minus=wt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?U$(e,r):F$(e,(r.s=-r.s,r))};wt.modulo=wt.mod=function(r){var e,t=this,n=t.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(qa+"NaN");return t.s?(Gr=!1,e=Ho(t,r,0,1).times(r),Gr=!0,t.minus(e)):Ar(new n(t),i)};wt.naturalExponential=wt.exp=function(){return B$(this)};wt.naturalLogarithm=wt.ln=function(){return L0(this)};wt.negated=wt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};wt.plus=wt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?F$(e,r):U$(e,(r.s=-r.s,r))};wt.precision=wt.sd=function(r){var e,t,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(vc+r);if(e=vn(i)+1,n=i.d.length-1,t=n*Mr+1,n=i.d[n],n){for(;n%10==0;n/=10)t--;for(n=i.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};wt.squareRoot=wt.sqrt=function(){var r,e,t,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(qa+"NaN")}for(r=vn(o),Gr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Gs(o.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Mh((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new l(e)):n=new l(i.toString()),t=l.precision,i=s=t+3;;)if(a=n,n=a.plus(Ho(o,a,s+2)).times(.5),Gs(a.d).slice(0,s)===(e=Gs(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ar(a,t+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Gr=!0,Ar(n,t)};wt.times=wt.mul=function(r){var e,t,n,i,a,s,o,l,u,c=this,h=c.constructor,p=c.d,m=(r=new h(r)).d;if(!c.s||!r.s)return new h(0);for(r.s*=c.s,t=c.e+r.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+e,a[i--]=o%Nn|0,e=o/Nn|0;a[i]=(a[i]+e)%Nn|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),r.d=a,r.e=t,Gr?Ar(r,h.precision):r};wt.toDecimalPlaces=wt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(eo(r,0,Lh),e===void 0?e=n.rounding:eo(e,0,8),Ar(t,r+vn(t)+1,e))};wt.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=_c(n,!0):(eo(r,0,Lh),e===void 0?e=i.rounding:eo(e,0,8),n=Ar(new i(n),r+1,e),t=_c(n,!0,r+1)),t};wt.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?_c(i):(eo(r,0,Lh),e===void 0?e=a.rounding:eo(e,0,8),n=Ar(new a(i),r+vn(i)+1,e),t=_c(n.abs(),!1,r+vn(n)+1),i.isneg()&&!i.isZero()?"-"+t:t)};wt.toInteger=wt.toint=function(){var r=this,e=r.constructor;return Ar(new e(r),vn(r)+1,e.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(r){var e,t,n,i,a,s,o=this,l=o.constructor,u=12,c=+(r=new l(r));if(!r.s)return new l(ba);if(o=new l(o),!o.s){if(r.s<1)throw Error(qa+"Infinity");return o}if(o.eq(ba))return o;if(n=l.precision,r.eq(ba))return Ar(o,n);if(e=r.e,t=r.d.length-1,s=e>=t,a=o.s,s){if((t=c<0?-c:c)<=N$){for(i=new l(ba),e=Math.ceil(n/Mr+4),Gr=!1;t%2&&(i=i.times(o),s3(i.d,e)),t=Mh(t/2),t!==0;)o=o.times(o),s3(o.d,e);return Gr=!0,r.s<0?new l(ba).div(i):Ar(i,n)}}else if(a<0)throw Error(qa+"NaN");return a=a<0&&r.d[Math.max(e,t)]&1?-1:1,o.s=1,Gr=!1,i=r.times(L0(o,n+u)),Gr=!0,i=B$(i),i.s=a,i};wt.toPrecision=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?(t=vn(i),n=_c(i,t<=a.toExpNeg||t>=a.toExpPos)):(eo(r,1,Lh),e===void 0?e=a.rounding:eo(e,0,8),i=Ar(new a(i),r,e),t=vn(i),n=_c(i,r<=t||t<=a.toExpNeg,r)),n};wt.toSignificantDigits=wt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(eo(r,1,Lh),e===void 0?e=n.rounding:eo(e,0,8)),Ar(new n(t),r,e)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=vn(r),t=r.constructor;return _c(r,e<=t.toExpNeg||e>=t.toExpPos)};function F$(r,e){var t,n,i,a,s,o,l,u,c=r.constructor,h=c.precision;if(!r.s||!e.s)return e.s||(e=new c(r)),Gr?Ar(e,h):e;if(l=r.d,u=e.d,s=r.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(h/Mr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),t=0;a;)t=(l[--a]=l[a]+u[a]+t)/Nn|0,l[a]%=Nn;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gr?Ar(e,h):e}function eo(r,e,t){if(r!==~~r||r<e||r>t)throw Error(vc+r)}function Gs(r){var e,t,n,i=r.length-1,a="",s=r[0];if(i>0){for(a+=s,e=1;e<i;e++)n=r[e]+"",t=Mr-n.length,t&&(a+=tu(t)),a+=n;s=r[e],n=s+"",t=Mr-n.length,t&&(a+=tu(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ho=(function(){function r(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Nn|0,s=a/Nn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function t(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Nn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,h,p,m,g,y,x,E,S,w,T,_,O,A,I,k=n.constructor,N=n.s==i.s?1:-1,B=n.d,R=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(qa+"Division by zero");for(l=n.e-i.e,A=R.length,_=B.length,m=new k(N),g=m.d=[],u=0;R[u]==(B[u]||0);)++u;if(R[u]>(B[u]||0)&&--l,a==null?S=a=k.precision:s?S=a+(vn(n)-vn(i))+1:S=a,S<0)return new k(0);if(S=S/Mr+2|0,u=0,A==1)for(c=0,R=R[0],S++;(u<_||c)&&S--;u++)w=c*Nn+(B[u]||0),g[u]=w/R|0,c=w%R|0;else{for(c=Nn/(R[0]+1)|0,c>1&&(R=r(R,c),B=r(B,c),A=R.length,_=B.length),T=A,y=B.slice(0,A),x=y.length;x<A;)y[x++]=0;I=R.slice(),I.unshift(0),O=R[0],R[1]>=Nn/2&&++O;do c=0,o=e(R,y,A,x),o<0?(E=y[0],A!=x&&(E=E*Nn+(y[1]||0)),c=E/O|0,c>1?(c>=Nn&&(c=Nn-1),h=r(R,c),p=h.length,x=y.length,o=e(h,y,p,x),o==1&&(c--,t(h,A<p?I:R,p))):(c==0&&(o=c=1),h=R.slice()),p=h.length,p<x&&h.unshift(0),t(y,h,x),o==-1&&(x=y.length,o=e(R,y,A,x),o<1&&(c++,t(y,A<x?I:R,x))),x=y.length):o===0&&(c++,y=[0]),g[u++]=c,o&&y[0]?y[x++]=B[T]||0:(y=[B[T]],x=1);while((T++<_||y[0]!==void 0)&&S--)}return g[0]||g.shift(),m.e=l,Ar(m,s?a+vn(m)+1:a)}})();function B$(r,e){var t,n,i,a,s,o,l=0,u=0,c=r.constructor,h=c.precision;if(vn(r)>16)throw Error(uO+vn(r));if(!r.s)return new c(ba);for(Gr=!1,o=h,s=new c(.03125);r.abs().gte(.1);)r=r.times(s),u+=5;for(n=Math.log(Ju(2,u))/Math.LN10*2+5|0,o+=n,t=i=a=new c(ba),c.precision=o;;){if(i=Ar(i.times(r),o),t=t.times(++l),s=a.plus(Ho(i,t,o)),Gs(s.d).slice(0,o)===Gs(a.d).slice(0,o)){for(;u--;)a=Ar(a.times(a),o);return c.precision=h,e==null?(Gr=!0,Ar(a,h)):a}a=s}}function vn(r){for(var e=r.e*Mr,t=r.d[0];t>=10;t/=10)e++;return e}function hw(r,e,t){if(e>r.LN10.sd())throw Gr=!0,t&&(r.precision=t),Error(qa+"LN10 precision limit exceeded");return Ar(new r(r.LN10),e)}function tu(r){for(var e="";r--;)e+="0";return e}function L0(r,e){var t,n,i,a,s,o,l,u,c,h=1,p=10,m=r,g=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(qa+(m.s?"NaN":"-Infinity"));if(m.eq(ba))return new y(0);if(e==null?(Gr=!1,u=x):u=e,m.eq(10))return e==null&&(Gr=!0),hw(y,u);if(u+=p,y.precision=u,t=Gs(g),n=t.charAt(0),a=vn(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)m=m.times(r),t=Gs(m.d),n=t.charAt(0),h++;a=vn(m),n>1?(m=new y("0."+t),a++):m=new y(n+"."+t.slice(1))}else return l=hw(y,u+2,x).times(a+""),m=L0(new y(n+"."+t.slice(1)),u-p).plus(l),y.precision=x,e==null?(Gr=!0,Ar(m,x)):m;for(o=s=m=Ho(m.minus(ba),m.plus(ba),u),c=Ar(m.times(m),u),i=3;;){if(s=Ar(s.times(c),u),l=o.plus(Ho(s,new y(i),u)),Gs(l.d).slice(0,u)===Gs(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(hw(y,u+2,x).times(a+""))),o=Ho(o,new y(h),u),y.precision=x,e==null?(Gr=!0,Ar(o,x)):o;o=l,i+=2}}function a3(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,t=t-n-1,r.e=Mh(t/Mr),r.d=[],n=(t+1)%Mr,t<0&&(n+=Mr),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Mr;n<i;)r.d.push(+e.slice(n,n+=Mr));e=e.slice(n),n=Mr-e.length}else n-=i;for(;n--;)e+="0";if(r.d.push(+e),Gr&&(r.e>by||r.e<-by))throw Error(uO+t)}else r.s=0,r.e=0,r.d=[0];return r}function Ar(r,e,t){var n,i,a,s,o,l,u,c,h=r.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Mr,i=e,u=h[c=0];else{if(c=Math.ceil((n+1)/Mr),a=h.length,c>=a)return r;for(u=a=h[c],s=1;a>=10;a/=10)s++;n%=Mr,i=n-Mr+s}if(t!==void 0&&(a=Ju(10,s-i-1),o=u/a%10|0,l=e<0||h[c+1]!==void 0||u%a,l=t<4?(o||l)&&(t==0||t==(r.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(n>0?i>0?u/Ju(10,s-i):0:h[c-1])%10&1||t==(r.s<0?8:7))),e<1||!h[0])return l?(a=vn(r),h.length=1,e=e-a-1,h[0]=Ju(10,(Mr-e%Mr)%Mr),r.e=Mh(-e/Mr)||0):(h.length=1,h[0]=r.e=r.s=0),r;if(n==0?(h.length=c,a=1,c--):(h.length=c+1,a=Ju(10,Mr-n),h[c]=i>0?(u/Ju(10,s-i)%Ju(10,i)|0)*a:0),l)for(;;)if(c==0){(h[0]+=a)==Nn&&(h[0]=1,++r.e);break}else{if(h[c]+=a,h[c]!=Nn)break;h[c--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Gr&&(r.e>by||r.e<-by))throw Error(uO+vn(r));return r}function U$(r,e){var t,n,i,a,s,o,l,u,c,h,p=r.constructor,m=p.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new p(r),Gr?Ar(e,m):e;if(l=r.d,h=e.d,n=e.e,u=r.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(t=l,s=-s,o=h.length):(t=h,n=u,o=l.length),i=Math.max(Math.ceil(m/Mr),o)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=h.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}s=0}for(c&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Nn-1;--l[a],l[i]+=Nn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Gr?Ar(e,m):e):new p(0)}function _c(r,e,t){var n,i=vn(r),a=Gs(r.d),s=a.length;return e?(t&&(n=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+tu(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+tu(-i-1)+a,t&&(n=t-s)>0&&(a+=tu(n))):i>=s?(a+=tu(i+1-s),t&&(n=t-i-1)>0&&(a=a+"."+tu(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-s)>0&&(i+1===s&&(a+="."),a+=tu(n))),r.s<0?"-"+a:a}function s3(r,e){if(r.length>e)return r.length=e,!0}function j$(r){var e,t,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return a3(s,a.toString())}else if(typeof a!="string")throw Error(vc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Bse.test(a))a3(s,a);else throw Error(vc+a)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j$,i.config=i.set=Use,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function Use(r){if(!r||typeof r!="object")throw Error(qa+"Object expected");var e,t,n,i=["precision",1,Lh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=r[t=i[e]])!==void 0)if(Mh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(vc+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(vc+t+": "+n);return this}var cO=j$(Fse);ba=new cO(1);const dr=cO;var jse=r=>r,$$={},H$=r=>r===$$,o3=r=>function e(){return arguments.length===0||arguments.length===1&&H$(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},G$=(r,e)=>r===1?e:o3(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.filter(s=>s!==$$).length;return a>=r?e(...n):G$(r-a,o3(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>H$(c)?o.shift():c);return e(...u,...o)}))}),$se=r=>G$(r.length,r),e2=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},Hse=$se((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),Gse=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return jse;var i=t.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},t2=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join("");function W$(r){var e;return r===0?e=1:e=Math.floor(new dr(r).abs().log(10).toNumber())+1,e}function K$(r,e,t){for(var n=new dr(r),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(t),i++;return a}var Y$=r=>{var[e,t]=r,[n,i]=[e,t];return e>t&&([n,i]=[t,e]),[n,i]},z$=(r,e,t)=>{if(r.lte(0))return new dr(0);var n=W$(r.toNumber()),i=new dr(10).pow(n),a=r.div(i),s=n!==1?.05:.1,o=new dr(Math.ceil(a.div(s).toNumber())).add(t).mul(s),l=o.mul(i);return e?new dr(l.toNumber()):new dr(Math.ceil(l.toNumber()))},Wse=(r,e,t)=>{var n=new dr(1),i=new dr(r);if(!i.isint()&&t){var a=Math.abs(r);a<1?(n=new dr(10).pow(W$(r)-1),i=new dr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new dr(Math.floor(r)))}else r===0?i=new dr(Math.floor((e-1)/2)):t||(i=new dr(Math.floor(r)));var s=Math.floor((e-1)/2),o=Gse(Hse(l=>i.add(new dr(l-s).mul(n)).toNumber()),e2);return o(0,e)},V$=function(e,t,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new dr(0),tickMin:new dr(0),tickMax:new dr(0)};var s=z$(new dr(t).sub(e).div(n-1),i,a),o;e<=0&&t>=0?o=new dr(0):(o=new dr(e).add(t).div(2),o=o.sub(new dr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new dr(t).sub(o).div(s).toNumber()),c=l+u+1;return c>n?V$(e,t,n,i,a+1):(c<n&&(u=t>0?u+(n-c):u,l=t>0?l:l+(n-c)),{step:s,tickMin:o.sub(new dr(l).mul(s)),tickMax:o.add(new dr(u).mul(s))})},Kse=function(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=Y$([t,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...e2(0,i-1).map(()=>1/0)]:[...e2(0,i-1).map(()=>-1/0),l];return t>n?t2(u):u}if(o===l)return Wse(o,i,a);var{step:c,tickMin:h,tickMax:p}=V$(o,l,s,a,0),m=K$(h,p.add(new dr(.1).mul(c)),c);return t>n?t2(m):m},Yse=function(e,t){var[n,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=Y$([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(t,2),u=z$(new dr(o).sub(s).div(l-1),a,0),c=[...K$(new dr(s),new dr(o),u),o];return a===!1&&(c=c.map(h=>Math.round(h))),n>i?t2(c):c},zse=r=>r.rootProps.barCategoryGap,r1=r=>r.rootProps.stackOffset,q$=r=>r.rootProps.reverseStackOrder,fO=r=>r.options.chartName,hO=r=>r.rootProps.syncId,X$=r=>r.rootProps.syncMethod,dO=r=>r.options.eventEmitter,Ai={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},No={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},n1=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},Vse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:No.angleAxisId,includeHidden:!1,name:void 0,reversed:No.reversed,scale:No.scale,tick:No.tick,tickCount:void 0,ticks:void 0,type:No.type,unit:void 0},qse={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},Xse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:No.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:No.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:No.scale,tick:No.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Qse={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:"category",unit:void 0},pO=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?Xse:Vse,mO=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?Qse:qse,i1=r=>r.polarOptions,gO=ze([hl,dl,li],Yne),Q$=ze([i1,gO],(r,e)=>{if(r!=null)return mu(r.innerRadius,e,0)}),Z$=ze([i1,gO],(r,e)=>{if(r!=null)return mu(r.outerRadius,e,e*.8)}),Zse=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},J$=ze([i1],Zse);ze([pO,J$],n1);var e9=ze([gO,Q$,Z$],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});ze([mO,e9],n1);var t9=ze([Br,i1,Q$,Z$,hl,dl],(r,e,t,n,i,a)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=e;return{cx:mu(s,i,i/2),cy:mu(o,a,a/2),innerRadius:t,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),On=(r,e)=>e,a1=(r,e,t)=>t;function r9(r){return r?.id}function n9(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=t,s=new Map;return r.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=r9(o);u.forEach((h,p)=>{var m=a==null||i?p:String(gi(h,a,null)),g=gi(h,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[c]:g}),s.set(m,y)})}}),Array.from(s.values())}function vO(r){return r.stackId!=null&&r.dataKey!=null}var s1=(r,e)=>r===e?!0:r==null||e==null?!1:r[0]===e[0]&&r[1]===e[1];function o1(r,e){return Array.isArray(r)&&Array.isArray(e)&&r.length===0&&e.length===0?!0:r===e}function Jse(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}return!1}var Cn=r=>{var e=Br(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Nh=r=>r.tooltip.settings.axisId;function l3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Sy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(t),!0).forEach(function(n){eoe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):l3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function eoe(r,e,t){return(e=toe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function toe(r){var e=roe(r,"string");return typeof e=="symbol"?e:e+""}function roe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var r2=[0,"auto"],Ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},i9=(r,e)=>r.cartesianAxis.xAxis[e],ml=(r,e)=>{var t=i9(r,e);return t??Ln},Mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:r2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hp},a9=(r,e)=>r.cartesianAxis.yAxis[e],gl=(r,e)=>{var t=a9(r,e);return t??Mn},noe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yO=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??noe},Pi=(r,e,t)=>{switch(e){case"xAxis":return ml(r,t);case"yAxis":return gl(r,t);case"zAxis":return yO(r,t);case"angleAxis":return pO(r,t);case"radiusAxis":return mO(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},ioe=(r,e,t)=>{switch(e){case"xAxis":return ml(r,t);case"yAxis":return gl(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},xp=(r,e,t)=>{switch(e){case"xAxis":return ml(r,t);case"yAxis":return gl(r,t);case"angleAxis":return pO(r,t);case"radiusAxis":return mO(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},s9=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function o9(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var l9=r=>r.graphicalItems.cartesianItems,aoe=ze([On,a1],o9),u9=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),bp=ze([l9,Pi,aoe],u9,{memoizeOptions:{resultEqualityCheck:o1}}),c9=ze([bp],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(vO)),f9=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),soe=ze([bp],f9),h9=r=>r.map(e=>e.data).filter(Boolean).flat(1),ooe=ze([bp],h9,{memoizeOptions:{resultEqualityCheck:o1}}),d9=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:i}=e;return r.length>0?r:t.slice(n,i+1)},xO=ze([ooe,lO],d9),p9=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:gi(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(i=>({value:gi(i,n)}))):r.map(n=>({value:n})),l1=ze([xO,Pi,bp],p9);function m9(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function wv(r){if(Zs(r)||r instanceof Date){var e=Number(r);if($n(e))return e}}function u3(r){if(Array.isArray(r)){var e=[wv(r[0]),wv(r[1])];return gu(e)?e:void 0}var t=wv(r);if(t!=null)return[t,t]}function il(r){return r.map(wv).filter(JZ)}function loe(r,e,t){return!t||typeof e!="number"||Qs(e)?[]:t.length?il(t.flatMap(n=>{var i=gi(r,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!$n(a)||!$n(s)))return[e-a,e+s]})):[]}var In=r=>{var e=Cn(r),t=Nh(r);return xp(r,e,t)},Sp=ze([In],r=>r?.dataKey),uoe=ze([c9,lO,In],n9),g9=(r,e,t,n)=>{var i={},a=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(r9);return[o,{stackedData:Tte(r,c,t),graphicalItems:u}]}))},coe=ze([uoe,c9,r1,q$],g9),v9=(r,e,t,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&t!=="zAxis"){var s=Ote(r,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},foe=ze([Pi],r=>r.allowDataOverflow),bO=r=>{var e;if(r==null||!("domain"in r))return r2;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var t=il(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:r2},y9=ze([Pi],bO),x9=ze([y9,foe],M$),hoe=ze([coe,Cu,On,x9],v9,{memoizeOptions:{resultEqualityCheck:s1}}),SO=r=>r.errorBars,doe=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>m9(t,n)),Ey=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},b9=(r,e,t,n,i)=>{var a,s;if(t.length>0&&r.forEach(o=>{t.forEach(l=>{var u,c,h=(u=n[l.id])===null||u===void 0?void 0:u.filter(E=>m9(i,E)),p=gi(o,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),m=loe(o,p,h);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var x=u3(p);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),e?.dataKey!=null&&r.forEach(o=>{var l=u3(gi(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),$n(a)&&$n(s))return[a,s]},poe=ze([xO,Pi,soe,SO,On],b9,{memoizeOptions:{resultEqualityCheck:s1}});function moe(r){var{value:e}=r;if(Zs(e)||e instanceof Date)return e}var goe=(r,e,t)=>{var n=r.map(moe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&R5(n))?e$(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},S9=r=>r.referenceElements.dots,Fh=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),voe=ze([S9,On,a1],Fh),E9=r=>r.referenceElements.areas,yoe=ze([E9,On,a1],Fh),w9=r=>r.referenceElements.lines,xoe=ze([w9,On,a1],Fh),_9=(r,e)=>{var t=il(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},boe=ze(voe,On,_9),T9=(r,e)=>{var t=il(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},Soe=ze([yoe,On],T9);function Eoe(r){var e;if(r.x!=null)return il([r.x]);var t=(e=r.segment)===null||e===void 0?void 0:e.map(n=>n.x);return t==null||t.length===0?[]:il(t)}function woe(r){var e;if(r.y!=null)return il([r.y]);var t=(e=r.segment)===null||e===void 0?void 0:e.map(n=>n.y);return t==null||t.length===0?[]:il(t)}var A9=(r,e)=>{var t=r.flatMap(n=>e==="xAxis"?Eoe(n):woe(n));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},_oe=ze([xoe,On],A9),Toe=ze(boe,_oe,Soe,(r,e,t)=>Ey(r,t,e)),D9=(r,e,t,n,i,a,s,o)=>{if(t!=null)return t;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Ey(n,a,i):Ey(a,i);return Nse(e,u,r.allowDataOverflow)},Aoe=ze([Pi,y9,x9,hoe,poe,Toe,Br,On],D9,{memoizeOptions:{resultEqualityCheck:s1}}),Doe=[0,1],O9=(r,e,t,n,i,a,s)=>{if(!((r==null||t==null||t.length===0)&&s===void 0)){var{dataKey:o,type:l}=r,u=Au(e,a);if(u&&o==null){var c;return e$(0,(c=t?.length)!==null&&c!==void 0?c:0)}return l==="category"?goe(n,r,u):i==="expand"?Doe:s}},EO=ze([Pi,Br,xO,l1,r1,On,Aoe],O9),C9=(r,e,t,n,i)=>{if(r!=null){var{scale:a,type:s}=r;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(op(a));return o in r0?o:"point"}}},Ep=ze([Pi,Br,s9,fO,On],C9);function Ooe(r){if(r!=null){if(r in r0)return r0[r]();var e="scale".concat(op(r));if(e in r0)return r0[e]()}}function wO(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var i=Ooe(e);if(i!=null){var a=i.domain(t).range(n);return Ste(a),a}}}var I9=(r,e,t)=>{var n=bO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&gu(r))return Kse(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gu(r))return Yse(r,e.tickCount,e.allowDecimals)}},_O=ze([EO,xp,Ep],I9),R9=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&gu(e)&&Array.isArray(t)&&t.length>0){var i=e[0],a=t[0],s=e[1],o=t[t.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},Coe=ze([Pi,EO,_O,On],R9),Ioe=ze(l1,Pi,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(il(r.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];t=Math.min(t,s)}return t/i}}),k9=ze(Ioe,Br,zse,li,(r,e,t,n)=>n,(r,e,t,n,i)=>{if(!$n(r))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return r*a/2;if(i==="no-gap"){var s=mu(t,r*a),o=r*a/2;return o-s-(o-s)/a*s}return 0}),Roe=(r,e)=>{var t=ml(r,e);return t==null||typeof t.padding!="string"?0:k9(r,"xAxis",e,t.padding)},koe=(r,e)=>{var t=gl(r,e);return t==null||typeof t.padding!="string"?0:k9(r,"yAxis",e,t.padding)},Poe=ze(ml,Roe,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:i}=r;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Loe=ze(gl,koe,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:i}=r;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Moe=ze([li,Poe,Gx,Hx,(r,e,t)=>t],(r,e,t,n,i)=>{var{padding:a}=n;return i?[a.left,t.width-a.right]:[r.left+e.left,r.left+r.width-e.right]}),Noe=ze([li,Br,Loe,Gx,Hx,(r,e,t)=>t],(r,e,t,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),wp=(r,e,t,n)=>{var i;switch(e){case"xAxis":return Moe(r,t,n);case"yAxis":return Noe(r,t,n);case"zAxis":return(i=yO(r,t))===null||i===void 0?void 0:i.range;case"angleAxis":return J$(r);case"radiusAxis":return e9(r,t);default:return}},P9=ze([Pi,wp],n1),Bh=ze([Pi,Ep,Coe,P9],wO);ze([bp,SO,On],doe);function L9(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var u1=(r,e)=>e,c1=(r,e,t)=>t,Foe=ze(jx,u1,c1,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(L9)),Boe=ze($x,u1,c1,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(L9)),M9=(r,e)=>({width:r.width,height:e.height}),Uoe=(r,e)=>{var t=typeof e.width=="number"?e.width:hp;return{width:t,height:r.height}},joe=ze(li,ml,M9),$oe=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},Hoe=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},Goe=ze(dl,li,Foe,u1,c1,(r,e,t,n,i)=>{var a={},s;return t.forEach(o=>{var l=M9(e,o);s==null&&(s=$oe(e,n,r));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),Woe=ze(hl,li,Boe,u1,c1,(r,e,t,n,i)=>{var a={},s;return t.forEach(o=>{var l=Uoe(e,o);s==null&&(s=Hoe(e,n,r));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Koe=(r,e)=>{var t=ml(r,e);if(t!=null)return Goe(r,t.orientation,t.mirror)},Yoe=ze([li,ml,Koe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var i=t?.[n];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}}),zoe=(r,e)=>{var t=gl(r,e);if(t!=null)return Woe(r,t.orientation,t.mirror)},Voe=ze([li,gl,zoe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var i=t?.[n];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}}),qoe=ze(li,gl,(r,e)=>{var t=typeof e.width=="number"?e.width:hp;return{width:t,height:r.height}}),N9=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=t,o=Au(r,n),l=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&R5(l))return l}},TO=ze([Br,l1,Pi,On],N9),F9=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:a}=t,s=Au(r,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},AO=ze([Br,l1,xp,On],F9),c3=ze([Br,ioe,Ep,Bh,TO,AO,wp,_O,On],(r,e,t,n,i,a,s,o,l)=>{if(e!=null){var u=Au(r,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:t,scale:n}}}),Xoe=(r,e,t,n,i,a,s,o,l)=>{if(!(e==null||n==null)){var u=Au(r,l),{type:c,ticks:h,tickCount:p}=e,m=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Ya(a[0]-a[1])*2*g:g;var y=h||i;if(y){var x=y.map((E,S)=>{var w=s?s.indexOf(E):E;return{index:S,coordinate:n(w)+g,value:E,offset:g}});return x.filter(E=>$n(E.coordinate))}return u&&o?o.map((E,S)=>({coordinate:n(E)+g,value:E,index:S,offset:g})).filter(E=>$n(E.coordinate)):n.ticks?n.ticks(p).map(E=>({coordinate:n(E)+g,value:E,offset:g})):n.domain().map((E,S)=>({coordinate:n(E)+g,value:s?s[E]:E,index:S,offset:g}))}},B9=ze([Br,xp,Ep,Bh,_O,wp,TO,AO,On],Xoe),Qoe=(r,e,t,n,i,a,s)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var o=Au(r,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&n?.length>=2?Ya(n[0]-n[1])*2*u:u,o&&a?a.map((c,h)=>({coordinate:t(c)+u,value:c,index:h,offset:u})):t.ticks?t.ticks(l).map(c=>({coordinate:t(c)+u,value:c,offset:u})):t.domain().map((c,h)=>({coordinate:t(c)+u,value:i?i[c]:c,index:h,offset:u}))}},U9=ze([Br,xp,Bh,wp,TO,AO,On],Qoe),j9=ze(Pi,Bh,(r,e)=>{if(!(r==null||e==null))return Sy(Sy({},r),{},{scale:e})}),Zoe=ze([Pi,Ep,EO,P9],wO);ze((r,e,t)=>yO(r,t),Zoe,(r,e)=>{if(!(r==null||e==null))return Sy(Sy({},r),{},{scale:e})});var Joe=ze([Br,jx,$x],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$9=r=>r.options.defaultTooltipEventType,H9=r=>r.options.validateTooltipEventTypes;function G9(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function DO(r,e){var t=$9(r),n=H9(r);return G9(e,t,n)}function ele(r){return Ct(e=>DO(e,r))}var W9=(r,e)=>{var t,n=Number(e);if(!(Qs(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},tle=r=>r.tooltip.settings,au={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},rle={itemInteraction:{click:au,hover:au},axisInteraction:{click:au,hover:au},keyboardInteraction:au,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},K9=Zi({name:"tooltip",initialState:rle,reducers:{addTooltipEntrySettings:{reducer(r,e){r.tooltipItemPayloads.push(e.payload)},prepare:Hr()},replaceTooltipEntrySettings:{reducer(r,e){var{prev:t,next:n}=e.payload,i=ys(r).tooltipItemPayloads.indexOf(t);i>-1&&(r.tooltipItemPayloads[i]=n)},prepare:Hr()},removeTooltipEntrySettings:{reducer(r,e){var t=ys(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},prepare:Hr()},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:nle,replaceTooltipEntrySettings:ile,removeTooltipEntrySettings:ale,setTooltipSettingsState:sle,setActiveMouseOverItemIndex:ole,mouseLeaveItem:hIe,mouseLeaveChart:Y9,setActiveClickItemIndex:dIe,setMouseOverAxisIndex:z9,setMouseClickAxisIndex:lle,setSyncInteraction:n2,setKeyboardInteraction:i2}=K9.actions,ule=K9.reducer;function f3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(t),!0).forEach(function(n){cle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):f3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cle(r,e,t){return(e=fle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fle(r){var e=hle(r,"string");return typeof e=="symbol"?e:e+""}function hle(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dle(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function ple(r){return r.index!=null}var V9=(r,e,t,n)=>{if(e==null)return au;var i=dle(r,e,t);if(i==null)return au;if(i.active)return i;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var a=r.settings.active===!0;if(ple(i)){if(a)return hg(hg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return hg(hg({},au),{},{coordinate:i.coordinate})};function mle(r){if(typeof r=="number")return Number.isFinite(r)?r:void 0;if(r instanceof Date){var e=r.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(r);return Number.isFinite(t)?t:void 0}function gle(r,e){var t=mle(r),n=e[0],i=e[1];if(t===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return t>=a&&t<=s}function vle(r,e,t){if(t==null||e==null)return!0;var n=gi(r,e);return n==null||!gu(t)?!0:gle(n,t)}var OO=(r,e,t,n)=>{var i=r?.index;if(i==null)return null;var a=Number(i);if(!$n(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(s,Math.min(a,o)),u=e[l];return u==null||vle(u,t,n)?String(l):null},q9=(r,e,t,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i?.[Number(a)];if(c)switch(t){case"horizontal":return{x:c.coordinate,y:(n.top+e)/2};default:return{x:(n.left+r)/2,y:c.coordinate}}}},X9=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=r.itemInteraction.hover.dataKey:i=r.itemInteraction.click.dataKey,i==null&&n!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},_p=r=>r.options.tooltipPayloadSearcher,Uh=r=>r.tooltip;function h3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function d3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(t),!0).forEach(function(n){yle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function yle(r,e,t){return(e=xle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xle(r){var e=ble(r,"string");return typeof e=="symbol"?e:e+""}function ble(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Sle(r,e){return r??e}var Q9=(r,e,t,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=t,h=[];return r.reduce((p,m)=>{var g,{dataDefinedOnItem:y,settings:x}=m,E=Sle(y,o),S=Array.isArray(E)?Aj(E,u,c):E,w=(g=x?.dataKey)!==null&&g!==void 0?g:n,T=x?.nameKey,_;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&s==="axis"?_=k5(S,n,i):_=a(S,e,l,T),Array.isArray(_))_.forEach(A=>{var I=d3(d3({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(PN({tooltipEntrySettings:I,dataKey:A.dataKey,payload:A.payload,value:gi(A.payload,A.dataKey),name:A.name}))});else{var O;p.push(PN({tooltipEntrySettings:x,dataKey:w,payload:_,value:gi(_,w),name:(O=gi(_,T))!==null&&O!==void 0?O:x?.name}))}return p},h)}},CO=ze([In,Br,s9,fO,Cn],C9),Ele=ze([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),wle=ze([Cn,Nh],o9),Tp=ze([Ele,In,wle],u9,{memoizeOptions:{resultEqualityCheck:o1}}),_le=ze([Tp],r=>r.filter(vO)),Tle=ze([Tp],h9,{memoizeOptions:{resultEqualityCheck:o1}}),jh=ze([Tle,Cu],d9),Ale=ze([_le,Cu,In],n9),IO=ze([jh,In,Tp],p9),Z9=ze([In],bO),Dle=ze([In],r=>r.allowDataOverflow),J9=ze([Z9,Dle],M$),Ole=ze([Tp],r=>r.filter(vO)),Cle=ze([Ale,Ole,r1,q$],g9),Ile=ze([Cle,Cu,Cn,J9],v9),Rle=ze([Tp],f9),kle=ze([jh,In,Rle,SO,Cn],b9,{memoizeOptions:{resultEqualityCheck:s1}}),Ple=ze([S9,Cn,Nh],Fh),Lle=ze([Ple,Cn],_9),Mle=ze([E9,Cn,Nh],Fh),Nle=ze([Mle,Cn],T9),Fle=ze([w9,Cn,Nh],Fh),Ble=ze([Fle,Cn],A9),Ule=ze([Lle,Ble,Nle],Ey),jle=ze([In,Z9,J9,Ile,kle,Ule,Br,Cn],D9),Ap=ze([In,Br,jh,IO,r1,Cn,jle],O9),$le=ze([Ap,In,CO],I9),Hle=ze([In,Ap,$le,Cn],R9),e7=r=>{var e=Cn(r),t=Nh(r),n=!1;return wp(r,e,t,n)},t7=ze([In,e7],n1),r7=ze([In,CO,Hle,t7],wO),Gle=ze([Br,IO,In,Cn],N9),Wle=ze([Br,IO,In,Cn],F9),Kle=(r,e,t,n,i,a,s,o)=>{if(e){var{type:l}=e,u=Au(r,o);if(n){var c=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return h=o==="angleAxis"&&i!=null&&i?.length>=2?Ya(i[0]-i[1])*2*h:h,u&&s?s.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:a?a[p]:p,index:m,offset:h}))}}},vl=ze([Br,In,CO,r7,e7,Gle,Wle,Cn],Kle),RO=ze([$9,H9,tle],(r,e,t)=>G9(t.shared,r,e)),n7=r=>r.tooltip.settings.trigger,kO=r=>r.tooltip.settings.defaultIndex,Dp=ze([Uh,RO,n7,kO],V9),M0=ze([Dp,jh,Sp,Ap],OO),i7=ze([vl,M0],W9),Yle=ze([Dp],r=>{if(r)return r.dataKey});ze([Dp],r=>{if(r)return r.graphicalItemId});var a7=ze([Uh,RO,n7,kO],X9),zle=ze([hl,dl,Br,li,vl,kO,a7,_p],q9),Vle=ze([Dp,zle],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),qle=ze([Dp],r=>r.active),Xle=ze([a7,M0,Cu,Sp,i7,_p,RO],Q9),Qle=ze([Xle],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function p3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function m3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(t),!0).forEach(function(n){Zle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zle(r,e,t){return(e=Jle(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Jle(r){var e=eue(r,"string");return typeof e=="symbol"?e:e+""}function eue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var tue=()=>Ct(In),rue=()=>{var r=tue(),e=Ct(vl),t=Ct(r7);return ty(!r||!t?void 0:m3(m3({},r),{},{scale:t}),e)};function g3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Af(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(t),!0).forEach(function(n){nue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):g3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function nue(r,e,t){return(e=iue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function iue(r){var e=aue(r,"string");return typeof e=="symbol"?e:e+""}function aue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var sue=(r,e,t,n)=>{var i=e.find(a=>a&&a.index===t);if(i){if(r==="horizontal")return{x:i.coordinate,y:n.chartY};if(r==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},oue=(r,e,t,n)=>{var i=e.find(u=>u&&u.index===t);if(i){if(r==="centric"){var a=i.coordinate,{radius:s}=n;return Af(Af(Af({},n),ai(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Af(Af(Af({},n),ai(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lue(r,e){var{chartX:t,chartY:n}=r;return t>=e.left&&t<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var s7=(r,e,t,n,i)=>{var a,s=-1,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||r==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,c=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,p=void 0;if(Ya(c-u)!==Ya(h-c)){var m=[];if(Ya(h-c)===Ya(i[1]-i[0])){p=h;var g=c+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=h+i[1]-i[0];m[0]=Math.min(c,(y+c)/2),m[1]=Math.max(c,(y+c)/2)}var x=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(r>x[0]&&r<=x[1]||r>=m[0]&&r<=m[1]){({index:s}=t[l]);break}}else{var E=Math.min(u,h),S=Math.max(u,h);if(r>(E+c)/2&&r<=(S+c)/2){({index:s}=t[l]);break}}}else if(e){for(var w=0;w<o;w++)if(w===0&&r<=(e[w].coordinate+e[w+1].coordinate)/2||w>0&&w<o-1&&r>(e[w].coordinate+e[w-1].coordinate)/2&&r<=(e[w].coordinate+e[w+1].coordinate)/2||w===o-1&&r>(e[w].coordinate+e[w-1].coordinate)/2){({index:s}=e[w]);break}}return s},uue=()=>Ct(fO),PO=(r,e)=>e,o7=(r,e,t)=>t,LO=(r,e,t,n)=>n,cue=ze(vl,r=>Rx(r,e=>e.coordinate)),MO=ze([Uh,PO,o7,LO],V9),NO=ze([MO,jh,Sp,Ap],OO),fue=(r,e,t)=>{if(e!=null){var n=Uh(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},l7=ze([Uh,PO,o7,LO],X9),wy=ze([hl,dl,Br,li,vl,LO,l7,_p],q9),hue=ze([MO,wy],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),u7=ze([vl,NO],W9),due=ze([l7,NO,Cu,Sp,u7,_p,PO],Q9),pue=ze([MO,NO],(r,e)=>({isActive:r.active&&e!=null,activeIndex:e})),mue=(r,e,t,n,i,a,s)=>{if(!(!r||!t||!n||!i)&&lue(r,s)){var o=Cte(r,e),l=s7(o,a,i,t,n),u=sue(e,i,l,r);return{activeIndex:String(l),activeCoordinate:u}}},gue=(r,e,t,n,i,a,s)=>{if(!(!r||!n||!i||!a||!t)){var o=Qne(r,t);if(o){var l=Ite(o,e),u=s7(l,s,a,n,i),c=oue(e,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},vue=(r,e,t,n,i,a,s,o)=>{if(!(!r||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?mue(r,e,n,i,a,s,o):gue(r,e,t,n,i,a,s)},yue=ze(r=>r.zIndex.zIndexMap,(r,e)=>e,(r,e,t)=>t,(r,e,t)=>{if(e!=null){var n=r[e];if(n!=null)return t?n.panoramaElementId:n.elementId}}),xue=ze(r=>r.zIndex.zIndexMap,r=>{var e=Object.keys(r).map(n=>parseInt(n,10)).concat(Object.values(Ai)),t=Array.from(new Set(e));return t.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Jse}});function v3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function y3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(t),!0).forEach(function(n){bue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):v3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function bue(r,e,t){return(e=Sue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Sue(r){var e=Eue(r,"string");return typeof e=="symbol"?e:e+""}function Eue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var wue={},_ue={zIndexMap:Object.values(Ai).reduce((r,e)=>y3(y3({},r),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),wue)},Tue=new Set(Object.values(Ai));function Aue(r){return Tue.has(r)}var c7=Zi({name:"zIndex",initialState:_ue,reducers:{registerZIndexPortal:{reducer:(r,e)=>{var{zIndex:t}=e.payload;r.zIndexMap[t]?r.zIndexMap[t].consumers+=1:r.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Hr()},unregisterZIndexPortal:{reducer:(r,e)=>{var{zIndex:t}=e.payload;r.zIndexMap[t]&&(r.zIndexMap[t].consumers-=1,r.zIndexMap[t].consumers<=0&&!Aue(t)&&delete r.zIndexMap[t])},prepare:Hr()},registerZIndexPortalId:{reducer:(r,e)=>{var{zIndex:t,elementId:n,isPanorama:i}=e.payload;r.zIndexMap[t]?i?r.zIndexMap[t].panoramaElementId=n:r.zIndexMap[t].elementId=n:r.zIndexMap[t]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Hr()},unregisterZIndexPortalId:{reducer:(r,e)=>{var{zIndex:t}=e.payload;r.zIndexMap[t]&&(e.payload.isPanorama?r.zIndexMap[t].panoramaElementId=void 0:r.zIndexMap[t].elementId=void 0)},prepare:Hr()}}}),{registerZIndexPortal:Due,unregisterZIndexPortal:Oue,registerZIndexPortalId:Cue,unregisterZIndexPortalId:Iue}=c7.actions,Rue=c7.reducer;function yl(r){var{zIndex:e,children:t}=r,n=ure(),i=n&&e!==void 0&&e!==0,a=Ji(),s=xn();L.useLayoutEffect(()=>i?(s(Due({zIndex:e})),()=>{s(Oue({zIndex:e}))}):lp,[s,e,i]);var o=Ct(u=>yue(u,e,a));if(!i)return t;if(!o)return null;var l=document.getElementById(o);return l?ip.createPortal(t,l):null}function a2(){return a2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a2.apply(null,arguments)}function x3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x3(Object(t),!0).forEach(function(n){kue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):x3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kue(r,e,t){return(e=Pue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Pue(r){var e=Lue(r,"string");return typeof e=="symbol"?e:e+""}function Lue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Mue(r){var{cursor:e,cursorComp:t,cursorProps:n}=r;return L.isValidElement(e)?L.cloneElement(e,n):L.createElement(t,n)}function Nue(r){var e,{coordinate:t,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=r,h=t,p=n,m=i;if(!l||!h||c!=="ScatterChart"&&u!=="axis")return null;var g,y,x;if(c==="ScatterChart")g=h,y=fne,x=Ai.cursorLine;else if(c==="BarChart")g=hne(o,h,a,s),y=Xj,x=Ai.cursorRectangle;else if(o==="radial"&&L5(h)){var{cx:E,cy:S,radius:w,startAngle:T,endAngle:_}=Qj(h);g={cx:E,cy:S,startAngle:T,endAngle:_,innerRadius:w,outerRadius:w},y=Jj,x=Ai.cursorLine}else g={points:tie(o,h,a)},y=Kj,x=Ai.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,A=dg(dg(dg(dg({stroke:"#ccc",pointerEvents:"none"},a),g),Ax(l)),{},{payload:p,payloadIndex:m,className:Bt("recharts-tooltip-cursor",O)});return L.createElement(yl,{zIndex:(e=r.zIndex)!==null&&e!==void 0?e:x},L.createElement(Mue,{cursor:l,cursorComp:y,cursorProps:A}))}function Fue(r){var e=rue(),t=Nj(),n=Kx(),i=uue();return e==null||t==null||n==null||i==null?null:L.createElement(Nue,a2({},r,{offset:t,layout:n,tooltipAxisBandSize:e,chartName:i}))}var f7=L.createContext(null),Bue=()=>L.useContext(f7),dw={exports:{}},b3;function Uue(){return b3||(b3=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,h,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,h||l,p),g=t?t+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=t?t+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,g=new Array(m);p<m;p++)g[p]=h[p].fn;return g},o.prototype.listenerCount=function(u){var c=t?t+u:u,h=this._events[c];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,c,h,p,m,g){var y=t?t+u:u;if(!this._events[y])return!1;var x=this._events[y],E=arguments.length,S,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,h),!0;case 4:return x.fn.call(x.context,c,h,p),!0;case 5:return x.fn.call(x.context,c,h,p,m),!0;case 6:return x.fn.call(x.context,c,h,p,m,g),!0}for(w=1,S=new Array(E-1);w<E;w++)S[w-1]=arguments[w];x.fn.apply(x.context,S)}else{var T=x.length,_;for(w=0;w<T;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),E){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,c);break;case 3:x[w].fn.call(x[w].context,c,h);break;case 4:x[w].fn.call(x[w].context,c,h,p);break;default:if(!S)for(_=1,S=new Array(E-1);_<E;_++)S[_-1]=arguments[_];x[w].fn.apply(x[w].context,S)}}return!0},o.prototype.on=function(u,c,h){return a(this,u,c,h,!1)},o.prototype.once=function(u,c,h){return a(this,u,c,h,!0)},o.prototype.removeListener=function(u,c,h,p){var m=t?t+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!h||g.context===h)&&s(this,m);else{for(var y=0,x=[],E=g.length;y<E;y++)(g[y].fn!==c||p&&!g[y].once||h&&g[y].context!==h)&&x.push(g[y]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(dw)),dw.exports}var jue=Uue();const $ue=ao(jue);var N0=new $ue,s2="recharts.syncEvent.tooltip",S3="recharts.syncEvent.brush";function Hue(r,e){if(e){var t=Number.parseInt(e,10);if(!Qs(t))return r?.[t]}}var Gue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},h7=Zi({name:"options",initialState:Gue,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wue=h7.reducer,{createEventEmitter:Kue}=h7.actions;function Yue(r){return r.tooltip.syncInteraction}var zue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d7=Zi({name:"chartData",initialState:zue,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:E3,setDataStartEndIndexes:Vue,setComputedData:pIe}=d7.actions,que=d7.reducer,Xue=["x","y"];function w3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Df(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(t),!0).forEach(function(n){Que(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):w3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Que(r,e,t){return(e=Zue(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zue(r){var e=Jue(r,"string");return typeof e=="symbol"?e:e+""}function Jue(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ece(r,e){if(r==null)return{};var t,n,i=tce(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function tce(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function rce(){var r=Ct(hO),e=Ct(dO),t=xn(),n=Ct(X$),i=Ct(vl),a=Kx(),s=Wx(),o=Ct(l=>l.rootProps.className);L.useEffect(()=>{if(r==null)return lp;var l=(u,c,h)=>{if(e!==h&&r===u){if(n==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,x=ece(m,Xue),{x:E,y:S,width:w,height:T}=c.payload.sourceViewBox,_=Df(Df({},x),{},{x:s.x+(w?(g-E)/w:0)*s.width,y:s.y+(T?(y-S)/T:0)*s.height});t(Df(Df({},c),{},{payload:Df(Df({},c.payload),{},{coordinate:_})}))}else t(c);return}if(i!=null){var O;if(typeof n=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},I=n(i,A);O=i[I]}else n==="value"&&(O=i.find(K=>String(K.value)===c.payload.label));var{coordinate:k}=c.payload;if(O==null||c.payload.active===!1||k==null||s==null){t(n2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:N,y:B}=k,R=Math.min(N,s.x+s.width),H=Math.min(B,s.y+s.height),X={x:a==="horizontal"?O.coordinate:R,y:a==="horizontal"?H:O.coordinate},Y=n2({active:c.payload.active,coordinate:X,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});t(Y)}}};return N0.on(s2,l),()=>{N0.off(s2,l)}},[o,t,e,r,n,i,a,s])}function nce(){var r=Ct(hO),e=Ct(dO),t=xn();L.useEffect(()=>{if(r==null)return lp;var n=(i,a,s)=>{e!==s&&r===i&&t(Vue(a))};return N0.on(S3,n),()=>{N0.off(S3,n)}},[t,e,r])}function ice(){var r=xn();L.useEffect(()=>{r(Kue())},[r]),rce(),nce()}function ace(r,e,t,n,i,a){var s=Ct(m=>fue(m,r,e)),o=Ct(dO),l=Ct(hO),u=Ct(X$),c=Ct(Yue),h=c?.active,p=Wx();L.useEffect(()=>{if(!h&&l!=null&&o!=null){var m=n2({active:a,coordinate:t,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});N0.emit(s2,l,m,o)}},[h,t,s,i,n,o,l,u,a,p])}function _3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function T3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(t),!0).forEach(function(n){sce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function sce(r,e,t){return(e=oce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function oce(r){var e=lce(r,"string");return typeof e=="symbol"?e:e+""}function lce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uce(r){return r.dataKey}function cce(r,e){return L.isValidElement(r)?L.cloneElement(r,e):typeof r=="function"?L.createElement(r,e):L.createElement(Wre,e)}var A3=[],fce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function D3(r){var e,t,n=xi(r,fce),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:h,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:E,shared:S,trigger:w,defaultIndex:T,portal:_,axisId:O}=n,A=xn(),I=typeof T=="number"?String(T):T;L.useEffect(()=>{A(sle({shared:S,trigger:w,axisId:O,active:i,defaultIndex:I}))},[A,S,w,O,i,I]);var k=Wx(),N=Wj(),B=ele(S),{activeIndex:R,isActive:H}=(e=Ct(ue=>pue(ue,B,w,I)))!==null&&e!==void 0?e:{},X=Ct(ue=>due(ue,B,w,I)),Y=Ct(ue=>u7(ue,B,w,I)),K=Ct(ue=>hue(ue,B,w,I)),z=X,Q=Bue(),se=(t=i??H)!==null&&t!==void 0?t:!1,[ae,W]=X5([z,se]),M=B==="axis"?Y:void 0;ace(B,w,K,M,R,se);var V=_??Q;if(V==null||k==null||B==null)return null;var ee=z??A3;se||(ee=A3),u&&ee.length&&(ee=K5(ee.filter(ue=>ue.value!=null&&(ue.hide!==!0||n.includeHidden)),p,uce));var Z=ee.length>0,me=L.createElement(Qre,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:se,coordinate:K,hasPayload:Z,offset:h,position:m,reverseDirection:g,useTranslate3d:y,viewBox:k,wrapperStyle:x,lastBoundingBox:ae,innerRef:W,hasPortalFromProps:!!_},cce(l,T3(T3({},n),{},{payload:ee,label:M,active:se,activeIndex:R,coordinate:K,accessibilityLayer:N})));return L.createElement(L.Fragment,null,ip.createPortal(me,V),se&&L.createElement(Fue,{cursor:E,tooltipEventType:B,coordinate:K,payload:ee,index:R}))}function hce(r,e,t){return(e=dce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dce(r){var e=pce(r,"string");return typeof e=="symbol"?e:e+""}function pce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class mce{constructor(e){hce(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function O3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(t),!0).forEach(function(n){vce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):O3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vce(r,e,t){return(e=yce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yce(r){var e=xce(r,"string");return typeof e=="symbol"?e:e+""}function xce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var bce={cacheSize:2e3,enableCache:!0},p7=gce({},bce),C3=new mce(p7.cacheSize),Sce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},I3="recharts_measurement_span";function Ece(r,e){var t=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var R3=(r,e)=>{try{var t=document.getElementById(I3);t||(t=document.createElement("span"),t.setAttribute("id",I3),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,Sce,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},u0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pp.isSsr)return{width:0,height:0};if(!p7.enableCache)return R3(e,t);var n=Ece(e,t),i=C3.get(n);if(i)return i;var a=R3(e,t);return C3.set(n,a),a},k3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,P3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_ce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tce=Object.keys(m7),Yf="NaN";function Ace(r,e){return r*m7[e]}class Hi{static parse(e){var t,[,n,i]=(t=_ce.exec(e))!==null&&t!==void 0?t:[];return new Hi(parseFloat(n),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Qs(e)&&(this.unit=""),t!==""&&!wce.test(t)&&(this.num=NaN,this.unit=""),Tce.includes(t)&&(this.num=Ace(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Hi(NaN,""):new Hi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Hi(NaN,""):new Hi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hi(NaN,""):new Hi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hi(NaN,""):new Hi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qs(this.num)}}function g7(r){if(r.includes(Yf))return Yf;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,i,a]=(t=k3.exec(e))!==null&&t!==void 0?t:[],s=Hi.parse(n??""),o=Hi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Yf;e=e.replace(k3,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,h,p]=(u=P3.exec(e))!==null&&u!==void 0?u:[],m=Hi.parse(c??""),g=Hi.parse(p??""),y=h==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Yf;e=e.replace(P3,y.toString())}return e}var L3=/\(([^()]*)\)/;function Dce(r){for(var e=r,t;(t=L3.exec(e))!=null;){var[,n]=t;e=e.replace(L3,g7(n))}return e}function Oce(r){var e=r.replace(/\s+/g,"");return e=Dce(e),e=g7(e),e}function Cce(r){try{return Oce(r)}catch{return Yf}}function pw(r){var e=Cce(r.slice(5,-1));return e===Yf?"":e}var Ice=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Rce=["dx","dy","angle","className","breakAll"];function o2(){return o2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},o2.apply(null,arguments)}function M3(r,e){if(r==null)return{};var t,n,i=kce(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function kce(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var v7=/[ \f\n\r\t\v\u2028\u2029]+/,y7=r=>{var{children:e,breakAll:t,style:n}=r;try{var i=[];jn(e)||(t?i=e.toString().split(""):i=e.toString().split(v7));var a=i.map(o=>({word:o,width:u0(o,n).width})),s=t?0:u0("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Pce(r){return r==="start"||r==="middle"||r==="end"||r==="inherit"}var x7=(r,e,t,n)=>r.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||n||l.width+o+t<Number(e)))l.words.push(s),l.width+=o+t;else{var u={words:[s],width:o};i.push(u)}return i},[]),b7=r=>r.reduce((e,t)=>e.width>t.width?e:t),Lce="",N3=(r,e,t,n,i,a,s,o)=>{var l=r.slice(0,e),u=y7({breakAll:t,style:n,children:l+Lce});if(!u)return[!1,[]];var c=x7(u.wordsWithComputedWidth,a,s,o),h=c.length>i||b7(c).width>Number(a);return[h,c]},Mce=(r,e,t,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=r,u=Rt(a),c=String(s),h=x7(e,n,t,i);if(!u||i)return h;var p=h.length>a||b7(h).width>Number(n);if(!p)return h;for(var m=0,g=c.length-1,y=0,x;m<=g&&y<=c.length-1;){var E=Math.floor((m+g)/2),S=E-1,[w,T]=N3(c,S,l,o,a,n,t,i),[_]=N3(c,E,l,o,a,n,t,i);if(!w&&!_&&(m=E+1),w&&_&&(g=E-1),!w&&_){x=T;break}y++}return x||h},F3=r=>{var e=jn(r)?[]:r.toString().split(v7);return[{words:e,width:void 0}]},Nce=r=>{var{width:e,scaleToFit:t,children:n,style:i,breakAll:a,maxLines:s}=r;if((e||t)&&!pp.isSsr){var o,l,u=y7({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:h}=u;o=c,l=h}else return F3(n);return Mce({breakAll:a,children:n,maxLines:s,style:i},o,l,e,!!t)}return F3(n)},S7="#808080",Fce={angle:0,breakAll:!1,capHeight:"0.71em",fill:S7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FO=L.forwardRef((r,e)=>{var t=xi(r,Fce),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=t,h=M3(t,Ice),p=L.useMemo(()=>Nce({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:m,dy:g,angle:y,className:x,breakAll:E}=h,S=M3(h,Rce);if(!Zs(n)||!Zs(i)||p.length===0)return null;var w=Number(n)+(Rt(m)?m:0),T=Number(i)+(Rt(g)?g:0);if(!$n(w)||!$n(T))return null;var _;switch(c){case"start":_=pw("calc(".concat(s,")"));break;case"middle":_=pw("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:_=pw("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(l){var A=p[0].width,{width:I}=h;O.push("scale(".concat(Rt(I)&&Rt(A)?I/A:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(w,", ").concat(T,")")),O.length&&(S.transform=O.join(" ")),L.createElement("text",o2({},Ii(S),{ref:e,x:w,y:T,className:Bt("recharts-text",x),textAnchor:u,fill:o.includes("url")?S7:o}),p.map((k,N)=>{var B=k.words.join(E?"":" ");return L.createElement("tspan",{x:w,dy:N===0?_:a,key:"".concat(B,"-").concat(N)},B)}))});FO.displayName="Text";var Bce=["labelRef"];function Uce(r,e){if(r==null)return{};var t,n,i=jce(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function jce(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function B3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function on(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(t),!0).forEach(function(n){$ce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $ce(r,e,t){return(e=Hce(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Hce(r){var e=Gce(r,"string");return typeof e=="symbol"?e:e+""}function Gce(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fo.apply(null,arguments)}var E7=L.createContext(null),Wce=r=>{var{x:e,y:t,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=r,l=L.useMemo(()=>({x:e,y:t,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,t,n,i,a,s]);return L.createElement(E7.Provider,{value:l},o)},w7=()=>{var r=L.useContext(E7),e=Wx();return r||Mj(e)},Kce=L.createContext(null),Yce=()=>{var r=L.useContext(Kce),e=Ct(t9);return r||e},zce=r=>{var{value:e,formatter:t}=r,n=jn(r.children)?e:r.children;return typeof t=="function"?t(n):n},BO=r=>r!=null&&typeof r=="function",Vce=(r,e)=>{var t=Ya(e-r),n=Math.min(Math.abs(e-r),360);return t*n},qce=(r,e,t,n,i)=>{var{offset:a,className:s}=r,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:p,clockWise:m}=i,g=(u+c)/2,y=Vce(h,p),x=y>=0?1:-1,E,S;switch(e){case"insideStart":E=h+x*a,S=m;break;case"insideEnd":E=p-x*a,S=!m;break;case"end":E=p+x*a,S=m;break;default:throw new Error("Unsupported position ".concat(e))}S=y<=0?S:!S;var w=ai(o,l,g,E),T=ai(o,l,g,E+(S?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),O=jn(r.id)?E0("recharts-radial-line-"):r.id;return L.createElement("text",Fo({},n,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:O,d:_})),L.createElement("textPath",{xlinkHref:"#".concat(O)},t))},Xce=(r,e,t)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=r,u=(o+l)/2;if(t==="outside"){var{x:c,y:h}=ai(n,i,s+e,u);return{x:c,y:h,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:g}=ai(n,i,p,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},l2=r=>"cx"in r&&Rt(r.cx),Qce=(r,e)=>{var{parentViewBox:t,offset:n,position:i}=r,a;t!=null&&!l2(t)&&(a=t);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=e,h=s,p=s+(l-u)/2,m=(h+p)/2,g=(l+u)/2,y=h+l/2,x=c>=0?1:-1,E=x*n,S=x>0?"end":"start",w=x>0?"start":"end",T=l>=0?1:-1,_=T*n,O=T>0?"end":"start",A=T>0?"start":"end";if(i==="top"){var I={x:h+l/2,y:o-E,textAnchor:"middle",verticalAnchor:S};return on(on({},I),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var k={x:p+u/2,y:o+c+E,textAnchor:"middle",verticalAnchor:w};return on(on({},k),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var N={x:m-_,y:o+c/2,textAnchor:O,verticalAnchor:"middle"};return on(on({},N),a?{width:Math.max(N.x-a.x,0),height:c}:{})}if(i==="right"){var B={x:m+g+_,y:o+c/2,textAnchor:A,verticalAnchor:"middle"};return on(on({},B),a?{width:Math.max(a.x+a.width-B.x,0),height:c}:{})}var R=a?{width:g,height:c}:{};return i==="insideLeft"?on({x:m+_,y:o+c/2,textAnchor:A,verticalAnchor:"middle"},R):i==="insideRight"?on({x:m+g-_,y:o+c/2,textAnchor:O,verticalAnchor:"middle"},R):i==="insideTop"?on({x:h+l/2,y:o+E,textAnchor:"middle",verticalAnchor:w},R):i==="insideBottom"?on({x:p+u/2,y:o+c-E,textAnchor:"middle",verticalAnchor:S},R):i==="insideTopLeft"?on({x:h+_,y:o+E,textAnchor:A,verticalAnchor:w},R):i==="insideTopRight"?on({x:h+l-_,y:o+E,textAnchor:O,verticalAnchor:w},R):i==="insideBottomLeft"?on({x:p+_,y:o+c-E,textAnchor:A,verticalAnchor:S},R):i==="insideBottomRight"?on({x:p+u-_,y:o+c-E,textAnchor:O,verticalAnchor:S},R):i&&typeof i=="object"&&(Rt(i.x)||Jo(i.x))&&(Rt(i.y)||Jo(i.y))?on({x:s+mu(i.x,g),y:o+mu(i.y,c),textAnchor:"end",verticalAnchor:"end"},R):on({x:y,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Zce={angle:0,offset:5,zIndex:Ai.label,position:"middle",textBreakAll:!1};function ru(r){var e=xi(r,Zce),{viewBox:t,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=e,c=Yce(),h=w7(),p=n==="center"?h:c??h,m,g,y;if(t==null?m=p:l2(t)?m=t:m=Mj(t),!m||jn(i)&&jn(a)&&!L.isValidElement(s)&&typeof s!="function")return null;var x=on(on({},e),{},{viewBox:m});if(L.isValidElement(s)){var{labelRef:E}=x,S=Uce(x,Bce);return L.cloneElement(s,S)}if(typeof s=="function"){if(g=L.createElement(s,x),L.isValidElement(g))return g}else g=zce(e);var w=Ii(e);if(l2(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return qce(e,n,g,w,m);y=Xce(m,e.offset,e.position)}else y=Qce(e,m);return L.createElement(yl,{zIndex:e.zIndex},L.createElement(FO,Fo({ref:u,className:Bt("recharts-label",o)},w,y,{textAnchor:Pce(w.textAnchor)?w.textAnchor:y.textAnchor,breakAll:l}),g))}ru.displayName="Label";var Jce=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?L.createElement(ru,Fo({key:"label-implicit"},n)):Zs(r)?L.createElement(ru,Fo({key:"label-implicit",value:r},n)):L.isValidElement(r)?r.type===ru?L.cloneElement(r,on({key:"label-implicit"},n)):L.createElement(ru,Fo({key:"label-implicit",content:r},n)):BO(r)?L.createElement(ru,Fo({key:"label-implicit",content:r},n)):r&&typeof r=="object"?L.createElement(ru,Fo({},r,{key:"label-implicit"},n)):null};function efe(r){var{label:e,labelRef:t}=r,n=w7();return Jce(e,n,t)||null}var mw={},gw={},U3;function tfe(){return U3||(U3=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(gw)),gw}var vw={},j3;function rfe(){return j3||(j3=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(vw)),vw}var $3;function nfe(){return $3||($3=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=tfe(),t=rfe(),n=ED();function i(a){if(n.isArrayLike(a))return e.last(t.toArray(a))}r.last=i})(mw)),mw}var yw,H3;function ife(){return H3||(H3=1,yw=nfe().last),yw}var afe=ife();const sfe=ao(afe);var ofe=["valueAccessor"],lfe=["dataKey","clockWise","id","textBreakAll","zIndex"];function _y(){return _y=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},_y.apply(null,arguments)}function G3(r,e){if(r==null)return{};var t,n,i=ufe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function ufe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var cfe=r=>Array.isArray(r.value)?sfe(r.value):r.value,_7=L.createContext(void 0),ffe=_7.Provider,T7=L.createContext(void 0);T7.Provider;function hfe(){return L.useContext(_7)}function dfe(){return L.useContext(T7)}function _v(r){var{valueAccessor:e=cfe}=r,t=G3(r,ofe),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=t,l=G3(t,lfe),u=hfe(),c=dfe(),h=u||c;return!h||!h.length?null:L.createElement(yl,{zIndex:o??Ai.label},L.createElement(pu,{className:"recharts-label-list"},h.map((p,m)=>{var g,y=jn(n)?e(p,m):gi(p&&p.payload,n),x=jn(a)?{}:{id:"".concat(a,"-").concat(m)};return L.createElement(ru,_y({key:"label-".concat(m)},Ii(p),l,x,{fill:(g=t.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}_v.displayName="LabelList";function pfe(r){var{label:e}=r;return e?e===!0?L.createElement(_v,{key:"labelList-implicit"}):L.isValidElement(e)||BO(e)?L.createElement(_v,{key:"labelList-implicit",content:e}):typeof e=="object"?L.createElement(_v,_y({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function u2(){return u2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},u2.apply(null,arguments)}var A7=r=>{var{cx:e,cy:t,r:n,className:i}=r,a=Bt("recharts-dot",i);return Rt(e)&&Rt(t)&&Rt(n)?L.createElement("circle",u2({},Xs(r),SD(r),{className:a,cx:e,cy:t,r:n})):null},mfe={radiusAxis:{},angleAxis:{}},D7=Zi({name:"polarAxis",initialState:mfe,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:mIe,removeRadiusAxis:gIe,addAngleAxis:vIe,removeAngleAxis:yIe}=D7.actions,gfe=D7.reducer,O7=r=>r&&typeof r=="object"&&"clipDot"in r?!!r.clipDot:!0,xw={},W3;function vfe(){return W3||(W3=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const i=t[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${i}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(xw)),xw}var bw,K3;function yfe(){return K3||(K3=1,bw=vfe().isPlainObject),bw}var xfe=yfe();const bfe=ao(xfe);function Y3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function z3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(t),!0).forEach(function(n){Sfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Y3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Sfe(r,e,t){return(e=Efe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Efe(r){var e=wfe(r,"string");return typeof e=="symbol"?e:e+""}function wfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ty.apply(null,arguments)}var V3=(r,e,t,n,i)=>{var a=t-n,s;return s="M ".concat(r,",").concat(e),s+="L ".concat(r+t,",").concat(e),s+="L ".concat(r+t-a/2,",").concat(e+i),s+="L ".concat(r+t-a/2-n,",").concat(e+i),s+="L ".concat(r,",").concat(e," Z"),s},_fe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tfe=r=>{var e=xi(r,_fe),{x:t,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:h}=e,p=L.useRef(null),[m,g]=L.useState(-1),y=L.useRef(i),x=L.useRef(a),E=L.useRef(s),S=L.useRef(t),w=L.useRef(n),T=BD(r,"trapezoid-");if(L.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var X=p.current.getTotalLength();X&&g(X)}catch{}},[]),t!==+t||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var _=Bt("recharts-trapezoid",o);if(!h)return L.createElement("g",null,L.createElement("path",Ty({},Ii(e),{className:_,d:V3(t,n,i,a,s)})));var O=y.current,A=x.current,I=E.current,k=S.current,N=w.current,B="0px ".concat(m===-1?1:m,"px"),R="".concat(m,"px 0px"),H=Yj(["strokeDasharray"],u,l);return L.createElement(FD,{animationId:T,key:T,canBegin:m>0,duration:u,easing:l,isActive:h,begin:c},X=>{var Y=Gi(O,i,X),K=Gi(A,a,X),z=Gi(I,s,X),Q=Gi(k,t,X),se=Gi(N,n,X);p.current&&(y.current=Y,x.current=K,E.current=z,S.current=Q,w.current=se);var ae=X>0?{transition:H,strokeDasharray:R}:{strokeDasharray:B};return L.createElement("path",Ty({},Ii(e),{className:_,d:V3(Q,se,Y,K,z),ref:p,style:z3(z3({},ae),e.style)}))})},Afe=["option","shapeType","propTransformer","activeClassName"];function Dfe(r,e){if(r==null)return{};var t,n,i=Ofe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Ofe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function q3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ay(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(t),!0).forEach(function(n){Cfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):q3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cfe(r,e,t){return(e=Ife(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ife(r){var e=Rfe(r,"string");return typeof e=="symbol"?e:e+""}function Rfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kfe(r,e){return Ay(Ay({},e),r)}function Pfe(r,e){return r==="symbols"}function X3(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return L.createElement(Xj,t);case"trapezoid":return L.createElement(Tfe,t);case"sector":return L.createElement(Jj,t);case"symbols":if(Pfe(e))return L.createElement(bD,t);break;case"curve":return L.createElement(Kj,t);default:return null}}function Lfe(r){return L.isValidElement(r)?r.props:r}function Mfe(r){var{option:e,shapeType:t,propTransformer:n=kfe,activeClassName:i="recharts-active-shape"}=r,a=Dfe(r,Afe),s;if(L.isValidElement(e))s=L.cloneElement(e,Ay(Ay({},a),Lfe(e)));else if(typeof e=="function")s=e(a,a.index);else if(bfe(e)&&typeof e!="boolean"){var o=n(e,a);s=L.createElement(X3,{shapeType:t,elementProps:o})}else{var l=a;s=L.createElement(X3,{shapeType:t,elementProps:l})}return a.isActive?L.createElement(pu,{className:i},s):s}function Nfe(r){var{tooltipEntrySettings:e}=r,t=xn(),n=Ji(),i=L.useRef(null);return L.useLayoutEffect(()=>{n||(i.current===null?t(nle(e)):i.current!==e&&t(ile({prev:i.current,next:e})),i.current=e)},[e,t,n]),L.useLayoutEffect(()=>()=>{i.current&&(t(ale(i.current)),i.current=null)},[t]),null}function Ffe(r){var{legendPayload:e}=r,t=xn(),n=Ji(),i=L.useRef(null);return L.useLayoutEffect(()=>{n||(i.current===null?t(wre(e)):i.current!==e&&t(_re({prev:i.current,next:e})),i.current=e)},[t,n,e]),L.useLayoutEffect(()=>()=>{i.current&&(t(Tre(i.current)),i.current=null)},[t]),null}var Sw,Bfe=()=>{var[r]=L.useState(()=>E0("uid-"));return r},Ufe=(Sw=Y2.useId)!==null&&Sw!==void 0?Sw:Bfe;function C7(r,e){var t=Ufe();return e||(r?"".concat(r,"-").concat(t):t)}var jfe=L.createContext(void 0),$fe=r=>{var{id:e,type:t,children:n}=r,i=C7("recharts-".concat(t),e);return L.createElement(jfe.Provider,{value:i},n(i))},Hfe={cartesianItems:[],polarItems:[]},I7=Zi({name:"graphicalItems",initialState:Hfe,reducers:{addCartesianGraphicalItem:{reducer(r,e){r.cartesianItems.push(e.payload)},prepare:Hr()},replaceCartesianGraphicalItem:{reducer(r,e){var{prev:t,next:n}=e.payload,i=ys(r).cartesianItems.indexOf(t);i>-1&&(r.cartesianItems[i]=n)},prepare:Hr()},removeCartesianGraphicalItem:{reducer(r,e){var t=ys(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},prepare:Hr()},addPolarGraphicalItem:{reducer(r,e){r.polarItems.push(e.payload)},prepare:Hr()},removePolarGraphicalItem:{reducer(r,e){var t=ys(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)},prepare:Hr()}}}),{addCartesianGraphicalItem:Gfe,replaceCartesianGraphicalItem:Wfe,removeCartesianGraphicalItem:Kfe,addPolarGraphicalItem:xIe,removePolarGraphicalItem:bIe}=I7.actions,Yfe=I7.reducer,zfe=r=>{var e=xn(),t=L.useRef(null);return L.useLayoutEffect(()=>{t.current===null?e(Gfe(r)):t.current!==r&&e(Wfe({prev:t.current,next:r})),t.current=r},[e,r]),L.useLayoutEffect(()=>()=>{t.current&&(e(Kfe(t.current)),t.current=null)},[e]),null},Vfe=L.memo(zfe),qfe=["points"];function Q3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ew(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(t),!0).forEach(function(n){Xfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Q3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Xfe(r,e,t){return(e=Qfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qfe(r){var e=Zfe(r,"string");return typeof e=="symbol"?e:e+""}function Zfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Dy.apply(null,arguments)}function Jfe(r,e){if(r==null)return{};var t,n,i=ehe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function ehe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function the(r){var{option:e,dotProps:t,className:n}=r;if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return e(t);var i=Bt(n,typeof e!="boolean"?e.className:""),a=t??{},{points:s}=a,o=Jfe(a,qfe);return L.createElement(A7,Dy({},o,{className:i}))}function rhe(r,e){return r==null?!1:e?!0:r.length===1}function nhe(r){var{points:e,dot:t,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Ai.scatter}=r;if(!rhe(e,t))return null;var c=O7(t),h=oZ(t),p=e.map((g,y)=>{var x,E,S=Ew(Ew(Ew({r:3},s),h),{},{index:y,cx:(x=g.x)!==null&&x!==void 0?x:void 0,cy:(E=g.y)!==null&&E!==void 0?E:void 0,dataKey:a,value:g.value,payload:g.payload,points:e});return L.createElement(the,{key:"dot-".concat(y),option:t,dotProps:S,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),L.createElement(yl,{zIndex:u},L.createElement(pu,Dy({className:n},m),p))}function Z3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function J3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(t),!0).forEach(function(n){ihe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Z3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ihe(r,e,t){return(e=ahe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ahe(r){var e=she(r,"string");return typeof e=="symbol"?e:e+""}function she(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ohe={xAxis:{},yAxis:{},zAxis:{}},R7=Zi({name:"cartesianAxis",initialState:ohe,reducers:{addXAxis:{reducer(r,e){r.xAxis[e.payload.id]=e.payload},prepare:Hr()},replaceXAxis:{reducer(r,e){var{prev:t,next:n}=e.payload;r.xAxis[t.id]!==void 0&&(t.id!==n.id&&delete r.xAxis[t.id],r.xAxis[n.id]=n)},prepare:Hr()},removeXAxis:{reducer(r,e){delete r.xAxis[e.payload.id]},prepare:Hr()},addYAxis:{reducer(r,e){r.yAxis[e.payload.id]=e.payload},prepare:Hr()},replaceYAxis:{reducer(r,e){var{prev:t,next:n}=e.payload;r.yAxis[t.id]!==void 0&&(t.id!==n.id&&delete r.yAxis[t.id],r.yAxis[n.id]=n)},prepare:Hr()},removeYAxis:{reducer(r,e){delete r.yAxis[e.payload.id]},prepare:Hr()},addZAxis:{reducer(r,e){r.zAxis[e.payload.id]=e.payload},prepare:Hr()},replaceZAxis:{reducer(r,e){var{prev:t,next:n}=e.payload;r.zAxis[t.id]!==void 0&&(t.id!==n.id&&delete r.zAxis[t.id],r.zAxis[n.id]=n)},prepare:Hr()},removeZAxis:{reducer(r,e){delete r.zAxis[e.payload.id]},prepare:Hr()},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload,i=r.yAxis[t];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);r.yAxis[t]=J3(J3({},r.yAxis[t]),{},{width:n,widthHistory:s})}}}}),{addXAxis:lhe,replaceXAxis:uhe,removeXAxis:che,addYAxis:fhe,replaceYAxis:hhe,removeYAxis:dhe,addZAxis:SIe,replaceZAxis:EIe,removeZAxis:wIe,updateYAxisWidth:phe}=R7.actions,mhe=R7.reducer,ghe=ze([li],r=>({top:r.top,bottom:r.bottom,left:r.left,right:r.right})),vhe=ze([ghe,hl,dl],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),UO=()=>Ct(vhe),yhe=()=>Ct(Qle);function e4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ww(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(t),!0).forEach(function(n){xhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):e4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xhe(r,e,t){return(e=bhe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bhe(r){var e=She(r,"string");return typeof e=="symbol"?e:e+""}function She(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ehe=r=>{var{point:e,childIndex:t,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=r;if(i===!1||e.x==null||e.y==null)return null;var o={index:t,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=ww(ww(ww({},o),Ax(i)),SD(i)),u;return L.isValidElement(i)?u=L.cloneElement(i,l):typeof i=="function"?u=i(l):u=L.createElement(A7,l),L.createElement(pu,{className:"recharts-active-dot",clipPath:s},u)};function whe(r){var{points:e,mainColor:t,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Ai.activeDot}=r,o=Ct(M0),l=yhe();if(e==null||l==null)return null;var u=e.find(c=>l.includes(c.payload));return jn(u)?null:L.createElement(yl,{zIndex:s},L.createElement(Ehe,{point:u,childIndex:Number(o),mainColor:t,dataKey:i,activeDot:n,clipPath:a}))}var _he={},k7=Zi({name:"errorBars",initialState:_he,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:i}=e.payload;r[t]&&(r[t]=r[t].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:_Ie,replaceErrorBar:TIe,removeErrorBar:AIe}=k7.actions,The=k7.reducer,Ahe=["children"];function Dhe(r,e){if(r==null)return{};var t,n,i=Ohe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Ohe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Che={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ihe=L.createContext(Che);function Rhe(r){var{children:e}=r,t=Dhe(r,Ahe);return L.createElement(Ihe.Provider,{value:t},e)}function P7(r,e){var t,n,i=Ct(u=>ml(u,r)),a=Ct(u=>gl(u,e)),s=(t=i?.allowDataOverflow)!==null&&t!==void 0?t:Ln.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Mn.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function khe(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,i=UO(),{needClipX:a,needClipY:s,needClip:o}=P7(e,t);if(!o||!i)return null;var{x:l,y:u,width:c,height:h}=i;return L.createElement("clipPath",{id:"clipPath-".concat(n)},L.createElement("rect",{x:a?l:l-c/2,y:s?u:u-h/2,width:a?c:c*2,height:s?h:h*2}))}var _w={exports:{}},Tw={};var t4;function Phe(){if(t4)return Tw;t4=1;var r=Ah();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,i=r.useRef,a=r.useEffect,s=r.useMemo,o=r.useDebugValue;return Tw.useSyncExternalStoreWithSelector=function(l,u,c,h,p){var m=i(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=s(function(){function x(_){if(!E){if(E=!0,S=_,_=h(_),p!==void 0&&g.hasValue){var O=g.value;if(p(O,_))return w=O}return w=_}if(O=w,t(S,_))return O;var A=h(_);return p!==void 0&&p(O,A)?(S=_,O):(S=_,w=A)}var E=!1,S,w,T=c===void 0?null:c;return[function(){return x(u())},T===null?void 0:function(){return x(T())}]},[u,c,h,p]);var y=n(l,m[0],m[1]);return a(function(){g.hasValue=!0,g.value=y},[y]),o(y),y},Tw}var r4;function Lhe(){return r4||(r4=1,_w.exports=Phe()),_w.exports}Lhe();function Mhe(r){r()}function Nhe(){let r=null,e=null;return{clear(){r=null,e=null},notify(){Mhe(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var n4={notify(){},get:()=>[]};function Fhe(r,e){let t,n=n4,i=0,a=!1;function s(y){c();const x=n.subscribe(y);let E=!1;return()=>{E||(E=!0,x(),h())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,t||(t=r.subscribe(l),n=Nhe())}function h(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=n4)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,h())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return g}var Bhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uhe=Bhe(),jhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$he=jhe(),Hhe=()=>Uhe||$he?L.useLayoutEffect:L.useEffect,Ghe=Hhe();function i4(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function Whe(r,e){if(i4(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!i4(r[t[i]],e[t[i]]))return!1;return!0}var Khe=Symbol.for("react-redux-context"),Yhe=typeof globalThis<"u"?globalThis:{};function zhe(){if(!L.createContext)return{};const r=Yhe[Khe]??=new Map;let e=r.get(L.createContext);return e||(e=L.createContext(null),r.set(L.createContext,e)),e}var Vhe=zhe();function qhe(r){const{children:e,context:t,serverState:n,store:i}=r,a=L.useMemo(()=>{const l=Fhe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=L.useMemo(()=>i.getState(),[i]);Ghe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=t||Vhe;return L.createElement(o.Provider,{value:a},e)}var Xhe=qhe,Qhe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Zhe(r,e){return r==null&&e==null?!0:typeof r=="number"&&typeof e=="number"?r===e||r!==r&&e!==e:r===e}function jO(r,e){var t=new Set([...Object.keys(r),...Object.keys(e)]);for(var n of t)if(Qhe.has(n)){if(r[n]==null&&e[n]==null)continue;if(!Whe(r[n],e[n]))return!1}else if(!Zhe(r[n],e[n]))return!1;return!0}var Jhe=r=>{var{chartData:e}=r,t=xn(),n=Ji();return L.useEffect(()=>n?()=>{}:(t(E3(e)),()=>{t(E3(void 0))}),[e,t,n]),null},a4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},L7=Zi({name:"brush",initialState:a4,reducers:{setBrushSettings(r,e){return e.payload==null?a4:e.payload}}}),{setBrushSettings:DIe}=L7.actions,ede=L7.reducer;function tde(r,e,t){return(e=rde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rde(r){var e=nde(r,"string");return typeof e=="symbol"?e:e+""}function nde(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class $O{static create(e){return new $O(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],i=t[t.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}tde($O,"EPS",1e-4);function ide(r){return(r%180+180)%180}var ade=function(e){var{width:t,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ide(i),s=a*Math.PI/180,o=Math.atan(n/t),l=s>o&&s<Math.PI-o?n/Math.sin(s):t/Math.cos(s);return Math.abs(l)},sde={dots:[],areas:[],lines:[]},M7=Zi({name:"referenceElements",initialState:sde,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=ys(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=ys(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=ys(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:OIe,removeDot:CIe,addArea:IIe,removeArea:RIe,addLine:kIe,removeLine:PIe}=M7.actions,ode=M7.reducer,lde=L.createContext(void 0),ude=r=>{var{children:e}=r,[t]=L.useState("".concat(E0("recharts"),"-clip")),n=UO();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return L.createElement(lde.Provider,{value:t},L.createElement("defs",null,L.createElement("clipPath",{id:t},L.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function N7(r,e){if(e<1)return[];if(e===1)return r;for(var t=[],n=0;n<r.length;n+=e)t.push(r[n]);return t}function cde(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return ade(n,t)}function fde(r,e,t){var n=t==="width",{x:i,y:a,width:s,height:o}=r;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Oy(r,e,t,n,i){if(r*e<r*n||r*e>r*i)return!1;var a=t();return r*(e-r*a/2-n)>=0&&r*(e+r*a/2-i)<=0}function hde(r,e){return N7(r,e+1)}function dde(r,e,t,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,l=0,u=1,c=s,h=function(){var g=n?.[l];if(g===void 0)return{v:N7(n,u)};var y=l,x,E=()=>(x===void 0&&(x=t(g,y)),x),S=g.coordinate,w=l===0||Oy(r,S,E,c,o);w||(l=0,c=s,u+=1),w&&(c=S+r*(E()/2+i),l+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function s4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function pi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(t),!0).forEach(function(n){pde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):s4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pde(r,e,t){return(e=mde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mde(r){var e=gde(r,"string");return typeof e=="symbol"?e:e+""}function gde(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vde(r,e,t,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,u=function(p){var m=a[p],g,y=()=>(g===void 0&&(g=t(m,p)),g);if(p===s-1){var x=r*(m.coordinate+r*y()/2-l);a[p]=m=pi(pi({},m),{},{tickCoord:x>0?m.coordinate-x*r:m.coordinate})}else a[p]=m=pi(pi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var E=Oy(r,m.tickCoord,y,o,l);E&&(l=m.tickCoord-r*(y()/2+i),a[p]=pi(pi({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function yde(r,e,t,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=e;if(a){var c=n[o-1],h=t(c,o-1),p=r*(c.coordinate+r*h/2-u);if(s[o-1]=c=pi(pi({},c),{},{tickCoord:p>0?c.coordinate-p*r:c.coordinate}),c.tickCoord!=null){var m=Oy(r,c.tickCoord,()=>h,l,u);m&&(u=c.tickCoord-r*(h/2+i),s[o-1]=pi(pi({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,y=function(S){var w=s[S],T,_=()=>(T===void 0&&(T=t(w,S)),T);if(S===0){var O=r*(w.coordinate-r*_()/2-l);s[S]=w=pi(pi({},w),{},{tickCoord:O<0?w.coordinate-O*r:w.coordinate})}else s[S]=w=pi(pi({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=Oy(r,w.tickCoord,_,l,u);A&&(l=w.tickCoord+r*(_()/2+i),s[S]=pi(pi({},w),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return s}function HO(r,e,t){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:h}=r;if(!i||!i.length||!n)return[];if(Rt(l)||pp.isSsr){var p;return(p=hde(i,Rt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",y=c&&g==="width"?u0(c,{fontSize:e,letterSpacing:t}):{width:0,height:0},x=(w,T)=>{var _=typeof u=="function"?u(w.value,T):w.value;return g==="width"?cde(u0(_,{fontSize:e,letterSpacing:t}),y,h):u0(_,{fontSize:e,letterSpacing:t})[g]},E=i.length>=2?Ya(i[1].coordinate-i[0].coordinate):1,S=fde(a,E,g);return l==="equidistantPreserveStart"?dde(E,S,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=yde(E,S,x,i,s,l==="preserveStartEnd"):m=vde(E,S,x,i,s),m.filter(w=>w.isShow))}var xde=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=r,s=0;if(e){Array.from(e).forEach(c=>{if(c){var h=c.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(t?n:0);return Math.round(u)}return 0},bde=["axisLine","width","height","className","hide","ticks","axisType"];function Sde(r,e){if(r==null)return{};var t,n,i=Ede(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Ede(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Tc(){return Tc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Tc.apply(null,arguments)}function o4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(t),!0).forEach(function(n){wde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):o4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wde(r,e,t){return(e=_de(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _de(r){var e=Tde(r,"string");return typeof e=="symbol"?e:e+""}function Tde(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Go={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ai.axis};function Ade(r){var{x:e,y:t,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=r;if(!o)return null;var u=gn(gn(gn({},l),Xs(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=gn(gn({},u),{},{x1:e,y1:t+c*i,x2:e+n,y2:t+c*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=gn(gn({},u),{},{x1:e+h*n,y1:t,x2:e+h*n,y2:t+i})}return L.createElement("line",Tc({},u,{className:Bt("recharts-cartesian-axis-line",Ix(o,"className"))}))}function Dde(r,e,t,n,i,a,s,o,l){var u,c,h,p,m,g,y=o?-1:1,x=r.tickSize||s,E=Rt(r.tickCoord)?r.tickCoord:r.coordinate;switch(a){case"top":u=c=r.coordinate,p=t+ +!o*i,h=p-y*x,g=h-y*l,m=E;break;case"left":h=p=r.coordinate,c=e+ +!o*n,u=c-y*x,m=u-y*l,g=E;break;case"right":h=p=r.coordinate,c=e+ +o*n,u=c+y*x,m=u+y*l,g=E;break;default:u=c=r.coordinate,p=t+ +o*i,h=p+y*x,g=h+y*l,m=E;break}return{line:{x1:u,y1:h,x2:c,y2:p},tick:{x:m,y:g}}}function Ode(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Cde(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ide(r){var{option:e,tickProps:t,value:n}=r,i,a=Bt(t.className,"recharts-cartesian-axis-tick-value");if(L.isValidElement(e))i=L.cloneElement(e,gn(gn({},t),{},{className:a}));else if(typeof e=="function")i=e(gn(gn({},t),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Bt(s,e?.className)),i=L.createElement(FO,Tc({},t,{className:s}),n)}return i}var Rde=L.forwardRef((r,e)=>{var{ticks:t=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:h,x:p,y:m,width:g,height:y,tickSize:x,tickMargin:E,fontSize:S,letterSpacing:w,getTicksConfig:T,events:_,axisType:O}=r,A=HO(gn(gn({},T),{},{ticks:t}),S,w),I=Ode(c,h),k=Cde(c,h),N=Xs(T),B=Ax(n),R={};typeof i=="object"&&(R=i);var H=gn(gn({},N),{},{fill:"none"},R),X=A.map(z=>gn({entry:z},Dde(z,p,m,g,y,c,x,h,E))),Y=X.map(z=>{var{entry:Q,line:se}=z;return L.createElement(pu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&L.createElement("line",Tc({},H,se,{className:Bt("recharts-cartesian-axis-tick-line",Ix(i,"className"))})))}),K=X.map((z,Q)=>{var{entry:se,tick:ae}=z,W=gn(gn(gn(gn({textAnchor:I,verticalAnchor:k},N),{},{stroke:"none",fill:a},B),ae),{},{index:Q,payload:se,visibleTicksCount:A.length,tickFormatter:s,padding:l},u);return L.createElement(pu,Tc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},M5(_,se,Q)),n&&L.createElement(Ide,{option:n,tickProps:W,value:"".concat(typeof s=="function"?s(se.value,Q):se.value).concat(o||"")}))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},K.length>0&&L.createElement(yl,{zIndex:Ai.label},L.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},K)),Y.length>0&&L.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},Y))}),kde=L.forwardRef((r,e)=>{var{axisLine:t,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=r,u=Sde(r,bde),[c,h]=L.useState(""),[p,m]=L.useState(""),g=L.useRef(null);L.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return xde({ticks:g.current,label:(x=r.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var y=L.useCallback(x=>{if(x){var E=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=E;var S=E[0];if(S){var w=window.getComputedStyle(S),T=w.fontSize,_=w.letterSpacing;(T!==c||_!==p)&&(h(T),m(_))}}},[c,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:L.createElement(yl,{zIndex:r.zIndex},L.createElement(pu,{className:Bt("recharts-cartesian-axis",a)},L.createElement(Ade,{x:r.x,y:r.y,width:n,height:i,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:Xs(r)}),L.createElement(Rde,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:r,height:r.height,letterSpacing:p,mirror:r.mirror,orientation:r.orientation,padding:r.padding,stroke:r.stroke,tick:r.tick,tickFormatter:r.tickFormatter,tickLine:r.tickLine,tickMargin:r.tickMargin,tickSize:r.tickSize,tickTextProps:r.tickTextProps,ticks:o,unit:r.unit,width:r.width,x:r.x,y:r.y}),L.createElement(Wce,{x:r.x,y:r.y,width:r.width,height:r.height,lowerWidth:r.width,upperWidth:r.width},L.createElement(efe,{label:r.label,labelRef:r.labelRef}),r.children)))}),GO=L.forwardRef((r,e)=>{var t=xi(r,Go);return L.createElement(kde,Tc({},t,{ref:e}))});GO.displayName="CartesianAxis";var Pde=["x1","y1","x2","y2","key"],Lde=["offset"],Mde=["xAxisId","yAxisId"],Nde=["xAxisId","yAxisId"];function l4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(t),!0).forEach(function(n){Fde(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):l4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Fde(r,e,t){return(e=Bde(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bde(r){var e=Ude(r,"string");return typeof e=="symbol"?e:e+""}function Ude(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uc(){return uc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},uc.apply(null,arguments)}function Cy(r,e){if(r==null)return{};var t,n,i=jde(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function jde(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var $de=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:i,width:a,height:s,ry:o}=r;return L.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function F7(r){var{option:e,lineItemProps:t}=r,n;if(L.isValidElement(e))n=L.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=t,c=Cy(t,Pde),h=(i=Xs(c))!==null&&i!==void 0?i:{},{offset:p}=h,m=Cy(h,Lde);n=L.createElement("line",uc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function Hde(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:i}=r;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=r,o=Cy(r,Mde),l=i.map((u,c)=>{var h=mi(mi({},o),{},{x1:e,y1:u,x2:e+t,y2:u,key:"line-".concat(c),index:c});return L.createElement(F7,{key:"line-".concat(c),option:n,lineItemProps:h})});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Gde(r){var{y:e,height:t,vertical:n=!0,verticalPoints:i}=r;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=r,o=Cy(r,Nde),l=i.map((u,c)=>{var h=mi(mi({},o),{},{x1:u,y1:e,x2:u,y2:e+t,key:"line-".concat(c),index:c});return L.createElement(F7,{option:n,lineItemProps:h,key:"line-".concat(c)})});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wde(r){var{horizontalFill:e,fillOpacity:t,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=r;if(!l||!e||!e.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==u[0]&&u.unshift(0);var c=u.map((h,p)=>{var m=!u[p+1],g=m?i+s-h:u[p+1]-h;if(g<=0)return null;var y=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Kde(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=r;if(!e||!t||!t.length)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==u[0]&&u.unshift(0);var c=u.map((h,p)=>{var m=!u[p+1],g=m?i+s-h:u[p+1]-h;if(g<=0)return null;var y=p%t.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:g,height:o,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Yde=(r,e)=>{var{xAxis:t,width:n,height:i,offset:a}=r;return Dj(HO(mi(mi(mi({},Go),t),{},{ticks:Oj(t),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},zde=(r,e)=>{var{yAxis:t,width:n,height:i,offset:a}=r;return Dj(HO(mi(mi(mi({},Go),t),{},{ticks:Oj(t),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},Vde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ai.grid};function c2(r){var e=PD(),t=LD(),n=Nj(),i=mi(mi({},xi(r,Vde)),{},{x:Rt(r.x)?r.x:n.left,y:Rt(r.y)?r.y:n.top,width:Rt(r.width)?r.width:n.width,height:Rt(r.height)?r.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:h,horizontalValues:p,verticalValues:m}=i,g=Ji(),y=Ct(k=>c3(k,"xAxis",a,g)),x=Ct(k=>c3(k,"yAxis",s,g));if(!Js(u)||!Js(c)||!Rt(o)||!Rt(l))return null;var E=i.verticalCoordinatesGenerator||Yde,S=i.horizontalCoordinatesGenerator||zde,{horizontalPoints:w,verticalPoints:T}=i;if((!w||!w.length)&&typeof S=="function"){var _=p&&p.length,O=S({yAxis:x?mi(mi({},x),{},{ticks:_?p:x.ticks}):void 0,width:e??u,height:t??c,offset:n},_?!0:h);ry(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}if((!T||!T.length)&&typeof E=="function"){var A=m&&m.length,I=E({xAxis:y?mi(mi({},y),{},{ticks:A?m:y.ticks}):void 0,width:e??u,height:t??c,offset:n},A?!0:h);ry(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(T=I)}return L.createElement(yl,{zIndex:i.zIndex},L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement($de,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),L.createElement(Wde,uc({},i,{horizontalPoints:w})),L.createElement(Kde,uc({},i,{verticalPoints:T})),L.createElement(Hde,uc({},i,{offset:n,horizontalPoints:w,xAxis:y,yAxis:x})),L.createElement(Gde,uc({},i,{offset:n,verticalPoints:T,xAxis:y,yAxis:x}))))}c2.displayName="CartesianGrid";var B7=(r,e,t,n)=>j9(r,"xAxis",e,n),U7=(r,e,t,n)=>U9(r,"xAxis",e,n),j7=(r,e,t,n)=>j9(r,"yAxis",t,n),$7=(r,e,t,n)=>U9(r,"yAxis",t,n),qde=ze([Br,B7,j7,U7,$7],(r,e,t,n,i)=>Au(r,"xAxis")?ty(e,n,!1):ty(t,i,!1)),Xde=(r,e,t,n,i)=>i;function Qde(r){return r.type==="line"}var Zde=ze([l9,Xde],(r,e)=>r.filter(Qde).find(t=>t.id===e)),Jde=ze([Br,B7,j7,U7,$7,Zde,qde,lO],(r,e,t,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=o;if(!(a==null||e==null||t==null||n==null||i==null||n.length===0||i.length===0||s==null||r!=="horizontal"&&r!=="vertical")){var{dataKey:h,data:p}=a,m;if(p!=null&&p.length>0?m=p:m=l?.slice(u,c+1),m!=null)return b0e({layout:r,xAxis:e,yAxis:t,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:m})}});function e0e(r){var e=Ax(r),t=3,n=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=t),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r:t,strokeWidth:n}}var t0e=["id"],r0e=["type","layout","connectNulls","needClip","shape"],n0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function F0(){return F0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},F0.apply(null,arguments)}function u4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ns(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(t),!0).forEach(function(n){i0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):u4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function i0e(r,e,t){return(e=a0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function a0e(r){var e=s0e(r,"string");return typeof e=="symbol"?e:e+""}function s0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function WO(r,e){if(r==null)return{};var t,n,i=o0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function o0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var l0e=r=>{var{dataKey:e,name:t,stroke:n,legendType:i,hide:a}=r;return[{inactive:a,dataKey:e,type:i,color:n,value:Cj(t,e),payload:r}]},u0e=L.memo(r=>{var{dataKey:e,data:t,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u}=r,c={dataDefinedOnItem:t,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Cj(s,e),hide:o,type:u,color:n,unit:l}};return L.createElement(Nfe,{tooltipEntrySettings:c})}),H7=(r,e)=>"".concat(e,"px ").concat(r-e,"px");function c0e(r,e){for(var t=r.length%2!==0?[...r,0]:r,n=[],i=0;i<e;++i)n=[...n,...t];return n}var f0e=(r,e,t)=>{var n=t.reduce((h,p)=>h+p);if(!n)return H7(e,r);for(var i=Math.floor(r/n),a=r%n,s=e-r,o=[],l=0,u=0;l<t.length;u+=t[l],++l)if(u+t[l]>a){o=[...t.slice(0,l),a-u];break}var c=o.length%2===0?[0,s]:[s];return[...c0e(t,i),...o,...c].map(h=>"".concat(h,"px")).join(", ")};function h0e(r){var{clipPathId:e,points:t,props:n}=r,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,l=WO(n,t0e),u=Xs(l);return L.createElement(nhe,{points:t,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:e})}function d0e(r){var{showLabels:e,children:t,points:n}=r,i=L.useMemo(()=>n?.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ns(Ns({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return L.createElement(ffe,{value:e?i:void 0},t)}function c4(r){var{clipPathId:e,pathRef:t,points:n,strokeDasharray:i,props:a}=r,{type:s,layout:o,connectNulls:l,needClip:u,shape:c}=a,h=WO(a,r0e),p=Ns(Ns({},Ii(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return L.createElement(L.Fragment,null,n?.length>1&&L.createElement(Mfe,F0({shapeType:"curve",option:c},p,{pathRef:t})),L.createElement(h0e,{points:n,clipPathId:e,props:a}))}function p0e(r){try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}function m0e(r){var{clipPathId:e,props:t,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=r,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:h,animateNewValues:p,width:m,height:g,onAnimationEnd:y,onAnimationStart:x}=t,E=i.current,S=BD(s,"recharts-line-"),w=L.useRef(S),[T,_]=L.useState(!1),O=!T,A=L.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),I=L.useCallback(()=>{typeof x=="function"&&x(),_(!0)},[x]),k=p0e(n.current),N=L.useRef(0);w.current!==S&&(N.current=a.current,w.current=S);var B=N.current;return L.createElement(d0e,{points:s,showLabels:O},t.children,L.createElement(FD,{animationId:S,begin:u,duration:c,isActive:l,easing:h,onAnimationEnd:A,onAnimationStart:I,key:S},R=>{var H=Gi(B,k+B,R),X=Math.min(H,k),Y;if(l)if(o){var K="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));Y=f0e(X,k,K)}else Y=H7(k,X);else Y=o==null?void 0:String(o);if(R>0&&k>0&&(i.current=s,a.current=Math.max(a.current,X)),E){var z=E.length/s.length,Q=R===1?s:s.map((se,ae)=>{var W=Math.floor(ae*z);if(E[W]){var M=E[W];return Ns(Ns({},se),{},{x:Gi(M.x,se.x,R),y:Gi(M.y,se.y,R)})}return p?Ns(Ns({},se),{},{x:Gi(m*2,se.x,R),y:Gi(g/2,se.y,R)}):Ns(Ns({},se),{},{x:se.x,y:se.y})});return i.current=Q,L.createElement(c4,{props:t,points:Q,clipPathId:e,pathRef:n,strokeDasharray:Y})}return L.createElement(c4,{props:t,points:s,clipPathId:e,pathRef:n,strokeDasharray:Y})}),L.createElement(pfe,{label:t.label}))}function g0e(r){var{clipPathId:e,props:t}=r,n=L.useRef(null),i=L.useRef(0),a=L.useRef(null);return L.createElement(m0e,{props:t,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var v0e=(r,e)=>{var t,n;return{x:(t=r.x)!==null&&t!==void 0?t:void 0,y:(n=r.y)!==null&&n!==void 0?n:void 0,value:r.value,errorVal:gi(r.payload,e)}};class y0e extends L.Component{render(){var{hide:e,dot:t,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:c,id:h,needClip:p,zIndex:m}=this.props;if(e)return null;var g=Bt("recharts-line",i),y=h,{r:x,strokeWidth:E}=e0e(t),S=O7(t),w=x*2+E,T=p?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return L.createElement(yl,{zIndex:m},L.createElement(pu,{className:g},p&&L.createElement("defs",null,L.createElement(khe,{clipPathId:y,xAxisId:a,yAxisId:s}),!S&&L.createElement("clipPath",{id:"clipPath-dots-".concat(y)},L.createElement("rect",{x:l-w/2,y:o-w/2,width:u+w,height:c+w}))),L.createElement(Rhe,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:v0e,errorBarOffset:0},L.createElement(g0e,{props:this.props,clipPathId:y}))),L.createElement(whe,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var G7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ai.line,type:"linear"};function x0e(r){var e=xi(r,G7),{activeDot:t,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:c,label:h,legendType:p,xAxisId:m,yAxisId:g,id:y}=e,x=WO(e,n0e),{needClip:E}=P7(m,g),S=UO(),w=Kx(),T=Ji(),_=Ct(N=>Jde(N,m,g,T,y));if(w!=="horizontal"&&w!=="vertical"||_==null||S==null)return null;var{height:O,width:A,x:I,y:k}=S;return L.createElement(y0e,F0({},x,{id:y,connectNulls:o,dot:l,activeDot:t,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:c,hide:u,label:h,legendType:p,xAxisId:m,yAxisId:g,points:_,layout:w,height:O,width:A,left:I,top:k,needClip:E}))}function b0e(r){var{layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=r;return l.map((u,c)=>{var h=gi(u,s);if(e==="horizontal"){var p=IN({axis:t,ticks:i,bandSize:o,entry:u,index:c}),m=jn(h)?null:n.scale(h);return{x:p,y:m,value:h,payload:u}}var g=jn(h)?null:t.scale(h),y=IN({axis:n,ticks:a,bandSize:o,entry:u,index:c});return g==null||y==null?null:{x:g,y,value:h,payload:u}}).filter(Boolean)}function S0e(r){var e=xi(r,G7),t=Ji();return L.createElement($fe,{id:e.id,type:"line"},n=>L.createElement(L.Fragment,null,L.createElement(Ffe,{legendPayload:l0e(e)}),L.createElement(u0e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),L.createElement(Vfe,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:t}),L.createElement(x0e,F0({},e,{id:n}))))}var ec=L.memo(S0e,jO);ec.displayName="Line";var E0e=["domain","range"],w0e=["domain","range"];function f4(r,e){if(r==null)return{};var t,n,i=_0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function _0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function h4(r,e){return r===e?!0:Array.isArray(r)&&r.length===2&&Array.isArray(e)&&e.length===2?r[0]===e[0]&&r[1]===e[1]:!1}function W7(r,e){if(r===e)return!0;var{domain:t,range:n}=r,i=f4(r,E0e),{domain:a,range:s}=e,o=f4(e,w0e);return!h4(t,a)||!h4(n,s)?!1:jO(i,o)}var T0e=["dangerouslySetInnerHTML","ticks"],A0e=["id"];function f2(){return f2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},f2.apply(null,arguments)}function d4(r,e){if(r==null)return{};var t,n,i=D0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function D0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function O0e(r){var e=xn(),t=L.useRef(null);return L.useLayoutEffect(()=>{t.current===null?e(lhe(r)):t.current!==r&&e(uhe({prev:t.current,next:r})),t.current=r},[r,e]),L.useLayoutEffect(()=>()=>{t.current&&(e(che(t.current)),t.current=null)},[e]),null}var C0e=r=>{var{xAxisId:e,className:t}=r,n=Ct(Rj),i=Ji(),a="xAxis",s=Ct(x=>Bh(x,a,e,i)),o=Ct(x=>B9(x,a,e,i)),l=Ct(x=>joe(x,e)),u=Ct(x=>Yoe(x,e)),c=Ct(x=>i9(x,e));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=r,m=d4(r,T0e),{id:g}=c,y=d4(c,A0e);return L.createElement(GO,f2({},m,y,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Bt("recharts-".concat(a," ").concat(a),t),viewBox:n,ticks:o,axisType:a}))},I0e={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:Ln.allowDecimals,allowDuplicatedCategory:Ln.allowDuplicatedCategory,angle:Ln.angle,axisLine:Go.axisLine,height:Ln.height,hide:!1,includeHidden:Ln.includeHidden,interval:Ln.interval,minTickGap:Ln.minTickGap,mirror:Ln.mirror,orientation:Ln.orientation,padding:Ln.padding,reversed:Ln.reversed,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,tickLine:Go.tickLine,tickSize:Go.tickSize,type:Ln.type,xAxisId:0},R0e=r=>{var e=xi(r,I0e);return L.createElement(L.Fragment,null,L.createElement(O0e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),L.createElement(C0e,e))},h2=L.memo(R0e,W7);h2.displayName="XAxis";var k0e=["dangerouslySetInnerHTML","ticks"],P0e=["id"];function d2(){return d2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},d2.apply(null,arguments)}function p4(r,e){if(r==null)return{};var t,n,i=L0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function L0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function M0e(r){var e=xn(),t=L.useRef(null);return L.useLayoutEffect(()=>{t.current===null?e(fhe(r)):t.current!==r&&e(hhe({prev:t.current,next:r})),t.current=r},[r,e]),L.useLayoutEffect(()=>()=>{t.current&&(e(dhe(t.current)),t.current=null)},[e]),null}var N0e=r=>{var{yAxisId:e,className:t,width:n,label:i}=r,a=L.useRef(null),s=L.useRef(null),o=Ct(Rj),l=Ji(),u=xn(),c="yAxis",h=Ct(_=>Bh(_,c,e,l)),p=Ct(_=>qoe(_,e)),m=Ct(_=>Voe(_,e)),g=Ct(_=>B9(_,c,e,l)),y=Ct(_=>a9(_,e));if(L.useLayoutEffect(()=>{if(!(n!=="auto"||!p||BO(i)||L.isValidElement(i)||y==null)){var _=a.current;if(_){var O=_.getCalculatedWidth();Math.round(p.width)!==Math.round(O)&&u(phe({id:e,width:O}))}}},[g,p,u,i,e,n,y]),p==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:x,ticks:E}=r,S=p4(r,k0e),{id:w}=y,T=p4(y,P0e);return L.createElement(GO,d2({},S,T,{ref:a,labelRef:s,scale:h,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Bt("recharts-".concat(c," ").concat(c),t),viewBox:o,ticks:g,axisType:c}))},F0e={allowDataOverflow:Mn.allowDataOverflow,allowDecimals:Mn.allowDecimals,allowDuplicatedCategory:Mn.allowDuplicatedCategory,angle:Mn.angle,axisLine:Go.axisLine,hide:!1,includeHidden:Mn.includeHidden,interval:Mn.interval,minTickGap:Mn.minTickGap,mirror:Mn.mirror,orientation:Mn.orientation,padding:Mn.padding,reversed:Mn.reversed,scale:Mn.scale,tick:Mn.tick,tickCount:Mn.tickCount,tickLine:Go.tickLine,tickSize:Go.tickSize,type:Mn.type,width:Mn.width,yAxisId:0},B0e=r=>{var e=xi(r,F0e);return L.createElement(L.Fragment,null,L.createElement(M0e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),L.createElement(N0e,e))},p2=L.memo(B0e,W7);p2.displayName="YAxis";var U0e=(r,e)=>e,KO=ze([U0e,Br,t9,Cn,t7,vl,cue,li],vue),YO=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},K7=Va("mouseClick"),Y7=fp();Y7.startListening({actionCreator:K7,effect:(r,e)=>{var t=r.payload,n=KO(e.getState(),YO(t));n?.activeIndex!=null&&e.dispatch(lle({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var m2=Va("mouseMove"),z7=fp(),pg=null;z7.startListening({actionCreator:m2,effect:(r,e)=>{var t=r.payload;pg!==null&&cancelAnimationFrame(pg);var n=YO(t);pg=requestAnimationFrame(()=>{var i=e.getState(),a=DO(i,i.tooltip.settings.shared);if(a==="axis"){var s=KO(i,n);s?.activeIndex!=null?e.dispatch(z9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Y9())}pg=null})}});var m4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V7=Zi({name:"rootProps",initialState:m4,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:m4.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className,r.baseValue=e.payload.baseValue,r.reverseStackOrder=e.payload.reverseStackOrder}}}),j0e=V7.reducer,{updateOptions:$0e}=V7.actions,q7=Zi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:LIe}=q7.actions,H0e=q7.reducer,X7=Va("keyDown"),Q7=Va("focus"),zO=fp();zO.startListening({actionCreator:X7,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=t.tooltip,a=r.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=OO(i,jh(t),Sp(t),Ap(t)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=vl(t);if(a==="Enter"){var u=wy(t,"axis","hover",String(i.index));e.dispatch(i2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=Joe(t),h=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*h;if(!(l==null||m>=l.length||m<0)){var g=wy(t,"axis","hover",String(m));e.dispatch(i2({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});zO.startListening({actionCreator:Q7,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var a="0",s=wy(t,"axis","hover",String(a));e.dispatch(i2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var $a=Va("externalEvent"),Z7=fp(),Aw=new Map;Z7.startListening({actionCreator:$a,effect:(r,e)=>{var{handler:t,reactEvent:n}=r.payload;if(t!=null){n.persist();var i=n.type,a=Aw.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:Vle(o),activeDataKey:Yle(o),activeIndex:M0(o),activeLabel:i7(o),activeTooltipIndex:M0(o),isTooltipActive:qle(o)};t(l,n)}finally{Aw.delete(i)}});Aw.set(i,s)}}});var G0e=ze([Uh],r=>r.tooltipItemPayloads),W0e=ze([G0e,_p,(r,e,t)=>e,(r,e,t)=>t],(r,e,t,n)=>{var i=r.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,t);return s}}}),J7=Va("touchMove"),eH=fp();eH.startListening({actionCreator:J7,effect:(r,e)=>{var t=r.payload;if(!(t.touches==null||t.touches.length===0)){var n=e.getState(),i=DO(n,n.tooltip.settings.shared);if(i==="axis"){var a=KO(n,YO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));a?.activeIndex!=null&&e.dispatch(z9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(kte),c=(s=l.getAttribute(Pte))!==null&&s!==void 0?s:void 0,h=W0e(e.getState(),u,c);e.dispatch(ole({activeDataKey:c,activeIndex:u,activeCoordinate:h}))}}}});var K0e=Z5({brush:ede,cartesianAxis:mhe,chartData:que,errorBars:The,graphicalItems:Yfe,layout:gte,legend:Are,options:Wue,polarAxis:gfe,polarOptions:H0e,referenceElements:ode,rootProps:j0e,tooltip:ule,zIndex:Rue}),Y0e=function(e){return $ee({reducer:K0e,preloadedState:e,middleware:t=>{var n;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([Y7.middleware,z7.middleware,zO.middleware,Z7.middleware,eH.middleware])},enhancers:t=>{var n=t;return typeof t=="function"&&(n=t()),n.concat(dj({type:"raf"}))},devTools:pp.devToolsEnabled})};function z0e(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,i=Ji(),a=L.useRef(null);if(i)return t;a.current==null&&(a.current=Y0e(e));var s=wD;return L.createElement(Xhe,{context:s,store:a.current},t)}function V0e(r){var{layout:e,margin:t}=r,n=xn(),i=Ji();return L.useEffect(()=>{i||(n(dte(e)),n(hte(t)))},[n,i,e,t]),null}var q0e=L.memo(V0e,jO);function X0e(r){var e=xn();return L.useEffect(()=>{e($0e(r))},[e,r]),null}function g4(r){var{zIndex:e,isPanorama:t}=r,n=t?"recharts-zindex-panorama-":"recharts-zindex-",i=C7("".concat(n).concat(e)),a=xn();return L.useLayoutEffect(()=>(a(Cue({zIndex:e,elementId:i,isPanorama:t})),()=>{a(Iue({zIndex:e,isPanorama:t}))}),[a,e,i,t]),L.createElement("g",{tabIndex:-1,id:i})}function v4(r){var{children:e,isPanorama:t}=r,n=Ct(xue);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return L.createElement(L.Fragment,null,i.map(s=>L.createElement(g4,{key:s,zIndex:s,isPanorama:t})),e,a.map(s=>L.createElement(g4,{key:s,zIndex:s,isPanorama:t})))}var Q0e=["children"];function Z0e(r,e){if(r==null)return{};var t,n,i=J0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function J0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Iy(){return Iy=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Iy.apply(null,arguments)}var epe={width:"100%",height:"100%",display:"block"},tpe=L.forwardRef((r,e)=>{var t=PD(),n=LD(),i=Wj();if(!Js(t)||!Js(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=r,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),L.createElement(dD,Iy({},s,{title:o,desc:l,role:c,tabIndex:u,width:t,height:n,style:epe,ref:e}),a)}),rpe=r=>{var{children:e}=r,t=Ct(Gx);if(!t)return null;var{width:n,height:i,y:a,x:s}=t;return L.createElement(dD,{width:n,height:i,x:s,y:a},e)},y4=L.forwardRef((r,e)=>{var{children:t}=r,n=Z0e(r,Q0e),i=Ji();return i?L.createElement(rpe,null,L.createElement(v4,{isPanorama:!0},t)):L.createElement(tpe,Iy({ref:e},n),L.createElement(v4,{isPanorama:!1},t))});function npe(){var r=xn(),[e,t]=L.useState(null),n=Ct(Rte);return L.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;$n(a)&&a!==n&&r(mte(a))}},[e,r,n]),t}function x4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ipe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(t),!0).forEach(function(n){ape(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):x4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ape(r,e,t){return(e=spe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function spe(r){var e=ope(r,"string");return typeof e=="symbol"?e:e+""}function ope(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ac.apply(null,arguments)}var lpe=()=>(ice(),null);function Ry(r){if(typeof r=="number")return r;if(typeof r=="string"){var e=parseFloat(r);if(!Number.isNaN(e))return e}return 0}var upe=L.forwardRef((r,e)=>{var t,n,i=L.useRef(null),[a,s]=L.useState({containerWidth:Ry((t=r.style)===null||t===void 0?void 0:t.width),containerHeight:Ry((n=r.style)===null||n===void 0?void 0:n.height)}),o=L.useCallback((u,c)=>{s(h=>{var p=Math.round(u),m=Math.round(c);return h.containerWidth===p&&h.containerHeight===m?h:{containerWidth:p,containerHeight:m}})},[]),l=L.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:h}=u.getBoundingClientRect();o(c,h);var p=g=>{var{width:y,height:x}=g[0].contentRect;o(y,x)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[e,o]);return L.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[o]),L.createElement(L.Fragment,null,L.createElement(Yx,{width:a.containerWidth,height:a.containerHeight}),L.createElement("div",Ac({ref:l},r)))}),cpe=L.forwardRef((r,e)=>{var{width:t,height:n}=r,[i,a]=L.useState({containerWidth:Ry(t),containerHeight:Ry(n)}),s=L.useCallback((l,u)=>{a(c=>{var h=Math.round(l),p=Math.round(u);return c.containerWidth===h&&c.containerHeight===p?c:{containerWidth:h,containerHeight:p}})},[]),o=L.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[e,s]);return L.createElement(L.Fragment,null,L.createElement(Yx,{width:i.containerWidth,height:i.containerHeight}),L.createElement("div",Ac({ref:o},r)))}),fpe=L.forwardRef((r,e)=>{var{width:t,height:n}=r;return L.createElement(L.Fragment,null,L.createElement(Yx,{width:t,height:n}),L.createElement("div",Ac({ref:e},r)))}),hpe=L.forwardRef((r,e)=>{var{width:t,height:n}=r;return Jo(t)||Jo(n)?L.createElement(cpe,Ac({},r,{ref:e})):L.createElement(fpe,Ac({},r,{ref:e}))});function dpe(r){return r===!0?upe:hpe}var ppe=L.forwardRef((r,e)=>{var{children:t,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:h,onMouseUp:p,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:x,width:E,responsive:S,dispatchTouchEvents:w=!0}=r,T=L.useRef(null),_=xn(),[O,A]=L.useState(null),[I,k]=L.useState(null),N=npe(),B=kD(),R=B?.width>0?B.width:E,H=B?.height>0?B.height:i,X=L.useCallback(te=>{N(te),typeof e=="function"&&e(te),A(te),k(te),te!=null&&(T.current=te)},[N,e,A,k]),Y=L.useCallback(te=>{_(K7(te)),_($a({handler:a,reactEvent:te}))},[_,a]),K=L.useCallback(te=>{_(m2(te)),_($a({handler:u,reactEvent:te}))},[_,u]),z=L.useCallback(te=>{_(Y9()),_($a({handler:c,reactEvent:te}))},[_,c]),Q=L.useCallback(te=>{_(m2(te)),_($a({handler:h,reactEvent:te}))},[_,h]),se=L.useCallback(()=>{_(Q7())},[_]),ae=L.useCallback(te=>{_(X7(te.key))},[_]),W=L.useCallback(te=>{_($a({handler:s,reactEvent:te}))},[_,s]),M=L.useCallback(te=>{_($a({handler:o,reactEvent:te}))},[_,o]),V=L.useCallback(te=>{_($a({handler:l,reactEvent:te}))},[_,l]),ee=L.useCallback(te=>{_($a({handler:p,reactEvent:te}))},[_,p]),Z=L.useCallback(te=>{_($a({handler:y,reactEvent:te}))},[_,y]),me=L.useCallback(te=>{w&&_(J7(te)),_($a({handler:g,reactEvent:te}))},[_,w,g]),ue=L.useCallback(te=>{_($a({handler:m,reactEvent:te}))},[_,m]),q=dpe(S);return L.createElement(f7.Provider,{value:O},L.createElement(d5.Provider,{value:I},L.createElement(q,{width:R??x?.width,height:H??x?.height,className:Bt("recharts-wrapper",n),style:ipe({position:"relative",cursor:"default",width:R,height:H},x),onClick:Y,onContextMenu:W,onDoubleClick:M,onFocus:se,onKeyDown:ae,onMouseDown:V,onMouseEnter:K,onMouseLeave:z,onMouseMove:Q,onMouseUp:ee,onTouchEnd:ue,onTouchMove:me,onTouchStart:Z,ref:X},L.createElement(lpe,null),t)))}),mpe=["width","height","responsive","children","className","style","compact","title","desc"];function gpe(r,e){if(r==null)return{};var t,n,i=vpe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function vpe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var ype=L.forwardRef((r,e)=>{var{width:t,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=r,h=gpe(r,mpe),p=Xs(h);return l?L.createElement(L.Fragment,null,L.createElement(Yx,{width:t,height:n}),L.createElement(y4,{otherAttributes:p,title:u,desc:c},a)):L.createElement(ppe,{className:s,style:o,width:t,height:n,responsive:i??!1,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},L.createElement(y4,{otherAttributes:p,title:u,desc:c,ref:e},L.createElement(ude,null,a)))});function g2(){return g2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},g2.apply(null,arguments)}var xpe={top:5,right:5,bottom:5,left:5},bpe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:xpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Spe=L.forwardRef(function(e,t){var n,i=xi(e.categoricalChartProps,bpe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return L.createElement(z0e,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},L.createElement(Jhe,{chartData:u.data}),L.createElement(q0e,{layout:i.layout,margin:i.margin}),L.createElement(X0e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),L.createElement(ype,g2({},i,{ref:t})))}),Epe=["axis"],b4=L.forwardRef((r,e)=>L.createElement(Spe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Epe,tooltipPayloadSearcher:Hue,categoricalChartProps:r,ref:e}));const tH=6048e5,wpe=864e5,f1=6e4,h1=36e5,_pe=1e3,S4=Symbol.for("constructDateFrom");function vr(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&S4 in r?r[S4](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ot(r,e){return vr(e||r,r)}function xs(r,e,t){const n=Ot(r,t?.in);return isNaN(e)?vr(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function ws(r,e,t){const n=Ot(r,t?.in);if(isNaN(e))return vr(r,NaN);if(!e)return n;const i=n.getDate(),a=vr(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function rH(r,e,t){return vr(r,+Ot(r)+e)}function Tpe(r,e,t){return rH(r,e*h1)}let Ape={};function Uc(){return Ape}function al(r,e){const t=Uc(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Ot(r,e?.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function gh(r,e){return al(r,{...e,weekStartsOn:1})}function nH(r,e){const t=Ot(r,e?.in),n=t.getFullYear(),i=vr(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=gh(i),s=vr(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=gh(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ky(r){const e=Ot(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function xl(r,...e){const t=vr.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Dc(r,e){const t=Ot(r,e?.in);return t.setHours(0,0,0,0),t}function vh(r,e,t){const[n,i]=xl(t?.in,r,e),a=Dc(n),s=Dc(i),o=+a-ky(a),l=+s-ky(s);return Math.round((o-l)/wpe)}function Dpe(r,e){const t=nH(r,e),n=vr(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),gh(n)}function B0(r,e,t){const n=Ot(r,t?.in);return n.setTime(n.getTime()+e*f1),n}function VO(r,e,t){return ws(r,e*3,t)}function Ope(r,e,t){return rH(r,e*1e3)}function Py(r,e,t){return xs(r,e*7,t)}function Wo(r,e,t){return ws(r,e*12,t)}function E4(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=vr.bind(null,i));const a=Ot(i,n);(!t||t<a||isNaN(+a))&&(t=a)}),vr(n,t||NaN)}function w4(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=vr.bind(null,i));const a=Ot(i,n);(!t||t>a||isNaN(+a))&&(t=a)}),vr(n,t||NaN)}function Cpe(r,e,t){const[n,i]=xl(t?.in,r,e);return+Dc(n)==+Dc(i)}function Ko(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Ly(r){return!(!Ko(r)&&typeof r!="number"||isNaN(+Ot(r)))}function My(r,e,t){const[n,i]=xl(t?.in,r,e),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function su(r,e){const t=Ot(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function Ny(r,e,t){const[n,i]=xl(t?.in,r,e),a=n.getFullYear()-i.getFullYear(),s=su(n)-su(i);return a*4+s}function Fy(r,e,t){const[n,i]=xl(t?.in,r,e);return n.getFullYear()-i.getFullYear()}function Ipe(r,e,t){const[n,i]=xl(t?.in,r,e),a=_4(n,i),s=Math.abs(vh(n,i));n.setDate(n.getDate()-a*s);const o=+(_4(n,i)===-a),l=a*(s-o);return l===0?0:l}function _4(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function iH(r,e){const t=Ot(r,e?.in);return t.setHours(23,59,59,999),t}function aH(r,e){const t=Ot(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function v2(r,e){const t=Ot(r,e?.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function sH(r,e){const t=Ot(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function oH(r,e){const t=Ot(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function d1(r,e){const t=Ot(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Rpe(r,e){const t=Uc(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=Ot(r,e?.in),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const kpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ppe=(r,e,t)=>{let n;const i=kpe[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Dw(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Lpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Npe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fpe={date:Dw({formats:Lpe,defaultWidth:"full"}),time:Dw({formats:Mpe,defaultWidth:"full"}),dateTime:Dw({formats:Npe,defaultWidth:"full"})},Bpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Upe=(r,e,t,n)=>Bpe[r];function Kd(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const s=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):s;i=r.formattingValues[o]||r.formattingValues[s]}else{const s=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;i=r.values[o]||r.values[s]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const jpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$pe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ype=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},zpe={ordinalNumber:Ype,era:Kd({values:jpe,defaultWidth:"wide"}),quarter:Kd({values:$pe,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Kd({values:Hpe,defaultWidth:"wide"}),day:Kd({values:Gpe,defaultWidth:"wide"}),dayPeriod:Kd({values:Wpe,defaultWidth:"wide",formattingValues:Kpe,defaultFormattingWidth:"wide"})};function Yd(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?qpe(o,h=>h.test(s)):Vpe(o,h=>h.test(s));let u;u=r.valueCallback?r.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function Vpe(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function qpe(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Xpe(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let s=r.valueCallback?r.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Qpe=/^(\d+)(th|st|nd|rd)?/i,Zpe=/\d+/i,Jpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eme={any:[/^b/i,/^(a|c)/i]},tme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rme={any:[/1/i,/2/i,/3/i,/4/i]},nme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ime={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ame={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ome={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ume={ordinalNumber:Xpe({matchPattern:Qpe,parsePattern:Zpe,valueCallback:r=>parseInt(r,10)}),era:Yd({matchPatterns:Jpe,defaultMatchWidth:"wide",parsePatterns:eme,defaultParseWidth:"any"}),quarter:Yd({matchPatterns:tme,defaultMatchWidth:"wide",parsePatterns:rme,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Yd({matchPatterns:nme,defaultMatchWidth:"wide",parsePatterns:ime,defaultParseWidth:"any"}),day:Yd({matchPatterns:ame,defaultMatchWidth:"wide",parsePatterns:sme,defaultParseWidth:"any"}),dayPeriod:Yd({matchPatterns:ome,defaultMatchWidth:"any",parsePatterns:lme,defaultParseWidth:"any"})},lH={code:"en-US",formatDistance:Ppe,formatLong:Fpe,formatRelative:Upe,localize:zpe,match:ume,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cme(r,e){const t=Ot(r,e?.in);return vh(t,d1(t))+1}function qO(r,e){const t=Ot(r,e?.in),n=+gh(t)-+Dpe(t);return Math.round(n/tH)+1}function XO(r,e){const t=Ot(r,e?.in),n=t.getFullYear(),i=Uc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=vr(e?.in||r,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=al(s,e),l=vr(e?.in||r,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=al(l,e);return+t>=+o?n+1:+t>=+u?n:n-1}function fme(r,e){const t=Uc(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=XO(r,e),a=vr(e?.in||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),al(a,e)}function uH(r,e){const t=Ot(r,e?.in),n=+al(t,e)-+fme(t,e);return Math.round(n/tH)+1}function cr(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Vl={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return cr(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):cr(t+1,2)},d(r,e){return cr(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return cr(r.getHours()%12||12,e.length)},H(r,e){return cr(r.getHours(),e.length)},m(r,e){return cr(r.getMinutes(),e.length)},s(r,e){return cr(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return cr(i,e.length)}},Of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T4={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Vl.y(r,e)},Y:function(r,e,t,n){const i=XO(r,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return cr(s,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):cr(a,e.length)},R:function(r,e){const t=nH(r);return cr(t,e.length)},u:function(r,e){const t=r.getFullYear();return cr(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return cr(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return cr(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Vl.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return cr(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=uH(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):cr(i,e.length)},I:function(r,e,t){const n=qO(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):cr(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Vl.d(r,e)},D:function(r,e,t){const n=cme(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):cr(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return cr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return cr(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return cr(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Of.noon:n===0?i=Of.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Of.evening:n>=12?i=Of.afternoon:n>=4?i=Of.morning:i=Of.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Vl.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Vl.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Vl.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Vl.s(r,e)},S:function(r,e){return Vl.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return D4(n);case"XXXX":case"XX":return tc(n);case"XXXXX":case"XXX":default:return tc(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return D4(n);case"xxxx":case"xx":return tc(n);case"xxxxx":case"xxx":default:return tc(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+A4(n,":");case"OOOO":default:return"GMT"+tc(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+A4(n,":");case"zzzz":default:return"GMT"+tc(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return cr(n,e.length)},T:function(r,e,t){return cr(+r,e.length)}};function A4(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+cr(a,2)}function D4(r,e){return r%60===0?(r>0?"-":"+")+cr(Math.abs(r)/60,2):tc(r,e)}function tc(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=cr(Math.trunc(n/60),2),a=cr(n%60,2);return t+i+e+a}const O4=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cH=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hme=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return O4(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",O4(n,e)).replace("{{time}}",cH(i,e))},y2={p:cH,P:hme},dme=/^D+$/,pme=/^Y+$/,mme=["D","DD","YY","YYYY"];function gme(r){return dme.test(r)}function vme(r){return pme.test(r)}function yme(r,e,t){const n=xme(r,e,t);if(console.warn(n),mme.includes(r))throw new RangeError(n)}function xme(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eme=/^'([^]*?)'?$/,wme=/''/g,_me=/[a-zA-Z]/;function C4(r,e,t){const n=Uc(),i=t?.locale??n.locale??lH,a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ot(r,t?.in);if(!Ly(o))throw new RangeError("Invalid time value");let l=e.match(Sme).map(c=>{const h=c[0];if(h==="p"||h==="P"){const p=y2[h];return p(c,i.formatLong)}return c}).join("").match(bme).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const h=c[0];if(h==="'")return{isToken:!1,value:Tme(c)};if(T4[h])return{isToken:!0,value:c};if(h.match(_me))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const h=c.value;(!t?.useAdditionalWeekYearTokens&&vme(h)||!t?.useAdditionalDayOfYearTokens&&gme(h))&&yme(h,e,String(r));const p=T4[h[0]];return p(o,h,i.localize,u)}).join("")}function Tme(r){const e=r.match(Eme);return e?e[1].replace(wme,"'"):r}function I4(r,e){return Ot(r,e?.in).getDate()}function Ame(r,e){return Ot(r,e?.in).getDay()}function Dme(r,e){const t=Ot(r,e?.in),n=t.getFullYear(),i=t.getMonth(),a=vr(t,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Ome(){return Object.assign({},Uc())}function ms(r,e){return Ot(r,e?.in).getHours()}function Cme(r,e){const t=Ot(r,e?.in).getDay();return t===0?7:t}function gs(r,e){return Ot(r,e?.in).getMinutes()}function Wi(r,e){return Ot(r,e?.in).getMonth()}function fu(r){return Ot(r).getSeconds()}function x2(r){return+Ot(r)}function Vt(r,e){return Ot(r,e?.in).getFullYear()}function vu(r,e){return+Ot(r)>+Ot(e)}function Ws(r,e){return+Ot(r)<+Ot(e)}function Ime(r,e){return+Ot(r)==+Ot(e)}function Rme(r,e){const t=kme(e)?new e(0):vr(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function kme(r){return typeof r=="function"&&r.prototype?.constructor===r}const Pme=10;class fH{subPriority=0;validate(e,t){return!0}}class Lme extends fH{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Mme extends fH{priority=Pme;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>vr(t,n))}set(e,t){return t.timestampIsSet?e:vr(e,Rme(e,this.context))}}class sr{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new Lme(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class Nme extends sr{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Us={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function cn(r,e){return r&&{value:e(r.value),rest:r.rest}}function zr(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function js(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:n*(i*h1+a*f1+s*_pe),rest:e.slice(t[0].length)}}function hH(r){return zr(un.anyDigitsSigned,r)}function tn(r,e){switch(r){case 1:return zr(un.singleDigit,e);case 2:return zr(un.twoDigits,e);case 3:return zr(un.threeDigits,e);case 4:return zr(un.fourDigits,e);default:return zr(new RegExp("^\\d{1,"+r+"}"),e)}}function By(r,e){switch(r){case 1:return zr(un.singleDigitSigned,e);case 2:return zr(un.twoDigitsSigned,e);case 3:return zr(un.threeDigitsSigned,e);case 4:return zr(un.fourDigitsSigned,e);default:return zr(new RegExp("^-?\\d{1,"+r+"}"),e)}}function QO(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dH(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,s=Math.trunc(a/100)*100,o=r>=a%100;i=r+s-(o?100:0)}return t?i:1-i}function pH(r){return r%400===0||r%4===0&&r%100!==0}class Fme extends sr{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const i=a=>({year:a,isTwoDigitYear:t==="yy"});switch(t){case"y":return cn(tn(4,e),i);case"yo":return cn(n.ordinalNumber(e,{unit:"year"}),i);default:return cn(tn(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const i=e.getFullYear();if(n.isTwoDigitYear){const s=dH(n.year,i);return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}const a=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class Bme extends sr{priority=130;parse(e,t,n){const i=a=>({year:a,isTwoDigitYear:t==="YY"});switch(t){case"Y":return cn(tn(4,e),i);case"Yo":return cn(n.ordinalNumber(e,{unit:"year"}),i);default:return cn(tn(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,i){const a=XO(e,i);if(n.isTwoDigitYear){const o=dH(n.year,a);return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),al(e,i)}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),al(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Ume extends sr{priority=130;parse(e,t){return By(t==="R"?4:t.length,e)}set(e,t,n){const i=vr(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),gh(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class jme extends sr{priority=130;parse(e,t){return By(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class $me extends sr{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return tn(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Hme extends sr{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return tn(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Gme extends sr{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=a=>a-1;switch(t){case"M":return cn(zr(un.month,e),i);case"MM":return cn(tn(2,e),i);case"Mo":return cn(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class Wme extends sr{priority=110;parse(e,t,n){const i=a=>a-1;switch(t){case"L":return cn(zr(un.month,e),i);case"LL":return cn(tn(2,e),i);case"Lo":return cn(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Kme(r,e,t){const n=Ot(r,t?.in),i=uH(n,t)-e;return n.setDate(n.getDate()-i*7),Ot(n,t?.in)}class Yme extends sr{priority=100;parse(e,t,n){switch(t){case"w":return zr(un.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return tn(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,i){return al(Kme(e,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function zme(r,e,t){const n=Ot(r,t?.in),i=qO(n,t)-e;return n.setDate(n.getDate()-i*7),n}class Vme extends sr{priority=100;parse(e,t,n){switch(t){case"I":return zr(un.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return tn(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return gh(zme(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const qme=[31,28,31,30,31,30,31,31,30,31,30,31],Xme=[31,29,31,30,31,30,31,31,30,31,30,31];class Qme extends sr{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return zr(un.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return tn(t.length,e)}}validate(e,t){const n=e.getFullYear(),i=pH(n),a=e.getMonth();return i?t>=1&&t<=Xme[a]:t>=1&&t<=qme[a]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Zme extends sr{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return zr(un.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return tn(t.length,e)}}validate(e,t){const n=e.getFullYear();return pH(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ZO(r,e,t){const n=Uc(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ot(r,t?.in),s=a.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(s+u)%7:(l+u)%7-(s+u)%7;return xs(a,c,t)}class Jme extends sr{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=ZO(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class ege extends sr{priority=90;parse(e,t,n,i){const a=s=>{const o=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+o};switch(t){case"e":case"ee":return cn(tn(t.length,e),a);case"eo":return cn(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=ZO(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class tge extends sr{priority=90;parse(e,t,n,i){const a=s=>{const o=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+o};switch(t){case"c":case"cc":return cn(tn(t.length,e),a);case"co":return cn(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=ZO(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function rge(r,e,t){const n=Ot(r,t?.in),i=Cme(n,t),a=e-i;return xs(n,a,t)}class nge extends sr{priority=90;parse(e,t,n){const i=a=>a===0?7:a;switch(t){case"i":case"ii":return tn(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return cn(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return cn(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return cn(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return cn(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=rge(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class ige extends sr{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(QO(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class age extends sr{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(QO(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class sge extends sr{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(QO(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class oge extends sr{priority=70;parse(e,t,n){switch(t){case"h":return zr(un.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return tn(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class lge extends sr{priority=70;parse(e,t,n){switch(t){case"H":return zr(un.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return tn(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class uge extends sr{priority=70;parse(e,t,n){switch(t){case"K":return zr(un.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return tn(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class cge extends sr{priority=70;parse(e,t,n){switch(t){case"k":return zr(un.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return tn(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class fge extends sr{priority=60;parse(e,t,n){switch(t){case"m":return zr(un.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return tn(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class hge extends sr{priority=50;parse(e,t,n){switch(t){case"s":return zr(un.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return tn(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class dge extends sr{priority=30;parse(e,t){const n=i=>Math.trunc(i*Math.pow(10,-t.length+3));return cn(tn(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class pge extends sr{priority=10;parse(e,t){switch(t){case"X":return js(Us.basicOptionalMinutes,e);case"XX":return js(Us.basic,e);case"XXXX":return js(Us.basicOptionalSeconds,e);case"XXXXX":return js(Us.extendedOptionalSeconds,e);case"XXX":default:return js(Us.extended,e)}}set(e,t,n){return t.timestampIsSet?e:vr(e,e.getTime()-ky(e)-n)}incompatibleTokens=["t","T","x"]}class mge extends sr{priority=10;parse(e,t){switch(t){case"x":return js(Us.basicOptionalMinutes,e);case"xx":return js(Us.basic,e);case"xxxx":return js(Us.basicOptionalSeconds,e);case"xxxxx":return js(Us.extendedOptionalSeconds,e);case"xxx":default:return js(Us.extended,e)}}set(e,t,n){return t.timestampIsSet?e:vr(e,e.getTime()-ky(e)-n)}incompatibleTokens=["t","T","X"]}class gge extends sr{priority=40;parse(e){return hH(e)}set(e,t,n){return[vr(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class vge extends sr{priority=20;parse(e){return hH(e)}set(e,t,n){return[vr(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const yge={G:new Nme,y:new Fme,Y:new Bme,R:new Ume,u:new jme,Q:new $me,q:new Hme,M:new Gme,L:new Wme,w:new Yme,I:new Vme,d:new Qme,D:new Zme,E:new Jme,e:new ege,c:new tge,i:new nge,a:new ige,b:new age,B:new sge,h:new oge,H:new lge,K:new uge,k:new cge,m:new fge,s:new hge,S:new dge,X:new pge,x:new mge,t:new gge,T:new vge},xge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sge=/^'([^]*?)'?$/,Ege=/''/g,wge=/\S/,_ge=/[a-zA-Z]/;function Tge(r,e,t,n){const i=()=>vr(n?.in||t,NaN),a=Ome(),s=n?.locale??a.locale??lH,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!e)return r?i():Ot(t,n?.in);const u={firstWeekContainsDate:o,weekStartsOn:l,locale:s},c=[new Mme(n?.in,t)],h=e.match(bge).map(x=>{const E=x[0];if(E in y2){const S=y2[E];return S(x,s.formatLong)}return x}).join("").match(xge),p=[];for(let x of h){const E=x[0],S=yge[E];if(S){const{incompatibleTokens:w}=S;if(Array.isArray(w)){const _=p.find(O=>w.includes(O.token)||O.token===E);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${x}\` at the same time`)}else if(S.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);p.push({token:E,fullToken:x});const T=S.run(r,x,s.match,u);if(!T)return i();c.push(T.setter),r=T.rest}else{if(E.match(_ge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(x==="''"?x="'":E==="'"&&(x=Age(x)),r.indexOf(x)===0)r=r.slice(x.length);else return i()}}if(r.length>0&&wge.test(r))return i();const m=c.map(x=>x.priority).sort((x,E)=>E-x).filter((x,E,S)=>S.indexOf(x)===E).map(x=>c.filter(E=>E.priority===x).sort((E,S)=>S.subPriority-E.subPriority)).map(x=>x[0]);let g=Ot(t,n?.in);if(isNaN(+g))return i();const y={};for(const x of m){if(!x.validate(g,u))return i();const E=x.set(g,y,u);Array.isArray(E)?(g=E[0],Object.assign(y,E[1])):g=E}return g}function Age(r){return r.match(Sge)[1].replace(Ege,"'")}function Dge(r,e,t){const[n,i]=xl(t?.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function Oge(r,e,t){const[n,i]=xl(t?.in,r,e);return+v2(n)==+v2(i)}function Cge(r,e,t){const[n,i]=xl(t?.in,r,e);return n.getFullYear()===i.getFullYear()}function U0(r,e,t){const n=+Ot(r,t?.in),[i,a]=[+Ot(e.start,t?.in),+Ot(e.end,t?.in)].sort((s,o)=>s-o);return n>=i&&n<=a}function Ige(r,e,t){return xs(r,-1,t)}function Rge(r,e){const t=()=>vr(e?.in,NaN),i=Mge(r);let a;if(i.date){const u=Nge(i.date,2);a=Fge(u.restDateString,u.year)}if(!a||isNaN(+a))return t();const s=+a;let o=0,l;if(i.time&&(o=Bge(i.time),isNaN(o)))return t();if(i.timezone){if(l=Uge(i.timezone),isNaN(l))return t()}else{const u=new Date(s+o),c=Ot(0,e?.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Ot(s+o+l,e?.in)}const mg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Pge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Lge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Mge(r){const e={},t=r.split(mg.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],mg.timeZoneDelimiter.test(e.date)&&(e.date=r.split(mg.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=mg.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Nge(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function Fge(r,e){if(e===null)return new Date(NaN);const t=r.match(kge);if(!t)return new Date(NaN);const n=!!t[4],i=zd(t[1]),a=zd(t[2])-1,s=zd(t[3]),o=zd(t[4]),l=zd(t[5])-1;if(n)return Wge(e,o,l)?jge(e,o,l):new Date(NaN);{const u=new Date(0);return!Hge(e,a,s)||!Gge(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}}function zd(r){return r?parseInt(r):1}function Bge(r){const e=r.match(Pge);if(!e)return NaN;const t=Ow(e[1]),n=Ow(e[2]),i=Ow(e[3]);return Kge(t,n,i)?t*h1+n*f1+i*1e3:NaN}function Ow(r){return r&&parseFloat(r.replace(",","."))||0}function Uge(r){if(r==="Z")return 0;const e=r.match(Lge);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Yge(n,i)?t*(n*h1+i*f1):NaN}function jge(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const $ge=[31,null,31,30,31,30,31,31,30,31,30,31];function mH(r){return r%400===0||r%4===0&&r%100!==0}function Hge(r,e,t){return e>=0&&e<=11&&t>=1&&t<=($ge[e]||(mH(r)?29:28))}function Gge(r,e){return e>=1&&e<=(mH(r)?366:365)}function Wge(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Kge(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function Yge(r,e){return e>=0&&e<=59}function da(r,e,t){const n=Ot(r,t?.in),i=n.getFullYear(),a=n.getDate(),s=vr(r,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const o=Dme(s);return n.setMonth(e,Math.min(a,o)),n}function Tv(r,e,t){const n=Ot(r,t?.in);return n.setHours(e),n}function Av(r,e,t){const n=Ot(r,t?.in);return n.setMinutes(e),n}function Hf(r,e,t){const n=Ot(r,t?.in),i=Math.trunc(n.getMonth()/3)+1,a=e-i;return da(n,n.getMonth()+a*3)}function Dv(r,e,t){const n=Ot(r,t?.in);return n.setSeconds(e),n}function Ms(r,e,t){const n=Ot(r,t?.in);return isNaN(+n)?vr(r,NaN):(n.setFullYear(e),n)}function yc(r,e,t){return ws(r,-e,t)}function gH(r,e,t){return VO(r,-1,t)}function R4(r,e,t){return Py(r,-1,t)}function yh(r,e,t){return Wo(r,-e,t)}function p1(){return typeof window<"u"}function $h(r){return vH(r)?(r.nodeName||"").toLowerCase():"#document"}function _a(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function oo(r){var e;return(e=(vH(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function vH(r){return p1()?r instanceof Node||r instanceof _a(r).Node:!1}function Di(r){return p1()?r instanceof Element||r instanceof _a(r).Element:!1}function to(r){return p1()?r instanceof HTMLElement||r instanceof _a(r).HTMLElement:!1}function k4(r){return!p1()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof _a(r).ShadowRoot}const zge=new Set(["inline","contents"]);function Op(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Xa(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!zge.has(i)}const Vge=new Set(["table","td","th"]);function qge(r){return Vge.has($h(r))}const Xge=[":popover-open",":modal"];function m1(r){return Xge.some(e=>{try{return r.matches(e)}catch{return!1}})}const Qge=["transform","translate","scale","rotate","perspective"],Zge=["transform","translate","scale","rotate","perspective","filter"],Jge=["paint","layout","strict","content"];function JO(r){const e=eC(),t=Di(r)?Xa(r):r;return Qge.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Zge.some(n=>(t.willChange||"").includes(n))||Jge.some(n=>(t.contain||"").includes(n))}function eve(r){let e=yu(r);for(;to(e)&&!xh(e);){if(JO(e))return e;if(m1(e))return null;e=yu(e)}return null}function eC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tve=new Set(["html","body","#document"]);function xh(r){return tve.has($h(r))}function Xa(r){return _a(r).getComputedStyle(r)}function g1(r){return Di(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function yu(r){if($h(r)==="html")return r;const e=r.assignedSlot||r.parentNode||k4(r)&&r.host||oo(r);return k4(e)?e.host:e}function yH(r){const e=yu(r);return xh(e)?r.ownerDocument?r.ownerDocument.body:r.body:to(e)&&Op(e)?e:yH(e)}function j0(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=yH(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),s=_a(i);if(a){const o=b2(s);return e.concat(s,s.visualViewport||[],Op(i)?i:[],o&&t?j0(o):[])}return e.concat(i,j0(i,[],t))}function b2(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const bh=Math.min,xc=Math.max,Uy=Math.round,gg=Math.floor,qs=r=>({x:r,y:r}),rve={left:"right",right:"left",bottom:"top",top:"bottom"},nve={start:"end",end:"start"};function ive(r,e,t){return xc(r,bh(e,t))}function v1(r,e){return typeof r=="function"?r(e):r}function Sh(r){return r.split("-")[0]}function Cp(r){return r.split("-")[1]}function ave(r){return r==="x"?"y":"x"}function tC(r){return r==="y"?"height":"width"}const sve=new Set(["top","bottom"]);function cc(r){return sve.has(Sh(r))?"y":"x"}function rC(r){return ave(cc(r))}function ove(r,e,t){t===void 0&&(t=!1);const n=Cp(r),i=rC(r),a=tC(i);let s=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=jy(s)),[s,jy(s)]}function lve(r){const e=jy(r);return[S2(r),e,S2(e)]}function S2(r){return r.replace(/start|end/g,e=>nve[e])}const P4=["left","right"],L4=["right","left"],uve=["top","bottom"],cve=["bottom","top"];function fve(r,e,t){switch(r){case"top":case"bottom":return t?e?L4:P4:e?P4:L4;case"left":case"right":return e?uve:cve;default:return[]}}function hve(r,e,t,n){const i=Cp(r);let a=fve(Sh(r),t==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(S2)))),a}function jy(r){return r.replace(/left|right|bottom|top/g,e=>rve[e])}function dve(r){return{top:0,right:0,bottom:0,left:0,...r}}function xH(r){return typeof r!="number"?dve(r):{top:r,right:r,bottom:r,left:r}}function $y(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var pve=typeof document<"u",mve=function(){},Hy=pve?L.useLayoutEffect:mve;const gve={...Y2},vve=gve.useInsertionEffect,yve=vve||(r=>r());function xve(r){const e=L.useRef(()=>{});return yve(()=>{e.current=r}),L.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function M4(r,e,t){let{reference:n,floating:i}=r;const a=cc(e),s=rC(e),o=tC(s),l=Sh(e),u=a==="y",c=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let m;switch(l){case"top":m={x:c,y:n.y-i.height};break;case"bottom":m={x:c,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-i.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Cp(e)){case"start":m[s]-=p*(t&&u?-1:1);break;case"end":m[s]+=p*(t&&u?-1:1);break}return m}const bve=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:r,floating:e,strategy:i}),{x:c,y:h}=M4(u,n,l),p=n,m={},g=0;for(let y=0;y<o.length;y++){const{name:x,fn:E}=o[y],{x:S,y:w,data:T,reset:_}=await E({x:c,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:r,floating:e}});c=S??c,h=w??h,m={...m,[x]:{...m[x],...T}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:r,floating:e,strategy:i}):_.rects),{x:c,y:h}=M4(u,p,l)),y=-1)}return{x:c,y:h,placement:p,strategy:i,middlewareData:m}};async function Sve(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=r,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=v1(e,r),g=xH(m),x=o[p?h==="floating"?"reference":"floating":h],E=$y(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(x)))==null||t?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),S=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),T=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=$y(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:S,offsetParent:w,strategy:l}):S);return{top:(E.top-_.top+g.top)/T.y,bottom:(_.bottom-E.bottom+g.bottom)/T.y,left:(E.left-_.left+g.left)/T.x,right:(_.right-E.right+g.right)/T.x}}const Eve=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:c=0}=v1(r,e)||{};if(u==null)return{};const h=xH(c),p={x:t,y:n},m=rC(i),g=tC(m),y=await s.getDimensions(u),x=m==="y",E=x?"top":"left",S=x?"bottom":"right",w=x?"clientHeight":"clientWidth",T=a.reference[g]+a.reference[m]-p[m]-a.floating[g],_=p[m]-a.reference[m],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let A=O?O[w]:0;(!A||!await(s.isElement==null?void 0:s.isElement(O)))&&(A=o.floating[w]||a.floating[g]);const I=T/2-_/2,k=A/2-y[g]/2-1,N=bh(h[E],k),B=bh(h[S],k),R=N,H=A-y[g]-B,X=A/2-y[g]/2+I,Y=ive(R,X,H),K=!l.arrow&&Cp(i)!=null&&X!==Y&&a.reference[g]/2-(X<R?N:B)-y[g]/2<0,z=K?X<R?X-R:X-H:0;return{[m]:p[m]+z,data:{[m]:Y,centerOffset:X-Y-z,...K&&{alignmentOffset:z}},reset:K}}}),wve=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=v1(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const E=Sh(i),S=cc(o),w=Sh(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=p||(w||!y?[jy(o)]:lve(o)),O=g!=="none";!p&&O&&_.push(...hve(o,y,g,T));const A=[o,..._],I=await Sve(e,x),k=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(c&&k.push(I[E]),h){const X=ove(i,s,T);k.push(I[X[0]],I[X[1]])}if(N=[...N,{placement:i,overflows:k}],!k.every(X=>X<=0)){var B,R;const X=(((B=a.flip)==null?void 0:B.index)||0)+1,Y=A[X];if(Y&&(!(h==="alignment"?S!==cc(Y):!1)||N.every(Q=>cc(Q.placement)===S?Q.overflows[0]>0:!0)))return{data:{index:X,overflows:N},reset:{placement:Y}};let K=(R=N.filter(z=>z.overflows[0]<=0).sort((z,Q)=>z.overflows[1]-Q.overflows[1])[0])==null?void 0:R.placement;if(!K)switch(m){case"bestFit":{var H;const z=(H=N.filter(Q=>{if(O){const se=cc(Q.placement);return se===S||se==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(se=>se>0).reduce((se,ae)=>se+ae,0)]).sort((Q,se)=>Q[1]-se[1])[0])==null?void 0:H[0];z&&(K=z);break}case"initialPlacement":K=o;break}if(i!==K)return{reset:{placement:K}}}return{}}}},_ve=new Set(["left","top"]);async function Tve(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Sh(t),o=Cp(t),l=cc(t)==="y",u=_ve.has(s)?-1:1,c=a&&l?-1:1,h=v1(e,r);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(m=o==="end"?g*-1:g),l?{x:m*c,y:p*u}:{x:p*u,y:m*c}}const Ave=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await Tve(e,r);return s===((t=o.offset)==null?void 0:t.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}};function bH(r){const e=Xa(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=to(r),a=i?r.offsetWidth:t,s=i?r.offsetHeight:n,o=Uy(t)!==a||Uy(n)!==s;return o&&(t=a,n=s),{width:t,height:n,$:o}}function nC(r){return Di(r)?r:r.contextElement}function Zf(r){const e=nC(r);if(!to(e))return qs(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=bH(e);let s=(a?Uy(t.width):t.width)/n,o=(a?Uy(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Dve=qs(0);function SH(r){const e=_a(r);return!eC()||!e.visualViewport?Dve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ove(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==_a(r)?!1:e}function Oc(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=nC(r);let s=qs(1);e&&(n?Di(n)&&(s=Zf(n)):s=Zf(r));const o=Ove(a,t,n)?SH(a):qs(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,c=i.width/s.x,h=i.height/s.y;if(a){const p=_a(a),m=n&&Di(n)?_a(n):n;let g=p,y=b2(g);for(;y&&n&&m!==g;){const x=Zf(y),E=y.getBoundingClientRect(),S=Xa(y),w=E.left+(y.clientLeft+parseFloat(S.paddingLeft))*x.x,T=E.top+(y.clientTop+parseFloat(S.paddingTop))*x.y;l*=x.x,u*=x.y,c*=x.x,h*=x.y,l+=w,u+=T,g=_a(y),y=b2(g)}}return $y({width:c,height:h,x:l,y:u})}function y1(r,e){const t=g1(r).scrollLeft;return e?e.left+t:Oc(oo(r)).left+t}function EH(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-y1(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function Cve(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",s=oo(n),o=e?m1(e.floating):!1;if(n===s||o&&a)return t;let l={scrollLeft:0,scrollTop:0},u=qs(1);const c=qs(0),h=to(n);if((h||!h&&!a)&&(($h(n)!=="body"||Op(s))&&(l=g1(n)),to(n))){const m=Oc(n);u=Zf(n),c.x=m.x+n.clientLeft,c.y=m.y+n.clientTop}const p=s&&!h&&!a?EH(s,l):qs(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+c.x+p.x,y:t.y*u.y-l.scrollTop*u.y+c.y+p.y}}function Ive(r){return Array.from(r.getClientRects())}function Rve(r){const e=oo(r),t=g1(r),n=r.ownerDocument.body,i=xc(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=xc(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-t.scrollLeft+y1(r);const o=-t.scrollTop;return Xa(n).direction==="rtl"&&(s+=xc(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}const N4=25;function kve(r,e){const t=_a(r),n=oo(r),i=t.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=eC();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const u=y1(n);if(u<=0){const c=n.ownerDocument,h=c.body,p=getComputedStyle(h),m=c.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-m);g<=N4&&(a-=g)}else u<=N4&&(a+=u);return{width:a,height:s,x:o,y:l}}const Pve=new Set(["absolute","fixed"]);function Lve(r,e){const t=Oc(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=to(r)?Zf(r):qs(1),s=r.clientWidth*a.x,o=r.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function F4(r,e,t){let n;if(e==="viewport")n=kve(r,t);else if(e==="document")n=Rve(oo(r));else if(Di(e))n=Lve(e,t);else{const i=SH(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $y(n)}function wH(r,e){const t=yu(r);return t===e||!Di(t)||xh(t)?!1:Xa(t).position==="fixed"||wH(t,e)}function Mve(r,e){const t=e.get(r);if(t)return t;let n=j0(r,[],!1).filter(o=>Di(o)&&$h(o)!=="body"),i=null;const a=Xa(r).position==="fixed";let s=a?yu(r):r;for(;Di(s)&&!xh(s);){const o=Xa(s),l=JO(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&Pve.has(i.position)||Op(s)&&!l&&wH(r,s))?n=n.filter(c=>c!==s):i=o,s=yu(s)}return e.set(r,n),n}function Nve(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const s=[...t==="clippingAncestors"?m1(e)?[]:Mve(e,this._c):[].concat(t),n],o=s[0],l=s.reduce((u,c)=>{const h=F4(e,c,i);return u.top=xc(h.top,u.top),u.right=bh(h.right,u.right),u.bottom=bh(h.bottom,u.bottom),u.left=xc(h.left,u.left),u},F4(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Fve(r){const{width:e,height:t}=bH(r);return{width:e,height:t}}function Bve(r,e,t){const n=to(e),i=oo(e),a=t==="fixed",s=Oc(r,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=qs(0);function u(){l.x=y1(i)}if(n||!n&&!a)if(($h(e)!=="body"||Op(i))&&(o=g1(e)),n){const m=Oc(e,!0,a,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();a&&!n&&i&&u();const c=i&&!n&&!a?EH(i,o):qs(0),h=s.left+o.scrollLeft-l.x-c.x,p=s.top+o.scrollTop-l.y-c.y;return{x:h,y:p,width:s.width,height:s.height}}function Cw(r){return Xa(r).position==="static"}function B4(r,e){if(!to(r)||Xa(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return oo(r)===t&&(t=t.ownerDocument.body),t}function _H(r,e){const t=_a(r);if(m1(r))return t;if(!to(r)){let i=yu(r);for(;i&&!xh(i);){if(Di(i)&&!Cw(i))return i;i=yu(i)}return t}let n=B4(r,e);for(;n&&qge(n)&&Cw(n);)n=B4(n,e);return n&&xh(n)&&Cw(n)&&!JO(n)?t:n||eve(r)||t}const Uve=async function(r){const e=this.getOffsetParent||_H,t=this.getDimensions,n=await t(r.floating);return{reference:Bve(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jve(r){return Xa(r).direction==="rtl"}const $ve={convertOffsetParentRelativeRectToViewportRelativeRect:Cve,getDocumentElement:oo,getClippingRect:Nve,getOffsetParent:_H,getElementRects:Uve,getClientRects:Ive,getDimensions:Fve,getScale:Zf,isElement:Di,isRTL:jve};function TH(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Hve(r,e){let t=null,n;const i=oo(r);function a(){var o;clearTimeout(n),(o=t)==null||o.disconnect(),t=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=r.getBoundingClientRect(),{left:c,top:h,width:p,height:m}=u;if(o||e(),!p||!m)return;const g=gg(h),y=gg(i.clientWidth-(c+p)),x=gg(i.clientHeight-(h+m)),E=gg(c),w={rootMargin:-g+"px "+-y+"px "+-x+"px "+-E+"px",threshold:xc(0,bh(1,l))||1};let T=!0;function _(O){const A=O[0].intersectionRatio;if(A!==l){if(!T)return s();A?s(!1,A):n=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!TH(u,r.getBoundingClientRect())&&s(),T=!1}try{t=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(_,w)}t.observe(r)}return s(!0),a}function Gve(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=nC(r),c=i||a?[...u?j0(u):[],...j0(e)]:[];c.forEach(E=>{i&&E.addEventListener("scroll",t,{passive:!0}),a&&E.addEventListener("resize",t)});const h=u&&o?Hve(u,t):null;let p=-1,m=null;s&&(m=new ResizeObserver(E=>{let[S]=E;S&&S.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),t()}),u&&!l&&m.observe(u),m.observe(e));let g,y=l?Oc(r):null;l&&x();function x(){const E=Oc(r);y&&!TH(y,E)&&t(),y=E,g=requestAnimationFrame(x)}return t(),()=>{var E;c.forEach(S=>{i&&S.removeEventListener("scroll",t),a&&S.removeEventListener("resize",t)}),h?.(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const Wve=Ave,Kve=wve,U4=Eve,Yve=(r,e,t)=>{const n=new Map,i={platform:$ve,...t},a={...i.platform,_c:n};return bve(r,e,{...i,platform:a})};var zve=typeof document<"u",Vve=function(){},Ov=zve?L.useLayoutEffect:Vve;function Gy(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Gy(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!Gy(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function AH(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function j4(r,e){const t=AH(r);return Math.round(e*t)/t}function Iw(r){const e=L.useRef(r);return Ov(()=>{e.current=r}),e}function qve(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=r,[c,h]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=L.useState(n);Gy(p,n)||m(n);const[g,y]=L.useState(null),[x,E]=L.useState(null),S=L.useCallback(Q=>{Q!==O.current&&(O.current=Q,y(Q))},[]),w=L.useCallback(Q=>{Q!==A.current&&(A.current=Q,E(Q))},[]),T=a||g,_=s||x,O=L.useRef(null),A=L.useRef(null),I=L.useRef(c),k=l!=null,N=Iw(l),B=Iw(i),R=Iw(u),H=L.useCallback(()=>{if(!O.current||!A.current)return;const Q={placement:e,strategy:t,middleware:p};B.current&&(Q.platform=B.current),Yve(O.current,A.current,Q).then(se=>{const ae={...se,isPositioned:R.current!==!1};X.current&&!Gy(I.current,ae)&&(I.current=ae,ip.flushSync(()=>{h(ae)}))})},[p,e,t,B,R]);Ov(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[u]);const X=L.useRef(!1);Ov(()=>(X.current=!0,()=>{X.current=!1}),[]),Ov(()=>{if(T&&(O.current=T),_&&(A.current=_),T&&_){if(N.current)return N.current(T,_,H);H()}},[T,_,H,N,k]);const Y=L.useMemo(()=>({reference:O,floating:A,setReference:S,setFloating:w}),[S,w]),K=L.useMemo(()=>({reference:T,floating:_}),[T,_]),z=L.useMemo(()=>{const Q={position:t,left:0,top:0};if(!K.floating)return Q;const se=j4(K.floating,c.x),ae=j4(K.floating,c.y);return o?{...Q,transform:"translate("+se+"px, "+ae+"px)",...AH(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:se,top:ae}},[t,o,K.floating,c.x,c.y]);return L.useMemo(()=>({...c,update:H,refs:Y,elements:K,floatingStyles:z}),[c,H,Y,K,z])}const Xve=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?U4({element:n.current,padding:i}).fn(t):{}:n?U4({element:n,padding:i}).fn(t):{}}}},Qve=(r,e)=>({...Wve(r),options:[r,e]}),Zve=(r,e)=>({...Kve(r),options:[r,e]}),Jve=(r,e)=>({...Xve(r),options:[r,e]}),eye={...Y2};let $4=!1,tye=0;const H4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tye++;function rye(){const[r,e]=L.useState(()=>$4?H4():void 0);return Hy(()=>{r==null&&e(H4())},[]),L.useEffect(()=>{$4=!0},[]),r}const nye=eye.useId,DH=nye||rye,iye=L.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:o=14,height:l=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:h,stroke:p,d:m,style:{transform:g,...y}={},...x}=e,E=DH(),[S,w]=L.useState(!1);if(Hy(()=>{if(!i)return;Xa(i).direction==="rtl"&&w(!0)},[i]),!i)return null;const[T,_]=n.split("-"),O=T==="top"||T==="bottom";let A=h;(O&&s!=null&&s.x||!O&&s!=null&&s.y)&&(A=null);const I=c*2,k=I/2,N=o/2*(u/-8+1),B=l/2*u/4,R=!!m,H=A&&_==="end"?"bottom":"top";let X=A&&_==="end"?"right":"left";A&&S&&(X=_==="end"?"left":"right");const Y=a?.x!=null?A||a.x:"",K=a?.y!=null?A||a.y:"",z=m||"M0,0"+(" H"+o)+(" L"+(o-N)+","+(l-B))+(" Q"+o/2+","+l+" "+N+","+(l-B))+" Z",Q={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[T];return F.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:R?o:o+I,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[X]:Y,[H]:K,[T]:O||R?"100%":"calc(100% - "+I/2+"px)",transform:[Q,g].filter(se=>!!se).join(" "),...y},children:[I>0&&F.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:p,strokeWidth:I+(m?0:1),d:z}),F.jsx("path",{stroke:I&&!m?x.fill:"none",d:z}),F.jsx("clipPath",{id:E,children:F.jsx("rect",{x:-k,y:k*(R?-1:1),width:o+I,height:o})})]})});function aye(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const sye=L.createContext(null),oye=L.createContext(null),lye=()=>{var r;return((r=L.useContext(sye))==null?void 0:r.id)||null},uye=()=>L.useContext(oye);function cye(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=DH(),a=L.useRef({}),[s]=L.useState(()=>aye()),o=lye()!=null,[l,u]=L.useState(n.reference),c=xve((m,g,y)=>{a.current.openEvent=m?g:void 0,s.emit("openchange",{open:m,event:g,reason:y,nested:o}),t?.(m,g,y)}),h=L.useMemo(()=>({setPositionReference:u}),[]),p=L.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return L.useMemo(()=>({dataRef:a,open:e,onOpenChange:c,elements:p,events:s,floatingId:i,refs:h}),[e,c,p,s,i,h])}function fye(r){r===void 0&&(r={});const{nodeId:e}=r,t=cye({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,s]=L.useState(null),[o,l]=L.useState(null),c=i?.domReference||a,h=L.useRef(null),p=uye();Hy(()=>{c&&(h.current=c)},[c]);const m=qve({...r,elements:{...i,...o&&{reference:o}}}),g=L.useCallback(w=>{const T=Di(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;l(T),m.refs.setReference(T)},[m.refs]),y=L.useCallback(w=>{(Di(w)||w===null)&&(h.current=w,s(w)),(Di(m.refs.reference.current)||m.refs.reference.current===null||w!==null&&!Di(w))&&m.refs.setReference(w)},[m.refs]),x=L.useMemo(()=>({...m.refs,setReference:y,setPositionReference:g,domReference:h}),[m.refs,y,g]),E=L.useMemo(()=>({...m.elements,domReference:c}),[m.elements,c]),S=L.useMemo(()=>({...m,...n,refs:x,elements:E,nodeId:e}),[m,x,E,e,n]);return Hy(()=>{n.dataRef.current.floatingContext=S;const w=p?.nodesRef.current.find(T=>T.id===e);w&&(w.context=S)}),L.useMemo(()=>({...m,context:S,refs:x,elements:E}),[m,x,E,S])}var E2=function(e,t){return E2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},E2(e,t)};function ui(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E2(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zt=function(){return zt=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zt.apply(this,arguments)};function Ks(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var hye=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,s=r.children,o=r.inline,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Ze.createElement("div",{className:a,"aria-label":l,role:o?void 0:"dialog","aria-modal":o?void 0:"true"},s)},dye=function(r,e){var t=L.useRef(null),n=L.useRef(r);L.useEffect(function(){n.current=r},[r]);var i=L.useCallback(function(a){var s,o=a.composed&&a.composedPath&&a.composedPath().find(function(l){return l instanceof Node})||a.target;t.current&&!t.current.contains(o)&&(e&&o instanceof HTMLElement&&o.classList.contains(e)||(s=n.current)===null||s===void 0||s.call(n,a))},[e]);return L.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},x1=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,s=r.ignoreClass,o=dye(t,s);return Ze.createElement("div",{className:n,style:a,ref:function(l){o.current=l,i&&(i.current=l)}},e)},gt;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(gt||(gt={}));function OH(){var r=typeof window<"u"?window:globalThis;return r}var Ip=12;function rr(r){if(r==null)return new Date;var e=typeof r=="string"?Rge(r):Ot(r);return Sa(e)?e:new Date}function Cf(r,e,t,n,i){i===void 0&&(i=rr());for(var a=Eh(t)||Eh(iC()),s=Array.isArray(e)?e:[e],o=0,l=s;o<l.length;o++){var u=l[o],c=Tge(r,u,i,{locale:a});if(Sa(c)&&(!n||r===Nr(c,u,t)))return c}return null}function Sa(r,e){return Ly(r)&&!Ws(r,new Date("1/1/1800"))}function Nr(r,e,t){if(t==="en")return C4(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Eh(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Eh(iC()),C4(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ca(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&Nr(r,i,n)||""}var CH=" - ";function pye(r,e,t){if(!r&&!e)return"";var n=r?ca(r,t):"",i=e?ca(e,t):"",a=t.rangeSeparator||CH;return"".concat(n).concat(a).concat(i)}function mye(r,e){if(!r?.length)return"";var t=r[0]?ca(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=ca(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function vg(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,s=e.second,o=s===void 0?0:s;return Tv(Av(Dv(r,o),a),n)}function gye(r){return qO(r)}function vye(r,e){return Nr(r,"ddd",e)}function n0(r){return Dc(r)}function hu(r,e,t){var n=Eh(e||iC());return al(r,{locale:n,weekStartsOn:t})}function Yo(r){return sH(r)}function i0(r){return d1(r)}function G4(r){return v2(r)}function W4(){return Dc(rr())}function K4(r){return iH(r)}function yye(r){return Rpe(r)}function xye(r){return aH(r)}function Fs(r,e){return r&&e?Cge(r,e):!r&&!e}function Ei(r,e){return r&&e?Dge(r,e):!r&&!e}function Wy(r,e){return r&&e?Oge(r,e):!r&&!e}function Qt(r,e){return r&&e?Cpe(r,e):!r&&!e}function fc(r,e){return r&&e?Ime(r,e):!r&&!e}function rc(r,e,t){var n,i=Dc(e),a=iH(t);try{n=U0(r,{start:i,end:a})}catch{n=!1}return n}function iC(){var r=OH();return r.__localeId__}function Eh(r){if(typeof r=="string"){var e=OH();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function bye(r,e,t){return e(Nr(r,"EEEE",t))}function Sye(r,e){return Nr(r,"EEEEEE",e)}function Eye(r,e){return Nr(r,"EEE",e)}function aC(r,e){return Nr(da(rr(),r),"LLLL",e)}function IH(r,e){return Nr(da(rr(),r),"LLL",e)}function wye(r,e){return Nr(Hf(rr(),r),"QQQ",e)}function Ka(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,o=t.includeDates,l=t.includeDateIntervals,u=t.filterDate,c=t.disabled;return c?!0:Rp(r,{minDate:n,maxDate:i})||a&&a.some(function(h){return h instanceof Date?Qt(r,h):Qt(r,h.date)})||s&&s.some(function(h){var p=h.start,m=h.end;return U0(r,{start:p,end:m})})||o&&!o.some(function(h){return Qt(r,h)})||l&&!l.some(function(h){var p=h.start,m=h.end;return U0(r,{start:p,end:m})})||u&&!u(rr(r))||!1}function sC(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,o=a.end;return U0(r,{start:s,end:o})}):n&&n.some(function(a){var s;return a instanceof Date?Qt(r,a):Qt(r,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function RH(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,o=t.filterDate;return Rp(r,{minDate:n?sH(n):void 0,maxDate:i?aH(i):void 0})||a?.some(function(l){return Ei(r,l instanceof Date?l:l.date)})||s&&!s.some(function(l){return Ei(r,l)})||o&&!o(rr(r))||!1}function yg(r,e,t,n){var i=Vt(r),a=Wi(r),s=Vt(e),o=Wi(e),l=Vt(n);return i===s&&i===l?a<=t&&t<=o:i<s?l===i&&a<=t||l===s&&o>=t||l<s&&l>i:!1}function _ye(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return Rp(r,{minDate:n,maxDate:i})||a&&a.some(function(o){return Ei(o instanceof Date?o:o.date,r)})||s&&!s.some(function(o){return Ei(o,r)})||!1}function xg(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,o=t.filterDate,l=t.disabled;return l?!0:Rp(r,{minDate:n,maxDate:i})||a?.some(function(u){return Wy(r,u instanceof Date?u:u.date)})||s&&!s.some(function(u){return Wy(r,u)})||o&&!o(rr(r))||!1}function bg(r,e,t){if(!e||!t||!Ly(e)||!Ly(t))return!1;var n=Vt(e),i=Vt(t);return n<=r&&i>=r}function Cv(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,o=t.filterDate,l=t.disabled;if(l)return!0;var u=new Date(r,0,1);return Rp(u,{minDate:n?d1(n):void 0,maxDate:i?oH(i):void 0})||a?.some(function(c){return Fs(u,c instanceof Date?c:c.date)})||s&&!s.some(function(c){return Fs(u,c)})||o&&!o(rr(u))||!1}function Sg(r,e,t,n){var i=Vt(r),a=su(r),s=Vt(e),o=su(e),l=Vt(n);return i===s&&i===l?a<=t&&t<=o:i<s?l===i&&a<=t||l===s&&o>=t||l<s&&l>i:!1}function Rp(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&vh(r,i)<0||a&&vh(r,a)>0)!==null&&t!==void 0?t:!1}function Y4(r,e){return e.some(function(t){return ms(t)===ms(r)&&gs(t)===gs(r)&&fu(t)===fu(r)})}function z4(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&Y4(r,n)||i&&!Y4(r,i)||a&&!a(r)||!1}function V4(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=rr();i=Tv(i,ms(r)),i=Av(i,gs(r)),i=Dv(i,fu(r));var a=rr();a=Tv(a,ms(t)),a=Av(a,gs(t)),a=Dv(a,fu(t));var s=rr();s=Tv(s,ms(n)),s=Av(s,gs(n)),s=Dv(s,fu(n));var o;try{o=!U0(i,{start:a,end:s})}catch{o=!1}return o}function q4(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=yc(r,1);return n&&My(n,a)>0||i&&i.every(function(s){return My(s,a)>0})||!1}function X4(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=ws(r,1);return n&&My(a,n)>0||i&&i.every(function(s){return My(a,s)>0})||!1}function Tye(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=d1(r),s=gH(a);return n&&Ny(n,s)>0||i&&i.every(function(o){return Ny(o,s)>0})||!1}function Aye(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=oH(r),s=VO(a,1);return n&&Ny(s,n)>0||i&&i.every(function(o){return Ny(s,o)>0})||!1}function Q4(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=yh(r,1);return n&&Fy(n,a)>0||i&&i.every(function(s){return Fy(s,a)>0})||!1}function Dye(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?Ip:i,s=i0(yh(r,a)),o=jo(s,a).endPeriod,l=n&&Vt(n);return l&&l>o||!1}function Z4(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=Wo(r,1);return n&&Fy(a,n)>0||i&&i.every(function(s){return Fy(a,s)>0})||!1}function Oye(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?Ip:i,s=Wo(r,a),o=jo(s,a).startPeriod,l=n&&Vt(n);return l&&l<o||!1}function kH(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return vh(i,e)>=0});return w4(n)}else return t?w4(t):e}function PH(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return vh(i,e)<=0});return E4(n)}else return t?E4(t):e}function J4(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var s=r[i];if(Ko(s)){var o=Nr(s,"MM.dd.yyyy"),l=n.get(o)||[];l.includes(e)||(l.push(e),n.set(o,l))}else if(typeof s=="object"){var u=Object.keys(s),c=(t=u[0])!==null&&t!==void 0?t:"",h=s[c];if(typeof c=="string"&&Array.isArray(h))for(var p=0,m=h.length;p<m;p++){var g=h[p];if(g){var o=Nr(g,"MM.dd.yyyy"),l=n.get(o)||[];l.includes(c)||(l.push(c),n.set(o,l))}}}}return n}function Cye(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function Iye(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(Ko(i)){var s=Nr(i,"MM.dd.yyyy"),o=t.get(s)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===e&&Cye(o.holidayNames,[a]))){o.className=e;var l=o.holidayNames;o.holidayNames=l?Ks(Ks([],l,!0),[a],!1):[a],t.set(s,o)}}}),t}function Rye(r,e,t,n,i){for(var a=i.length,s=[],o=0;o<a;o++){var l=r,u=i[o];u&&(l=Tpe(l,ms(u)),l=B0(l,gs(u)),l=Ope(l,fu(u)));var c=B0(r,(t+1)*n);vu(l,e)&&Ws(l,c)&&u!=null&&s.push(u)}return s}function eB(r){return r<10?"0".concat(r):"".concat(r)}function jo(r,e){e===void 0&&(e=Ip);var t=Math.ceil(Vt(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function kye(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function tB(r){var e=r.getSeconds(),t=r.getMilliseconds();return Ot(r.getTime()-e*1e3-t)}function LH(r,e){return tB(r).getTime()===tB(e).getTime()}function rB(r){if(!Ko(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function Rw(r,e){if(!Ko(r)||!Ko(e))throw new Error("Invalid date received");var t=rB(r),n=rB(e);return Ws(t,n)}function MH(r){return r.key===gt.Space}var Pye=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=Ze.createRef(),n.onTimeChange=function(i){var a,s;n.setState({time:i});var o=n.props.date,l=o instanceof Date&&!isNaN(+o),u=l?o:new Date;if(i?.includes(":")){var c=i.split(":"),h=c[0],p=c[1];u.setHours(Number(h)),u.setMinutes(Number(p))}(s=(a=n.props).onChange)===null||s===void 0||s.call(a,u)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,s=a.date,o=a.timeString,l=a.customTimeInput;return l?L.cloneElement(l,{date:s,value:i,onChange:n.onTimeChange}):Ze.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){n.onTimeChange(u.target.value||o)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return Ze.createElement("div",{className:"react-datepicker__input-time-container"},Ze.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ze.createElement("div",{className:"react-datepicker-time__input-container"},Ze.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(L.Component),Lye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=L.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,s=n.key;s===gt.Space&&(n.preventDefault(),n.key=gt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return Qt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),Ka(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return sC(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qt(t.props.day,hu(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qt(n,hu(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var s=Nr(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var o=Nr(a,"MM.dd.yyyy");return s.has(o)?[(n=s.get(o))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,s=n.endDate;return!a||!s?!1:rc(i,a,s)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,s=i.selectsStart,o=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,c=i.startDate,h=i.swapRange,p=i.endDate,m=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(s||o||l)||!m||!u&&t.isDisabled())return!1;if(s&&p&&(Ws(m,p)||fc(m,p)))return rc(a,m,p);if(o&&c&&(vu(m,c)||fc(m,c)))return rc(a,c,m);if(l&&c&&!p){if(fc(m,c)||vu(m,c))return rc(a,c,m);if(h&&Ws(m,c))return rc(a,m,c)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,o=i.selectsStart,l=i.swapRange,u=i.selectsRange,c=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return o?Qt(a,c):u&&l&&s&&c?Qt(a,Ws(c,s)?c:s):Qt(a,s)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,o=i.selectsEnd,l=i.selectsRange,u=i.swapRange,c=i.startDate,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return o?Qt(a,h):l&&u&&c&&h?Qt(a,Ws(h,c)?c:h):l?Qt(a,h):Qt(a,s)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,s=n.endDate;return!a||!s?!1:Qt(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,s=n.endDate;return!a||!s?!1:Qt(s,i)},t.isWeekend=function(){var n=Ame(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Wi(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Wi(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(rr())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Bt("react-datepicker__day",i,"react-datepicker__day--"+vye(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,o=n.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,u=t.isDisabled()||t.isExcluded()?l:s;return"".concat(u," ").concat(Nr(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,s=a===void 0?new Map:a,o=n.excludeDates,l=Nr(i,"MM.dd.yyyy"),u=[];return s.has(l)&&u.push.apply(u,s.get(l).holidayNames),t.isExcluded()&&u.push(o?.filter(function(c){return c instanceof Date?Qt(c,i):Qt(c?.date,i)}).map(function(c){if(!(c instanceof Date))return c?.message})),u.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qt(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(I4(t.props.day),t.props.day):I4(t.props.day)},t.render=function(){return Ze.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ze.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(L.Component),Mye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=L.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,s=n.key;s===gt.Space&&(n.preventDefault(),n.key=gt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qt(t.props.date,t.props.selected)&&Qt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qt(t.props.date,t.props.selected)&&Qt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Qt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?e.defaultProps.ariaLabelPrefix:a,o=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!i,"react-datepicker__week-number--selected":!!o&&Qt(this.props.date,this.props.selected)};return Ze.createElement("div",{ref:this.weekNumberEl,className:Bt(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(L.Component),Nye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return Ka(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var s,o,l,u=new Date(n),c=0;c<7;c++){var h=new Date(n);h.setDate(h.getDate()+c);var p=!t.isDisabled(h);if(p){u=h;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(u,i,a),t.props.showWeekPicker&&t.handleDayClick(u,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(o=t.props).setOpen)===null||l===void 0||l.call(o,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):gye(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=xs(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=xs(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(Ze.createElement(Mye,zt({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(o){var l=xs(n,o);return Ze.createElement(Lye,zt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return hu(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qt(t.startOfWeek(),t.props.selected)&&Qt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Ze.createElement("div",{className:Bt(t,n),role:"row"},this.renderDays())},e})(L.Component),Vd,Fye=6,Jf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},kw=(Vd={},Vd[Jf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Vd[Jf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Vd[Jf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Vd),Eg=1;function nB(r,e){return r?Jf.FOUR_COLUMNS:e?Jf.TWO_COLUMNS:Jf.THREE_COLUMNS}var Bye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Ks([],Array(12),!0).map(function(){return L.createRef()}),t.QUARTER_REFS=Ks([],Array(4),!0).map(function(){return L.createRef()}),t.isDisabled=function(n){return Ka(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return sC(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Ei(da(a,n),s)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Wy(Hf(a,n),s)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Ei(da(a,n),o)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,s=i.startDate,o=i.endDate;return!s||!o?!1:Wy(Hf(a,n),o)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,s=a.day,o=a.selectsStart,l=a.selectsEnd,u=a.selectsRange,c=a.startDate,h=a.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(o||l||u)||!p?!1:o&&h?yg(p,h,n,s):l&&c||u&&c&&!h?yg(c,p,n,s):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,s=a.day,o=a.startDate,l=a.selectsStart,u=da(s,n),c=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?Ei(u,c):Ei(u,o)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,s=a.day,o=a.endDate,l=a.selectsEnd,u=a.selectsRange,c=da(s,n),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||u?Ei(c,h):Ei(c,o)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,s=a.day,o=a.selectsStart,l=a.selectsEnd,u=a.selectsRange,c=a.startDate,h=a.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(o||l||u)||!p?!1:o&&h?Sg(p,h,n,s):l&&c||u&&c&&!h?Sg(c,p,n,s):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=xs(n,6);return Ei(n,i)||Ei(a,i)},t.isCurrentMonth=function(n,i){return Vt(n)===Vt(rr())&&i===Wi(rr())},t.isCurrentQuarter=function(n,i){return Vt(n)===Vt(rr())&&i===su(rr())},t.isSelectedMonth=function(n,i,a){return Wi(a)===i&&Vt(n)===Vt(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(s){return t.isSelectedMonth(n,i,s)})},t.isSelectedQuarter=function(n,i,a){return su(a)===i&&Vt(n)===Vt(a)},t.isSelectQuarterInList=function(n,i,a){return a.some(function(s){return t.isSelectedQuarter(n,i,s)})},t.isMonthSelected=function(){var n=t.props,i=n.day,a=n.selected,s=n.selectedDates,o=n.selectsMultiple,l=Wi(i);return o?s?.some(function(u){return t.isSelectedMonth(i,l,u)}):!!a&&t.isSelectedMonth(i,l,a)},t.isQuarterSelected=function(){var n=t.props,i=n.day,a=n.selected,s=n.selectedDates,o=n.selectsMultiple,l=su(i);return o?s?.some(function(u){return t.isSelectedQuarter(i,l,u)}):!!a&&t.isSelectedQuarter(i,l,a)},t.renderWeeks=function(){if(!Sa(t.props.day))return[];for(var n=[],i=t.props.fixedHeight,a=0,s=!1,o=hu(Yo(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(g){return t.props.showWeekPicker?hu(g,t.props.locale,t.props.calendarStartDay):t.props.preSelection},u=function(g){return t.props.showWeekPicker?hu(g,t.props.locale,t.props.calendarStartDay):t.props.selected},c=t.props.selected?u(t.props.selected):void 0,h=t.props.preSelection?l(t.props.preSelection):void 0;n.push(Ze.createElement(Nye,zt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:o,month:Wi(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:c,preSelection:h,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,o=Py(o,1);var p=i&&a>=Fye,m=!i&&!t.isWeekInMonth(o);if(p||m)if(t.props.peekNextMonth)s=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,o=a.labelDate;s||t.handleDayClick(Yo(o),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Yo(s))},t.handleMonthNavigation=function(n,i){var a,s,o,l;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(l=(o=t.MONTH_REFS[n])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(n,i,a){var s,o=t.props,l=o.selected,u=o.preSelection,c=o.setPreSelection,h=o.minDate,p=o.maxDate,m=o.showFourColumnMonthYearPicker,g=o.showTwoColumnMonthYearPicker;if(u){var y=nB(m,g),x=t.getVerticalOffset(y),E=(s=kw[y])===null||s===void 0?void 0:s.grid,S=function(A,I,k){var N,B,R=I,H=k;switch(A){case gt.ArrowRight:R=ws(I,Eg),H=k===11?0:k+Eg;break;case gt.ArrowLeft:R=yc(I,Eg),H=k===0?11:k-Eg;break;case gt.ArrowUp:R=yc(I,x),H=!((N=E?.[0])===null||N===void 0)&&N.includes(k)?k+12-x:k-x;break;case gt.ArrowDown:R=ws(I,x),H=!((B=E?.[E.length-1])===null||B===void 0)&&B.includes(k)?k-12+x:k+x;break}return{newCalculatedDate:R,newCalculatedMonth:H}},w=function(A,I,k){for(var N=40,B=A,R=!1,H=0,X=S(B,I,k),Y=X.newCalculatedDate,K=X.newCalculatedMonth;!R;){if(H>=N){Y=I,K=k;break}if(h&&Y<h){B=gt.ArrowRight;var z=S(B,Y,K);Y=z.newCalculatedDate,K=z.newCalculatedMonth}if(p&&Y>p){B=gt.ArrowLeft;var z=S(B,Y,K);Y=z.newCalculatedDate,K=z.newCalculatedMonth}if(_ye(Y,t.props)){var z=S(B,Y,K);Y=z.newCalculatedDate,K=z.newCalculatedMonth}else R=!0;H++}return{newCalculatedDate:Y,newCalculatedMonth:K}};if(i===gt.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),c?.(l));return}var T=w(i,u,a),_=T.newCalculatedDate,O=T.newCalculatedMonth;switch(i){case gt.ArrowRight:case gt.ArrowLeft:case gt.ArrowUp:case gt.ArrowDown:t.handleMonthNavigation(O,_);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=kw[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,s=a.disabledKeyboardNavigation,o=a.handleOnMonthKeyDown,l=n.key;l!==gt.Tab&&n.preventDefault(),s||t.handleKeyboardNavigation(n,l,i),o&&o(n)},t.onQuarterClick=function(n,i){var a=Hf(t.props.day,i);xg(a,t.props)||t.handleDayClick(G4(a),n)},t.onQuarterMouseEnter=function(n){var i=Hf(t.props.day,n);xg(i,t.props)||t.handleDayMouseEnter(G4(i))},t.handleQuarterNavigation=function(n,i){var a,s,o,l;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(l=(o=t.QUARTER_REFS[n-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(n,i){var a,s,o=n.key;if(!t.props.disabledKeyboardNavigation)switch(o){case gt.Enter:t.onQuarterClick(n,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case gt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,VO(t.props.preSelection,1));break;case gt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,gH(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,s=a.day,o=a.disabled,l=a.minDate,u=a.maxDate,c=a.excludeDates,h=a.includeDates,p=da(s,n);return o?{isDisabled:!0,labelDate:da(s,n)}:{isDisabled:(i=(l||u||c||h)&&RH(p,t.props))!==null&&i!==void 0?i:!1,labelDate:p}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,s=i.startDate,o=i.endDate,l=i.preSelection,u=i.monthClassName,c=u?u(da(a,n)):void 0,h=t.getSelection();return Bt("react-datepicker__month-text","react-datepicker__month-".concat(n),c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":h?t.isSelectMonthInList(a,n,h):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(a,n,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":s&&o?yg(s,o,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=Wi(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=su(t.props.preSelection),a=xg(t.props.day,t.props),s=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,o=i.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,u=i.day,c=i.locale,h=da(u,n),p=t.isDisabled(h)||t.isExcluded(h)?l:s;return"".concat(p," ").concat(Nr(h,"MMMM yyyy",c))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,s=i.startDate,o=i.endDate,l=i.minDate,u=i.maxDate,c=i.excludeDates,h=i.includeDates,p=i.filterDate,m=i.preSelection,g=i.disabledKeyboardNavigation,y=i.disabled,x=(l||u||c||h||p||y)&&xg(Hf(a,n),t.props),E=t.getSelection();return Bt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":E?t.isSelectQuarterInList(a,n,E):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&t.isSelectedQuarter(a,n,m)&&!t.isQuarterSelected()&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":s&&o?Sg(s,o,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,o=i.locale,l=i.day,u=IH(n,o),c=aC(n,o);return s?s(n,u,c,l):a?c:u},t.getQuarterContent=function(n){var i,a=t.props,s=a.renderQuarterContent,o=a.locale,l=wye(n,o);return(i=s?.(n,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,o=i.day,l=i.selected,u=(n=kw[nB(s,a)])===null||n===void 0?void 0:n.grid;return u?.map(function(c,h){return Ze.createElement("div",{className:"react-datepicker__month-wrapper",key:h},c.map(function(p,m){return Ze.createElement("div",{ref:t.MONTH_REFS[p],key:m,onClick:function(g){t.onMonthClick(g,p)},onKeyDown:function(g){MH(g)&&(g.preventDefault(),g.key=gt.Enter),t.onMonthKeyDown(g,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(o,p)?"date":void 0,"aria-selected":l?t.isSelectedMonth(o,p,l):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,s=[1,2,3,4];return Ze.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(o,l){return Ze.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(u){t.onQuarterClick(u,o)},onKeyDown:function(u){t.onQuarterKeyDown(u,o)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(o)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(o)}:void 0,className:t.getQuarterClassNames(o),"aria-selected":a?t.isSelectedQuarter(i,o,a):void 0,tabIndex:Number(t.getQuarterTabIndex(o)),"aria-current":t.isCurrentQuarter(i,o)?"date":void 0},t.getQuarterContent(o))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,s=n.selectsEnd,o=n.showMonthYearPicker,l=n.showQuarterYearPicker,u=n.showWeekPicker;return Bt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,o=s===void 0?"Month ":s,l=o?o.trim()+" ":"",u=Sa(a)?"".concat(l).concat(Nr(a,"MMMM, yyyy",this.props.locale)):"",c=n||i;return c?Ze.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":u,role:"listbox"},n?this.renderMonths():this.renderQuarters()):Ze.createElement("div",{role:"table"},this.props.dayNamesHeader&&Ze.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Ze.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":u,role:"rowgroup"},this.renderWeeks()))},e})(L.Component),Uye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,i){var a;switch(i.key){case"Enter":i.preventDefault(),t.onChange(n);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var s=(n+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(a=t.monthOptionButtonsRef[s])===null||a===void 0||a.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,i){return Ze.createElement("div",{ref:function(a){t.monthOptionButtonsRef[i]=a,t.isSelectedMonth(i)&&a?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Ze.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Ze.createElement(x1,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(L.Component),jye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return Ze.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return Ze.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return Ze.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ze.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ze.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return Ze.createElement(Uye,zt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return IH(a,t.props.locale)}:function(a){return aC(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return Ze.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(L.Component);function $ye(r,e){for(var t=[],n=Yo(r),i=Yo(e);!vu(n,i);)t.push(rr(n)),n=ws(n,1);return t}var Hye=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=x2(i),s=Fs(n.props.date,i)&&Ei(n.props.date,i);return Ze.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":s?"true":void 0},s?Ze.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Nr(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:$ye(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Bt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ze.createElement(x1,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(L.Component),Gye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Yo(t.props.minDate),i=Yo(t.props.maxDate),a=[];!vu(n,i);){var s=x2(n);a.push(Ze.createElement("option",{key:s,value:s},Nr(n,t.props.dateFormat,t.props.locale))),n=ws(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Ze.createElement("select",{value:x2(Yo(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=Nr(t.props.date,t.props.dateFormat,t.props.locale);return Ze.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ze.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ze.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Ze.createElement(Hye,zt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=rr(n);Fs(t.props.date,i)&&Ei(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ze.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(L.Component),Wye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&V4(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&z4(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&LH(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&V4(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&z4(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ms(n)*3600+gs(n)*60+fu(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,s;n.key===gt.Space&&(n.preventDefault(),n.key=gt.Enter),(n.key===gt.ArrowUp||n.key===gt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===gt.ArrowDown||n.key===gt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===gt.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,o=t.props.selected||t.props.openToDate||rr(),l=n0(o),u=t.props.injectTimes&&t.props.injectTimes.sort(function(x,E){return x.getTime()-E.getTime()}),c=60*kye(o),h=c/s,p=0;p<h;p++){var m=B0(l,p*s);if(i.push(m),u){var g=Rye(l,m,p,s,u);i=i.concat(g)}}var y=i.reduce(function(x,E){return E.getTime()<=o.getTime()?E:x},i[0]);return i.map(function(x){return Ze.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(E){x===y&&(t.centerLi=E)},onKeyDown:function(E){t.handleOnKeyDown(E,x)},tabIndex:x===y?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},Nr(x,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ze.createElement(Ze.Fragment,null):Ze.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},Ze.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return Ze.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ze.createElement("div",{className:"react-datepicker__time"},Ze.createElement("div",{className:"react-datepicker__time-box"},Ze.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(L.Component),iB=3,Kye=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Ks([],Array(n.props.yearItemNumber),!0).map(function(){return L.createRef()}),n.isDisabled=function(i){return Ka(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return sC(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var s,o;(o=(s=n.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var s,o,l,u,c=n.props,h=c.date,p=c.yearItemNumber;if(!(h===void 0||p===void 0)){var m=jo(h,p).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,a),i-m<0?n.updateFocusOnPaginate(p-(m-i)):i-m>=p?n.updateFocusOnPaginate(Math.abs(p-(i-m))):(u=(l=n.YEAR_REFS[i-m])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},n.isSameDay=function(i,a){return Qt(i,a)},n.isCurrentYear=function(i){return i===Vt(rr())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Fs(Ms(rr(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Fs(Ms(rr(),i),n.props.endDate)},n.isInRange=function(i){return bg(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,s=a.selectsStart,o=a.selectsEnd,l=a.selectsRange,u=a.startDate,c=a.endDate;return!(s||o||l)||!n.selectingDate()?!1:s&&c?bg(i,n.selectingDate(),c):o&&u||l&&u&&!c?bg(i,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var s=n.props,o=s.startDate,l=s.selectsStart,u=Ms(rr(),i);return l?Fs(u,(a=n.selectingDate())!==null&&a!==void 0?a:null):Fs(u,o??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var s=n.props,o=s.endDate,l=s.selectsEnd,u=s.selectsRange,c=Ms(rr(),i);return l||u?Fs(c,(a=n.selectingDate())!==null&&a!==void 0?a:null):Fs(c,o??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var a=n.props,s=a.minDate,o=a.maxDate,l=a.excludeDates,u=a.includeDates,c=a.filterDate,h=a.selected,p=i0(Ms(n.props.date,i)),m=(s||o||l||u||c)&&Cv(i,n.props),g=!!h&&Qt(p,i0(h)),y=Qt(p,i0(n.props.preSelection));return!n.props.inline&&!g&&y&&!m}},n.isSelectedYear=function(i){var a=n.props,s=a.selectsMultiple,o=a.selected,l=a.selectedDates;return s?l?.some(function(u){return i===Vt(u)}):!!o&&i===Vt(o)},n.onYearClick=function(i,a){var s=n.props.date;s!==void 0&&n.handleYearClick(i0(Ms(s,a)),i)},n.onYearKeyDown=function(i,a){var s,o,l=i.key,u=n.props,c=u.date,h=u.yearItemNumber,p=u.handleOnKeyDown;if(l!==gt.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(l){case gt.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case gt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,Wo(n.props.preSelection,1));break;case gt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,yh(n.props.preSelection,1));break;case gt.ArrowUp:{if(c===void 0||h===void 0||n.props.preSelection==null)break;var m=jo(c,h).startPeriod,g=iB,y=a-g;if(y<m){var x=h%g;a>=m&&a<m+x?g=x:g+=x,y=a-g}n.handleYearNavigation(y,yh(n.props.preSelection,g));break}case gt.ArrowDown:{if(c===void 0||h===void 0||n.props.preSelection==null)break;var E=jo(c,h).endPeriod,g=iB,y=a+g;if(y>E){var x=h%g;a<=E&&a>E-x?g=x:g+=x,y=a+g}n.handleYearNavigation(y,Wo(n.props.preSelection,g));break}}p&&p(i)},n.getYearClassNames=function(i){var a=n.props,s=a.date,o=a.disabled,l=a.minDate,u=a.maxDate,c=a.excludeDates,h=a.includeDates,p=a.filterDate,m=a.yearClassName;return Bt("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m?.(Ms(s,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(l||u||c||h||p||o)&&Cv(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Vt(n.props.preSelection),s=Cv(i,n.props);return i===a&&!s?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,s=i.yearItemNumber,o=i.onYearMouseEnter,l=i.onYearMouseLeave;if(a===void 0)return null;for(var u=jo(a,s),c=u.startPeriod,h=u.endPeriod,p=function(y){n.push(Ze.createElement("div",{ref:m.YEAR_REFS[y-c],onClick:function(x){t.onYearClick(x,y)},onKeyDown:function(x){MH(x)&&(x.preventDefault(),x.key=gt.Enter),t.onYearKeyDown(x,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(x){return o(x,y)},onPointerEnter:m.props.usePointerEvent?function(x){return o(x,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(x){return l(x,y)},onPointerLeave:m.props.usePointerEvent?function(x){return l(x,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,g=c;g<=h;g++)p(g);return Ze.createElement("div",{className:"react-datepicker__year"},Ze.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(L.Component);function Yye(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var s=r+e-a,o=!0;t&&(o=Vt(t)<=s),n&&o&&(o=Vt(n)>=s),o&&i.push(s)}return i}var zye=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(o,l){var u;switch(l.key){case"Enter":l.preventDefault(),n.onChange(o);break;case"Escape":l.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var c=o+(l.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[c]&&((u=n.yearOptionButtonsRef[c])===null||u===void 0||u.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var o=n.props.year,l=n.state.yearsList.map(function(h){return Ze.createElement("div",{ref:function(p){n.yearOptionButtonsRef[h]=p,h===o&&p?.focus()},role:"button",tabIndex:0,className:o===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:n.onChange.bind(n,h),onKeyDown:n.handleOptionKeyDown.bind(n,h),"aria-selected":o===h?"true":void 0},o===h?Ze.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),u=n.props.minDate?Vt(n.props.minDate):null,c=n.props.maxDate?Vt(n.props.maxDate):null;return(!c||!n.state.yearsList.find(function(h){return h===c}))&&l.unshift(Ze.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Ze.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(h){return h===u}))&&l.push(Ze.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Ze.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},n.onChange=function(o){n.props.onChange(o)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(o){var l=n.state.yearsList.map(function(u){return u+o});n.setState({yearsList:l})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return n.state={yearsList:Yye(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=L.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Bt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ze.createElement(x1,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(L.Component),Vye=(function(r){ui(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Vt(t.props.minDate):1900,i=t.props.maxDate?Vt(t.props.maxDate):2100,a=[],s=n;s<=i;s++)a.push(Ze.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Ze.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return Ze.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Ze.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ze.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ze.createElement(zye,zt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ze.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(L.Component),qye=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],NH="react-datepicker-ignore-onclickoutside",Xye=function(r){var e=(r.className||"").split(/\s+/);return qye.some(function(t){return e.indexOf(t)>=0})},Qye=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,s;Xye(i.target)&&((s=(a=n.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,s=i.selected,o=i.openToDate,l=kH(n.props),u=PH(n.props),c=rr(),h=o||s||a;return h||(l&&Ws(c,l)?l:u&&vu(c,u)?u:c)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:ws(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:yc(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,s){n.props.onSelect(i,a,s),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:Ms(rr(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,s,o,l;(s=(a=n.props).onYearChange)===null||s===void 0||s.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!Ka(i,n.props))return i;for(var a=Yo(i),s=xye(i),o=Ipe(s,a),l=null,u=0;u<=o;u++){var c=xs(a,u);if(!Ka(c,n.props)){l=c;break}}return l},n.handleMonthChange=function(i){var a,s,o,l=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(l),n.props.adjustDateOnChange&&(n.props.onSelect(l),(o=(s=n.props).setOpen)===null||o===void 0||o.call(s,!0)),n.props.setPreSelection&&n.props.setPreSelection(l)},n.handleCustomMonthChange=function(i){var a,s;(s=(a=n.props).onMonthChange)===null||s===void 0||s.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var s=a.date;return{date:Ms(s,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var s=a.date;return{date:da(s,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var s=a.date;return{date:Ms(da(s,Wi(i)),Vt(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){if(i===void 0&&(i=n.state.date),!Sa(i))return[];var a=n.props.disabled,s=hu(i,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(Ze.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},Ze.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Ze.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var u=xs(s,l),c=n.formatWeekday(u,n.props.locale),h=n.props.weekDayClassName?n.props.weekDayClassName(u):void 0;return Ze.createElement("div",{key:l,role:"columnheader",className:Bt("react-datepicker__day-name",h,a?"react-datepicker__day-name--disabled":"")},Ze.createElement("span",{className:"react-datepicker__sr-only"},Nr(u,"EEEE",n.props.locale)),Ze.createElement("span",{"aria-hidden":"true"},c))}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?bye(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?Eye(i,a):Sye(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,s=i.date;return{date:yh(s,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,s;if(!n.props.renderCustomHeader){var o=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=n.props.showPreviousMonths?o-1:0,u=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:l,c=yc(n.state.date,u),h;switch(!0){case n.props.disabled:h=!0;break;case n.props.showMonthYearPicker:h=Q4(n.state.date,n.props);break;case n.props.showYearPicker:h=Dye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:h=Tye(n.state.date,n.props);break;default:h=q4(c,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&h||n.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(g=n.decreaseYear),h&&n.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,E=x.previousMonthButtonLabel,S=E===void 0?e.defaultProps.previousMonthButtonLabel:E,w=x.previousYearButtonLabel,T=w===void 0?e.defaultProps.previousYearButtonLabel:w,_=n.props,O=_.previousMonthAriaLabel,A=O===void 0?typeof S=="string"?S:"Previous Month":O,I=_.previousYearAriaLabel,k=I===void 0?typeof T=="string"?T:"Previous Year":I;return Ze.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:n.props.handleOnKeyDown,"aria-label":y?k:A},Ze.createElement("span",{className:p.join(" ")},y?T:S))}}},n.increaseYear=function(){n.setState(function(i){var a,s=i.date;return{date:Wo(s,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.disabled:a=!0;break;case n.props.showMonthYearPicker:a=Z4(n.state.date,n.props);break;case n.props.showYearPicker:a=Oye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=Aye(n.state.date,n.props);break;default:a=X4(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(l=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,c=n.props,h=c.nextMonthButtonLabel,p=h===void 0?e.defaultProps.nextMonthButtonLabel:h,m=c.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,y=n.props,x=y.nextMonthAriaLabel,E=x===void 0?typeof p=="string"?p:"Next Month":x,S=y.nextYearAriaLabel,w=S===void 0?typeof g=="string"?g:"Next Year":S;return Ze.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?w:E},Ze.createElement("span",{className:o.join(" ")},u?g:p))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),Ze.createElement("h2",{className:a.join(" ")},Sa(i)?Nr(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return Ze.createElement(Vye,zt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Vt(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return Ze.createElement(jye,zt({},e.defaultProps,n.props,{month:Wi(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return Ze.createElement(Gye,zt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(W4(),i),n.props.setPreSelection&&n.props.setPreSelection(W4())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Ze.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i){return Ze.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i))},n.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return Ze.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),Ze.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(s!==0),n.renderMonthYearDropdown(s!==0),n.renderYearDropdown(s!==0)))},n.renderCustomHeader=function(i){var a,s,o=i.monthDate,l=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=n.props,c=u.showYearPicker,h=u.yearItemNumber,p;if(c){var m=jo(o,h),g=m.startPeriod,y=m.endPeriod;p={startYear:g,endYear:y}}var x=q4(n.state.date,n.props),E=X4(n.state.date,n.props),S=Q4(n.state.date,n.props),w=Z4(n.state.date,n.props);return Ze.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(s=(a=n.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,zt(zt(zt({},n.state),c&&{visibleYearsRange:p}),{customHeaderCount:l,monthDate:o,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:E,prevYearButtonDisabled:S,nextYearButtonDisabled:w})))},n.renderYearHeader=function(i){var a=i.monthDate,s=n.props,o=s.showYearPicker,l=s.yearItemNumber,u=l===void 0?e.defaultProps.yearItemNumber:l,c=jo(a,u),h=c.startPeriod,p=c.endPeriod;return Ze.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(h," - ").concat(p):Vt(a))},n.renderHeader=function(i){var a=i.monthDate,s=i.i,o=s===void 0?0:s,l={monthDate:a,i:o};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(l);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(l);default:return n.renderDefaultHeader(l)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],o=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=n.props.showPreviousMonths?o-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Wo(n.state.date,l):yc(n.state.date,l),c=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:l,h=0;h<o;++h){var p=h-c+l,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Wo(u,p):ws(u,p),g="month-".concat(h),y=h<o-1,x=h>0;s.push(Ze.createElement("div",{key:g,ref:function(E){n.monthContainer=E??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:m,i:h}),Ze.createElement(Bye,zt({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:m,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:h,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:x,dayNamesHeader:n.renderDayNamesHeader(m)}))))}return s}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Ze.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Ze.createElement(Kye,zt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Ze.createElement(Wye,zt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&Sa(i)&&!!n.props.selected,s=a?"".concat(eB(i.getHours()),":").concat(eB(i.getMinutes())):"";if(n.props.showTimeInput)return Ze.createElement(Pye,zt({},e.defaultProps,n.props,{date:i,timeString:s,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i;if(!Sa(n.state.date))return Ze.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var a=jo(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=a.startPeriod,o=a.endPeriod,l;return n.props.showYearPicker?l="".concat(s," - ").concat(o):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?l=Vt(n.state.date):l="".concat(aC(Wi(n.state.date),n.props.locale)," ").concat(Vt(n.state.date)),Ze.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&l)},n.renderChildren=function(){if(n.props.children)return Ze.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=L.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:NH,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ip}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Sa(this.props.preSelection)&&(!Qt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Ei(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||hye;return Ze.createElement(x1,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ze.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ze.createElement(t,{className:Bt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(L.Component),Zye=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";if(typeof e=="string")return Ze.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(Ze.isValidElement(e)){var s=e;return Ze.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(a," ").concat(n),onClick:function(o){typeof s.props.onClick=="function"&&s.props.onClick(o),typeof i=="function"&&i(o)}})}return Ze.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Ze.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},FH=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Fq.createPortal(this.props.children,this.el)},e})(L.Component),Jye="[tabindex], a, button, input, select, textarea",exe=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},BH=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Jye),1,-1).filter(exe)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=L.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Ze.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ze.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ze.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(L.Component);function txe(r){function e(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=L.useRef(null),s=fye(zt({open:!i,whileElementsMounted:Gve,placement:t.popperPlacement,middleware:Ks([Zve({padding:15}),Qve(10),Jve({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),o=zt(zt({},t),{hidePopper:i,popperProps:zt(zt({},s),{arrowRef:a})});return Ze.createElement(r,zt({},o))}return e.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),e}var rxe=function(r){var e=r.className,t=r.wrapperClassName,n=r.hidePopper,i=n===void 0?!0:n,a=r.popperComponent,s=r.targetComponent,o=r.enableTabLoop,l=r.popperOnKeyDown,u=r.portalId,c=r.portalHost,h=r.popperProps,p=r.showArrow,m=void 0;if(!i){var g=Bt("react-datepicker-popper",e);m=Ze.createElement(BH,{enableTabLoop:o},Ze.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:g,"data-placement":h.placement,onKeyDown:l},a,p&&Ze.createElement(iye,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(m=L.createElement(r.popperContainer,{},m)),u&&!i&&(m=Ze.createElement(FH,{portalId:u,portalHost:c},m));var y=Bt("react-datepicker-wrapper",t);return Ze.createElement(Ze.Fragment,null,Ze.createElement("div",{ref:h.refs.setReference,className:y},s),m)},nxe=txe(rxe);function ixe(r,e){return r&&e?Wi(r)!==Wi(e)||Vt(r)!==Vt(e):r!==e}var Pw="Date input not valid.",aB=(function(r){ui(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:rr()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var o=new Date(s.date);return Sa(o)?Ks(Ks([],a,!0),[zt(zt({},s),{date:o})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),s=kH(n.props),o=PH(n.props),l=s&&Ws(a,n0(s))?s:o&&vu(a,K4(o))?o:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:l,highlightDates:J4(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,a=n.props,s=a.locale,o=a.startDate,l=a.endDate,u=a.rangeSeparator,c=a.selected,h=a.selectedDates,p=a.selectsMultiple,m=a.selectsRange,g=a.value,y=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,x=n.state.inputValue;return typeof g=="string"?g:typeof x=="string"?x:m?pye(o,l,{dateFormat:y,locale:s,rangeSeparator:u}):p?mye(h??[],{dateFormat:y,locale:s}):ca(c,{dateFormat:y,locale:s})},n.resetHiddenStatus=function(){n.setState(zt(zt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(zt(zt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},n.setBlur=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Lw},function(){i||n.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ko(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,s,o=n.state.wasHidden,l=o?n.state.open:!0;o&&n.resetHiddenStatus(),n.state.preventFocus||((s=(a=n.props).onFocus)===null||s===void 0||s.call(a,i),l&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(zt(zt({},n.state),{inputValue:null}))},n.handleBlur=function(i){var a,s;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((s=(a=n.props).onBlur)===null||s===void 0||s.call(a,i)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,s;n.props.inline||n.setOpen(!1),(s=(a=n.props).onClickOutside)===null||s===void 0||s.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,s,o,l,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var h=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){n.setState({inputValue:h?.target instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:axe});var p=n.props,m=p.selectsRange,g=p.startDate,y=p.endDate,x=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,E=(a=n.props.strictParsing)!==null&&a!==void 0?a:e.defaultProps.strictParsing,S=h?.target instanceof HTMLInputElement?h.target.value:"";if(m){var w=n.props.rangeSeparator,T=w.trim(),_=S.split(x.includes(T)?w:T,2).map(function(H){return H.trim()}),O=_[0],A=_[1],I=Cf(O??"",x,n.props.locale,E),k=I?Cf(A??"",x,n.props.locale,E):null,N=g?.getTime()!==I?.getTime(),B=y?.getTime()!==k?.getTime();if(!N&&!B||I&&Ka(I,n.props)||k&&Ka(k,n.props))return;(o=(s=n.props).onChange)===null||o===void 0||o.call(s,[I,k],h)}else{var R=Cf(S,x,n.props.locale,E,(l=n.props.selected)!==null&&l!==void 0?l:void 0);(R||!S)&&n.setSelected(R,h,!0)}}},n.handleSelect=function(i,a,s){var o;if(!n.props.readOnly){var l=n.props,u=l.selectsRange,c=l.startDate,h=l.endDate,p=l.locale,m=l.swapRange,g=(o=n.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,y=!u||c&&!h&&(m||!Rw(i,c));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&y&&n.sendFocusBackToInput(),n.props.onChangeRaw){var x=ca(i,{dateFormat:g,locale:p});n.props.onChangeRaw(a,{date:i,formattedDate:x})}n.setSelected(i,a,!1,s),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):y&&n.setOpen(!1)}},n.setSelected=function(i,a,s,o){var l,u,c=i;if(n.props.showYearPicker){if(c!==null&&Cv(Vt(c),n.props))return}else if(n.props.showMonthYearPicker){if(c!==null&&RH(c,n.props))return}else if(c!==null&&Ka(c,n.props))return;var h=n.props,p=h.onChange,m=h.selectsRange,g=h.startDate,y=h.endDate,x=h.selectsMultiple,E=h.selectedDates,S=h.minTime,w=h.swapRange;if(!fc(n.props.selected,c)||n.props.allowSameDay||m||x)if(c!==null&&(n.props.selected&&(!s||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(c=vg(c,{hour:ms(n.props.selected),minute:gs(n.props.selected),second:fu(n.props.selected)})),!s&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&S&&(c=vg(c,{hour:S.getHours(),minute:S.getMinutes(),second:S.getSeconds()})),n.props.inline||n.setState({preSelection:c}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:o})),m){var T=!g&&!y,_=g&&!y,O=!g&&!!y,A=g&&y;T?p?.([c,null],a):_?c===null?p?.([null,null],a):Rw(c,g)?p?.(w?[c,g]:[c,null],a):p?.([g,c],a):O&&(c&&Rw(c,y)?p?.([c,y],a):p?.([c,null],a)),A&&p?.([c,null],a)}else if(x){if(c!==null)if(!E?.length)p?.([c],a);else{var I=E.some(function(N){return Qt(N,c)});if(I){var k=E.filter(function(N){return!Qt(N,c)});p?.(k,a)}else p?.(Ks(Ks([],E,!0),[c],!1),a)}}else p?.(c,a);s||((u=(l=n.props).onSelect)===null||u===void 0||u.call(l,c,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var a=Ko(n.props.minDate),s=Ko(n.props.maxDate),o=!0;if(i){var l=n0(i);if(a&&s)o=rc(i,n.props.minDate,n.props.maxDate);else if(a){var u=n0(n.props.minDate);o=vu(i,u)||fc(l,u)}else if(s){var c=K4(n.props.maxDate);o=Ws(i,c)||fc(l,c)}}o&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,s;if(!(n.props.selectsRange||n.props.selectsMultiple)){var o=n.props.selected?n.props.selected:n.getPreSelection(),l=n.props.selected?i:vg(o,{hour:ms(i),minute:gs(i)});n.setState({preSelection:l}),(s=(a=n.props).onChange)===null||s===void 0||s.call(a,l),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.handleTimeOnlyArrowKey=function(i){var a,s,o,l,u=n.props.selected||n.state.preSelection||rr(),c=(a=n.props.timeIntervals)!==null&&a!==void 0?a:30,h=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,p=Array.isArray(h)?h[0]:h,m=n0(u),g=ms(u)*60+gs(u),y=1440-c,x;if(i===gt.ArrowUp){var E=Math.max(0,g-c);x=B0(m,E)}else{var E=Math.min(y,g+c);x=B0(m,E)}var S=Nr(x,p||e.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:x,inputValue:S}),!(n.props.selectsRange||n.props.selectsMultiple)){var w=n.props.selected?n.props.selected:n.getPreSelection(),T=n.props.selected?x:vg(w,{hour:ms(x),minute:gs(x)});(l=(o=n.props).onChange)===null||l===void 0||l.call(o,T),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(x)})}},n.handleTimeOnlyEnterKey=function(i){var a,s,o,l,u=i.target,c=u.value,h=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,p=n.props.timeFormat||"p",m=n.state.preSelection||n.props.selected||rr(),g=Cf(c,h,n.props.locale,(s=n.props.strictParsing)!==null&&s!==void 0?s:!1,m),y=m;if(g&&Sa(g))y=g;else{var x=((o=n.calendar)===null||o===void 0?void 0:o.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(x instanceof HTMLElement){var E=(l=x.textContent)===null||l===void 0?void 0:l.trim();if(E){var S=Cf(E,p,n.props.locale,!1,m);S&&Sa(S)&&(y=S)}}}n.handleTimeChange(y),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var a,s;if(!((a=n.calendar)===null||a===void 0)&&a.containerRef.current){for(var o=n.calendar.containerRef.current,l=Array.from(o.querySelectorAll(".react-datepicker__time-list-item")),u=null,c=1/0,h=n.props.timeFormat||"p",p=0,m=l;p<m.length;p++){var g=m[p],y=(s=g.textContent)===null||s===void 0?void 0:s.trim();if(y){var x=Cf(y,h,n.props.locale,!1,i);if(x&&Sa(x)){if(LH(x,i)){u=g;break}var E=Math.abs(x.getTime()-i.getTime());E<c&&(c=E,u=g)}}}u&&(l.forEach(function(S){S.setAttribute("tabindex","-1")}),u.setAttribute("tabindex","0"),u.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var a,s,o,l,u,c;(s=(a=n.props).onKeyDown)===null||s===void 0||s.call(a,i);var h=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(h===gt.ArrowDown||h===gt.ArrowUp||h===gt.Enter)&&((o=n.onInputClick)===null||o===void 0||o.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(h===gt.ArrowDown||h===gt.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(h);return}if(h===gt.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(h===gt.ArrowDown||h===gt.ArrowUp){i.preventDefault();var p=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=n.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=rr(n.state.preSelection);h===gt.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Lw?(n.handleSelect(g,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(g)):n.setOpen(!1)):h===gt.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):h===gt.Tab&&n.setOpen(!1),n.inputOk()||(c=(u=n.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Pw})}},n.onPortalKeyDown=function(i){var a=i.key;a===gt.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,s,o,l,u,c,h=n.props,p=h.minDate,m=h.maxDate,g=h.disabledKeyboardNavigation,y=h.showWeekPicker,x=h.shouldCloseOnSelect,E=h.locale,S=h.calendarStartDay,w=h.adjustDateOnChange,T=h.inline;if((s=(a=n.props).onKeyDown)===null||s===void 0||s.call(a,i),!g){var _=i.key,O=i.shiftKey,A=rr(n.state.preSelection),I=function(B,R){var H=R;switch(B){case gt.ArrowRight:H=y?Py(R,1):xs(R,1);break;case gt.ArrowLeft:H=y?R4(R):Ige(R);break;case gt.ArrowUp:H=R4(R);break;case gt.ArrowDown:H=Py(R,1);break;case gt.PageUp:H=O?yh(R,1):yc(R,1);break;case gt.PageDown:H=O?Wo(R,1):ws(R,1);break;case gt.Home:H=hu(R,E,S);break;case gt.End:H=yye(R);break}return H},k=function(B,R){for(var H=40,X=B,Y=!1,K=0,z=I(B,R);!Y;){if(K>=H){z=R;break}p&&z<p&&(X=gt.ArrowRight,z=Ka(p,n.props)?I(X,z):p),m&&z>m&&(X=gt.ArrowLeft,z=Ka(m,n.props)?I(X,z):m),Ka(z,n.props)?((X===gt.PageUp||X===gt.Home)&&(X=gt.ArrowRight),(X===gt.PageDown||X===gt.End)&&(X=gt.ArrowLeft),z=I(X,z)):Y=!0,K++}return z};if(_===gt.Enter){i.preventDefault(),n.handleSelect(A,i),!x&&n.setPreSelection(A);return}else if(_===gt.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(l=(o=n.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:Pw});return}var N=null;switch(_){case gt.ArrowLeft:case gt.ArrowRight:case gt.ArrowUp:case gt.ArrowDown:case gt.PageUp:case gt.PageDown:case gt.Home:case gt.End:N=k(_,A);break}if(!N){(c=(u=n.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Pw});return}i.preventDefault(),n.setState({lastPreSelectChange:Lw}),w&&n.setSelected(N),n.setPreSelection(N),T&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var a=i.key;a===gt.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,s=a.selectsRange,o=a.onChange;o?.(s?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:Ze.createElement(Qye,zt({showMonthYearDropdown:void 0,ref:function(s){n.calendar=s}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Iye(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i,a=n.props.locale,s=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,o=n.props.showTimeInput||n.props.showTimeSelect,l=o?"PPPPp":"PPPP",u;return n.props.selectsRange?u="Selected start date: ".concat(ca(n.props.startDate,{dateFormat:l,locale:a}),". ").concat(n.props.endDate?"End date: "+ca(n.props.endDate,{dateFormat:l,locale:a}):""):n.props.showTimeSelectOnly?u="Selected time: ".concat(ca(n.props.selected,{dateFormat:s,locale:a})):n.props.showYearPicker?u="Selected year: ".concat(ca(n.props.selected,{dateFormat:"yyyy",locale:a})):n.props.showMonthYearPicker?u="Selected month: ".concat(ca(n.props.selected,{dateFormat:"MMMM yyyy",locale:a})):n.props.showQuarterYearPicker?u="Selected quarter: ".concat(ca(n.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(ca(n.props.selected,{dateFormat:l,locale:a})),Ze.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},n.renderDateInput=function(){var i,a,s,o,l,u,c=Bt(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),h=n.props.customInput||Ze.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m={},g=(s=n.props["aria-describedby"])!==null&&s!==void 0?s:n.props.ariaDescribedBy,y=(o=n.props["aria-invalid"])!==null&&o!==void 0?o:n.props.ariaInvalid,x=(l=n.props["aria-labelledby"])!==null&&l!==void 0?l:n.props.ariaLabelledBy,E=(u=n.props["aria-required"])!==null&&u!==void 0?u:n.props.ariaRequired;return g!=null&&(m["aria-describedby"]=g),y!=null&&(m["aria-invalid"]=y),x!=null&&(m["aria-labelledby"]=x),E!=null&&(m["aria-required"]=E),L.cloneElement(h,zt((a={},a[p]=function(S){n.input=S},a.value=n.getInputValue(),a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Bt(h.props.className,c),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a),m))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,s=i.disabled,o=i.selected,l=i.startDate,u=i.endDate,c=i.clearButtonTitle,h=i.clearButtonClassName,p=h===void 0?"":h,m=i.ariaLabelClose,g=m===void 0?"Close":m,y=i.selectedDates,x=i.readOnly;return a&&!x&&(o!=null||l!=null||u!=null||y?.length)?Ze.createElement("button",{type:"button",className:Bt("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:n.onClearClick,title:c,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:NH,readOnly:!1,rangeSeparator:CH,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ip,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,s,o;t.inline&&ixe(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:J4(this.props.highlightDates)}),!n.focused&&!fc(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((o=(s=this.props).onCalendarClose)===null||o===void 0||o.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,o=t.toggleCalendarOnIconClick,l=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ze.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Ze.createElement(Zye,zt({icon:i,className:Bt(s,!s&&a,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?Ze.createElement(BH,{enableTabLoop:this.props.enableTabLoop},Ze.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=Ze.createElement(FH,zt({portalId:this.props.portalId},this.props),n)),Ze.createElement("div",null,this.renderInputContainer(),n)}return Ze.createElement(nxe,zt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(L.Component),axe="input",Lw="navigate";var Ky={};Ky.version="0.18.5";var UH=1252,sxe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jH=function(r){sxe.indexOf(r)!=-1&&(UH=r)};function oxe(){jH(1252)}var $0=function(r){jH(r)};function lxe(){$0(1200),oxe()}var wg=function(e){return String.fromCharCode(e)},sB=function(e){return String.fromCharCode(e)},Yy,ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function H0(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0,u=0;u<r.length;)t=r.charCodeAt(u++),a=t>>2,n=r.charCodeAt(u++),s=(t&3)<<4|n>>4,i=r.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=ou.charAt(a)+ou.charAt(s)+ou.charAt(o)+ou.charAt(l);return e}function sl(r){var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)a=ou.indexOf(r.charAt(u++)),s=ou.indexOf(r.charAt(u++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=ou.indexOf(r.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=ou.indexOf(r.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var ar=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),bl=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Cc(r){return ar?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function oB(r){return ar?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ps=function(e){return ar?bl(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function b1(r){if(typeof ArrayBuffer>"u")return ps(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function kp(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function uxe(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var ni=ar?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:bl(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function cxe(r){for(var e=[],t=0,n=r.length+250,i=Cc(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>n&&(e.push(i.slice(0,t)),t=0,i=Cc(65535),n=65530)}return e.push(i.slice(0,t)),ni(e)}var c0=/\u0000/g,_g=/[\u0001-\u0006]/g;function eh(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function vs(r,e){var t=""+r;return t.length>=e?t:Jr("0",e-t.length)+t}function oC(r,e){var t=""+r;return t.length>=e?t:Jr(" ",e-t.length)+t}function zy(r,e){var t=""+r;return t.length>=e?t:t+Jr(" ",e-t.length)}function fxe(r,e){var t=""+Math.round(r);return t.length>=e?t:Jr("0",e-t.length)+t}function hxe(r,e){var t=""+r;return t.length>=e?t:Jr("0",e-t.length)+t}var lB=Math.pow(2,32);function If(r,e){if(r>lB||r<-lB)return fxe(r,e);var t=Math.round(r);return hxe(t,e)}function Vy(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var uB=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dxe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var en={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},cB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function qy(r,e,t){for(var n=r<0?-1:1,i=r*n,a=0,s=1,o=0,l=1,u=0,c=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*s+a,c=h*u+l,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=a):(c=u,o=s)),!t)return[0,n*o,c];var p=Math.floor(n*o/c);return[p,n*o-p*c,c]}function Tg(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),t&&(a=Sxe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var $H=new Date(1899,11,31,0,0,0),mxe=$H.getTime(),gxe=new Date(1900,2,1,0,0,0);function HH(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=gxe&&(t+=1440*60*1e3),(t-(mxe+(r.getTimezoneOffset()-$H.getTimezoneOffset())*6e4))/(1440*60*1e3)}function lC(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vxe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yxe(r){var e=r<0?12:11,t=lC(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function xxe(r){var e=lC(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function bxe(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=yxe(r):e===10?t=r.toFixed(10).substr(0,12):t=xxe(r),lC(vxe(t.toUpperCase()))}function w2(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):bxe(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return xu(14,HH(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function Sxe(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function Exe(r,e,t,n){var i="",a=0,s=0,o=t.y,l,u=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return Mw[t.m-1][1];case 5:return Mw[t.m-1][0];default:return Mw[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return uB[t.q][0];default:return uB[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?vs(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=vs(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?vs(l,u):"";return c}function lu(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var GH=/%/g;function wxe(r,e,t){var n=e.replace(GH,""),i=e.length-n.length;return zo(r,n,t*Math.pow(10,2*i))+Jr("%",i)}function _xe(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return zo(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function WH(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+WH(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var KH=/# (\?+)( ?)\/( ?)(\d+)/;function Txe(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return t+(a===0?"":""+a)+" "+(s===0?Jr(" ",r[1].length+1+r[4].length):oC(s,r[1].length)+r[2]+"/"+r[3]+vs(o,r[4].length))}function Axe(r,e,t){return t+(e===0?"":""+e)+Jr(" ",r[1].length+2+r[4].length)}var YH=/^#*0*\.([0#]+)/,zH=/\).*[0#]/,VH=/\(###\) ###\\?-####/;function wi(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function fB(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function hB(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function Dxe(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function Oxe(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Ha(r,e,t){if(r.charCodeAt(0)===40&&!e.match(zH)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ha("n",n,t):"("+Ha("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return _xe(r,e,t);if(e.indexOf("%")!==-1)return wxe(r,e,t);if(e.indexOf("E")!==-1)return WH(e,t);if(e.charCodeAt(0)===36)return"$"+Ha(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+If(l,e.length);if(e.match(/^[#?]+$/))return i=If(t,0),i==="0"&&(i=""),i.length>e.length?i:wi(e.substr(0,e.length-i.length))+i;if(a=e.match(KH))return Txe(a,l,u);if(e.match(/^#+0+$/))return u+If(l,e.length-e.indexOf("0"));if(a=e.match(YH))return i=fB(t,a[1].length).replace(/^([^\.]+)$/,"$1."+wi(a[1])).replace(/\.$/,"."+wi(a[1])).replace(/\.(\d*)$/,function(g,y){return"."+y+Jr("0",wi(a[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+fB(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+lu(If(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ha(r,e,-t):lu(""+(Math.floor(t)+Dxe(t,a[1].length)))+"."+vs(hB(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ha(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=eh(Ha(r,e.replace(/[\\-]/g,""),t)),s=0,eh(eh(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(e.match(VH))return i=Ha(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=qy(l,Math.pow(10,s)-1,!1),i=""+u,c=zo("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=zy(o[2],s),c.length<a[4].length&&(c=wi(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=qy(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?oC(o[1],s)+a[2]+"/"+a[3]+zy(o[2],s):Jr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=If(t,0),e.length<=i.length?i:wi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=e.indexOf(".")-s,p=e.length-i.length-h;return wi(e.substr(0,h)+i+e.substr(e.length-p))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=hB(t,a[1].length),t<0?"-"+Ha(r,e,-t):lu(Oxe(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?vs(0,3-g.length):"")+g})+"."+vs(s,a[1].length);switch(e){case"###,##0.00":return Ha(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=lu(If(l,0));return m!=="0"?u+m:"";case"###,###.00":return Ha(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ha(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Cxe(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return zo(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function Ixe(r,e,t){var n=e.replace(GH,""),i=e.length-n.length;return zo(r,n,t*Math.pow(10,2*i))+Jr("%",i)}function qH(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qH(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ks(r,e,t){if(r.charCodeAt(0)===40&&!e.match(zH)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ks("n",n,t):"("+ks("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Cxe(r,e,t);if(e.indexOf("%")!==-1)return Ixe(r,e,t);if(e.indexOf("E")!==-1)return qH(e,t);if(e.charCodeAt(0)===36)return"$"+ks(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+vs(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:wi(e.substr(0,e.length-i.length))+i;if(a=e.match(KH))return Axe(a,l,u);if(e.match(/^#+0+$/))return u+vs(l,e.length-e.indexOf("0"));if(a=e.match(YH))return i=(""+t).replace(/^([^\.]+)$/,"$1."+wi(a[1])).replace(/\.$/,"."+wi(a[1])),i=i.replace(/\.(\d*)$/,function(g,y){return"."+y+Jr("0",wi(a[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+lu(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ks(r,e,-t):lu(""+t)+"."+Jr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return ks(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=eh(ks(r,e.replace(/[\\-]/g,""),t)),s=0,eh(eh(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(e.match(VH))return i=ks(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=qy(l,Math.pow(10,s)-1,!1),i=""+u,c=zo("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=zy(o[2],s),c.length<a[4].length&&(c=wi(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=qy(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?oC(o[1],s)+a[2]+"/"+a[3]+zy(o[2],s):Jr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:wi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=e.indexOf(".")-s,p=e.length-i.length-h;return wi(e.substr(0,h)+i+e.substr(e.length-p))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ks(r,e,-t):lu(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?vs(0,3-g.length):"")+g})+"."+vs(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=lu(""+l);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return ks(r,e.slice(0,e.lastIndexOf(".")),t)+wi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function zo(r,e,t){return(t|0)===t?ks(r,e,t):Ha(r,e,t)}function Rxe(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var XH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function QH(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":Vy(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(XH))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function kxe(r,e,t,n){for(var i=[],a="",s=0,o="",l="t",u,c,h,p="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!Vy(r,s))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++s;break;case"\\":var m=r.charAt(++s),g=m==="("||m===")"?m:"t";i[i.length]={t:g,v:m},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=Tg(e,t,r.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Tg(e,t),u==null))return"";for(a=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var y={t:o,v:o};if(u==null&&(u=Tg(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",p="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",s+=5,p="h"):r.substr(s,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",s+=5,p="h"):(y.t="t",++s),u==null&&y.t==="T")return"";i[i.length]=y,l=o;break;case"[":for(a=o;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(XH)){if(u==null&&(u=Tg(e,t),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",QH(r)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<r.length&&(o=r.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;r.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++s;break}var x=0,E=0,S;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=p,l="h",x<1&&(x=1);break;case"s":(S=i[s].v.match(/\.0+$/))&&(E=Math.max(E,S[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[s].v.match(/[Hh]/)&&(x=1),x<2&&i[s].v.match(/[Mm]/)&&(x=2),x<3&&i[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",T;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Exe(i[s].t.charCodeAt(0),i[s].v,u,E),i[s].t="t";break;case"n":case"?":for(T=s+1;i[T]!=null&&((o=i[T].t)==="?"||o==="D"||(o===" "||o==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[T].v==="/"||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?"));)i[s].v+=i[T].v,i[T]={v:"",t:";"},++T;w+=i[s].v,s=T-1;break;case"G":i[s].t="t",i[s].v=w2(e,t);break}var _="",O,A;if(w.length>0){w.charCodeAt(0)==40?(O=e<0&&w.charCodeAt(0)===45?-e:e,A=zo("n",w,O)):(O=e<0&&n>1?-e:e,A=zo("n",w,O),O<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),T=A.length-1;var I=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){I=s;break}var k=i.length;if(I===i.length&&A.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(T>=i[s].v.length-1?(T-=i[s].v.length,i[s].v=A.substr(T+1,i[s].v.length)):T<0?i[s].v="":(i[s].v=A.substr(0,T+1),T=-1),i[s].t="t",k=s);T>=0&&k<i.length&&(i[k].v=A.substr(0,T+1)+i[k].v)}else if(I!==i.length&&A.indexOf("E")===-1){for(T=A.indexOf(".")-1,s=I;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")-1:i[s].v.length-1,_=i[s].v.substr(c+1);c>=0;--c)T>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(_=A.charAt(T--)+_);i[s].v=_,i[s].t="t",k=s}for(T>=0&&k<i.length&&(i[k].v=A.substr(0,T+1)+i[k].v),T=A.indexOf(".")+1,s=I;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==I)){for(c=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")+1:0,_=i[s].v.substr(0,c);c<i[s].v.length;++c)T<A.length&&(_+=A.charAt(T++));i[s].v=_,i[s].t="t",k=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(O=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=zo(i[s].t,i[s].v,O),i[s].t="t");var N="";for(s=0;s!==i.length;++s)i[s]!=null&&(N+=i[s].v);return N}var dB=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function pB(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function Pxe(r,e){var t=Rxe(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(dB),o=t[1].match(dB);return pB(e,s)?[n,t[0]]:pB(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,a]}function xu(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:en)[r],n==null&&(n=t.table&&t.table[cB[r]]||en[cB[r]]),n==null&&(n=pxe[r]||"General");break}if(Vy(n,0))return w2(e,t);e instanceof Date&&(e=HH(e,t.date1904));var i=Pxe(n,e);if(Vy(i[1]))return w2(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return kxe(i[1],e,t,i[0])}function ZH(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(en[t]==null){e<0&&(e=t);continue}if(en[t]==r){e=t;break}}e<0&&(e=391)}return en[e]=r,e}function S1(r){for(var e=0;e!=392;++e)r[e]!==void 0&&ZH(r[e],e)}function E1(){en=dxe()}var JH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Lxe(r){var e=typeof r=="number"?en[r]:r;return e=e.replace(JH,"(\\d+)"),new RegExp("^"+e+"$")}function Mxe(r,e,t){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(JH)||[]).forEach(function(h,p){var m=parseInt(t[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":a=m;break;case"h":s=m;break;case"s":l=m;break;case"m":s>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&a==-1?c:u+"T"+c}var Nxe=(function(){var r={};r.version="1.2.0";function e(){for(var A=0,I=new Array(256),k=0;k!=256;++k)A=k,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,I[k]=A;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function n(A){var I=0,k=0,N=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)B[N]=A[N];for(N=0;N!=256;++N)for(k=A[N],I=256+N;I<4096;I+=256)k=B[I]=k>>>8^A[k&255];var R=[];for(N=1;N!=16;++N)R[N-1]=typeof Int32Array<"u"?B.subarray(N*256,N*256+256):B.slice(N*256,N*256+256);return R}var i=n(t),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],h=i[6],p=i[7],m=i[8],g=i[9],y=i[10],x=i[11],E=i[12],S=i[13],w=i[14];function T(A,I){for(var k=I^-1,N=0,B=A.length;N<B;)k=k>>>8^t[(k^A.charCodeAt(N++))&255];return~k}function _(A,I){for(var k=I^-1,N=A.length-15,B=0;B<N;)k=w[A[B++]^k&255]^S[A[B++]^k>>8&255]^E[A[B++]^k>>16&255]^x[A[B++]^k>>>24]^y[A[B++]]^g[A[B++]]^m[A[B++]]^p[A[B++]]^h[A[B++]]^c[A[B++]]^u[A[B++]]^l[A[B++]]^o[A[B++]]^s[A[B++]]^a[A[B++]]^t[A[B++]];for(N+=15;B<N;)k=k>>>8^t[(k^A[B++])&255];return~k}function O(A,I){for(var k=I^-1,N=0,B=A.length,R=0,H=0;N<B;)R=A.charCodeAt(N++),R<128?k=k>>>8^t[(k^R)&255]:R<2048?(k=k>>>8^t[(k^(192|R>>6&31))&255],k=k>>>8^t[(k^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,H=A.charCodeAt(N++)&1023,k=k>>>8^t[(k^(240|R>>8&7))&255],k=k>>>8^t[(k^(128|R>>2&63))&255],k=k>>>8^t[(k^(128|H>>6&15|(R&3)<<4))&255],k=k>>>8^t[(k^(128|H&63))&255]):(k=k>>>8^t[(k^(224|R>>12&15))&255],k=k>>>8^t[(k^(128|R>>6&63))&255],k=k>>>8^t[(k^(128|R&63))&255]);return~k}return r.table=t,r.bstr=T,r.buf=_,r.str=O,r})(),Sr=(function(){var e={};e.version="1.2.1";function t(ie,ve){for(var le=ie.split("/"),ce=ve.split("/"),ge=0,xe=0,Le=Math.min(le.length,ce.length);ge<Le;++ge){if(xe=le[ge].length-ce[ge].length)return xe;if(le[ge]!=ce[ge])return le[ge]<ce[ge]?-1:1}return le.length-ce.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var ve=ie.lastIndexOf("/");return ve===-1?ie:ie.slice(0,ve+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var ve=ie.lastIndexOf("/");return ve===-1?ie:ie.slice(ve+1)}function a(ie,ve){typeof ve=="string"&&(ve=new Date(ve));var le=ve.getHours();le=le<<6|ve.getMinutes(),le=le<<5|ve.getSeconds()>>>1,ie.write_shift(2,le);var ce=ve.getFullYear()-1980;ce=ce<<4|ve.getMonth()+1,ce=ce<<5|ve.getDate(),ie.write_shift(2,ce)}function s(ie){var ve=ie.read_shift(2)&65535,le=ie.read_shift(2)&65535,ce=new Date,ge=le&31;le>>>=5;var xe=le&15;le>>>=4,ce.setMilliseconds(0),ce.setFullYear(le+1980),ce.setMonth(xe-1),ce.setDate(ge);var Le=ve&31;ve>>>=5;var Ve=ve&63;return ve>>>=6,ce.setHours(ve),ce.setMinutes(Ve),ce.setSeconds(Le<<1),ce}function o(ie){ma(ie,0);for(var ve={},le=0;ie.l<=ie.length-4;){var ce=ie.read_shift(2),ge=ie.read_shift(2),xe=ie.l+ge,Le={};switch(ce){case 21589:le=ie.read_shift(1),le&1&&(Le.mtime=ie.read_shift(4)),ge>5&&(le&2&&(Le.atime=ie.read_shift(4)),le&4&&(Le.ctime=ie.read_shift(4))),Le.mtime&&(Le.mt=new Date(Le.mtime*1e3));break}ie.l=xe,ve[ce]=Le}return ve}var l;function u(){return l||(l={})}function c(ie,ve){if(ie[0]==80&&ie[1]==75)return Rn(ie,ve);if((ie[0]|32)==109&&(ie[1]|32)==105)return de(ie,ve);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var le=3,ce=512,ge=0,xe=0,Le=0,Ve=0,Ne=0,Fe=[],Be=ie.slice(0,512);ma(Be,0);var ut=h(Be);switch(le=ut[0],le){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(ut[1]==0)return Rn(ie,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ce!==512&&(Be=ie.slice(0,ce),ma(Be,28));var ft=ie.slice(0,ce);p(Be,le);var vt=Be.read_shift(4,"i");if(le===3&&vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+vt);Be.l+=4,Le=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),Ve=Be.read_shift(4,"i"),ge=Be.read_shift(4,"i"),Ne=Be.read_shift(4,"i"),xe=Be.read_shift(4,"i");for(var ct=-1,mt=0;mt<109&&(ct=Be.read_shift(4,"i"),!(ct<0));++mt)Fe[mt]=ct;var Tt=m(ie,ce);x(Ne,xe,Tt,ce,Fe);var Or=S(Tt,Le,Fe,ce);Or[Le].name="!Directory",ge>0&&Ve!==H&&(Or[Ve].name="!MiniFAT"),Or[Fe[0]].name="!FAT",Or.fat_addrs=Fe,Or.ssz=ce;var Cr={},Ur=[],Oa=[],Ru=[];w(Le,Or,Tt,Ur,ge,Cr,Oa,Ve),g(Oa,Ru,Ur),Ur.shift();var El={FileIndex:Oa,FullPaths:Ru};return ve&&ve.raw&&(El.raw={header:ft,sectors:Tt}),El}function h(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(X,"Header Signature: "),ie.l+=16;var ve=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),ve]}function p(ie,ve){var le=9;switch(ie.l+=2,le=ie.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function m(ie,ve){for(var le=Math.ceil(ie.length/ve)-1,ce=[],ge=1;ge<le;++ge)ce[ge-1]=ie.slice(ge*ve,(ge+1)*ve);return ce[le-1]=ie.slice(le*ve),ce}function g(ie,ve,le){for(var ce=0,ge=0,xe=0,Le=0,Ve=0,Ne=le.length,Fe=[],Be=[];ce<Ne;++ce)Fe[ce]=Be[ce]=ce,ve[ce]=le[ce];for(;Ve<Be.length;++Ve)ce=Be[Ve],ge=ie[ce].L,xe=ie[ce].R,Le=ie[ce].C,Fe[ce]===ce&&(ge!==-1&&Fe[ge]!==ge&&(Fe[ce]=Fe[ge]),xe!==-1&&Fe[xe]!==xe&&(Fe[ce]=Fe[xe])),Le!==-1&&(Fe[Le]=ce),ge!==-1&&ce!=Fe[ce]&&(Fe[ge]=Fe[ce],Be.lastIndexOf(ge)<Ve&&Be.push(ge)),xe!==-1&&ce!=Fe[ce]&&(Fe[xe]=Fe[ce],Be.lastIndexOf(xe)<Ve&&Be.push(xe));for(ce=1;ce<Ne;++ce)Fe[ce]===ce&&(xe!==-1&&Fe[xe]!==xe?Fe[ce]=Fe[xe]:ge!==-1&&Fe[ge]!==ge&&(Fe[ce]=Fe[ge]));for(ce=1;ce<Ne;++ce)if(ie[ce].type!==0){if(Ve=ce,Ve!=Fe[Ve])do Ve=Fe[Ve],ve[ce]=ve[Ve]+"/"+ve[ce];while(Ve!==0&&Fe[Ve]!==-1&&Ve!=Fe[Ve]);Fe[ce]=-1}for(ve[0]+="/",ce=1;ce<Ne;++ce)ie[ce].type!==2&&(ve[ce]+="/")}function y(ie,ve,le){for(var ce=ie.start,ge=ie.size,xe=[],Le=ce;le&&ge>0&&Le>=0;)xe.push(ve.slice(Le*R,Le*R+R)),ge-=R,Le=ic(le,Le*4);return xe.length===0?Je(0):ni(xe).slice(0,ie.size)}function x(ie,ve,le,ce,ge){var xe=H;if(ie===H){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Le=le[ie],Ve=(ce>>>2)-1;if(!Le)return;for(var Ne=0;Ne<Ve&&(xe=ic(Le,Ne*4))!==H;++Ne)ge.push(xe);x(ic(Le,ce-4),ve-1,le,ce,ge)}}function E(ie,ve,le,ce,ge){var xe=[],Le=[];ge||(ge=[]);var Ve=ce-1,Ne=0,Fe=0;for(Ne=ve;Ne>=0;){ge[Ne]=!0,xe[xe.length]=Ne,Le.push(ie[Ne]);var Be=le[Math.floor(Ne*4/ce)];if(Fe=Ne*4&Ve,ce<4+Fe)throw new Error("FAT boundary crossed: "+Ne+" 4 "+ce);if(!ie[Be])break;Ne=ic(ie[Be],Fe)}return{nodes:xe,data:EB([Le])}}function S(ie,ve,le,ce){var ge=ie.length,xe=[],Le=[],Ve=[],Ne=[],Fe=ce-1,Be=0,ut=0,ft=0,vt=0;for(Be=0;Be<ge;++Be)if(Ve=[],ft=Be+ve,ft>=ge&&(ft-=ge),!Le[ft]){Ne=[];var ct=[];for(ut=ft;ut>=0;){ct[ut]=!0,Le[ut]=!0,Ve[Ve.length]=ut,Ne.push(ie[ut]);var mt=le[Math.floor(ut*4/ce)];if(vt=ut*4&Fe,ce<4+vt)throw new Error("FAT boundary crossed: "+ut+" 4 "+ce);if(!ie[mt]||(ut=ic(ie[mt],vt),ct[ut]))break}xe[ft]={nodes:Ve,data:EB([Ne])}}return xe}function w(ie,ve,le,ce,ge,xe,Le,Ve){for(var Ne=0,Fe=ce.length?2:0,Be=ve[ie].data,ut=0,ft=0,vt;ut<Be.length;ut+=128){var ct=Be.slice(ut,ut+128);ma(ct,64),ft=ct.read_shift(2),vt=dC(ct,0,ft-Fe),ce.push(vt);var mt={name:vt,type:ct.read_shift(1),color:ct.read_shift(1),L:ct.read_shift(4,"i"),R:ct.read_shift(4,"i"),C:ct.read_shift(4,"i"),clsid:ct.read_shift(16),state:ct.read_shift(4,"i"),start:0,size:0},Tt=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);Tt!==0&&(mt.ct=T(ct,ct.l-8));var Or=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);Or!==0&&(mt.mt=T(ct,ct.l-8)),mt.start=ct.read_shift(4,"i"),mt.size=ct.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=H,mt.name=""),mt.type===5?(Ne=mt.start,ge>0&&Ne!==H&&(ve[Ne].name="!StreamData")):mt.size>=4096?(mt.storage="fat",ve[mt.start]===void 0&&(ve[mt.start]=E(le,mt.start,ve.fat_addrs,ve.ssz)),ve[mt.start].name=mt.name,mt.content=ve[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:Ne!==H&&mt.start!==H&&ve[Ne]&&(mt.content=y(mt,ve[Ne].data,(ve[Ve]||{}).data))),mt.content&&ma(mt.content,0),xe[vt]=mt,Le.push(mt)}}function T(ie,ve){return new Date((va(ie,ve+4)/1e7*Math.pow(2,32)+va(ie,ve)/1e7-11644473600)*1e3)}function _(ie,ve){return u(),c(l.readFileSync(ie),ve)}function O(ie,ve){var le=ve&&ve.type;switch(le||ar&&Buffer.isBuffer(ie)&&(le="buffer"),le||"base64"){case"file":return _(ie,ve);case"base64":return c(ps(sl(ie)),ve);case"binary":return c(ps(ie),ve)}return c(ie,ve)}function A(ie,ve){var le=ve||{},ce=le.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ce+"/",ie.FileIndex[0]={name:ce,type:5}),le.CLSID&&(ie.FileIndex[0].clsid=le.CLSID),I(ie)}function I(ie){var ve="Sh33tJ5";if(!Sr.find(ie,"/"+ve)){var le=Je(4);le[0]=55,le[1]=le[3]=50,le[2]=54,ie.FileIndex.push({name:ve,type:2,content:le,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+ve),k(ie)}}function k(ie,ve){A(ie);for(var le=!1,ce=!1,ge=ie.FullPaths.length-1;ge>=0;--ge){var xe=ie.FileIndex[ge];switch(xe.type){case 0:ce?le=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(xe.R*xe.L*xe.C)&&(le=!0),xe.R>-1&&xe.L>-1&&xe.R==xe.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!ve)){var Le=new Date(1987,1,19),Ve=0,Ne=Object.create?Object.create(null):{},Fe=[];for(ge=0;ge<ie.FullPaths.length;++ge)Ne[ie.FullPaths[ge]]=!0,ie.FileIndex[ge].type!==0&&Fe.push([ie.FullPaths[ge],ie.FileIndex[ge]]);for(ge=0;ge<Fe.length;++ge){var Be=n(Fe[ge][0]);ce=Ne[Be],ce||(Fe.push([Be,{name:i(Be).replace("/",""),type:1,clsid:K,ct:Le,mt:Le,content:null}]),Ne[Be]=!0)}for(Fe.sort(function(vt,ct){return t(vt[0],ct[0])}),ie.FullPaths=[],ie.FileIndex=[],ge=0;ge<Fe.length;++ge)ie.FullPaths[ge]=Fe[ge][0],ie.FileIndex[ge]=Fe[ge][1];for(ge=0;ge<Fe.length;++ge){var ut=ie.FileIndex[ge],ft=ie.FullPaths[ge];if(ut.name=i(ft).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||K,ge===0)ut.C=Fe.length>1?1:-1,ut.size=0,ut.type=5;else if(ft.slice(-1)=="/"){for(Ve=ge+1;Ve<Fe.length&&n(ie.FullPaths[Ve])!=ft;++Ve);for(ut.C=Ve>=Fe.length?-1:Ve,Ve=ge+1;Ve<Fe.length&&n(ie.FullPaths[Ve])!=n(ft);++Ve);ut.R=Ve>=Fe.length?-1:Ve,ut.type=1}else n(ie.FullPaths[ge+1]||"")==n(ft)&&(ut.R=ge+1),ut.type=2}}}function N(ie,ve){var le=ve||{};if(le.fileType=="mad")return Se(ie,le);switch(k(ie),le.fileType){case"zip":return Kn(ie,le)}var ce=(function(vt){for(var ct=0,mt=0,Tt=0;Tt<vt.FileIndex.length;++Tt){var Or=vt.FileIndex[Tt];if(Or.content){var Cr=Or.content.length;Cr>0&&(Cr<4096?ct+=Cr+63>>6:mt+=Cr+511>>9)}}for(var Ur=vt.FullPaths.length+3>>2,Oa=ct+7>>3,Ru=ct+127>>7,El=Oa+mt+Ur+Ru,Ts=El+127>>7,Yh=Ts<=109?0:Math.ceil((Ts-109)/127);El+Ts+Yh+127>>7>Ts;)Yh=++Ts<=109?0:Math.ceil((Ts-109)/127);var Li=[1,Yh,Ts,Ru,Ur,mt,ct,0];return vt.FileIndex[0].size=ct<<6,Li[7]=(vt.FileIndex[0].start=Li[0]+Li[1]+Li[2]+Li[3]+Li[4]+Li[5])+(Li[6]+7>>3),Li})(ie),ge=Je(ce[7]<<9),xe=0,Le=0;{for(xe=0;xe<8;++xe)ge.write_shift(1,Y[xe]);for(xe=0;xe<8;++xe)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),xe=0;xe<3;++xe)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,ce[2]),ge.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:H),ge.write_shift(4,ce[3]),ge.write_shift(-4,ce[1]?ce[0]-1:H),ge.write_shift(4,ce[1]),xe=0;xe<109;++xe)ge.write_shift(-4,xe<ce[2]?ce[1]+xe:-1)}if(ce[1])for(Le=0;Le<ce[1];++Le){for(;xe<236+Le*127;++xe)ge.write_shift(-4,xe<ce[2]?ce[1]+xe:-1);ge.write_shift(-4,Le===ce[1]-1?H:Le+1)}var Ve=function(vt){for(Le+=vt;xe<Le-1;++xe)ge.write_shift(-4,xe+1);vt&&(++xe,ge.write_shift(-4,H))};for(Le=xe=0,Le+=ce[1];xe<Le;++xe)ge.write_shift(-4,z.DIFSECT);for(Le+=ce[2];xe<Le;++xe)ge.write_shift(-4,z.FATSECT);Ve(ce[3]),Ve(ce[4]);for(var Ne=0,Fe=0,Be=ie.FileIndex[0];Ne<ie.FileIndex.length;++Ne)Be=ie.FileIndex[Ne],Be.content&&(Fe=Be.content.length,!(Fe<4096)&&(Be.start=Le,Ve(Fe+511>>9)));for(Ve(ce[6]+7>>3);ge.l&511;)ge.write_shift(-4,z.ENDOFCHAIN);for(Le=xe=0,Ne=0;Ne<ie.FileIndex.length;++Ne)Be=ie.FileIndex[Ne],Be.content&&(Fe=Be.content.length,!(!Fe||Fe>=4096)&&(Be.start=Le,Ve(Fe+63>>6)));for(;ge.l&511;)ge.write_shift(-4,z.ENDOFCHAIN);for(xe=0;xe<ce[4]<<2;++xe){var ut=ie.FullPaths[xe];if(!ut||ut.length===0){for(Ne=0;Ne<17;++Ne)ge.write_shift(4,0);for(Ne=0;Ne<3;++Ne)ge.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)ge.write_shift(4,0);continue}Be=ie.FileIndex[xe],xe===0&&(Be.start=Be.size?Be.start-1:H);var ft=xe===0&&le.root||Be.name;if(Fe=2*(ft.length+1),ge.write_shift(64,ft,"utf16le"),ge.write_shift(2,Fe),ge.write_shift(1,Be.type),ge.write_shift(1,Be.color),ge.write_shift(-4,Be.L),ge.write_shift(-4,Be.R),ge.write_shift(-4,Be.C),Be.clsid)ge.write_shift(16,Be.clsid,"hex");else for(Ne=0;Ne<4;++Ne)ge.write_shift(4,0);ge.write_shift(4,Be.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,Be.start),ge.write_shift(4,Be.size),ge.write_shift(4,0)}for(xe=1;xe<ie.FileIndex.length;++xe)if(Be=ie.FileIndex[xe],Be.size>=4096)if(ge.l=Be.start+1<<9,ar&&Buffer.isBuffer(Be.content))Be.content.copy(ge,ge.l,0,Be.size),ge.l+=Be.size+511&-512;else{for(Ne=0;Ne<Be.size;++Ne)ge.write_shift(1,Be.content[Ne]);for(;Ne&511;++Ne)ge.write_shift(1,0)}for(xe=1;xe<ie.FileIndex.length;++xe)if(Be=ie.FileIndex[xe],Be.size>0&&Be.size<4096)if(ar&&Buffer.isBuffer(Be.content))Be.content.copy(ge,ge.l,0,Be.size),ge.l+=Be.size+63&-64;else{for(Ne=0;Ne<Be.size;++Ne)ge.write_shift(1,Be.content[Ne]);for(;Ne&63;++Ne)ge.write_shift(1,0)}if(ar)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function B(ie,ve){var le=ie.FullPaths.map(function(Ne){return Ne.toUpperCase()}),ce=le.map(function(Ne){var Fe=Ne.split("/");return Fe[Fe.length-(Ne.slice(-1)=="/"?2:1)]}),ge=!1;ve.charCodeAt(0)===47?(ge=!0,ve=le[0].slice(0,-1)+ve):ge=ve.indexOf("/")!==-1;var xe=ve.toUpperCase(),Le=ge===!0?le.indexOf(xe):ce.indexOf(xe);if(Le!==-1)return ie.FileIndex[Le];var Ve=!xe.match(_g);for(xe=xe.replace(c0,""),Ve&&(xe=xe.replace(_g,"!")),Le=0;Le<le.length;++Le)if((Ve?le[Le].replace(_g,"!"):le[Le]).replace(c0,"")==xe||(Ve?ce[Le].replace(_g,"!"):ce[Le]).replace(c0,"")==xe)return ie.FileIndex[Le];return null}var R=64,H=-2,X="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(ie,ve,le){u();var ce=N(ie,le);l.writeFileSync(ve,ce)}function se(ie){for(var ve=new Array(ie.length),le=0;le<ie.length;++le)ve[le]=String.fromCharCode(ie[le]);return ve.join("")}function ae(ie,ve){var le=N(ie,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),l.writeFileSync(ve.filename,le),le;case"binary":return typeof le=="string"?le:se(le);case"base64":return H0(typeof le=="string"?le:se(le));case"buffer":if(ar)return Buffer.isBuffer(le)?le:bl(le);case"array":return typeof le=="string"?ps(le):le}return le}var W;function M(ie){try{var ve=ie.InflateRaw,le=new ve;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)W=ie;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function V(ie,ve){if(!W)return Nt(ie,ve);var le=W.InflateRaw,ce=new le,ge=ce._processChunk(ie.slice(ie.l),ce._finishFlushFlag);return ie.l+=ce.bytesRead,ge}function ee(ie){return W?W.deflateRawSync(ie):De(ie)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function q(ie){var ve=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var te=typeof Uint8Array<"u",re=te?new Uint8Array(256):[],pe=0;pe<256;++pe)re[pe]=q(pe);function ne(ie,ve){var le=re[ie&255];return ve<=8?le>>>8-ve:(le=le<<8|re[ie>>8&255],ve<=16?le>>>16-ve:(le=le<<8|re[ie>>16&255],le>>>24-ve))}function Oe(ie,ve){var le=ve&7,ce=ve>>>3;return(ie[ce]|(le<=6?0:ie[ce+1]<<8))>>>le&3}function be(ie,ve){var le=ve&7,ce=ve>>>3;return(ie[ce]|(le<=5?0:ie[ce+1]<<8))>>>le&7}function fe(ie,ve){var le=ve&7,ce=ve>>>3;return(ie[ce]|(le<=4?0:ie[ce+1]<<8))>>>le&15}function he(ie,ve){var le=ve&7,ce=ve>>>3;return(ie[ce]|(le<=3?0:ie[ce+1]<<8))>>>le&31}function ye(ie,ve){var le=ve&7,ce=ve>>>3;return(ie[ce]|(le<=1?0:ie[ce+1]<<8))>>>le&127}function Ie(ie,ve,le){var ce=ve&7,ge=ve>>>3,xe=(1<<le)-1,Le=ie[ge]>>>ce;return le<8-ce||(Le|=ie[ge+1]<<8-ce,le<16-ce)||(Le|=ie[ge+2]<<16-ce,le<24-ce)||(Le|=ie[ge+3]<<24-ce),Le&xe}function $e(ie,ve,le){var ce=ve&7,ge=ve>>>3;return ce<=5?ie[ge]|=(le&7)<<ce:(ie[ge]|=le<<ce&255,ie[ge+1]=(le&7)>>8-ce),ve+3}function Ge(ie,ve,le){var ce=ve&7,ge=ve>>>3;return le=(le&1)<<ce,ie[ge]|=le,ve+1}function Ee(ie,ve,le){var ce=ve&7,ge=ve>>>3;return le<<=ce,ie[ge]|=le&255,le>>>=8,ie[ge+1]=le,ve+8}function Ye(ie,ve,le){var ce=ve&7,ge=ve>>>3;return le<<=ce,ie[ge]|=le&255,le>>>=8,ie[ge+1]=le&255,ie[ge+2]=le>>>8,ve+16}function st(ie,ve){var le=ie.length,ce=2*le>ve?2*le:ve+5,ge=0;if(le>=ve)return ie;if(ar){var xe=oB(ce);if(ie.copy)ie.copy(xe);else for(;ge<ie.length;++ge)xe[ge]=ie[ge];return xe}else if(te){var Le=new Uint8Array(ce);if(Le.set)Le.set(ie);else for(;ge<le;++ge)Le[ge]=ie[ge];return Le}return ie.length=ce,ie}function ke(ie){for(var ve=new Array(ie),le=0;le<ie;++le)ve[le]=0;return ve}function kt(ie,ve,le){var ce=1,ge=0,xe=0,Le=0,Ve=0,Ne=ie.length,Fe=te?new Uint16Array(32):ke(32);for(xe=0;xe<32;++xe)Fe[xe]=0;for(xe=Ne;xe<le;++xe)ie[xe]=0;Ne=ie.length;var Be=te?new Uint16Array(Ne):ke(Ne);for(xe=0;xe<Ne;++xe)Fe[ge=ie[xe]]++,ce<ge&&(ce=ge),Be[xe]=0;for(Fe[0]=0,xe=1;xe<=ce;++xe)Fe[xe+16]=Ve=Ve+Fe[xe-1]<<1;for(xe=0;xe<Ne;++xe)Ve=ie[xe],Ve!=0&&(Be[xe]=Fe[Ve+16]++);var ut=0;for(xe=0;xe<Ne;++xe)if(ut=ie[xe],ut!=0)for(Ve=ne(Be[xe],ce)>>ce-ut,Le=(1<<ce+4-ut)-1;Le>=0;--Le)ve[Ve|Le<<ut]=ut&15|xe<<4;return ce}var P=te?new Uint16Array(512):ke(512),U=te?new Uint16Array(32):ke(32);if(!te){for(var J=0;J<512;++J)P[J]=0;for(J=0;J<32;++J)U[J]=0}(function(){for(var ie=[],ve=0;ve<32;ve++)ie.push(5);kt(ie,U,32);var le=[];for(ve=0;ve<=143;ve++)le.push(8);for(;ve<=255;ve++)le.push(9);for(;ve<=279;ve++)le.push(7);for(;ve<=287;ve++)le.push(8);kt(le,P,288)})();var we=(function(){for(var ve=te?new Uint8Array(32768):[],le=0,ce=0;le<ue.length-1;++le)for(;ce<ue[le+1];++ce)ve[ce]=le;for(;ce<32768;++ce)ve[ce]=29;var ge=te?new Uint8Array(259):[];for(le=0,ce=0;le<me.length-1;++le)for(;ce<me[le+1];++ce)ge[ce]=le;function xe(Ve,Ne){for(var Fe=0;Fe<Ve.length;){var Be=Math.min(65535,Ve.length-Fe),ut=Fe+Be==Ve.length;for(Ne.write_shift(1,+ut),Ne.write_shift(2,Be),Ne.write_shift(2,~Be&65535);Be-- >0;)Ne[Ne.l++]=Ve[Fe++]}return Ne.l}function Le(Ve,Ne){for(var Fe=0,Be=0,ut=te?new Uint16Array(32768):[];Be<Ve.length;){var ft=Math.min(65535,Ve.length-Be);if(ft<10){for(Fe=$e(Ne,Fe,+(Be+ft==Ve.length)),Fe&7&&(Fe+=8-(Fe&7)),Ne.l=Fe/8|0,Ne.write_shift(2,ft),Ne.write_shift(2,~ft&65535);ft-- >0;)Ne[Ne.l++]=Ve[Be++];Fe=Ne.l*8;continue}Fe=$e(Ne,Fe,+(Be+ft==Ve.length)+2);for(var vt=0;ft-- >0;){var ct=Ve[Be];vt=(vt<<5^ct)&32767;var mt=-1,Tt=0;if((mt=ut[vt])&&(mt|=Be&-32768,mt>Be&&(mt-=32768),mt<Be))for(;Ve[mt+Tt]==Ve[Be+Tt]&&Tt<250;)++Tt;if(Tt>2){ct=ge[Tt],ct<=22?Fe=Ee(Ne,Fe,re[ct+1]>>1)-1:(Ee(Ne,Fe,3),Fe+=5,Ee(Ne,Fe,re[ct-23]>>5),Fe+=3);var Or=ct<8?0:ct-4>>2;Or>0&&(Ye(Ne,Fe,Tt-me[ct]),Fe+=Or),ct=ve[Be-mt],Fe=Ee(Ne,Fe,re[ct]>>3),Fe-=3;var Cr=ct<4?0:ct-2>>1;Cr>0&&(Ye(Ne,Fe,Be-mt-ue[ct]),Fe+=Cr);for(var Ur=0;Ur<Tt;++Ur)ut[vt]=Be&32767,vt=(vt<<5^Ve[Be])&32767,++Be;ft-=Tt-1}else ct<=143?ct=ct+48:Fe=Ge(Ne,Fe,1),Fe=Ee(Ne,Fe,re[ct]),ut[vt]=Be&32767,++Be}Fe=Ee(Ne,Fe,0)-1}return Ne.l=(Fe+7)/8|0,Ne.l}return function(Ne,Fe){return Ne.length<8?xe(Ne,Fe):Le(Ne,Fe)}})();function De(ie){var ve=Je(50+Math.floor(ie.length*1.1)),le=we(ie,ve);return ve.slice(0,le)}var We=te?new Uint16Array(32768):ke(32768),lt=te?new Uint16Array(32768):ke(32768),Te=te?new Uint16Array(128):ke(128),Pe=1,St=1;function xt(ie,ve){var le=he(ie,ve)+257;ve+=5;var ce=he(ie,ve)+1;ve+=5;var ge=fe(ie,ve)+4;ve+=4;for(var xe=0,Le=te?new Uint8Array(19):ke(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,Fe=te?new Uint8Array(8):ke(8),Be=te?new Uint8Array(8):ke(8),ut=Le.length,ft=0;ft<ge;++ft)Le[Z[ft]]=xe=be(ie,ve),Ne<xe&&(Ne=xe),Fe[xe]++,ve+=3;var vt=0;for(Fe[0]=0,ft=1;ft<=Ne;++ft)Be[ft]=vt=vt+Fe[ft-1]<<1;for(ft=0;ft<ut;++ft)(vt=Le[ft])!=0&&(Ve[ft]=Be[vt]++);var ct=0;for(ft=0;ft<ut;++ft)if(ct=Le[ft],ct!=0){vt=re[Ve[ft]]>>8-ct;for(var mt=(1<<7-ct)-1;mt>=0;--mt)Te[vt|mt<<ct]=ct&7|ft<<3}var Tt=[];for(Ne=1;Tt.length<le+ce;)switch(vt=Te[ye(ie,ve)],ve+=vt&7,vt>>>=3){case 16:for(xe=3+Oe(ie,ve),ve+=2,vt=Tt[Tt.length-1];xe-- >0;)Tt.push(vt);break;case 17:for(xe=3+be(ie,ve),ve+=3;xe-- >0;)Tt.push(0);break;case 18:for(xe=11+ye(ie,ve),ve+=7;xe-- >0;)Tt.push(0);break;default:Tt.push(vt),Ne<vt&&(Ne=vt);break}var Or=Tt.slice(0,le),Cr=Tt.slice(le);for(ft=le;ft<286;++ft)Or[ft]=0;for(ft=ce;ft<30;++ft)Cr[ft]=0;return Pe=kt(Or,We,286),St=kt(Cr,lt,30),ve}function Lt(ie,ve){if(ie[0]==3&&!(ie[1]&3))return[Cc(ve),2];for(var le=0,ce=0,ge=oB(ve||1<<18),xe=0,Le=ge.length>>>0,Ve=0,Ne=0;(ce&1)==0;){if(ce=be(ie,le),le+=3,ce>>>1)ce>>1==1?(Ve=9,Ne=5):(le=xt(ie,le),Ve=Pe,Ne=St);else{le&7&&(le+=8-(le&7));var Fe=ie[le>>>3]|ie[(le>>>3)+1]<<8;if(le+=32,Fe>0)for(!ve&&Le<xe+Fe&&(ge=st(ge,xe+Fe),Le=ge.length);Fe-- >0;)ge[xe++]=ie[le>>>3],le+=8;continue}for(;;){!ve&&Le<xe+32767&&(ge=st(ge,xe+32767),Le=ge.length);var Be=Ie(ie,le,Ve),ut=ce>>>1==1?P[Be]:We[Be];if(le+=ut&15,ut>>>=4,(ut>>>8&255)===0)ge[xe++]=ut;else{if(ut==256)break;ut-=257;var ft=ut<8?0:ut-4>>2;ft>5&&(ft=0);var vt=xe+me[ut];ft>0&&(vt+=Ie(ie,le,ft),le+=ft),Be=Ie(ie,le,Ne),ut=ce>>>1==1?U[Be]:lt[Be],le+=ut&15,ut>>>=4;var ct=ut<4?0:ut-2>>1,mt=ue[ut];for(ct>0&&(mt+=Ie(ie,le,ct),le+=ct),!ve&&Le<vt&&(ge=st(ge,vt+100),Le=ge.length);xe<vt;)ge[xe]=ge[xe-mt],++xe}}}return ve?[ge,le+7>>>3]:[ge.slice(0,xe),le+7>>>3]}function Nt(ie,ve){var le=ie.slice(ie.l||0),ce=Lt(le,ve);return ie.l+=ce[1],ce[0]}function bi(ie,ve){if(ie)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function Rn(ie,ve){var le=ie;ma(le,0);var ce=[],ge=[],xe={FileIndex:ce,FullPaths:ge};A(xe,{root:ve.root});for(var Le=le.length-4;(le[Le]!=80||le[Le+1]!=75||le[Le+2]!=5||le[Le+3]!=6)&&Le>=0;)--Le;le.l=Le+4,le.l+=4;var Ve=le.read_shift(2);le.l+=6;var Ne=le.read_shift(4);for(le.l=Ne,Le=0;Le<Ve;++Le){le.l+=20;var Fe=le.read_shift(4),Be=le.read_shift(4),ut=le.read_shift(2),ft=le.read_shift(2),vt=le.read_shift(2);le.l+=8;var ct=le.read_shift(4),mt=o(le.slice(le.l+ut,le.l+ut+ft));le.l+=ut+ft+vt;var Tt=le.l;le.l=ct+4,Wr(le,Fe,Be,xe,mt),le.l=Tt}return xe}function Wr(ie,ve,le,ce,ge){ie.l+=2;var xe=ie.read_shift(2),Le=ie.read_shift(2),Ve=s(ie);if(xe&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=ie.read_shift(4),Fe=ie.read_shift(4),Be=ie.read_shift(4),ut=ie.read_shift(2),ft=ie.read_shift(2),vt="",ct=0;ct<ut;++ct)vt+=String.fromCharCode(ie[ie.l++]);if(ft){var mt=o(ie.slice(ie.l,ie.l+ft));(mt[21589]||{}).mt&&(Ve=mt[21589].mt),((ge||{})[21589]||{}).mt&&(Ve=ge[21589].mt)}ie.l+=ft;var Tt=ie.slice(ie.l,ie.l+Fe);switch(Le){case 8:Tt=V(ie,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var Or=!1;xe&8&&(Ne=ie.read_shift(4),Ne==134695760&&(Ne=ie.read_shift(4),Or=!0),Fe=ie.read_shift(4),Be=ie.read_shift(4)),Fe!=ve&&bi(Or,"Bad compressed size: "+ve+" != "+Fe),Be!=le&&bi(Or,"Bad uncompressed size: "+le+" != "+Be),dt(ce,vt,Tt,{unsafe:!0,mt:Ve})}function Kn(ie,ve){var le=ve||{},ce=[],ge=[],xe=Je(1),Le=le.compression?8:0,Ve=0,Ne=0,Fe=0,Be=0,ut=0,ft=ie.FullPaths[0],vt=ft,ct=ie.FileIndex[0],mt=[],Tt=0;for(Ne=1;Ne<ie.FullPaths.length;++Ne)if(vt=ie.FullPaths[Ne].slice(ft.length),ct=ie.FileIndex[Ne],!(!ct.size||!ct.content||vt=="Sh33tJ5")){var Or=Be,Cr=Je(vt.length);for(Fe=0;Fe<vt.length;++Fe)Cr.write_shift(1,vt.charCodeAt(Fe)&127);Cr=Cr.slice(0,Cr.l),mt[ut]=Nxe.buf(ct.content,0);var Ur=ct.content;Le==8&&(Ur=ee(Ur)),xe=Je(30),xe.write_shift(4,67324752),xe.write_shift(2,20),xe.write_shift(2,Ve),xe.write_shift(2,Le),ct.mt?a(xe,ct.mt):xe.write_shift(4,0),xe.write_shift(-4,mt[ut]),xe.write_shift(4,Ur.length),xe.write_shift(4,ct.content.length),xe.write_shift(2,Cr.length),xe.write_shift(2,0),Be+=xe.length,ce.push(xe),Be+=Cr.length,ce.push(Cr),Be+=Ur.length,ce.push(Ur),xe=Je(46),xe.write_shift(4,33639248),xe.write_shift(2,0),xe.write_shift(2,20),xe.write_shift(2,Ve),xe.write_shift(2,Le),xe.write_shift(4,0),xe.write_shift(-4,mt[ut]),xe.write_shift(4,Ur.length),xe.write_shift(4,ct.content.length),xe.write_shift(2,Cr.length),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(4,0),xe.write_shift(4,Or),Tt+=xe.l,ge.push(xe),Tt+=Cr.length,ge.push(Cr),++ut}return xe=Je(22),xe.write_shift(4,101010256),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,ut),xe.write_shift(2,ut),xe.write_shift(4,Tt),xe.write_shift(4,Be),xe.write_shift(2,0),ni([ni(ce),ni(ge),xe])}var Sn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Yn(ie,ve){if(ie.ctype)return ie.ctype;var le=ie.name||"",ce=le.match(/\.([^\.]+)$/);return ce&&Sn[ce[1]]||ve&&(ce=(le=ve).match(/[\.\\]([^\.\\])+$/),ce&&Sn[ce[1]])?Sn[ce[1]]:"application/octet-stream"}function rn(ie){for(var ve=H0(ie),le=[],ce=0;ce<ve.length;ce+=76)le.push(ve.slice(ce,ce+76));return le.join(`\r
`)+`\r
`}function Sl(ie){var ve=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Fe){var Be=Fe.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ce=ve.split(`\r
`),ge=0;ge<ce.length;++ge){var xe=ce[ge];if(xe.length==0){le.push("");continue}for(var Le=0;Le<xe.length;){var Ve=76,Ne=xe.slice(Le,Le+Ve);Ne.charAt(Ve-1)=="="?Ve--:Ne.charAt(Ve-2)=="="?Ve-=2:Ne.charAt(Ve-3)=="="&&(Ve-=3),Ne=xe.slice(Le,Le+Ve),Le+=Ve,Le<xe.length&&(Ne+="="),le.push(Ne)}}return le.join(`\r
`)}function ts(ie){for(var ve=[],le=0;le<ie.length;++le){for(var ce=ie[le];le<=ie.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+ie[++le];ve.push(ce)}for(var ge=0;ge<ve.length;++ge)ve[ge]=ve[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(xe){return String.fromCharCode(parseInt(xe.slice(1),16))});return ps(ve.join(`\r
`))}function rs(ie,ve,le){for(var ce="",ge="",xe="",Le,Ve=0;Ve<10;++Ve){var Ne=ve[Ve];if(!Ne||Ne.match(/^\s*$/))break;var Fe=Ne.match(/^(.*?):\s*([^\s].*)$/);if(Fe)switch(Fe[1].toLowerCase()){case"content-location":ce=Fe[2].trim();break;case"content-type":xe=Fe[2].trim();break;case"content-transfer-encoding":ge=Fe[2].trim();break}}switch(++Ve,ge.toLowerCase()){case"base64":Le=ps(sl(ve.slice(Ve).join("")));break;case"quoted-printable":Le=ts(ve.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var Be=dt(ie,ce.slice(le.length),Le,{unsafe:!0});xe&&(Be.ctype=xe)}function de(ie,ve){if(se(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=ve&&ve.root||"",ce=(ar&&Buffer.isBuffer(ie)?ie.toString("binary"):se(ie)).split(`\r
`),ge=0,xe="";for(ge=0;ge<ce.length;++ge)if(xe=ce[ge],!!/^Content-Location:/i.test(xe)&&(xe=xe.slice(xe.indexOf("file")),le||(le=xe.slice(0,xe.lastIndexOf("/")+1)),xe.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),xe.slice(0,le.length)!=le););var Le=(ce[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var Ve="--"+(Le[1]||""),Ne=[],Fe=[],Be={FileIndex:Ne,FullPaths:Fe};A(Be);var ut,ft=0;for(ge=0;ge<ce.length;++ge){var vt=ce[ge];vt!==Ve&&vt!==Ve+"--"||(ft++&&rs(Be,ce.slice(ut,ge),le),ut=ge)}return Be}function Se(ie,ve){var le=ve||{},ce=le.boundary||"SheetJS";ce="------="+ce;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],xe=ie.FullPaths[0],Le=xe,Ve=ie.FileIndex[0],Ne=1;Ne<ie.FullPaths.length;++Ne)if(Le=ie.FullPaths[Ne].slice(xe.length),Ve=ie.FileIndex[Ne],!(!Ve.size||!Ve.content||Le=="Sh33tJ5")){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Fe=Ve.content,Be=ar&&Buffer.isBuffer(Fe)?Fe.toString("binary"):se(Fe),ut=0,ft=Math.min(1024,Be.length),vt=0,ct=0;ct<=ft;++ct)(vt=Be.charCodeAt(ct))>=32&&vt<128&&++ut;var mt=ut>=ft*4/5;ge.push(ce),ge.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Le),ge.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),ge.push("Content-Type: "+Yn(Ve,Le)),ge.push(""),ge.push(mt?Sl(Be):rn(Be))}return ge.push(ce+`--\r
`),ge.join(`\r
`)}function ot(ie){var ve={};return A(ve,ie),ve}function dt(ie,ve,le,ce){var ge=ce&&ce.unsafe;ge||A(ie);var xe=!ge&&Sr.find(ie,ve);if(!xe){var Le=ie.FullPaths[0];ve.slice(0,Le.length)==Le?Le=ve:(Le.slice(-1)!="/"&&(Le+="/"),Le=(Le+ve).replace("//","/")),xe={name:i(ve),type:2},ie.FileIndex.push(xe),ie.FullPaths.push(Le),ge||Sr.utils.cfb_gc(ie)}return xe.content=le,xe.size=le?le.length:0,ce&&(ce.CLSID&&(xe.clsid=ce.CLSID),ce.mt&&(xe.mt=ce.mt),ce.ct&&(xe.ct=ce.ct)),xe}function bt(ie,ve){A(ie);var le=Sr.find(ie,ve);if(le){for(var ce=0;ce<ie.FileIndex.length;++ce)if(ie.FileIndex[ce]==le)return ie.FileIndex.splice(ce,1),ie.FullPaths.splice(ce,1),!0}return!1}function kr(ie,ve,le){A(ie);var ce=Sr.find(ie,ve);if(ce){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==ce)return ie.FileIndex[ge].name=i(le),ie.FullPaths[ge]=le,!0}return!1}function nn(ie){k(ie,!0)}return e.find=B,e.read=O,e.parse=c,e.write=ae,e.writeFile=Q,e.utils={cfb_new:ot,cfb_add:dt,cfb_del:bt,cfb_mov:kr,cfb_gc:nn,ReadShift:h0,CheckField:vG,prep_blob:ma,bconcat:ni,use_zlib:M,_deflateRaw:De,_inflateRaw:Nt,consts:z},e})();function Fxe(r){return typeof r=="string"?b1(r):Array.isArray(r)?uxe(r):r}function Pp(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=b1(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?W0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([Fxe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:r,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=r,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=kp(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+r)}function oi(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function mB(r,e){for(var t=[],n=oi(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function uC(r){for(var e=[],t=oi(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function w1(r){for(var e=[],t=oi(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function Bxe(r){for(var e=[],t=oi(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var Xy=new Date(1899,11,30,0,0,0);function qi(r,e){var t=r.getTime(),n=Xy.getTime()+(r.getTimezoneOffset()-Xy.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var eG=new Date,Uxe=Xy.getTime()+(eG.getTimezoneOffset()-Xy.getTimezoneOffset())*6e4,gB=eG.getTimezoneOffset();function tG(r){var e=new Date;return e.setTime(r*24*60*60*1e3+Uxe),e.getTimezoneOffset()!==gB&&e.setTime(e.getTime()+(e.getTimezoneOffset()-gB)*6e4),e}var vB=new Date("2017-02-19T19:06:09.000Z"),rG=isNaN(vB.getFullYear())?new Date("2/19/17"):vB,jxe=rG.getFullYear()==2017;function Ci(r,e){var t=new Date(r);if(jxe)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(rG.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function _1(r,e){if(ar&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function Xi(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Xi(r[t]));return e}function Jr(r,e){for(var t="";t.length<e;)t+=r;return t}function Vo(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(n)))?e/t:e}var $xe=["january","february","march","april","may","june","july","august","september","october","november","december"];function G0(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&$xe.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||a>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function Ht(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return ar?n=bl(t):n=cxe(t),Sr.utils.cfb_add(r,e,n)}Sr.utils.cfb_add(r,e,t)}else r.file(e,t)}function cC(){return Sr.utils.cfb_new()}var bn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Hxe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fC=uC(Hxe),hC=/[&<>'"]/g,Gxe=/[\u0000-\u0008\u000b-\u001f]/g;function mr(r){var e=r+"";return e.replace(hC,function(t){return fC[t]}).replace(Gxe,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yB(r){return mr(r).replace(/ /g,"_x0020_")}var nG=/[\u0000-\u001f]/g;function Wxe(r){var e=r+"";return e.replace(hC,function(t){return fC[t]}).replace(/\n/g,"<br/>").replace(nG,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function Kxe(r){var e=r+"";return e.replace(hC,function(t){return fC[t]}).replace(nG,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function Yxe(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function zxe(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Nw(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function xB(r){var e=Cc(2*r.length),t,n,i=1,a=0,s=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function bB(r){return bl(r,"binary").toString("utf8")}var Ag="foo bar baz",f0=ar&&(bB(Ag)==Nw(Ag)&&bB||xB(Ag)==Nw(Ag)&&xB)||Nw,W0=ar?function(r){return bl(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Vxe=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),iG=/(^\s|\s$|\n)/;function ii(r,e){return"<"+r+(e.match(iG)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function K0(r){return oi(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function ht(r,e,t){return"<"+r+(t!=null?K0(t):"")+(e!=null?(e.match(iG)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function _2(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function qxe(r,e){switch(typeof r){case"string":var t=ht("vt:lpwstr",mr(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ht((r|0)==r?"vt:i4":"vt:r8",mr(String(r)));case"boolean":return ht("vt:bool",r?"true":"false")}if(r instanceof Date)return ht("vt:filetime",_2(r));throw new Error("Unable to serialize "+r)}var Fn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ga={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Xxe(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,a=5;a>=0;--a)i=i*256+r[e+a];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function Qxe(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)r[t+o]=a&255;r[t+6]=(i&15)<<4|a&15,r[t+7]=i>>4|n}var SB=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},EB=ar?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:bl(e)})):SB(r)}:SB,wB=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(a0(r,i)));return n.join("").replace(c0,"")},dC=ar?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(c0,""):wB(r,e,t)}:wB,_B=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},aG=ar?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):_B(r,e,t)}:_B,TB=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(Gf(r,i)));return n.join("")},Lp=ar?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):TB(e,t,n)}:TB,sG=function(r,e){var t=va(r,e);return t>0?Lp(r,e+4,e+4+t-1):""},oG=sG,lG=function(r,e){var t=va(r,e);return t>0?Lp(r,e+4,e+4+t-1):""},uG=lG,cG=function(r,e){var t=2*va(r,e);return t>0?Lp(r,e+4,e+4+t-1):""},fG=cG,hG=function(e,t){var n=va(e,t);return n>0?dC(e,t+4,t+4+n):""},dG=hG,pG=function(r,e){var t=va(r,e);return t>0?Lp(r,e+4,e+4+t):""},mG=pG,gG=function(r,e){return Xxe(r,e)},Qy=gG,pC=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ar&&(oG=function(e,t){if(!Buffer.isBuffer(e))return sG(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},uG=function(e,t){if(!Buffer.isBuffer(e))return lG(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},fG=function(e,t){if(!Buffer.isBuffer(e))return cG(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},dG=function(e,t){if(!Buffer.isBuffer(e))return hG(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},mG=function(e,t){if(!Buffer.isBuffer(e))return pG(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Qy=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):gG(e,t)},pC=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Gf=function(r,e){return r[e]},a0=function(r,e){return r[e+1]*256+r[e]},Zxe=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},va=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},ic=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},Jxe=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function h0(r,e){var t="",n,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,ar&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(a0(this,u)),u+=2;r*=2;break;case"utf8":t=Lp(this,this.l,this.l+r);break;case"utf16le":r*=2,t=dC(this,this.l,this.l+r);break;case"wstr":return h0.call(this,r,"dbcs");case"lpstr-ansi":t=oG(this,this.l),r=4+va(this,this.l);break;case"lpstr-cp":t=uG(this,this.l),r=4+va(this,this.l);break;case"lpwstr":t=fG(this,this.l),r=4+2*va(this,this.l);break;case"lpp4":r=4+va(this,this.l),t=dG(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+va(this,this.l),t=mG(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=Gf(this,this.l+r++))!==0;)a.push(wg(s));t=a.join("");break;case"_wstr":for(r=0,t="";(s=a0(this,this.l+r))!==0;)a.push(wg(s)),r+=2;r+=2,t=a.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Gf(this,u),this.l=u+1,o=h0.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(wg(a0(this,u))),u+=2}t=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Gf(this,u),this.l=u+1,o=h0.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(wg(Gf(this,u))),u+=1}t=a.join("");break;default:switch(r){case 1:return n=Gf(this,this.l),this.l++,n;case 2:return n=(e==="i"?Zxe:a0)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?ic:Jxe)(this,this.l),this.l+=4,n):(i=va(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=Qy(this,this.l):i=Qy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=aG(this,this.l,r);break}}return this.l+=r,t}var e1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},t1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},r1e=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function n1e(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)r1e(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,e1e(this,e,this.l);break;case 8:if(n=8,t==="f"){Qxe(this,e,this.l);break}case 16:break;case-4:n=4,t1e(this,e,this.l);break}return this.l+=n,this}function vG(r,e){var t=aG(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ma(r,e){r.l=e,r.read_shift=h0,r.chk=vG,r.write_shift=n1e}function ro(r,e){r.l+=e}function Je(r){var e=Cc(r);return ma(e,0),e}function Vi(){var r=[],e=ar?256:2048,t=function(u){var c=Je(u);return ma(c,0),c},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=t(Math.max(u+1,e)))},s=function(){return i(),ni(r)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:r}}function at(r,e,t,n){var i=+e,a;if(!isNaN(i)){n||(n=X_e[i].p||(t||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=r.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&pC(t)&&r.push(t)}}function d0(r,e,t){var n=Xi(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AB(r,e,t){var n=Xi(r);return n.s=d0(n.s,e.s,t),n.e=d0(n.e,e.s,t),n}function p0(r,e){if(r.cRel&&r.c<0)for(r=Xi(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Xi(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=gr(r);return!r.cRel&&r.cRel!=null&&(t=s1e(t)),!r.rRel&&r.rRel!=null&&(t=i1e(t)),t}function Fw(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+vi(r.s.c)+":"+(r.e.cRel?"":"$")+vi(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+si(r.s.r)+":"+(r.e.rRel?"":"$")+si(r.e.r):p0(r.s,e.biff)+":"+p0(r.e,e.biff)}function mC(r){return parseInt(a1e(r),10)-1}function si(r){return""+(r+1)}function i1e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function a1e(r){return r.replace(/\$(\d+)$/,"$1")}function gC(r){for(var e=o1e(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function vi(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function s1e(r){return r.replace(/^([A-Z])/,"$$$1")}function o1e(r){return r.replace(/^\$([A-Z])/,"$1")}function l1e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Bn(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function gr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Da(r){var e=r.indexOf(":");return e==-1?{s:Bn(r),e:Bn(r)}:{s:Bn(r.slice(0,e)),e:Bn(r.slice(e+1))}}function yn(r,e){return typeof e>"u"||typeof e=="number"?yn(r.s,r.e):(typeof r!="string"&&(r=gr(r)),typeof e!="string"&&(e=gr(e)),r==e?r:r+":"+e)}function Fr(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,a=r.length;for(t=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function DB(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=xu(r.z,t?qi(e):e)}catch{}try{return r.w=xu((r.XF||{}).numFmtId||(t?14:0),t?qi(e):e)}catch{return""+e}}function ol(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Mp[r.v]||r.v:e==null?DB(r,r.v):DB(r,e))}function jc(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function yG(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,a=r||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Bn(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Fr(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[h].length;++p)if(!(typeof e[h][p]>"u")){var m={v:e[h][p]},g=s+h,y=o+p;if(u.s.r>g&&(u.s.r=g),u.s.c>y&&(u.s.c=y),u.e.r<g&&(u.e.r=g),u.e.c<y&&(u.e.c=y),e[h][p]&&typeof e[h][p]=="object"&&!Array.isArray(e[h][p])&&!(e[h][p]instanceof Date))m=e[h][p];else if(Array.isArray(m.v)&&(m.f=e[h][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||en[14],n.cellDates?(m.t="d",m.w=xu(m.z,qi(m.v))):(m.t="n",m.v=qi(m.v),m.w=xu(m.z,m.v))):m.t="s";if(i)a[g]||(a[g]=[]),a[g][y]&&a[g][y].z&&(m.z=a[g][y].z),a[g][y]=m;else{var x=gr({c:y,r:g});a[x]&&a[x].z&&(m.z=a[x].z),a[x]=m}}}return u.s.c<1e7&&(a["!ref"]=yn(u)),a}function Gh(r,e){return yG(null,r,e)}function u1e(r){return r.read_shift(4,"i")}function bs(r,e){return e||(e=Je(4)),e.write_shift(4,r),e}function yi(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Un(r,e){var t=!1;return e==null&&(t=!0,e=Je(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function c1e(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function f1e(r,e){return e||(e=Je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function vC(r,e){var t=r.l,n=r.read_shift(1),i=yi(r),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)a.push(c1e(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}function h1e(r,e){var t=!1;return e==null&&(t=!0,e=Je(15+4*r.t.length)),e.write_shift(1,0),Un(r.t,e),t?e.slice(0,e.l):e}var d1e=vC;function p1e(r,e){var t=!1;return e==null&&(t=!0,e=Je(23+4*r.t.length)),e.write_shift(1,1),Un(r.t,e),e.write_shift(4,1),f1e({},e),t?e.slice(0,e.l):e}function Ja(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function $c(r,e){return e==null&&(e=Je(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Hc(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Gc(r,e){return e==null&&(e=Je(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var m1e=yi,xG=Un;function yC(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function Zy(r,e){var t=!1;return e==null&&(t=!0,e=Je(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var g1e=yi,T2=yC,xC=Zy;function bG(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?Qy([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ic(e,0)>>2;return t?i/100:i}function SG(r,e){e==null&&(e=Je(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function EG(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function v1e(r,e){return e||(e=Je(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Wc=EG,Wh=v1e;function Kh(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Ic(r,e){return(e||Je(8)).write_shift(8,r,"f")}function y1e(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=D1e[i];u&&(e.rgb=BB(u));break;case 2:e.rgb=BB([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Jy(r,e){if(e||(e=Je(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function x1e(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function b1e(r,e){e||(e=Je(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var wG=2,fa=3,Dg=11,ex=19,Og=64,S1e=65,E1e=71,w1e=4108,_1e=4126,ei=80,OB={1:{n:"CodePage",t:wG},2:{n:"Category",t:ei},3:{n:"PresentationFormat",t:ei},4:{n:"ByteCount",t:fa},5:{n:"LineCount",t:fa},6:{n:"ParagraphCount",t:fa},7:{n:"SlideCount",t:fa},8:{n:"NoteCount",t:fa},9:{n:"HiddenCount",t:fa},10:{n:"MultimediaClipCount",t:fa},11:{n:"ScaleCrop",t:Dg},12:{n:"HeadingPairs",t:w1e},13:{n:"TitlesOfParts",t:_1e},14:{n:"Manager",t:ei},15:{n:"Company",t:ei},16:{n:"LinksUpToDate",t:Dg},17:{n:"CharacterCount",t:fa},19:{n:"SharedDoc",t:Dg},22:{n:"HyperlinksChanged",t:Dg},23:{n:"AppVersion",t:fa,p:"version"},24:{n:"DigSig",t:S1e},26:{n:"ContentType",t:ei},27:{n:"ContentStatus",t:ei},28:{n:"Language",t:ei},29:{n:"Version",t:ei},255:{},2147483648:{n:"Locale",t:ex},2147483651:{n:"Behavior",t:ex},1919054434:{}},CB={1:{n:"CodePage",t:wG},2:{n:"Title",t:ei},3:{n:"Subject",t:ei},4:{n:"Author",t:ei},5:{n:"Keywords",t:ei},6:{n:"Comments",t:ei},7:{n:"Template",t:ei},8:{n:"LastAuthor",t:ei},9:{n:"RevNumber",t:ei},10:{n:"EditTime",t:Og},11:{n:"LastPrinted",t:Og},12:{n:"CreatedDate",t:Og},13:{n:"ModifiedDate",t:Og},14:{n:"PageCount",t:fa},15:{n:"WordCount",t:fa},16:{n:"CharCount",t:fa},17:{n:"Thumbnail",t:E1e},18:{n:"Application",t:ei},19:{n:"DocSecurity",t:fa},255:{},2147483648:{n:"Locale",t:ex},2147483651:{n:"Behavior",t:ex},1919054434:{}};function T1e(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var A1e=T1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),D1e=Xi(A1e),Mp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},O1e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Cg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function _G(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function TG(r,e){var t=Bxe(O1e),n=[],i;n[n.length]=bn,n[n.length]=ht("Types",null,{xmlns:Fn.CT,"xmlns:xsd":Fn.xsd,"xmlns:xsi":Fn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ht("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){r[l]&&r[l].length>0&&(i=r[l][0],n[n.length]=ht("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Cg[l][e.bookType]||Cg[l].xlsx}))},s=function(l){(r[l]||[]).forEach(function(u){n[n.length]=ht("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Cg[l][e.bookType]||Cg[l].xlsx})})},o=function(l){(r[l]||[]).forEach(function(u){n[n.length]=ht("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var tr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function AG(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function th(r){var e=[bn,ht("Relationships",null,{xmlns:Fn.RELS})];return oi(r["!id"]).forEach(function(t){e[e.length]=ht("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function fr(r,e,t,n,i,a){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[tr.HLINK,tr.XPATH,tr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function C1e(r){var e=[bn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function IB(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function I1e(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function R1e(r){var e=[bn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(IB(r[t][0],r[t][1])),e.push(I1e("",r[t][0]));return e.push(IB("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function DG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ky.version+"</meta:generator></office:meta></office:document-meta>"}var bc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Bw(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=mr(e),n[n.length]=t?ht(r,e,t):ii(r,e))}function OG(r,e){var t=e||{},n=[bn,ht("cp:coreProperties",null,{"xmlns:cp":Fn.CORE_PROPS,"xmlns:dc":Fn.dc,"xmlns:dcterms":Fn.dcterms,"xmlns:dcmitype":Fn.dcmitype,"xmlns:xsi":Fn.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Bw("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:_2(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Bw("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:_2(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=bc.length;++a){var s=bc[a],o=t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:r?r[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Bw(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],CG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function IG(r){var e=[],t=ht;return r||(r={}),r.Application="SheetJS",e[e.length]=bn,e[e.length]=ht("Properties",null,{xmlns:Fn.EXT_PROPS,"xmlns:vt":Fn.vt}),rh.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=mr(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+mr(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function RG(r){var e=[bn,ht("Properties",null,{xmlns:Fn.CUST_PROPS,"xmlns:vt":Fn.vt})];if(!r)return e.join("");var t=1;return oi(r).forEach(function(i){++t,e[e.length]=ht("property",qxe(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:mr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var RB={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function k1e(r,e){var t=[];return oi(RB).map(function(n){for(var i=0;i<bc.length;++i)if(bc[i][1]==n)return bc[i];for(i=0;i<rh.length;++i)if(rh[i][1]==n)return rh[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(ii(RB[n[1]]||n[1],i))}}),ht("DocumentProperties",t.join(""),{xmlns:ga.o})}function P1e(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&oi(r).forEach(function(a){if(Object.prototype.hasOwnProperty.call(r,a)){for(var s=0;s<bc.length;++s)if(a==bc[s][1])return;for(s=0;s<rh.length;++s)if(a==rh[s][1])return;for(s=0;s<t.length;++s)if(a==t[s])return;var o=r[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(ht(yB(a),o,{"dt:dt":l}))}}),e&&oi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(r&&Object.prototype.hasOwnProperty.call(r,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(ht(yB(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+ga.o+'">'+i.join("")+"</"+n+">"}function L1e(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=Je(8);return s.write_shift(4,n),s.write_shift(4,i),s}function kB(r,e){var t=Je(4),n=Je(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=Je(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=L1e(e);break;case 31:case 80:for(n=Je(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return ni([t,n])}var kG=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function M1e(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function PB(r,e,t){var n=Je(8),i=[],a=[],s=8,o=0,l=Je(8),u=Je(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),a.push(l),i.push(u),s+=8+l.length,!e){u=Je(8),u.write_shift(4,0),i.unshift(u);var c=[Je(4)];for(c[0].write_shift(4,r.length),o=0;o<r.length;++o){var h=r[o][0];for(l=Je(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=ni(c),a.unshift(l),s+=8+l.length}for(o=0;o<r.length;++o)if(!(e&&!e[r[o][0]])&&!(kG.indexOf(r[o][0])>-1||CG.indexOf(r[o][0])>-1)&&r[o][1]!=null){var p=r[o][1],m=0;if(e){m=+e[r[o][0]];var g=t[m];if(g.p=="version"&&typeof p=="string"){var y=p.split(".");p=(+y[0]<<16)+(+y[1]||0)}l=kB(g.t,p)}else{var x=M1e(p);x==-1&&(x=31,p=String(p)),l=kB(x,p)}a.push(l),u=Je(8),u.write_shift(4,e?m:2+o),i.push(u),s+=8+l.length}var E=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,E),E+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),ni([n].concat(i).concat(a))}function LB(r,e,t,n,i,a){var s=Je(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Sr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=PB(r,t,n);if(o.push(l),i){var u=PB(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(u)}return ni(o)}function N1e(r,e){e||(e=Je(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function F1e(r,e){return r.read_shift(e)===1}function _i(r,e){return e||(e=Je(2)),e.write_shift(2,+!!r),e}function PG(r){return r.read_shift(2,"u")}function Wa(r,e){return e||(e=Je(2)),e.write_shift(2,r),e}function LG(r,e,t){return t||(t=Je(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function MG(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=r.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=n?r.read_shift(n,i):"";return s}function B1e(r){var e=r.t||"",t=Je(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=Je(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return ni(i)}function U1e(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function j1e(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):U1e(r,n,t)}function $1e(r,e,t){if(t.biff>5)return j1e(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function NG(r,e,t){return t||(t=Je(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function MB(r,e){e||(e=Je(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function H1e(r){var e=Je(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(t=0;t<s.length;++t)e.write_shift(4,s[t]);if(a==28)n=n.slice(1),MB(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),a&8&&MB(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),t=0;t<n.length-3*l;++t)e.write_shift(1,n.charCodeAt(t+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Rc(r,e,t,n){return n||(n=Je(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function G1e(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function W1e(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function FG(r,e){return e||(e=Je(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function bC(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Je(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function K1e(r,e){var t=!e||e.biff==8,n=Je(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function Y1e(r,e){var t=!e||e.biff>=8?2:1,n=Je(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function z1e(r,e){var t=Je(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=B1e(r[i]);var a=ni([t].concat(n));return a.parts=[t.length].concat(n.map(function(s){return s.length})),a}function V1e(){var r=Je(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function q1e(r){var e=Je(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function X1e(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,a=Je(i);return a.write_shift(2,r.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),a}function Q1e(r,e,t,n){var i=Je(10);return Rc(r,e,n,i),i.write_shift(4,t),i}function Z1e(r,e,t,n,i){var a=!i||i.biff==8,s=Je(8+ +a+(1+a)*t.length);return Rc(r,e,n,s),s.write_shift(2,t.length),a&&s.write_shift(1,1),s.write_shift((1+a)*t.length,t,a?"utf16le":"sbcs"),s}function J1e(r,e,t,n){var i=t&&t.biff==5;n||(n=Je(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function ebe(r,e){var t=e.biff==8||!e.biff?4:2,n=Je(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function NB(r,e,t,n){var i=t&&t.biff==5;n||(n=Je(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var a=0;return r.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function tbe(r){var e=Je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function rbe(r,e,t,n,i,a){var s=Je(8);return Rc(r,e,n,s),LG(t,a,s),s}function nbe(r,e,t,n){var i=Je(14);return Rc(r,e,n,i),Ic(t,i),i}function ibe(r,e,t){if(t.biff<8)return abe(r,e,t);for(var n=[],i=r.l+e,a=r.read_shift(t.biff>8?4:2);a--!==0;)n.push(G1e(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function abe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=MG(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function sbe(r){var e=Je(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)FG(r[t],e);return e}function obe(r){var e=Je(24),t=Bn(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return ni([e,H1e(r[1])])}function lbe(r){var e=r[1].Tooltip,t=Je(10+2*(e.length+1));t.write_shift(2,2048);var n=Bn(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function ube(r){return r||(r=Je(4)),r.write_shift(2,1),r.write_shift(2,1),r}function cbe(r,e,t){if(!t.cellStyles)return ro(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function fbe(r,e){var t=Je(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function hbe(r){for(var e=Je(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function dbe(r,e,t){var n=Je(15);return Fp(n,r,e),n.write_shift(8,t,"f"),n}function pbe(r,e,t){var n=Je(9);return Fp(n,r,e),n.write_shift(2,t),n}var mbe=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=uC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var u=[],c=Cc(1);switch(l.type){case"base64":c=ps(sl(o));break;case"binary":c=ps(o);break;case"buffer":case"array":c=o;break}ma(c,0);var h=c.read_shift(1),p=!!(h&136),m=!1,g=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var y=0,x=521;h==2&&(y=c.read_shift(2)),c.l+=3,h!=2&&(y=c.read_shift(4)),y>1048576&&(y=1e6),h!=2&&(x=c.read_shift(2));var E=c.read_shift(2),S=l.codepage||1252;h!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(S=r[c[c.l]]),c.l+=1,c.l+=2),g&&(c.l+=36);for(var w=[],T={},_=Math.min(c.length,h==2?521:x-10-(m?264:0)),O=g?32:11;c.l<_&&c[c.l]!=13;)switch(T={},T.name=Yy.utils.decode(S,c.slice(c.l,c.l+O)).replace(/[\u0000\r\n].*$/g,""),c.l+=O,T.type=String.fromCharCode(c.read_shift(1)),h!=2&&!g&&(T.offset=c.read_shift(4)),T.len=c.read_shift(1),h==2&&(T.offset=c.read_shift(2)),T.dec=c.read_shift(1),T.name.length&&w.push(T),h!=2&&(c.l+=g?13:14),T.type){case"B":(!m||T.len!=8)&&l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(c[c.l]!==13&&(c.l=x-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=x;var A=0,I=0;for(u[0]=[],I=0;I!=w.length;++I)u[0][I]=w[I].name;for(;y-- >0;){if(c[c.l]===42){c.l+=E;continue}for(++c.l,u[++A]=[],I=0,I=0;I!=w.length;++I){var k=c.slice(c.l,c.l+w[I].len);c.l+=w[I].len,ma(k,0);var N=Yy.utils.decode(S,k);switch(w[I].type){case"C":N.trim().length&&(u[A][I]=N.replace(/\s+$/,""));break;case"D":N.length===8?u[A][I]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):u[A][I]=N;break;case"F":u[A][I]=parseFloat(N.trim());break;case"+":case"I":u[A][I]=g?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":u[A][I]=!0;break;case"N":case"F":u[A][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[A][I]="##MEMO##"+(g?parseInt(N.trim(),10):k.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(u[A][I]=+N||0);break;case"@":u[A][I]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[A][I]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[A][I]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][I]=-k.read_shift(-8,"f");break;case"B":if(m&&w[I].len==8){u[A][I]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[I].len;break;case"0":if(w[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[I].type)}}}if(h!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=w,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Gh(t(o,u),u);return c["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,c}function i(o,l){try{return jc(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&$0(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=Vi(),h=ax(o,{header:1,raw:!0,cellDates:!0}),p=h[0],m=h.slice(1),g=o["!cols"]||[],y=0,x=0,E=0,S=1;for(y=0;y<p.length;++y){if(((g[y]||{}).DBF||{}).name){p[y]=g[y].DBF.name,++E;continue}if(p[y]!=null){if(++E,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(x=0;x<1024;++x)if(p.indexOf(p[y]+"_"+x)==-1){p[y]+="_"+x;break}}}}var w=Fr(o["!ref"]),T=[],_=[],O=[];for(y=0;y<=w.e.c-w.s.c;++y){var A="",I="",k=0,N=[];for(x=0;x<m.length;++x)m[x][y]!=null&&N.push(m[x][y]);if(N.length==0||p[y]==null){T[y]="?";continue}for(x=0;x<N.length;++x){switch(typeof N[x]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=N[x]instanceof Date?"D":"C";break;default:I="C"}k=Math.max(k,String(N[x]).length),A=A&&A!=I?"C":I}k>250&&(k=250),I=((g[y]||{}).DBF||{}).type,I=="C"&&g[y].DBF.len>k&&(k=g[y].DBF.len),A=="B"&&I=="N"&&(A="N",O[y]=g[y].DBF.dec,k=g[y].DBF.len),_[y]=A=="C"||I=="N"?k:a[A]||0,S+=_[y],T[y]=A}var B=c.next(32);for(B.write_shift(4,318902576),B.write_shift(4,m.length),B.write_shift(2,296+32*E),B.write_shift(2,S),y=0;y<4;++y)B.write_shift(4,0);for(B.write_shift(4,0|(+e[UH]||3)<<8),y=0,x=0;y<p.length;++y)if(p[y]!=null){var R=c.next(32),H=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,H,"sbcs"),R.write_shift(1,T[y]=="?"?"C":T[y],"sbcs"),R.write_shift(4,x),R.write_shift(1,_[y]||a[T[y]]||0),R.write_shift(1,O[y]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),x+=_[y]||a[T[y]]||0}var X=c.next(264);for(X.write_shift(4,13),y=0;y<65;++y)X.write_shift(4,0);for(y=0;y<m.length;++y){var Y=c.next(S);for(Y.write_shift(1,0),x=0;x<p.length;++x)if(p[x]!=null)switch(T[x]){case"L":Y.write_shift(1,m[y][x]==null?63:m[y][x]?84:70);break;case"B":Y.write_shift(8,m[y][x]||0,"f");break;case"N":var K="0";for(typeof m[y][x]=="number"&&(K=m[y][x].toFixed(O[x]||0)),E=0;E<_[x]-K.length;++E)Y.write_shift(1,32);Y.write_shift(1,K,"sbcs");break;case"D":m[y][x]?(Y.write_shift(4,("0000"+m[y][x].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(m[y][x].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+m[y][x].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[y][x]!=null?m[y][x]:"").slice(0,_[x]);for(Y.write_shift(1,z,"sbcs"),E=0;E<_[x]-z.length;++E)Y.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),gbe=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+oi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,m){var g=r[m];return typeof g=="number"?sB(g):g},n=function(p,m,g){var y=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return y==59?p:sB(y)};r["|"]=254;function i(p,m){switch(m.type){case"base64":return a(sl(p),m);case"binary":return a(p,m);case"buffer":return a(ar&&Buffer.isBuffer(p)?p.toString("binary"):kp(p),m);case"array":return a(_1(p),m)}throw new Error("Unrecognized type "+m.type)}function a(p,m){var g=p.split(/[\n\r]+/),y=-1,x=-1,E=0,S=0,w=[],T=[],_=null,O={},A=[],I=[],k=[],N=0,B;for(+m.codepage>=0&&$0(+m.codepage);E!==g.length;++E){N=0;var R=g[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),H=R.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),X=H[0],Y;if(R.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&T.push(R.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,z=!1,Q=!1,se=!1,ae=-1,W=-1;for(S=1;S<H.length;++S)switch(H[S].charAt(0)){case"A":break;case"X":x=parseInt(H[S].slice(1))-1,z=!0;break;case"Y":for(y=parseInt(H[S].slice(1))-1,z||(x=0),B=w.length;B<=y;++B)w[B]=[];break;case"K":Y=H[S].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(Vo(Y))?isNaN(G0(Y).getDate())||(Y=Ci(Y)):(Y=Vo(Y),_!==null&&QH(_)&&(Y=tG(Y))),K=!0;break;case"E":se=!0;var M=pSe(H[S].slice(1),{r:y,c:x});w[y][x]=[w[y][x],M];break;case"S":Q=!0,w[y][x]=[w[y][x],"S5S"];break;case"G":break;case"R":ae=parseInt(H[S].slice(1))-1;break;case"C":W=parseInt(H[S].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+R)}if(K&&(w[y][x]&&w[y][x].length==2?w[y][x][0]=Y:w[y][x]=Y,_=null),Q){if(se)throw new Error("SYLK shared formula cannot have own formula");var V=ae>-1&&w[ae][W];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");w[y][x][1]=mSe(V[1],{r:y-ae,c:x-W})}break;case"F":var ee=0;for(S=1;S<H.length;++S)switch(H[S].charAt(0)){case"X":x=parseInt(H[S].slice(1))-1,++ee;break;case"Y":for(y=parseInt(H[S].slice(1))-1,B=w.length;B<=y;++B)w[B]=[];break;case"M":N=parseInt(H[S].slice(1))/20;break;case"F":break;case"G":break;case"P":_=T[parseInt(H[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=H[S].slice(1).split(" "),B=parseInt(k[0],10);B<=parseInt(k[1],10);++B)N=parseInt(k[2],10),I[B-1]=N===0?{hidden:!0}:{wch:N},SC(I[B-1]);break;case"C":x=parseInt(H[S].slice(1))-1,I[x]||(I[x]={});break;case"R":y=parseInt(H[S].slice(1))-1,A[y]||(A[y]={}),N>0?(A[y].hpt=N,A[y].hpx=HG(N)):N===0&&(A[y].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+R)}ee<1&&(_=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+R)}}return A.length>0&&(O["!rows"]=A),I.length>0&&(O["!cols"]=I),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,O]}function s(p,m){var g=i(p,m),y=g[0],x=g[1],E=Gh(y,m);return oi(x).forEach(function(S){E[S]=x[S]}),E}function o(p,m){return jc(s(p,m),m)}function l(p,m,g,y){var x="C;Y"+(g+1)+";X"+(y+1)+";K";switch(p.t){case"n":x+=p.v||0,p.f&&!p.F&&(x+=";E"+wC(p.f,{r:g,c:y}));break;case"b":x+=p.v?"TRUE":"FALSE";break;case"e":x+=p.w||p.v;break;case"d":x+='"'+(p.w||p.v)+'"';break;case"s":x+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(p,m){m.forEach(function(g,y){var x="F;W"+(y+1)+" "+(y+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=tx(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=rx(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&p.push(x)})}function c(p,m){m.forEach(function(g,y){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*nx(g.hpx)+";"),x.length>2&&p.push(x+"R"+(y+1))})}function h(p,m){var g=["ID;PWXL;N;E"],y=[],x=Fr(p["!ref"]),E,S=Array.isArray(p),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),p["!cols"]&&u(g,p["!cols"]),p["!rows"]&&c(g,p["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var T=x.s.r;T<=x.e.r;++T)for(var _=x.s.c;_<=x.e.c;++_){var O=gr({r:T,c:_});E=S?(p[T]||[])[_]:p[O],!(!E||E.v==null&&(!E.f||E.F))&&y.push(l(E,p,T,_))}return g.join(w)+w+y.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:h}})(),vbe=(function(){function r(a,s){switch(s.type){case"base64":return e(sl(a),s);case"binary":return e(a,s);case"buffer":return e(ar&&Buffer.isBuffer(a)?a.toString("binary"):kp(a),s);case"array":return e(_1(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,h=[];c!==o.length;++c){if(o[c].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var p=o[c].trim().split(","),m=p[0],g=p[1];++c;for(var y=o[c]||"";(y.match(/["]/g)||[]).length&1&&c<o.length-1;)y+=`
`+o[++c];switch(y=y.trim(),+m){case-1:if(y==="BOT"){h[++l]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?h[l][u]=!0:y==="FALSE"?h[l][u]=!1:isNaN(Vo(g))?isNaN(G0(g).getDate())?h[l][u]=g:h[l][u]=Ci(g):h[l][u]=Vo(g),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),h[l][u++]=y!==""?y:null;break}if(y==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function t(a,s){return Gh(r(a,s),s)}function n(a,s){return jc(t(a,s),s)}var i=(function(){var a=function(l,u,c,h,p){l.push(u),l.push(c+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},s=function(l,u,c,h){l.push(u+","+c),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],c=Fr(l["!ref"]),h,p=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var m=c.s.r;m<=c.e.r;++m){s(u,-1,0,"BOT");for(var g=c.s.c;g<=c.e.c;++g){var y=gr({r:m,c:g});if(h=p?(l[m]||[])[g]:l[y],!h){s(u,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=xu(h.z||en[14],qi(Ci(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var E=`\r
`,S=u.join(E);return S}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),BG=(function(){function r(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(h,p){for(var m=h.split(`
`),g=-1,y=-1,x=0,E=[];x!==m.length;++x){var S=m[x].trim().split(":");if(S[0]==="cell"){var w=Bn(S[1]);if(E.length<=w.r)for(g=E.length;g<=w.r;++g)E[g]||(E[g]=[]);switch(g=w.r,y=w.c,S[2]){case"t":E[g][y]=r(S[3]);break;case"v":E[g][y]=+S[3];break;case"vtf":var T=S[S.length-1];case"vtc":switch(S[3]){case"nl":E[g][y]=!!+S[4];break;default:E[g][y]=+S[4];break}S[2]=="vtf"&&(E[g][y]=[E[g][y],T])}}}return p&&p.sheetRows&&(E=E.slice(0,p.sheetRows)),E}function n(h,p){return Gh(t(h,p),p)}function i(h,p){return jc(n(h,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var p=[],m=[],g,y="",x=Da(h["!ref"]),E=Array.isArray(h),S=x.s.r;S<=x.e.r;++S)for(var w=x.s.c;w<=x.e.c;++w)if(y=gr({r:S,c:w}),g=E?(h[S]||[])[w]:h[y],!(!g||g.v==null||g.t==="z")){switch(m=["cell",y,"t"],g.t){case"s":case"str":m.push(e(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=e(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var T=qi(Ci(g.v));m[2]="vtc",m[3]="nd",m[4]=""+T,m[5]=g.w||xu(g.z||en[14],T);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function c(h){return[a,s,o,s,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}})(),ybe=(function(){function r(c,h,p,m,g){g.raw?h[p][m]=c:c===""||(c==="TRUE"?h[p][m]=!0:c==="FALSE"?h[p][m]=!1:isNaN(Vo(c))?isNaN(G0(c).getDate())?h[p][m]=c:h[p][m]=Ci(c):h[p][m]=Vo(c))}function e(c,h){var p=h||{},m=[];if(!c||c.length===0)return m;for(var g=c.split(/[\r\n]/),y=g.length-1;y>=0&&g[y].length===0;)--y;for(var x=10,E=0,S=0;S<=y;++S)E=g[S].indexOf(" "),E==-1?E=g[S].length:E++,x=Math.max(x,E);for(S=0;S<=y;++S){m[S]=[];var w=0;for(r(g[S].slice(0,x).trim(),m,S,w,p),w=1;w<=(g[S].length-x)/10+1;++w)r(g[S].slice(x+(w-1)*10,x+w*10).trim(),m,S,w,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var h={},p=!1,m=0,g=0;m<c.length;++m)(g=c.charCodeAt(m))==34?p=!p:!p&&g in t&&(h[g]=(h[g]||0)+1);g=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&g.push([h[m],m]);if(!g.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&g.push([h[m],m])}return g.sort(function(y,x){return y[0]-x[0]||n[y[1]]-n[x[1]]}),t[g.pop()[1]]||44}function a(c,h){var p=h||{},m="",g=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(m=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(m=c.charAt(4),c=c.slice(6)):m=i(c.slice(0,1024)):p&&p.FS?m=p.FS:m=i(c.slice(0,1024));var x=0,E=0,S=0,w=0,T=0,_=m.charCodeAt(0),O=!1,A=0,I=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var k=p.dateNF!=null?Lxe(p.dateNF):null;function N(){var B=c.slice(w,T),R={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)R.t="z";else if(p.raw)R.t="s",R.v=B;else if(B.trim().length===0)R.t="s",R.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(R.t="s",R.v=B.slice(2,-1).replace(/""/g,'"')):gSe(B)?(R.t="n",R.f=B.slice(1)):(R.t="s",R.v=B);else if(B=="TRUE")R.t="b",R.v=!0;else if(B=="FALSE")R.t="b",R.v=!1;else if(!isNaN(S=Vo(B)))R.t="n",p.cellText!==!1&&(R.w=B),R.v=S;else if(!isNaN(G0(B).getDate())||k&&B.match(k)){R.z=p.dateNF||en[14];var H=0;k&&B.match(k)&&(B=Mxe(B,p.dateNF,B.match(k)||[]),H=1),p.cellDates?(R.t="d",R.v=Ci(B,H)):(R.t="n",R.v=qi(Ci(B,H))),p.cellText!==!1&&(R.w=xu(R.z,R.v instanceof Date?qi(R.v):R.v)),p.cellNF||delete R.z}else R.t="s",R.v=B;if(R.t=="z"||(p.dense?(g[x]||(g[x]=[]),g[x][E]=R):g[gr({c:E,r:x})]=R),w=T+1,I=c.charCodeAt(w),y.e.c<E&&(y.e.c=E),y.e.r<x&&(y.e.r=x),A==_)++E;else if(E=0,++x,p.sheetRows&&p.sheetRows<=x)return!0}e:for(;T<c.length;++T)switch(A=c.charCodeAt(T)){case 34:I===34&&(O=!O);break;case _:case 10:case 13:if(!O&&N())break e;break}return T-w>0&&N(),g["!ref"]=yn(y),g}function s(c,h){return!(h&&h.PRN)||h.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,h):Gh(e(c,h),h)}function o(c,h){var p="",m=h.type=="string"?[0,0,0,0]:ITe(c,h);switch(h.type){case"base64":p=sl(c);break;case"binary":p=c;break;case"buffer":h.codepage==65001?p=c.toString("utf8"):h.codepage&&typeof Yy<"u"||(p=ar&&Buffer.isBuffer(c)?c.toString("binary"):kp(c));break;case"array":p=_1(c);break;case"string":p=c;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=f0(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=f0(p):h.type=="binary"&&typeof Yy<"u",p.slice(0,19)=="socialcalc:version:"?BG.to_sheet(h.type=="string"?p:f0(p),h):s(p,h)}function l(c,h){return jc(o(c,h),h)}function u(c){for(var h=[],p=Fr(c["!ref"]),m,g=Array.isArray(c),y=p.s.r;y<=p.e.r;++y){for(var x=[],E=p.s.c;E<=p.e.c;++E){var S=gr({r:y,c:E});if(m=g?(c[y]||[])[E]:c[S],!m||m.v==null){x.push("          ");continue}for(var w=(m.w||(ol(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(E===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})(),FB=(function(){function r(M,V,ee){if(M){ma(M,M.l||0);for(var Z=ee.Enum||ae;M.l<M.length;){var me=M.read_shift(2),ue=Z[me]||Z[65535],q=M.read_shift(2),te=M.l+q,re=ue.f&&ue.f(M,q,ee);if(M.l=te,V(re,ue,me))return}}}function e(M,V){switch(V.type){case"base64":return t(ps(sl(M)),V);case"binary":return t(ps(M),V);case"buffer":case"array":return t(M,V)}throw"Unsupported type "+V.type}function t(M,V){if(!M)return M;var ee=V||{},Z=ee.dense?[]:{},me="Sheet1",ue="",q=0,te={},re=[],pe=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Oe=ee.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)ee.Enum=ae,r(M,function(ye,Ie,$e){switch($e){case 0:ee.vers=ye,ye>=4096&&(ee.qpro=!0);break;case 6:ne=ye;break;case 204:ye&&(ue=ye);break;case 222:ue=ye;break;case 15:case 51:ee.qpro||(ye[1].v=ye[1].v.slice(1));case 13:case 14:case 16:$e==14&&(ye[2]&112)==112&&(ye[2]&15)>1&&(ye[2]&15)<15&&(ye[1].z=ee.dateNF||en[14],ee.cellDates&&(ye[1].t="d",ye[1].v=tG(ye[1].v))),ee.qpro&&ye[3]>q&&(Z["!ref"]=yn(ne),te[me]=Z,re.push(me),Z=ee.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},q=ye[3],me=ue||"Sheet"+(q+1),ue="");var Ge=ee.dense?(Z[ye[0].r]||[])[ye[0].c]:Z[gr(ye[0])];if(Ge){Ge.t=ye[1].t,Ge.v=ye[1].v,ye[1].z!=null&&(Ge.z=ye[1].z),ye[1].f!=null&&(Ge.f=ye[1].f);break}ee.dense?(Z[ye[0].r]||(Z[ye[0].r]=[]),Z[ye[0].r][ye[0].c]=ye[1]):Z[gr(ye[0])]=ye[1];break}},ee);else if(M[2]==26||M[2]==14)ee.Enum=W,M[2]==14&&(ee.qpro=!0,M.l=0),r(M,function(ye,Ie,$e){switch($e){case 204:me=ye;break;case 22:ye[1].v=ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ye[3]>q&&(Z["!ref"]=yn(ne),te[me]=Z,re.push(me),Z=ee.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},q=ye[3],me="Sheet"+(q+1)),Oe>0&&ye[0].r>=Oe)break;ee.dense?(Z[ye[0].r]||(Z[ye[0].r]=[]),Z[ye[0].r][ye[0].c]=ye[1]):Z[gr(ye[0])]=ye[1],ne.e.c<ye[0].c&&(ne.e.c=ye[0].c),ne.e.r<ye[0].r&&(ne.e.r=ye[0].r);break;case 27:ye[14e3]&&(pe[ye[14e3][0]]=ye[14e3][1]);break;case 1537:pe[ye[0]]=ye[1],ye[0]==q&&(me=ye[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(Z["!ref"]=yn(ne),te[ue||me]=Z,re.push(ue||me),!pe.length)return{SheetNames:re,Sheets:te};for(var be={},fe=[],he=0;he<pe.length;++he)te[re[he]]?(fe.push(pe[he]||re[he]),be[pe[he]]=te[pe[he]]||te[re[he]]):(fe.push(pe[he]),be[pe[he]]={"!ref":"A1"});return{SheetNames:fe,Sheets:be}}function n(M,V){var ee=V||{};if(+ee.codepage>=0&&$0(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=Vi(),me=Fr(M["!ref"]),ue=Array.isArray(M),q=[];pt(Z,0,a(1030)),pt(Z,6,l(me));for(var te=Math.min(me.e.r,8191),re=me.s.r;re<=te;++re)for(var pe=si(re),ne=me.s.c;ne<=me.e.c;++ne){re===me.s.r&&(q[ne]=vi(ne));var Oe=q[ne]+pe,be=ue?(M[re]||[])[ne]:M[Oe];if(!(!be||be.t=="z"))if(be.t=="n")(be.v|0)==be.v&&be.v>=-32768&&be.v<=32767?pt(Z,13,m(re,ne,be.v)):pt(Z,14,y(re,ne,be.v));else{var fe=ol(be);pt(Z,15,h(re,ne,fe.slice(0,239)))}}return pt(Z,1),Z.end()}function i(M,V){var ee=V||{};if(+ee.codepage>=0&&$0(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=Vi();pt(Z,0,s(M));for(var me=0,ue=0;me<M.SheetNames.length;++me)(M.Sheets[M.SheetNames[me]]||{})["!ref"]&&pt(Z,27,se(M.SheetNames[me],ue++));var q=0;for(me=0;me<M.SheetNames.length;++me){var te=M.Sheets[M.SheetNames[me]];if(!(!te||!te["!ref"])){for(var re=Fr(te["!ref"]),pe=Array.isArray(te),ne=[],Oe=Math.min(re.e.r,8191),be=re.s.r;be<=Oe;++be)for(var fe=si(be),he=re.s.c;he<=re.e.c;++he){be===re.s.r&&(ne[he]=vi(he));var ye=ne[he]+fe,Ie=pe?(te[be]||[])[he]:te[ye];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")pt(Z,23,N(be,he,q,Ie.v));else{var $e=ol(Ie);pt(Z,22,A(be,he,q,$e.slice(0,239)))}}++q}}return pt(Z,1),Z.end()}function a(M){var V=Je(2);return V.write_shift(2,M),V}function s(M){var V=Je(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var ee=0,Z=0,me=0,ue=0;ue<M.SheetNames.length;++ue){var q=M.SheetNames[ue],te=M.Sheets[q];if(!(!te||!te["!ref"])){++me;var re=Da(te["!ref"]);ee<re.e.r&&(ee=re.e.r),Z<re.e.c&&(Z=re.e.c)}}return ee>8191&&(ee=8191),V.write_shift(2,ee),V.write_shift(1,me),V.write_shift(1,Z),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function o(M,V,ee){var Z={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&ee.qpro?(Z.s.c=M.read_shift(1),M.l++,Z.s.r=M.read_shift(2),Z.e.c=M.read_shift(1),M.l++,Z.e.r=M.read_shift(2),Z):(Z.s.c=M.read_shift(2),Z.s.r=M.read_shift(2),V==12&&ee.qpro&&(M.l+=2),Z.e.c=M.read_shift(2),Z.e.r=M.read_shift(2),V==12&&ee.qpro&&(M.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function l(M){var V=Je(8);return V.write_shift(2,M.s.c),V.write_shift(2,M.s.r),V.write_shift(2,M.e.c),V.write_shift(2,M.e.r),V}function u(M,V,ee){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(Z[0].c=M.read_shift(1),Z[3]=M.read_shift(1),Z[0].r=M.read_shift(2),M.l+=2):(Z[2]=M.read_shift(1),Z[0].c=M.read_shift(2),Z[0].r=M.read_shift(2)),Z}function c(M,V,ee){var Z=M.l+V,me=u(M,V,ee);if(me[1].t="s",ee.vers==20768){M.l++;var ue=M.read_shift(1);return me[1].v=M.read_shift(ue,"utf8"),me}return ee.qpro&&M.l++,me[1].v=M.read_shift(Z-M.l,"cstr"),me}function h(M,V,ee){var Z=Je(7+ee.length);Z.write_shift(1,255),Z.write_shift(2,V),Z.write_shift(2,M),Z.write_shift(1,39);for(var me=0;me<Z.length;++me){var ue=ee.charCodeAt(me);Z.write_shift(1,ue>=128?95:ue)}return Z.write_shift(1,0),Z}function p(M,V,ee){var Z=u(M,V,ee);return Z[1].v=M.read_shift(2,"i"),Z}function m(M,V,ee){var Z=Je(7);return Z.write_shift(1,255),Z.write_shift(2,V),Z.write_shift(2,M),Z.write_shift(2,ee,"i"),Z}function g(M,V,ee){var Z=u(M,V,ee);return Z[1].v=M.read_shift(8,"f"),Z}function y(M,V,ee){var Z=Je(13);return Z.write_shift(1,255),Z.write_shift(2,V),Z.write_shift(2,M),Z.write_shift(8,ee,"f"),Z}function x(M,V,ee){var Z=M.l+V,me=u(M,V,ee);if(me[1].v=M.read_shift(8,"f"),ee.qpro)M.l=Z;else{var ue=M.read_shift(2);T(M.slice(M.l,M.l+ue),me),M.l+=ue}return me}function E(M,V,ee){var Z=V&32768;return V&=-32769,V=(Z?M:0)+(V>=8192?V-16384:V),(Z?"":"$")+(ee?vi(V):si(V))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(M,V){ma(M,0);for(var ee=[],Z=0,me="",ue="",q="",te="";M.l<M.length;){var re=M[M.l++];switch(re){case 0:ee.push(M.read_shift(8,"f"));break;case 1:ue=E(V[0].c,M.read_shift(2),!0),me=E(V[0].r,M.read_shift(2),!1),ee.push(ue+me);break;case 2:{var pe=E(V[0].c,M.read_shift(2),!0),ne=E(V[0].r,M.read_shift(2),!1);ue=E(V[0].c,M.read_shift(2),!0),me=E(V[0].r,M.read_shift(2),!1),ee.push(pe+ne+":"+ue+me)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(M.read_shift(2));break;case 6:{for(var Oe="";re=M[M.l++];)Oe+=String.fromCharCode(re);ee.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:te=ee.pop(),q=ee.pop(),ee.push(["AND","OR"][re-20]+"("+q+","+te+")");break;default:if(re<32&&w[re])te=ee.pop(),q=ee.pop(),ee.push(q+w[re]+te);else if(S[re]){if(Z=S[re][1],Z==69&&(Z=M[M.l++]),Z>ee.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+ee.join("|")+"|");return}var be=ee.slice(-Z);ee.length-=Z,ee.push(S[re][0]+"("+be.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}ee.length==1?V[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function _(M){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=M.read_shift(2),V[3]=M[M.l++],V[0].c=M[M.l++],V}function O(M,V){var ee=_(M);return ee[1].t="s",ee[1].v=M.read_shift(V-4,"cstr"),ee}function A(M,V,ee,Z){var me=Je(6+Z.length);me.write_shift(2,M),me.write_shift(1,ee),me.write_shift(1,V),me.write_shift(1,39);for(var ue=0;ue<Z.length;++ue){var q=Z.charCodeAt(ue);me.write_shift(1,q>=128?95:q)}return me.write_shift(1,0),me}function I(M,V){var ee=_(M);ee[1].v=M.read_shift(2);var Z=ee[1].v>>1;if(ee[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return ee[1].v=Z,ee}function k(M,V){var ee=_(M),Z=M.read_shift(4),me=M.read_shift(4),ue=M.read_shift(2);if(ue==65535)return Z===0&&me===3221225472?(ee[1].t="e",ee[1].v=15):Z===0&&me===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var q=ue&32768;return ue=(ue&32767)-16446,ee[1].v=(1-q*2)*(me*Math.pow(2,ue+32)+Z*Math.pow(2,ue)),ee}function N(M,V,ee,Z){var me=Je(14);if(me.write_shift(2,M),me.write_shift(1,ee),me.write_shift(1,V),Z==0)return me.write_shift(4,0),me.write_shift(4,0),me.write_shift(2,65535),me;var ue=0,q=0,te=0,re=0;return Z<0&&(ue=1,Z=-Z),q=Math.log2(Z)|0,Z/=Math.pow(2,q-31),re=Z>>>0,(re&2147483648)==0&&(Z/=2,++q,re=Z>>>0),Z-=re,re|=2147483648,re>>>=0,Z*=Math.pow(2,32),te=Z>>>0,me.write_shift(4,te),me.write_shift(4,re),q+=16383+(ue?32768:0),me.write_shift(2,q),me}function B(M,V){var ee=k(M);return M.l+=V-14,ee}function R(M,V){var ee=_(M),Z=M.read_shift(4);return ee[1].v=Z>>6,ee}function H(M,V){var ee=_(M),Z=M.read_shift(8,"f");return ee[1].v=Z,ee}function X(M,V){var ee=H(M);return M.l+=V-10,ee}function Y(M,V){return M[M.l+V-1]==0?M.read_shift(V,"cstr"):""}function K(M,V){var ee=M[M.l++];ee>V-1&&(ee=V-1);for(var Z="";Z.length<ee;)Z+=String.fromCharCode(M[M.l++]);return Z}function z(M,V,ee){if(!(!ee.qpro||V<21)){var Z=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var me=M.read_shift(V-21,"cstr");return[Z,me]}}function Q(M,V){for(var ee={},Z=M.l+V;M.l<Z;){var me=M.read_shift(2);if(me==14e3){for(ee[me]=[0,""],ee[me][0]=M.read_shift(2);M[M.l];)ee[me][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return ee}function se(M,V){var ee=Je(5+M.length);ee.write_shift(2,14e3),ee.write_shift(2,V);for(var Z=0;Z<M.length;++Z){var me=M.charCodeAt(Z);ee[ee.l++]=me>127?95:me}return ee[ee.l++]=0,ee}var ae={0:{n:"BOF",f:PG},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),xbe=/^\s|\s$|[\t\n\r]/;function UG(r,e){if(!e.bookSST)return"";var t=[bn];t[t.length]=ht("sst",null,{xmlns:Hh[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(xbe)&&(a+=' xml:space="preserve"'),a+=">"+mr(i.t)+"</t>"),a+="</si>",t[t.length]=a}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function bbe(r){return[r.read_shift(4),r.read_shift(4)]}function Sbe(r,e){return e||(e=Je(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var Ebe=h1e;function wbe(r){var e=Vi();at(e,159,Sbe(r));for(var t=0;t<r.length;++t)at(e,19,Ebe(r[t]));return at(e,160),e.end()}function _be(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function jG(r){var e=0,t,n=_be(r),i=n.length+1,a,s,o,l,u;for(t=Cc(i),t[0]=n.length,a=1;a!=i;++a)t[a]=n[a-1];for(a=i-1;a>=0;--a)s=t[a],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var Tbe=(function(){function r(i,a){switch(a.type){case"base64":return e(sl(i),a);case"binary":return e(i,a);case"buffer":return e(ar&&Buffer.isBuffer(i)?i.toString("binary"):kp(i),a);case"array":return e(_1(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,m=0,g,y=-1;g=p.exec(c);){switch(g[0]){case"\\cell":var x=c.slice(m,p.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++y,x.length){var E={v:x,t:"s"};Array.isArray(o)?o[h][y]=E:o[gr({r:h,c:y})]=E}break}m=p.lastIndex}y>u.e.c&&(u.e.c=y)}),o["!ref"]=yn(u),o}function t(i,a){return jc(r(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Fr(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var h=gr({r:u,c});o=l?(i[u]||[])[c]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(ol(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function BB(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var Abe=6,qo=Abe;function tx(r){return Math.floor((r+Math.round(128/qo)/256)*qo)}function rx(r){return Math.floor((r-5)/qo*100+.5)/100}function A2(r){return Math.round((r*qo+5)/qo*256)/256}function SC(r){r.width?(r.wpx=tx(r.width),r.wch=rx(r.wpx),r.MDW=qo):r.wpx?(r.wch=rx(r.wpx),r.width=A2(r.wch),r.MDW=qo):typeof r.wch=="number"&&(r.width=A2(r.wch),r.wpx=tx(r.width),r.MDW=qo),r.customWidth&&delete r.customWidth}var Dbe=96,$G=Dbe;function nx(r){return r*96/$G}function HG(r){return r*$G/96}function Obe(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=ht("numFmt",null,{numFmtId:n,formatCode:mr(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ht("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Cbe(r){var e=[];return e[e.length]=ht("cellXfs",null),r.forEach(function(t){e[e.length]=ht("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ht("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function GG(r,e){var t=[bn,ht("styleSheet",null,{xmlns:Hh[0],"xmlns:vt":Fn.vt})],n;return r.SSF&&(n=Obe(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Cbe(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function Ibe(r,e){var t=r.read_shift(2),n=yi(r);return[t,n]}function Rbe(r,e,t){t||(t=Je(6+4*e.length)),t.write_shift(2,r),Un(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function kbe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=x1e(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=y1e(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=yi(r),n}function Pbe(r,e){e||(e=Je(153)),e.write_shift(2,r.sz*20),b1e(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Jy(r.color,e);var n=0;return n=2,e.write_shift(1,n),Un(r.name,e),e.length>e.l?e.slice(0,e.l):e}var Lbe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Uw,Mbe=ro;function UB(r,e){e||(e=Je(84)),Uw||(Uw=uC(Lbe));var t=Uw[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(Jy({auto:1},e),Jy({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Nbe(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function WG(r,e,t){t||(t=Je(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function qd(r,e){return e||(e=Je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Fbe=ro;function Bbe(r,e){return e||(e=Je(51)),e.write_shift(1,0),qd(null,e),qd(null,e),qd(null,e),qd(null,e),qd(null,e),e.length>e.l?e.slice(0,e.l):e}function Ube(r,e){return e||(e=Je(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Zy(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function jbe(r,e,t){var n=Je(2052);return n.write_shift(4,r),Zy(e,n),Zy(t,n),n.length>n.l?n.slice(0,n.l):n}function $be(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(at(r,615,bs(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&at(r,44,Rbe(i,e[i]))}),at(r,616))}}function Hbe(r){var e=1;at(r,611,bs(e)),at(r,43,Pbe({sz:12,color:{theme:1},name:"Calibri",family:2})),at(r,612)}function Gbe(r){var e=2;at(r,603,bs(e)),at(r,45,UB({patternType:"none"})),at(r,45,UB({patternType:"gray125"})),at(r,604)}function Wbe(r){var e=1;at(r,613,bs(e)),at(r,46,Bbe()),at(r,614)}function Kbe(r){var e=1;at(r,626,bs(e)),at(r,47,WG({numFmtId:0},65535)),at(r,627)}function Ybe(r,e){at(r,617,bs(e.length)),e.forEach(function(t){at(r,47,WG(t,0))}),at(r,618)}function zbe(r){var e=1;at(r,619,bs(e)),at(r,48,Ube({xfId:0,name:"Normal"})),at(r,620)}function Vbe(r){var e=0;at(r,505,bs(e)),at(r,506)}function qbe(r){var e=0;at(r,508,jbe(e,"TableStyleMedium9","PivotStyleMedium4")),at(r,509)}function Xbe(r,e){var t=Vi();return at(t,278),$be(t,r.SSF),Hbe(t),Gbe(t),Wbe(t),Kbe(t),Ybe(t,e.cellXfs),zbe(t),Vbe(t),qbe(t),at(t,279),t.end()}function KG(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[bn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Qbe(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:yi(r)}}function Zbe(r){var e=Je(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Un(r.name,e),e.slice(0,e.l)}function Jbe(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function eSe(r){var e=Je(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function tSe(r,e){var t=Je(8+2*e.length);return t.write_shift(4,r),Un(e,t),t.slice(0,t.l)}function rSe(r){return r.l+=4,r.read_shift(4)!=0}function nSe(r,e){var t=Je(8);return t.write_shift(4,r),t.write_shift(4,1),t}function iSe(){var r=Vi();return at(r,332),at(r,334,bs(1)),at(r,335,Zbe({name:"XLDAPR",version:12e4,flags:3496657072})),at(r,336),at(r,339,tSe(1,"XLDAPR")),at(r,52),at(r,35,bs(514)),at(r,4096,bs(0)),at(r,4097,Wa(1)),at(r,36),at(r,53),at(r,340),at(r,337,nSe(1)),at(r,51,eSe([[1,0]])),at(r,338),at(r,333),r.end()}function YG(){var r=[bn];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function aSe(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=gr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var zf=1024;function zG(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ht("xml",null,{"xmlns:v":ga.v,"xmlns:o":ga.o,"xmlns:x":ga.x,"xmlns:mv":ga.mv}).replace(/\/>/,">"),ht("o:shapelayout",ht("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),ht("v:shapetype",[ht("v:stroke",null,{joinstyle:"miter"}),ht("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];zf<r*1e3;)zf+=1e3;return e.forEach(function(a){var s=Bn(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ht("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ht("v:fill",l,o),c={on:"t",obscured:"t"};++zf,i=i.concat(["<v:shape"+K0({id:"_x0000_s"+zf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ht("v:shadow",null,c),ht("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ii("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ii("x:AutoFill","False"),ii("x:Row",String(s.r)),ii("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function VG(r){var e=[bn,ht("comments",null,{xmlns:Hh[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var a=mr(i.a);t.indexOf(a)==-1&&(t.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=t.indexOf(mr(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(ii("t",mr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(ii("t",mr(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function sSe(r,e,t){var n=[bn,ht("ThreadedComments",null,{xmlns:Fn.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(ht("threadedComment",ii("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function oSe(r){var e=[bn,ht("personList",null,{xmlns:Fn.TCMNT,"xmlns:x":Hh[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(ht("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function lSe(r){var e={};e.iauthor=r.read_shift(4);var t=Wc(r);return e.rfx=t.s,e.ref=gr(t.s),r.l+=16,e}function uSe(r,e){return e==null&&(e=Je(36)),e.write_shift(4,r[1].iauthor),Wh(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var cSe=yi;function fSe(r){return Un(r.slice(0,54))}function hSe(r){var e=Vi(),t=[];return at(e,628),at(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),at(e,632,fSe(i.a)))})}),at(e,631),at(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var a={s:Bn(n[0]),e:Bn(n[0])};at(e,635,uSe([a,i])),i.t&&i.t.length>0&&at(e,637,p1e(i)),at(e,636),delete i.iauthor})}),at(e,634),at(e,629),e.end()}function dSe(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Sr.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var qG=["xlsb","xlsm","xlam","biff8","xla"],pSe=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+vi(c)+(l?"":"$")+si(u)}return function(i,a){return e=a,i.replace(r,t)}})(),EC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wC=(function(){return function(e,t){return e.replace(EC,function(n,i,a,s,o,l){var u=gC(s)-(a?0:t.c),c=mC(l)-(o?0:t.r),h=c==0?"":o?c+1:"["+c+"]",p=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+p})}})();function mSe(r,e){return r.replace(EC,function(t,n,i,a,s,o){return n+(i=="$"?i+a:vi(gC(a)+e.c))+(s=="$"?s+o:si(mC(o)+e.r))})}function gSe(r){return r.length!=1}function mn(r){r.l+=1}function bu(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function XG(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return QG(r);t.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=bu(r),o=bu(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function QG(r){var e=bu(r),t=bu(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function vSe(r,e,t){if(t.biff<8)return QG(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),a=bu(r),s=bu(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function ZG(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return ySe(r);var n=r.read_shift(t&&t.biff==12?4:2),i=bu(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function ySe(r){var e=bu(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function xSe(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function bSe(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return SSe(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function SSe(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function ESe(r,e,t){var n=(r[r.l++]&96)>>5,i=XG(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function wSe(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=XG(r,a,t);return[n,i,s]}function _Se(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function TSe(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function ASe(r,e,t){var n=(r[r.l++]&96)>>5,i=vSe(r,e-1,t);return[n,i]}function DSe(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function jB(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function OSe(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function CSe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function ISe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function RSe(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function kSe(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function JG(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function PSe(r){return r.read_shift(2),JG(r)}function LSe(r){return r.read_shift(2),JG(r)}function MSe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=ZG(r,0,t);return[n,i]}function NSe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=bSe(r,0,t);return[n,i]}function FSe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var a=ZG(r,0,t);return[n,i,a]}function BSe(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[BEe[i],rW[i],n]}function USe(r,e,t){var n=r[r.l++],i=r.read_shift(1),a=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:jSe(r);return[i,(a[0]===0?rW:FEe)[a[1]]]}function jSe(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function $Se(r,e,t){r.l+=t&&t.biff==2?3:4}function HSe(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function GSe(r){return r.l++,Mp[r.read_shift(1)]}function WSe(r){return r.l++,r.read_shift(2)}function KSe(r){return r.l++,r.read_shift(1)!==0}function YSe(r){return r.l++,Kh(r)}function zSe(r,e,t){return r.l++,MG(r,e-1,t)}function VSe(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=F1e(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Mp[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Kh(r);break;case 2:t[1]=$1e(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function qSe(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((t.biff==12?Wc:W1e)(r));return i}function XSe(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=VSe(r,t.biff);return s}function QSe(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function ZSe(r,e,t){if(t.biff==5)return JSe(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function JSe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function eEe(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function tEe(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function rEe(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function nEe(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var iEe=ro,aEe=ro,sEe=ro;function Np(r,e,t){return r.l+=2,[xSe(r)]}function _C(r){return r.l+=6,[]}var oEe=Np,lEe=_C,uEe=_C,cEe=Np;function eW(r){return r.l+=2,[PG(r),r.read_shift(2)&1]}var fEe=Np,hEe=eW,dEe=_C,pEe=Np,mEe=Np,gEe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vEe(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=gEe[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:i,C:a}}function yEe(r){return r.l+=2,[r.read_shift(4)]}function xEe(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function bEe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function SEe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function EEe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function wEe(r){return r.l+=4,[0,0]}var $B={1:{n:"PtgExp",f:HSe},2:{n:"PtgTbl",f:sEe},3:{n:"PtgAdd",f:mn},4:{n:"PtgSub",f:mn},5:{n:"PtgMul",f:mn},6:{n:"PtgDiv",f:mn},7:{n:"PtgPower",f:mn},8:{n:"PtgConcat",f:mn},9:{n:"PtgLt",f:mn},10:{n:"PtgLe",f:mn},11:{n:"PtgEq",f:mn},12:{n:"PtgGe",f:mn},13:{n:"PtgGt",f:mn},14:{n:"PtgNe",f:mn},15:{n:"PtgIsect",f:mn},16:{n:"PtgUnion",f:mn},17:{n:"PtgRange",f:mn},18:{n:"PtgUplus",f:mn},19:{n:"PtgUminus",f:mn},20:{n:"PtgPercent",f:mn},21:{n:"PtgParen",f:mn},22:{n:"PtgMissArg",f:mn},23:{n:"PtgStr",f:zSe},26:{n:"PtgSheet",f:xEe},27:{n:"PtgEndSheet",f:bEe},28:{n:"PtgErr",f:GSe},29:{n:"PtgBool",f:KSe},30:{n:"PtgInt",f:WSe},31:{n:"PtgNum",f:YSe},32:{n:"PtgArray",f:DSe},33:{n:"PtgFunc",f:BSe},34:{n:"PtgFuncVar",f:USe},35:{n:"PtgName",f:QSe},36:{n:"PtgRef",f:MSe},37:{n:"PtgArea",f:ESe},38:{n:"PtgMemArea",f:eEe},39:{n:"PtgMemErr",f:iEe},40:{n:"PtgMemNoMem",f:aEe},41:{n:"PtgMemFunc",f:tEe},42:{n:"PtgRefErr",f:rEe},43:{n:"PtgAreaErr",f:_Se},44:{n:"PtgRefN",f:NSe},45:{n:"PtgAreaN",f:ASe},46:{n:"PtgMemAreaN",f:SEe},47:{n:"PtgMemNoMemN",f:EEe},57:{n:"PtgNameX",f:ZSe},58:{n:"PtgRef3d",f:FSe},59:{n:"PtgArea3d",f:wSe},60:{n:"PtgRefErr3d",f:nEe},61:{n:"PtgAreaErr3d",f:TSe},255:{}},_Ee={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TEe={1:{n:"PtgElfLel",f:eW},2:{n:"PtgElfRw",f:pEe},3:{n:"PtgElfCol",f:oEe},6:{n:"PtgElfRwV",f:mEe},7:{n:"PtgElfColV",f:cEe},10:{n:"PtgElfRadical",f:fEe},11:{n:"PtgElfRadicalS",f:dEe},13:{n:"PtgElfColS",f:lEe},15:{n:"PtgElfColSV",f:uEe},16:{n:"PtgElfRadicalLel",f:hEe},25:{n:"PtgList",f:vEe},29:{n:"PtgSxName",f:yEe},255:{}},AEe={0:{n:"PtgAttrNoop",f:wEe},1:{n:"PtgAttrSemi",f:kSe},2:{n:"PtgAttrIf",f:ISe},4:{n:"PtgAttrChoose",f:OSe},8:{n:"PtgAttrGoto",f:CSe},16:{n:"PtgAttrSum",f:$Se},32:{n:"PtgAttrBaxcel",f:jB},33:{n:"PtgAttrBaxcel",f:jB},64:{n:"PtgAttrSpace",f:PSe},65:{n:"PtgAttrSpaceSemi",f:LSe},128:{n:"PtgAttrIfError",f:RSe},255:{}};function DEe(r,e,t,n){if(n.biff<8)return ro(r,e);for(var i=r.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=XSe(r,0,n),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=qSe(r,t[s][1],n),a.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-r.l,e!==0&&a.push(ro(r,e)),a}function OEe(r,e,t){for(var n=r.l+e,i,a,s=[];n!=r.l;)e=n-r.l,a=r[r.l],i=$B[a]||$B[_Ee[a]],(a===24||a===25)&&(i=(a===24?TEe:AEe)[r[r.l+1]]),!i||!i.f?ro(r,e):s.push([i.n,i.f(r,e,t)]);return s}function CEe(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var IEe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function REe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function tW(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HB(r,e,t){var n=tW(r,e,t);return n=="#REF"?n:REe(n,t)}function wh(r,e,t,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,h=0,p=0,m,g="";if(!r[0]||!r[0][0])return"";for(var y=-1,x="",E=0,S=r[0].length;E<S;++E){var w=r[0][E];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),y>=0){switch(r[0][y][1][0]){case 0:x=Jr(" ",r[0][y][1][1]);break;case 1:x=Jr("\r",r[0][y][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][y][1][0])}u=u+x,y=-1}o.push(u+IEe[w[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=d0(w[1][1],s,i),o.push(p0(c,a));break;case"PtgRefN":c=t?d0(w[1][1],t,i):w[1][1],o.push(p0(c,a));break;case"PtgRef3d":h=w[1][1],c=d0(w[1][2],s,i),g=HB(n,h,i),o.push(g+"!"+p0(c,a));break;case"PtgFunc":case"PtgFuncVar":var T=w[1][0],_=w[1][1];T||(T=0),T&=127;var O=T==0?[]:o.slice(-T);o.length-=T,_==="User"&&(_=O.shift()),o.push(_+"("+O.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":m=AB(w[1][1],t?{s:t}:s,i),o.push(Fw(m,i));break;case"PtgArea":m=AB(w[1][1],s,i),o.push(Fw(m,i));break;case"PtgArea3d":h=w[1][1],m=w[1][2],g=HB(n,h,i),o.push(g+"!"+Fw(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=w[1][2];var A=(n.names||[])[p-1]||(n[0]||[])[p],I=A?A.Name:"SH33TJSNAME"+String(p);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var k=w[1][1];p=w[1][2];var N;if(i.biff<=5)k<0&&(k=-k),n[k]&&(N=n[k][p]);else{var B="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][p]&&n[k][p].itab>0&&(B=n.SheetNames[n[k][p].itab-1]+"!"):B=n.SheetNames[p-1]+"!"),n[k]&&n[k][p])B+=n[k][p].Name;else if(n[0]&&n[0][p])B+=n[0][p].Name;else{var R=(tW(n,k,i)||"").split(";;");R[p-1]?B=R[p-1]:B+="SH33TJSERRX"}o.push(B);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var H="(",X=")";if(y>=0){switch(x="",r[0][y][1][0]){case 2:H=Jr(" ",r[0][y][1][1])+H;break;case 3:H=Jr("\r",r[0][y][1][1])+H;break;case 4:X=Jr(" ",r[0][y][1][1])+X;break;case 5:X=Jr("\r",r[0][y][1][1])+X;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][y][1][0])}y=-1}o.push(H+o.pop()+X);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:w[1][1],r:w[1][0]};var Y={c:t.c,r:t.r};if(n.sharedf[gr(c)]){var K=n.sharedf[gr(c)];o.push(wh(K,s,Y,n,i))}else{var z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(wh(u[1],s,Y,n,i)),z=!0;break}z||o.push(w[1])}break;case"PtgArray":o.push("{"+CEe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&Q.indexOf(r[0][E][0])==-1){w=r[0][y];var se=!0;switch(w[1][0]){case 4:se=!1;case 0:x=Jr(" ",w[1][1]);break;case 5:se=!1;case 1:x=Jr("\r",w[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((se?x:"")+o.pop()+(se?"":x)),y=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function kEe(r){if(r==null){var e=Je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return Ic(r);return Ic(0)}function PEe(r,e,t,n,i){var a=Rc(e,t,i),s=kEe(r.v),o=Je(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Je(r.bf.length),c=0;c<r.bf.length;++c)u[c]=r.bf[c];var h=ni([a,s,o,u]);return h}function T1(r,e,t){var n=r.read_shift(4),i=OEe(r,n,t),a=r.read_shift(4),s=a>0?DEe(r,a,i,t):null;return[i,s]}var LEe=T1,A1=T1,MEe=T1,NEe=T1,FEe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},BEe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UEe(r){var e="of:="+r.replace(EC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function jEe(r){return r.replace(/\./,"!")}var m0=typeof Map<"u";function TC(r,e,t){var n=0,i=r.length;if(t){if(m0?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var a=m0?t.get(e):t[e];n<a.length;++n)if(r[a[n]].t===e)return r.Count++,a[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(m0?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function D1(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(qo=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=rx(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=A2(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function nW(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Iu(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,a=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){ZH(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(r[i].numFmtId===n)return i;return r[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function $Ee(r,e,t){if(r&&r["!ref"]){var n=Fr(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function HEe(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+yn(r[t])+'"/>';return e+"</mergeCells>"}function GEe(r,e,t,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[t];try{e.Workbook&&(l=e.Workbook.Sheets[t].CodeName||l)}catch{}a=!0,s.codeName=W0(mr(l))}if(r&&r["!outline"]){var u={summaryBelow:1,summaryRight:1};r["!outline"].above&&(u.summaryBelow=0),r["!outline"].left&&(u.summaryRight=0),o=(o||"")+ht("outlinePr",null,u)}!a&&!o||(i[i.length]=ht("sheetPr",o,s))}var WEe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],KEe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function YEe(r){var e={sheet:1};return WEe.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),KEe.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=jG(r.password).toString(16).toUpperCase()),ht("sheetProtection",null,e)}function zEe(r){return nW(r),ht("pageMargins",null,r)}function VEe(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=ht("col",null,D1(i,n)));return t[t.length]="</cols>",t.join("")}function qEe(r,e,t,n){var i=typeof r.ref=="string"?r.ref:yn(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,s=Da(i);s.s.r==s.e.r&&(s.e.r=Da(e["!ref"]).e.r,i=yn(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),ht("autoFilter",null,{ref:i})}function XEe(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ht("sheetViews",ht("sheetView",null,i),{})}function QEe(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",a=r.t,s=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=Mp[r.v];break;case"d":n&&n.cellDates?i=Ci(r.v,-1).toISOString():(r=Xi(r),r.t="n",i=""+(r.v=qi(Ci(r.v)))),typeof r.z>"u"&&(r.z=en[14]);break;default:i=r.v;break}var o=ii("v",mr(i)),l={r:e},u=Iu(n.cellXfs,r,n);switch(u!==0&&(l.s=u),r.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ii("v",""+TC(n.Strings,r.v,n.revStrings)),l.t="s";break}l.t="str";break}if(r.t!=a&&(r.t=a,r.v=s),typeof r.f=="string"&&r.f){var c=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;o=ht("f",mr(r.f),c)+(r.v!=null?o:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(l.cm=1),ht("c",o,l)}function ZEe(r,e,t,n){var i=[],a=[],s=Fr(r["!ref"]),o="",l,u="",c=[],h=0,p=0,m=r["!rows"],g=Array.isArray(r),y={r:u},x,E=-1;for(p=s.s.c;p<=s.e.c;++p)c[p]=vi(p);for(h=s.s.r;h<=s.e.r;++h){for(a=[],u=si(h),p=s.s.c;p<=s.e.c;++p){l=c[p]+u;var S=g?(r[h]||[])[p]:r[l];S!==void 0&&(o=QEe(S,l,r,e))!=null&&a.push(o)}(a.length>0||m&&m[h])&&(y={r:u},m&&m[h]&&(x=m[h],x.hidden&&(y.hidden=1),E=-1,x.hpx?E=nx(x.hpx):x.hpt&&(E=x.hpt),E>-1&&(y.ht=E,y.customHeight=1),x.level&&(y.outlineLevel=x.level)),i[i.length]=ht("row",a.join(""),y))}if(m)for(;h<m.length;++h)m&&m[h]&&(y={r:h+1},x=m[h],x.hidden&&(y.hidden=1),E=-1,x.hpx?E=nx(x.hpx):x.hpt&&(E=x.hpt),E>-1&&(y.ht=E,y.customHeight=1),x.level&&(y.outlineLevel=x.level),i[i.length]=ht("row","",y));return i.join("")}function iW(r,e,t,n){var i=[bn,ht("worksheet",null,{xmlns:Hh[0],"xmlns:r":Fn.r})],a=t.SheetNames[r],s=0,o="",l=t.Sheets[a];l==null&&(l={});var u=l["!ref"]||"A1",c=Fr(u);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=yn(c)}n||(n={}),l["!comments"]=[];var h=[];GEe(l,t,r,e,i),i[i.length]=ht("dimension",null,{ref:u}),i[i.length]=XEe(l,e,r,t),e.sheetFormat&&(i[i.length]=ht("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=VEe(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=ZEe(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=YEe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=qEe(l["!autofilter"],l,t,r)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=HEe(l["!merges"]));var p=-1,m,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(m={ref:y[0]},y[1].Target.charAt(0)!="#"&&(g=fr(n,-1,mr(y[1].Target).replace(/#.*$/,""),tr.HLINK),m["r:id"]="rId"+g),(p=y[1].Target.indexOf("#"))>-1&&(m.location=mr(y[1].Target.slice(p+1))),y[1].Tooltip&&(m.tooltip=mr(y[1].Tooltip)),i[i.length]=ht("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=zEe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ii("ignoredErrors",ht("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(g=fr(n,-1,"../drawings/drawing"+(r+1)+".xml",tr.DRAW),i[i.length]=ht("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=h),l["!comments"].length>0&&(g=fr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",tr.VML),i[i.length]=ht("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function JEe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}function ewe(r,e,t){var n=Je(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var a=320;i.hpx?a=nx(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var h=-1,p=-1,m=c<<10;m<c+1<<10;++m){u.c=m;var g=Array.isArray(t)?(t[u.r]||[])[u.c]:t[gr(u)];g&&(h<0&&(h=m),p=m)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,p))}var y=n.l;return n.l=l,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function twe(r,e,t,n){var i=ewe(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&at(r,0,i)}var rwe=Wc,nwe=Wh;function iwe(){}function awe(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=m1e(r),t}function swe(r,e,t){t==null&&(t=Je(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return Jy({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),xG(r,t),t.slice(0,t.l)}function owe(r){var e=Ja(r);return[e]}function lwe(r,e,t){return t==null&&(t=Je(8)),$c(e,t)}function uwe(r){var e=Hc(r);return[e]}function cwe(r,e,t){return t==null&&(t=Je(4)),Gc(e,t)}function fwe(r){var e=Ja(r),t=r.read_shift(1);return[e,t,"b"]}function hwe(r,e,t){return t==null&&(t=Je(9)),$c(e,t),t.write_shift(1,r.v?1:0),t}function dwe(r){var e=Hc(r),t=r.read_shift(1);return[e,t,"b"]}function pwe(r,e,t){return t==null&&(t=Je(5)),Gc(e,t),t.write_shift(1,r.v?1:0),t}function mwe(r){var e=Ja(r),t=r.read_shift(1);return[e,t,"e"]}function gwe(r,e,t){return t==null&&(t=Je(9)),$c(e,t),t.write_shift(1,r.v),t}function vwe(r){var e=Hc(r),t=r.read_shift(1);return[e,t,"e"]}function ywe(r,e,t){return t==null&&(t=Je(8)),Gc(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function xwe(r){var e=Ja(r),t=r.read_shift(4);return[e,t,"s"]}function bwe(r,e,t){return t==null&&(t=Je(12)),$c(e,t),t.write_shift(4,e.v),t}function Swe(r){var e=Hc(r),t=r.read_shift(4);return[e,t,"s"]}function Ewe(r,e,t){return t==null&&(t=Je(8)),Gc(e,t),t.write_shift(4,e.v),t}function wwe(r){var e=Ja(r),t=Kh(r);return[e,t,"n"]}function _we(r,e,t){return t==null&&(t=Je(16)),$c(e,t),Ic(r.v,t),t}function Twe(r){var e=Hc(r),t=Kh(r);return[e,t,"n"]}function Awe(r,e,t){return t==null&&(t=Je(12)),Gc(e,t),Ic(r.v,t),t}function Dwe(r){var e=Ja(r),t=bG(r);return[e,t,"n"]}function Owe(r,e,t){return t==null&&(t=Je(12)),$c(e,t),SG(r.v,t),t}function Cwe(r){var e=Hc(r),t=bG(r);return[e,t,"n"]}function Iwe(r,e,t){return t==null&&(t=Je(8)),Gc(e,t),SG(r.v,t),t}function Rwe(r){var e=Ja(r),t=vC(r);return[e,t,"is"]}function kwe(r){var e=Ja(r),t=yi(r);return[e,t,"str"]}function Pwe(r,e,t){return t==null&&(t=Je(12+4*r.v.length)),$c(e,t),Un(r.v,t),t.length>t.l?t.slice(0,t.l):t}function Lwe(r){var e=Hc(r),t=yi(r);return[e,t,"str"]}function Mwe(r,e,t){return t==null&&(t=Je(8+4*r.v.length)),Gc(e,t),Un(r.v,t),t.length>t.l?t.slice(0,t.l):t}function Nwe(r,e,t){var n=r.l+e,i=Ja(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(t.cellFormula){r.l+=2;var o=A1(r,n-r.l,t);s[3]=wh(o,null,i,t.supbooks,t)}else r.l=n;return s}function Fwe(r,e,t){var n=r.l+e,i=Ja(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(t.cellFormula){r.l+=2;var o=A1(r,n-r.l,t);s[3]=wh(o,null,i,t.supbooks,t)}else r.l=n;return s}function Bwe(r,e,t){var n=r.l+e,i=Ja(r);i.r=t["!row"];var a=Kh(r),s=[i,a,"n"];if(t.cellFormula){r.l+=2;var o=A1(r,n-r.l,t);s[3]=wh(o,null,i,t.supbooks,t)}else r.l=n;return s}function Uwe(r,e,t){var n=r.l+e,i=Ja(r);i.r=t["!row"];var a=yi(r),s=[i,a,"str"];if(t.cellFormula){r.l+=2;var o=A1(r,n-r.l,t);s[3]=wh(o,null,i,t.supbooks,t)}else r.l=n;return s}var jwe=Wc,$we=Wh;function Hwe(r,e){return e==null&&(e=Je(4)),e.write_shift(4,r),e}function Gwe(r,e){var t=r.l+e,n=Wc(r),i=yC(r),a=yi(r),s=yi(r),o=yi(r);r.l=t;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function Wwe(r,e){var t=Je(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Wh({s:Bn(r[0]),e:Bn(r[0])},t),xC("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return Un(i||"",t),Un(r[1].Tooltip||"",t),Un("",t),t.slice(0,t.l)}function Kwe(){}function Ywe(r,e,t){var n=r.l+e,i=EG(r),a=r.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=LEe(r,n-r.l,t);s[1]=o}else r.l=n;return s}function zwe(r,e,t){var n=r.l+e,i=Wc(r),a=[i];if(t.cellFormula){var s=NEe(r,n-r.l,t);a[1]=s,r.l=n}else r.l=n;return a}function Vwe(r,e,t){t==null&&(t=Je(18));var n=D1(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var aW=["left","right","top","bottom","header","footer"];function qwe(r){var e={};return aW.forEach(function(t){e[t]=Kh(r)}),e}function Xwe(r,e){return e==null&&(e=Je(48)),nW(r),aW.forEach(function(t){Ic(r[t],e)}),e}function Qwe(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function Zwe(r,e,t){t==null&&(t=Je(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Jwe(r){var e=Je(24);return e.write_shift(4,4),e.write_shift(4,1),Wh(r,e),e}function e_e(r,e){return e==null&&(e=Je(66)),e.write_shift(2,r.password?jG(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function t_e(){}function r_e(){}function n_e(r,e,t,n,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Xi(e),e.z=e.z||en[14],e.v=qi(Ci(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:t,c:n};switch(l.s=Iu(i.cellXfs,e,i),e.l&&a["!links"].push([gr(l),e.l]),e.c&&a["!comments"].push([gr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=TC(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?at(r,18,Ewe(e,l)):at(r,7,bwe(e,l))):(l.t="str",s?at(r,17,Mwe(e,l)):at(r,6,Pwe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?at(r,13,Iwe(e,l)):at(r,2,Owe(e,l)):s?at(r,16,Awe(e,l)):at(r,5,_we(e,l)),!0;case"b":return l.t="b",s?at(r,15,pwe(e,l)):at(r,4,hwe(e,l)),!0;case"e":return l.t="e",s?at(r,14,ywe(e,l)):at(r,3,gwe(e,l)),!0}return s?at(r,12,cwe(e,l)):at(r,1,lwe(e,l)),!0}function i_e(r,e,t,n){var i=Fr(e["!ref"]||"A1"),a,s="",o=[];at(r,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=u;++c){s=si(c),twe(r,e,i,c);var h=!1;if(c<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){c===i.s.r&&(o[p]=vi(p)),a=o[p]+s;var m=l?(e[c]||[])[p]:e[a];if(!m){h=!1;continue}h=n_e(r,m,c,p,n,e,h)}}at(r,146)}function a_e(r,e){!e||!e["!merges"]||(at(r,177,Hwe(e["!merges"].length)),e["!merges"].forEach(function(t){at(r,176,$we(t))}),at(r,178))}function s_e(r,e){!e||!e["!cols"]||(at(r,390),e["!cols"].forEach(function(t,n){t&&at(r,60,Vwe(n,t))}),at(r,391))}function o_e(r,e){!e||!e["!ref"]||(at(r,648),at(r,649,Jwe(Fr(e["!ref"]))),at(r,650))}function l_e(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=fr(t,-1,n[1].Target.replace(/#.*$/,""),tr.HLINK);at(r,494,Wwe(n,i))}}),delete e["!links"]}function u_e(r,e,t,n){if(e["!comments"].length>0){var i=fr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",tr.VML);at(r,551,xC("rId"+i)),e["!legacy"]=i}}function c_e(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:yn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Da(a);o.s.r==o.e.r&&(o.e.r=Da(e["!ref"]).e.r,a=yn(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+t.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),at(r,161,Wh(Fr(a))),at(r,162)}}function f_e(r,e,t){at(r,133),at(r,137,Zwe(e,t)),at(r,138),at(r,134)}function h_e(r,e){e["!protect"]&&at(r,535,e_e(e["!protect"]))}function d_e(r,e,t,n){var i=Vi(),a=t.SheetNames[r],s=t.Sheets[a]||{},o=a;try{t&&t.Workbook&&(o=t.Workbook.Sheets[r].CodeName||o)}catch{}var l=Fr(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],at(i,129),(t.vbaraw||s["!outline"])&&at(i,147,swe(o,s["!outline"])),at(i,148,nwe(l)),f_e(i,s,t.Workbook),s_e(i,s),i_e(i,s,r,e),h_e(i,s),c_e(i,s,t,r),a_e(i,s),l_e(i,s,n),s["!margins"]&&at(i,476,Xwe(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&o_e(i,s),u_e(i,s,r,n),at(i,130),i.end()}function p_e(r,e){r.l+=10;var t=yi(r);return{name:t}}var m_e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function g_e(r){return!r.Workbook||!r.Workbook.WBProps?"false":zxe(r.Workbook.WBProps.date1904)?"true":"false"}var v_e="][*?/\\".split("");function sW(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return v_e.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function y_e(r,e,t){r.forEach(function(n,i){sW(n);for(var a=0;a<i;++a)if(n==r[a])throw new Error("Duplicate Sheet Name: "+n);if(t){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function x_e(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];y_e(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)$Ee(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function oW(r){var e=[bn];e[e.length]=ht("workbook",null,{xmlns:Hh[0],"xmlns:r":Fn.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(m_e.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=ht("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=r.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==r.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=r.SheetNames.length;++a){var s={name:mr(r.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=ht("sheet",null,s)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=ht("definedName",mr(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function b_e(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=T2(r),t.name=yi(r),t}function S_e(r,e){return e||(e=Je(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),xC(r.strRelID,e),Un(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function E_e(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?yi(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function w_e(r,e){e||(e=Je(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),xG(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function __e(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),a=g1e(r),s=MEe(r,0,t),o=yC(r);r.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function T_e(r,e){at(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};at(r,156,S_e(i))}at(r,144)}function A_e(r,e){e||(e=Je(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Un("SheetJS",e),Un(Ky.version,e),Un(Ky.version,e),Un("7262",e),e.length>e.l?e.slice(0,e.l):e}function D_e(r,e){e||(e=Je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function O_e(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,a=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&a==-1&&(a=n);a>i||(at(r,135),at(r,158,D_e(i)),at(r,136))}}function C_e(r,e){var t=Vi();return at(t,131),at(t,128,A_e()),at(t,153,w_e(r.Workbook&&r.Workbook.WBProps||null)),O_e(t,r),T_e(t,r),at(t,132),t.end()}function I_e(r,e,t){return(e.slice(-4)===".bin"?C_e:oW)(r)}function R_e(r,e,t,n,i){return(e.slice(-4)===".bin"?d_e:iW)(r,t,n,i)}function k_e(r,e,t){return(e.slice(-4)===".bin"?Xbe:GG)(r,t)}function P_e(r,e,t){return(e.slice(-4)===".bin"?wbe:UG)(r,t)}function L_e(r,e,t){return(e.slice(-4)===".bin"?hSe:VG)(r)}function M_e(r){return(r.slice(-4)===".bin"?iSe:YG)()}function N_e(r,e){var t=[];return r.Props&&t.push(k1e(r.Props,e)),r.Custprops&&t.push(P1e(r.Props,r.Custprops)),t.join("")}function F_e(){return""}function B_e(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(ht("NumberFormat",null,{"ss:Format":mr(en[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};t.push(ht("Style",a.join(""),s))}),ht("Styles",t.join(""))}function lW(r){return ht("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+wC(r.Ref,{r:0,c:0})})}function U_e(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(lW(i)))}return ht("Names",t.join(""))}function j_e(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||a.push(lW(o)))}return a.join("")}function $_e(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(ht("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(ht("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(ht("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(ht("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<t&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(ii("ProtectContents","True")),r["!protect"].objects&&i.push(ii("ProtectObjects","True")),r["!protect"].scenarios&&i.push(ii("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(ii("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(ii("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){r["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":ht("WorksheetOptions",i.join(""),{xmlns:ga.x})}function H_e(r){return r.map(function(e){var t=Yxe(e.t||""),n=ht("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ht("Comment",n,{"ss:Author":e.a})}).join("")}function G_e(r,e,t,n,i,a,s){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+mr(wC(r.f,s))),r.F&&r.F.slice(0,e.length)==e){var l=Bn(r.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=mr(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=mr(r.l.Tooltip))),t["!merges"])for(var u=t["!merges"],c=0;c!=u.length;++c)u[c].s.c!=s.c||u[c].s.r!=s.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var h="",p="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(r.v);break;case"b":h="Boolean",p=r.v?"1":"0";break;case"e":h="Error",p=Mp[r.v];break;case"d":h="DateTime",p=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||en[14]);break;case"s":h="String",p=Kxe(r.v||"");break}var m=Iu(n.cellXfs,r,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var g=r.v!=null?p:"",y=r.t=="z"?"":'<Data ss:Type="'+h+'">'+g+"</Data>";return(r.c||[]).length>0&&(y+=H_e(r.c)),ht("Cell",y,o)}function W_e(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=HG(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function K_e(r,e,t,n){if(!r["!ref"])return"";var i=Fr(r["!ref"]),a=r["!merges"]||[],s=0,o=[];r["!cols"]&&r["!cols"].forEach(function(x,E){SC(x);var S=!!x.width,w=D1(E,x),T={"ss:Index":E+1};S&&(T["ss:Width"]=tx(w.width)),x.hidden&&(T["ss:Hidden"]="1"),o.push(ht("Column",null,T))});for(var l=Array.isArray(r),u=i.s.r;u<=i.e.r;++u){for(var c=[W_e(u,(r["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var p=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>h)&&!(a[s].s.r>u)&&!(a[s].e.c<h)&&!(a[s].e.r<u)){(a[s].s.c!=h||a[s].s.r!=u)&&(p=!0);break}if(!p){var m={r:u,c:h},g=gr(m),y=l?(r[u]||[])[h]:r[g];c.push(G_e(y,g,r,e,t,n,m))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function Y_e(r,e,t){var n=[],i=t.SheetNames[r],a=t.Sheets[i],s=a?j_e(a,e,r,t):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?K_e(a,e,r,t):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push($_e(a,e,r,t)),n.join("")}function z_e(r,e){e||(e={}),r.SSF||(r.SSF=Xi(en)),r.SSF&&(E1(),S1(r.SSF),e.revssf=w1(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Iu(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(N_e(r,e)),t.push(F_e()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(ht("Worksheet",Y_e(n,e,r),{"ss:Name":mr(r.SheetNames[n])}));return t[2]=B_e(r,e),t[3]=U_e(r),bn+ht("Workbook",t.join(""),{xmlns:ga.ss,"xmlns:o":ga.o,"xmlns:x":ga.x,"xmlns:ss":ga.ss,"xmlns:dt":ga.dt,"xmlns:html":ga.html})}var jw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function V_e(r,e){var t=[],n=[],i=[],a=0,s,o=mB(OB,"n"),l=mB(CB,"n");if(r.Props)for(s=oi(r.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?t:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],r.Props[s[a]]]);if(r.Custprops)for(s=oi(r.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(r.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?t:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],r.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)kG.indexOf(i[a][0])>-1||CG.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&Sr.utils.cfb_add(e,"/SummaryInformation",LB(n,jw.SI,l,CB)),(t.length||u.length)&&Sr.utils.cfb_add(e,"/DocumentSummaryInformation",LB(t,jw.DSI,o,OB,u.length?u:null,jw.UDI))}function q_e(r,e){var t=e||{},n=Sr.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Sr.utils.cfb_add(n,i,uW(r,t)),t.biff==8&&(r.Props||r.Custprops)&&V_e(r,n),t.biff==8&&r.vbaraw&&dSe(n,Sr.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var X_e={0:{f:JEe},1:{f:owe},2:{f:Dwe},3:{f:mwe},4:{f:fwe},5:{f:wwe},6:{f:kwe},7:{f:xwe},8:{f:Uwe},9:{f:Bwe},10:{f:Nwe},11:{f:Fwe},12:{f:uwe},13:{f:Cwe},14:{f:vwe},15:{f:dwe},16:{f:Twe},17:{f:Lwe},18:{f:Swe},19:{f:vC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:__e},40:{},42:{},43:{f:kbe},44:{f:Ibe},45:{f:Mbe},46:{f:Fbe},47:{f:Nbe},48:{},49:{f:u1e},50:{},51:{f:Jbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:cbe},62:{f:Rwe},63:{f:aSe},64:{f:t_e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ro,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qwe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:awe},148:{f:rwe,p:16},151:{f:Kwe},152:{},153:{f:E_e},154:{},155:{},156:{f:b_e},157:{},158:{},159:{T:1,f:bbe},160:{T:-1},161:{T:1,f:Wc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jwe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Qbe},336:{T:-1},337:{f:rSe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:T2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ibe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ywe},427:{f:zwe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:qwe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:iwe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gwe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:T2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cSe},633:{T:1},634:{T:-1},635:{T:1,f:lSe},636:{T:-1},637:{f:d1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:p_e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:r_e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function pt(r,e,t,n){var i=e;if(!isNaN(i)){var a=n||(t||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&pC(t)&&r.push(t)}}function Q_e(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return pt(r,e,t,i);var a=e;if(!isNaN(a)){for(var s=t.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var c=r.next(4);for(c.write_shift(2,a),c.write_shift(2,u),r.push(t.slice(l,l+u)),l+=u;l<i;){for(c=r.next(4),c.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;c.write_shift(2,u),r.push(t.slice(l,l+u)),l+=u}}}function Fp(r,e,t){return r||(r=Je(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function Z_e(r,e,t,n){var i=Je(9);return Fp(i,r,e),LG(t,n||"b",i),i}function J_e(r,e,t){var n=Je(8+2*t.length);return Fp(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function eTe(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?qi(Ci(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?pt(r,2,pbe(t,n,i)):pt(r,3,dbe(t,n,i));return;case"b":case"e":pt(r,5,Z_e(t,n,e.v,e.t));return;case"s":case"str":pt(r,4,J_e(t,n,(e.v||"").slice(0,255)));return}pt(r,1,Fp(null,t,n))}function tTe(r,e,t,n){var i=Array.isArray(e),a=Fr(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=yn(a)}for(var u=a.s.r;u<=a.e.r;++u){o=si(u);for(var c=a.s.c;c<=a.e.c;++c){u===a.s.r&&(l[c]=vi(c)),s=l[c]+o;var h=i?(e[u]||[])[c]:e[s];h&&eTe(r,h,u,c)}}}function rTe(r,e){for(var t=e||{},n=Vi(),i=0,a=0;a<r.SheetNames.length;++a)r.SheetNames[a]==t.sheet&&(i=a);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return pt(n,t.biff==4?1033:t.biff==3?521:9,bC(r,16,t)),tTe(n,r.Sheets[r.SheetNames[i]],i,t),pt(n,10),n.end()}function nTe(r,e,t){pt(r,49,X1e({sz:12,name:"Arial"},t))}function iTe(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&pt(r,1054,J1e(i,e[i],t))})}function aTe(r,e){var t=Je(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),pt(r,2151,t),t=Je(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),FG(Fr(e["!ref"]||"A1"),t),t.write_shift(4,4),pt(r,2152,t)}function sTe(r,e){for(var t=0;t<16;++t)pt(r,224,NB({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){pt(r,224,NB(n,0,e))})}function oTe(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];pt(r,440,obe(n)),n[1].Tooltip&&pt(r,2048,lbe(n))}delete e["!links"]}function lTe(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&pt(r,125,fbe(D1(i,n),i))})}}function uTe(r,e,t,n,i){var a=16+Iu(i.cellXfs,e,i);if(e.v==null&&!e.bf){pt(r,513,Rc(t,n,a));return}if(e.bf)pt(r,6,PEe(e,t,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?qi(Ci(e.v)):e.v;pt(r,515,nbe(t,n,s,a));break;case"b":case"e":pt(r,517,rbe(t,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=TC(i.Strings,e.v,i.revStrings);pt(r,253,Q1e(t,n,o,a))}else pt(r,516,Z1e(t,n,(e.v||"").slice(0,255),a,i));break;default:pt(r,513,Rc(t,n,a))}}function cTe(r,e,t){var n=Vi(),i=t.SheetNames[r],a=t.Sheets[i]||{},s=(t||{}).Workbook||{},o=(s.Sheets||[])[r]||{},l=Array.isArray(a),u=e.biff==8,c,h="",p=[],m=Fr(a["!ref"]||"A1"),g=u?65536:16384;if(m.e.c>255||m.e.r>=g){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}pt(n,2057,bC(t,16,e)),pt(n,13,Wa(1)),pt(n,12,Wa(100)),pt(n,15,_i(!0)),pt(n,17,_i(!1)),pt(n,16,Ic(.001)),pt(n,95,_i(!0)),pt(n,42,_i(!1)),pt(n,43,_i(!1)),pt(n,130,Wa(1)),pt(n,128,tbe()),pt(n,131,_i(!1)),pt(n,132,_i(!1)),u&&lTe(n,a["!cols"]),pt(n,512,ebe(m,e)),u&&(a["!links"]=[]);for(var y=m.s.r;y<=m.e.r;++y){h=si(y);for(var x=m.s.c;x<=m.e.c;++x){y===m.s.r&&(p[x]=vi(x)),c=p[x]+h;var E=l?(a[y]||[])[x]:a[c];E&&(uTe(n,E,y,x,e),u&&E.l&&a["!links"].push([c,E.l]))}}var S=o.CodeName||o.name||i;return u&&pt(n,574,q1e((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&pt(n,229,sbe(a["!merges"])),u&&oTe(n,a),pt(n,442,NG(S)),u&&aTe(n,a),pt(n,10),n.end()}function fTe(r,e,t){var n=Vi(),i=(r||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=t.biff==8,l=t.biff==5;if(pt(n,2057,bC(r,5,t)),t.bookType=="xla"&&pt(n,135),pt(n,225,o?Wa(1200):null),pt(n,193,N1e(2)),l&&pt(n,191),l&&pt(n,192),pt(n,226),pt(n,92,K1e("SheetJS",t)),pt(n,66,Wa(o?1200:1252)),o&&pt(n,353,Wa(0)),o&&pt(n,448),pt(n,317,hbe(r.SheetNames.length)),o&&r.vbaraw&&pt(n,211),o&&r.vbaraw){var u=s.CodeName||"ThisWorkbook";pt(n,442,NG(u))}pt(n,156,Wa(17)),pt(n,25,_i(!1)),pt(n,18,_i(!1)),pt(n,19,Wa(0)),o&&pt(n,431,_i(!1)),o&&pt(n,444,Wa(0)),pt(n,61,V1e()),pt(n,64,_i(!1)),pt(n,141,Wa(0)),pt(n,34,_i(g_e(r)=="true")),pt(n,14,_i(!0)),o&&pt(n,439,_i(!1)),pt(n,218,Wa(0)),nTe(n,r,t),iTe(n,r.SSF,t),sTe(n,t),o&&pt(n,352,_i(!1));var c=n.end(),h=Vi();o&&pt(h,140,ube()),o&&t.Strings&&Q_e(h,252,z1e(t.Strings)),pt(h,10);var p=h.end(),m=Vi(),g=0,y=0;for(y=0;y<r.SheetNames.length;++y)g+=(o?12:11)+(o?2:1)*r.SheetNames[y].length;var x=c.length+g+p.length;for(y=0;y<r.SheetNames.length;++y){var E=a[y]||{};pt(m,133,Y1e({pos:x,hs:E.Hidden||0,dt:0,name:r.SheetNames[y]},t)),x+=e[y].length}var S=m.end();if(g!=S.length)throw new Error("BS8 "+g+" != "+S.length);var w=[];return c.length&&w.push(c),S.length&&w.push(S),p.length&&w.push(p),ni(w)}function hTe(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=Xi(en)),r&&r.SSF&&(E1(),S1(r.SSF),t.revssf=w1(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,AC(t),t.cellXfs=[],Iu(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=cTe(i,t,r);return n.unshift(fTe(r,n,t)),ni(n)}function uW(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=Da(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return hTe(r,e);case 4:case 3:case 2:return rTe(r,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function dTe(r,e,t,n){for(var i=r["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>s)&&!(i[u].e.r<t||i[u].e.c<s)){if(i[u].s.r<t||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=gr({r:t,c:s}),h=n.dense?(r[t]||[])[s]:r[c],p=h&&h.v!=null&&(h.h||Wxe(h.w||(ol(h),h.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),m.id=(n.id||"sjs")+"-"+c,a.push(ht("td",p,m))}}var g="<tr>";return g+a.join("")+"</tr>"}var pTe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mTe="</body></html>";function gTe(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function cW(r,e){var t=e||{},n=t.header!=null?t.header:pTe,i=t.footer!=null?t.footer:mTe,a=[n],s=Da(r["!ref"]);t.dense=Array.isArray(r),a.push(gTe(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(dTe(r,s,o,t));return a.push("</table>"+i),a.join("")}function fW(r,e,t){var n=t||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Bn(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(r["!ref"]){var c=Da(r["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var h=[],p=0,m=r["!rows"]||(r["!rows"]=[]),g=0,y=0,x=0,E=0,S=0,w=0;for(r["!cols"]||(r["!cols"]=[]);g<o.length&&y<l;++g){var T=o[g];if(GB(T)){if(n.display)continue;m[y]={hidden:!0}}var _=T.children;for(x=E=0;x<_.length;++x){var O=_[x];if(!(n.display&&GB(O))){var A=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):Vxe(O.innerHTML),I=O.getAttribute("data-z")||O.getAttribute("z");for(p=0;p<h.length;++p){var k=h[p];k.s.c==E+a&&k.s.r<y+i&&y+i<=k.e.r&&(E=k.e.c+1-a,p=-1)}w=+O.getAttribute("colspan")||1,((S=+O.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:y+i,c:E+a},e:{r:y+i+(S||1)-1,c:E+a+(w||1)-1}});var N={t:"s",v:A},B=O.getAttribute("data-t")||O.getAttribute("t")||"";A!=null&&(A.length==0?N.t=B||"z":n.raw||A.trim().length==0||B=="s"||(A==="TRUE"?N={t:"b",v:!0}:A==="FALSE"?N={t:"b",v:!1}:isNaN(Vo(A))?isNaN(G0(A).getDate())||(N={t:"d",v:Ci(A)},n.cellDates||(N={t:"n",v:qi(N.v)}),N.z=n.dateNF||en[14]):N={t:"n",v:Vo(A)})),N.z===void 0&&I!=null&&(N.z=I);var R="",H=O.getElementsByTagName("A");if(H&&H.length)for(var X=0;X<H.length&&!(H[X].hasAttribute("href")&&(R=H[X].getAttribute("href"),R.charAt(0)!="#"));++X);R&&R.charAt(0)!="#"&&(N.l={Target:R}),n.dense?(r[y+i]||(r[y+i]=[]),r[y+i][E+a]=N):r[gr({c:E+a,r:y+i})]=N,u.e.c<E+a&&(u.e.c=E+a),E+=w}}++y}return h.length&&(r["!merges"]=(r["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,y-1+i),r["!ref"]=yn(u),y>=l&&(r["!fullref"]=yn((u.e.r=o.length-g+y-1+i,u))),r}function hW(r,e){var t=e||{},n=t.dense?[]:{};return fW(n,r,e)}function vTe(r,e){return jc(hW(r,e),e)}function GB(r){var e="",t=yTe(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function yTe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var xTe=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+K0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return bn+e}})(),WB=(function(){var r=function(a){return mr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+mr(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,h=Da(a["!ref"]||"A1"),p=a["!merges"]||[],m=0,g=Array.isArray(a);if(a["!cols"])for(c=0;c<=h.e.c;++c)l.push("        <table:table-column"+(a["!cols"][c]?' table:style-name="co'+a["!cols"][c].ods+'"':"")+`></table:table-column>
`);var y="",x=a["!rows"]||[];for(u=0;u<h.s.r;++u)y=x[u]?' table:style-name="ro'+x[u].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=h.e.r;++u){for(y=x[u]?' table:style-name="ro'+x[u].ods+'"':"",l.push("        <table:table-row"+y+`>
`),c=0;c<h.s.c;++c)l.push(e);for(;c<=h.e.c;++c){var E=!1,S={},w="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>c)&&!(p[m].s.r>u)&&!(p[m].e.c<c)&&!(p[m].e.r<u)){(p[m].s.c!=c||p[m].s.r!=u)&&(E=!0),S["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,S["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(E){l.push(t);continue}var T=gr({r:u,c}),_=g?(a[u]||[])[c]:a[T];if(_&&_.f&&(S["table:formula"]=mr(UEe(_.f)),_.F&&_.F.slice(0,T.length)==T)){var O=Da(_.F);S["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,S["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!_){l.push(e);continue}switch(_.t){case"b":w=_.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=_.v?"true":"false";break;case"n":w=_.w||String(_.v||0),S["office:value-type"]="float",S["office:value"]=_.v||0;break;case"s":case"str":w=_.v==null?"":_.v,S["office:value-type"]="string";break;case"d":w=_.w||Ci(_.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Ci(_.v).toISOString(),S["table:style-name"]="ce1";break;default:l.push(e);continue}var A=r(w);if(_.l&&_.l.Target){var I=_.l.Target;I=I.charAt(0)=="#"?"#"+jEe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),A=ht("text:a",A,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+ht("table:table-cell",ht("text:p",A,{}),S)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var h=u["!cols"][c];if(h.width==null&&h.wpx==null&&h.wch==null)continue;SC(h),h.ods=o;var p=u["!cols"][c].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var h=u["!rows"][c].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[bn],u=K0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=K0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(DG().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)l.push(n(s.Sheets[s.SheetNames[h]],s,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function dW(r,e){if(e.bookType=="fods")return WB(r,e);var t=cC(),n="",i=[],a=[];return n="mimetype",Ht(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ht(t,n,WB(r,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Ht(t,n,xTe(r,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Ht(t,n,bn+DG()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Ht(t,n,R1e(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ht(t,n,C1e(i)),t}function ix(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function bTe(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):ps(W0(r))}function STe(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function Su(r){var e=r.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function ETe(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)r[e+a]=i&255;r[e+15]|=t>=0?0:128}function Y0(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function ur(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function nh(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function wn(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=Y0(r,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=Y0(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Qn(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push(ur(n*8+i.type)),i.type==2&&e.push(ur(i.data.length)),e.push(i.data))})}),Su(e)}function ss(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=Y0(r,n),a=wn(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:nh(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=wn(o.data),u=nh(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=nh(a[3][0].data)>>>0>0),t.push(s)}return t}function Rf(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:ur(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:ur(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:ur(s.data.length)}],n[2].push({data:Qn(s.meta),type:2})});var a=Qn(n);e.push(ur(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),Su(e)}function wTe(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Y0(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,a==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Su(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=Su(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function os(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(wTe(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Su(e)}function kf(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var a=ur(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,t+=n}return Su(e)}function $w(r,e){var t=new Uint8Array(32),n=ix(t),i=12,a=0;switch(t[0]=5,r.t){case"n":t[1]=2,ETe(t,i,r.v),a|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,a,!0),t.slice(0,i)}function Hw(r,e){var t=new Uint8Array(32),n=ix(t),i=12,a=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),a|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,a,!0),t.slice(0,i)}function ql(r){var e=wn(r);return Y0(e[1][0].data)}function _Te(r,e,t){var n,i,a,s;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=r[8])==null?void 0:a[0])==null?void 0:s.data)&&nh(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=ix(r[7][0].data),c=0,h=[],p=ix(r[4][0].data),m=0,g=[],y=0;y<e.length;++y){if(e[y]==null){u.setUint16(y*2,65535,!0),p.setUint16(y*2,65535);continue}u.setUint16(y*2,c,!0),p.setUint16(y*2,m,!0);var x,E;switch(typeof e[y]){case"string":x=$w({t:"s",v:e[y]},t),E=Hw({t:"s",v:e[y]},t);break;case"number":x=$w({t:"n",v:e[y]},t),E=Hw({t:"n",v:e[y]},t);break;case"boolean":x=$w({t:"b",v:e[y]},t),E=Hw({t:"b",v:e[y]},t);break;default:throw new Error("Unsupported value "+e[y])}h.push(x),c+=x.length,g.push(E),m+=E.length,++l}for(r[2][0].data=ur(l);y<r[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),p.setUint16(y*2,65535,!0);return r[6][0].data=Su(h),r[3][0].data=Su(g),l}function TTe(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Da(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(yn(n)));var a=ax(t,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(V){return V.forEach(function(ee){typeof ee=="string"&&s.push(ee)})});var o={},l=[],u=Sr.read(e.numbers,{type:"base64"});u.FileIndex.map(function(V,ee){return[V,u.FullPaths[ee]]}).forEach(function(V){var ee=V[0],Z=V[1];if(ee.type==2&&ee.name.match(/\.iwa/)){var me=ee.content,ue=os(me),q=ss(ue);q.forEach(function(te){l.push(te.id),o[te.id]={deps:[],location:Z,type:nh(te.messages[0].meta[1][0].data)}})}}),l.sort(function(V,ee){return V-ee});var c=l.filter(function(V){return V>1}).map(function(V){return[V,ur(V)]});u.FileIndex.map(function(V,ee){return[V,u.FullPaths[ee]]}).forEach(function(V){var ee=V[0];if(V[1],!!ee.name.match(/\.iwa/)){var Z=ss(os(ee.content));Z.forEach(function(me){me.messages.forEach(function(ue){c.forEach(function(q){me.messages.some(function(te){return nh(te.meta[1][0].data)!=11006&&STe(te.data,q[1])})&&o[q[0]].deps.push(me.id)})})})}});for(var h=Sr.find(u,o[1].location),p=ss(os(h.content)),m,g=0;g<p.length;++g){var y=p[g];y.id==1&&(m=y)}var x=ql(wn(m.messages[0].data)[1][0].data);for(h=Sr.find(u,o[x].location),p=ss(os(h.content)),g=0;g<p.length;++g)y=p[g],y.id==x&&(m=y);for(x=ql(wn(m.messages[0].data)[2][0].data),h=Sr.find(u,o[x].location),p=ss(os(h.content)),g=0;g<p.length;++g)y=p[g],y.id==x&&(m=y);for(x=ql(wn(m.messages[0].data)[2][0].data),h=Sr.find(u,o[x].location),p=ss(os(h.content)),g=0;g<p.length;++g)y=p[g],y.id==x&&(m=y);var E=wn(m.messages[0].data);{E[6][0].data=ur(n.e.r+1),E[7][0].data=ur(n.e.c+1);var S=ql(E[46][0].data),w=Sr.find(u,o[S].location),T=ss(os(w.content));{for(var _=0;_<T.length&&T[_].id!=S;++_);if(T[_].id!=S)throw"Bad ColumnRowUIDMapArchive";var O=wn(T[_].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var A=0;A<=n.e.c;++A){var I=[];I[1]=I[2]=[{type:0,data:ur(A+420690)}],O[1].push({type:2,data:Qn(I)}),O[2].push({type:0,data:ur(A)}),O[3].push({type:0,data:ur(A)})}O[4]=[],O[5]=[],O[6]=[];for(var k=0;k<=n.e.r;++k)I=[],I[1]=I[2]=[{type:0,data:ur(k+726270)}],O[4].push({type:2,data:Qn(I)}),O[5].push({type:0,data:ur(k)}),O[6].push({type:0,data:ur(k)});T[_].messages[0].data=Qn(O)}w.content=kf(Rf(T)),w.size=w.content.length,delete E[46];var N=wn(E[4][0].data);{N[7][0].data=ur(n.e.r+1);var B=wn(N[1][0].data),R=ql(B[2][0].data);w=Sr.find(u,o[R].location),T=ss(os(w.content));{if(T[0].id!=R)throw"Bad HeaderStorageBucket";var H=wn(T[0].messages[0].data);for(k=0;k<a.length;++k){var X=wn(H[2][0].data);X[1][0].data=ur(k),X[4][0].data=ur(a[k].length),H[2][k]={type:H[2][0].type,data:Qn(X)}}T[0].messages[0].data=Qn(H)}w.content=kf(Rf(T)),w.size=w.content.length;var Y=ql(N[2][0].data);w=Sr.find(u,o[Y].location),T=ss(os(w.content));{if(T[0].id!=Y)throw"Bad HeaderStorageBucket";for(H=wn(T[0].messages[0].data),A=0;A<=n.e.c;++A)X=wn(H[2][0].data),X[1][0].data=ur(A),X[4][0].data=ur(n.e.r+1),H[2][A]={type:H[2][0].type,data:Qn(X)};T[0].messages[0].data=Qn(H)}w.content=kf(Rf(T)),w.size=w.content.length;var K=ql(N[4][0].data);(function(){for(var V=Sr.find(u,o[K].location),ee=ss(os(V.content)),Z,me=0;me<ee.length;++me){var ue=ee[me];ue.id==K&&(Z=ue)}var q=wn(Z.messages[0].data);{q[3]=[];var te=[];s.forEach(function(ne,Oe){te[1]=[{type:0,data:ur(Oe)}],te[2]=[{type:0,data:ur(1)}],te[3]=[{type:2,data:bTe(ne)}],q[3].push({type:2,data:Qn(te)})})}Z.messages[0].data=Qn(q);var re=Rf(ee),pe=kf(re);V.content=pe,V.size=V.content.length})();var z=wn(N[3][0].data);{var Q=z[1][0];delete z[2];var se=wn(Q.data);{var ae=ql(se[2][0].data);(function(){for(var V=Sr.find(u,o[ae].location),ee=ss(os(V.content)),Z,me=0;me<ee.length;++me){var ue=ee[me];ue.id==ae&&(Z=ue)}var q=wn(Z.messages[0].data);{delete q[6],delete z[7];var te=new Uint8Array(q[5][0].data);q[5]=[];for(var re=0,pe=0;pe<=n.e.r;++pe){var ne=wn(te);re+=_Te(ne,a[pe],s),ne[1][0].data=ur(pe),q[5].push({data:Qn(ne),type:2})}q[1]=[{type:0,data:ur(n.e.c+1)}],q[2]=[{type:0,data:ur(n.e.r+1)}],q[3]=[{type:0,data:ur(re)}],q[4]=[{type:0,data:ur(n.e.r+1)}]}Z.messages[0].data=Qn(q);var Oe=Rf(ee),be=kf(Oe);V.content=be,V.size=V.content.length})()}Q.data=Qn(se)}N[3][0].data=Qn(z)}E[4][0].data=Qn(N)}m.messages[0].data=Qn(E);var W=Rf(p),M=kf(W);return h.content=M,h.size=h.content.length,u}function ATe(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function AC(r){ATe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function DTe(r,e){return e.bookType=="ods"?dW(r,e):e.bookType=="numbers"?TTe(r,e):e.bookType=="xlsb"?OTe(r,e):CTe(r,e)}function OTe(r,e){zf=1024,r&&!r.SSF&&(r.SSF=Xi(en)),r&&r.SSF&&(E1(),S1(r.SSF),e.revssf=w1(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,m0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=qG.indexOf(e.bookType)>-1,i=_G();AC(e=e||{});var a=cC(),s="",o=0;if(e.cellXfs=[],Iu(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",Ht(a,s,OG(r.Props,e)),i.coreprops.push(s),fr(e.rels,2,s,tr.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(r.SheetNames[u]);r.Props.SheetNames=l}for(r.Props.Worksheets=r.Props.SheetNames.length,Ht(a,s,IG(r.Props)),i.extprops.push(s),fr(e.rels,3,s,tr.EXT_PROPS),r.Custprops!==r.Props&&oi(r.Custprops||{}).length>0&&(s="docProps/custom.xml",Ht(a,s,RG(r.Custprops)),i.custprops.push(s),fr(e.rels,4,s,tr.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var c={"!id":{}},h=r.Sheets[r.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+t,Ht(a,s,R_e(o-1,s,e,r,c)),i.sheets.push(s),fr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,tr.WS[0])}if(h){var m=h["!comments"],g=!1,y="";m&&m.length>0&&(y="xl/comments"+o+"."+t,Ht(a,y,L_e(m,y)),i.comments.push(y),fr(c,-1,"../comments"+o+"."+t,tr.CMNT),g=!0),h["!legacy"]&&g&&Ht(a,"xl/drawings/vmlDrawing"+o+".vml",zG(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}c["!id"].rId1&&Ht(a,AG(s),th(c))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,Ht(a,s,P_e(e.Strings,s,e)),i.strs.push(s),fr(e.wbrels,-1,"sharedStrings."+t,tr.SST)),s="xl/workbook."+t,Ht(a,s,I_e(r,s)),i.workbooks.push(s),fr(e.rels,1,s,tr.WB),s="xl/theme/theme1.xml",Ht(a,s,KG(r.Themes,e)),i.themes.push(s),fr(e.wbrels,-1,"theme/theme1.xml",tr.THEME),s="xl/styles."+t,Ht(a,s,k_e(r,s,e)),i.styles.push(s),fr(e.wbrels,-1,"styles."+t,tr.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",Ht(a,s,r.vbaraw),i.vba.push(s),fr(e.wbrels,-1,"vbaProject.bin",tr.VBA)),s="xl/metadata."+t,Ht(a,s,M_e(s)),i.metadata.push(s),fr(e.wbrels,-1,"metadata."+t,tr.XLMETA),Ht(a,"[Content_Types].xml",TG(i,e)),Ht(a,"_rels/.rels",th(e.rels)),Ht(a,"xl/_rels/workbook."+t+".rels",th(e.wbrels)),delete e.revssf,delete e.ssf,a}function CTe(r,e){zf=1024,r&&!r.SSF&&(r.SSF=Xi(en)),r&&r.SSF&&(E1(),S1(r.SSF),e.revssf=w1(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,m0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=qG.indexOf(e.bookType)>-1,i=_G();AC(e=e||{});var a=cC(),s="",o=0;if(e.cellXfs=[],Iu(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",Ht(a,s,OG(r.Props,e)),i.coreprops.push(s),fr(e.rels,2,s,tr.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(r.SheetNames[u]);r.Props.SheetNames=l}r.Props.Worksheets=r.Props.SheetNames.length,Ht(a,s,IG(r.Props)),i.extprops.push(s),fr(e.rels,3,s,tr.EXT_PROPS),r.Custprops!==r.Props&&oi(r.Custprops||{}).length>0&&(s="docProps/custom.xml",Ht(a,s,RG(r.Custprops)),i.custprops.push(s),fr(e.rels,4,s,tr.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,o=1;o<=r.SheetNames.length;++o){var h={"!id":{}},p=r.Sheets[r.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+t,Ht(a,s,iW(o-1,e,r,h)),i.sheets.push(s),fr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,tr.WS[0])}if(p){var g=p["!comments"],y=!1,x="";if(g&&g.length>0){var E=!1;g.forEach(function(S){S[1].forEach(function(w){w.T==!0&&(E=!0)})}),E&&(x="xl/threadedComments/threadedComment"+o+"."+t,Ht(a,x,sSe(g,c,e)),i.threadedcomments.push(x),fr(h,-1,"../threadedComments/threadedComment"+o+"."+t,tr.TCMNT)),x="xl/comments"+o+"."+t,Ht(a,x,VG(g)),i.comments.push(x),fr(h,-1,"../comments"+o+"."+t,tr.CMNT),y=!0}p["!legacy"]&&y&&Ht(a,"xl/drawings/vmlDrawing"+o+".vml",zG(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Ht(a,AG(s),th(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,Ht(a,s,UG(e.Strings,e)),i.strs.push(s),fr(e.wbrels,-1,"sharedStrings."+t,tr.SST)),s="xl/workbook."+t,Ht(a,s,oW(r)),i.workbooks.push(s),fr(e.rels,1,s,tr.WB),s="xl/theme/theme1.xml",Ht(a,s,KG(r.Themes,e)),i.themes.push(s),fr(e.wbrels,-1,"theme/theme1.xml",tr.THEME),s="xl/styles."+t,Ht(a,s,GG(r,e)),i.styles.push(s),fr(e.wbrels,-1,"styles."+t,tr.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",Ht(a,s,r.vbaraw),i.vba.push(s),fr(e.wbrels,-1,"vbaProject.bin",tr.VBA)),s="xl/metadata."+t,Ht(a,s,YG()),i.metadata.push(s),fr(e.wbrels,-1,"metadata."+t,tr.XLMETA),c.length>1&&(s="xl/persons/person.xml",Ht(a,s,oSe(c)),i.people.push(s),fr(e.wbrels,-1,"persons/person.xml",tr.PEOPLE)),Ht(a,"[Content_Types].xml",TG(i,e)),Ht(a,"_rels/.rels",th(e.rels)),Ht(a,"xl/_rels/workbook."+t+".rels",th(e.wbrels)),delete e.revssf,delete e.ssf,a}function ITe(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=sl(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function pW(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Pp(e.file,Sr.write(r,{type:ar?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Sr.write(r,e)}function RTe(r,e){var t=Xi(e||{}),n=DTe(r,t);return kTe(n,t)}function kTe(r,e){var t={},n=ar?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?Sr.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(b1(i))}return e.password&&typeof encrypt_agile<"u"?pW(encrypt_agile(i,e.password),e):e.type==="file"?Pp(e.file,i):e.type=="string"?f0(i):i}function PTe(r,e){var t=e||{},n=q_e(r,t);return pW(n,t)}function Ps(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return H0(W0(n));case"binary":return W0(n);case"string":return r;case"file":return Pp(e.file,n,"utf8");case"buffer":return ar?bl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ps(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function LTe(r,e){switch(e.type){case"base64":return H0(r);case"binary":return r;case"string":return r;case"file":return Pp(e.file,r,"binary");case"buffer":return ar?bl(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ig(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?H0(t):e.type=="string"?f0(t):t;case"file":return Pp(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function mW(r,e){lxe(),x_e(r);var t=Xi(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=mW(r,t);return t.type="array",b1(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ps(z_e(r,t),t);case"slk":case"sylk":return Ps(gbe.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return Ps(cW(r.Sheets[r.SheetNames[i]],t),t);case"txt":return LTe(gW(r.Sheets[r.SheetNames[i]],t),t);case"csv":return Ps(DC(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return Ps(vbe.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return Ig(mbe.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return Ps(ybe.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return Ps(Tbe.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return Ps(BG.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return Ps(dW(r,t),t);case"wk1":return Ig(FB.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return Ig(FB.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Ig(uW(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),PTe(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return RTe(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function MTe(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function NTe(r,e,t){var n={};return n.type="file",n.file=e,MTe(n),mW(r,n)}function FTe(r,e,t,n,i,a,s,o){var l=si(t),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!s||r[t])for(var m=e.s.c;m<=e.e.c;++m){var g=s?r[t][m]:r[n[m]+l];if(g===void 0||g.t===void 0){if(u===void 0)continue;a[m]!=null&&(p[a[m]]=u);continue}var y=g.v;switch(g.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[m]!=null){if(y==null)if(g.t=="e"&&y===null)p[a[m]]=null;else if(u!==void 0)p[a[m]]=u;else if(c&&y===null)p[a[m]]=null;else continue;else p[a[m]]=c&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?y:ol(g,y,o);y!=null&&(h=!1)}}return{row:p,isempty:h}}function ax(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Fr(c);break;case"number":l=Fr(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var h=si(l.s.r),p=[],m=[],g=0,y=0,x=Array.isArray(r),E=l.s.r,S=0,w={};x&&!r[E]&&(r[E]=[]);var T=u.skipHidden&&r["!cols"]||[],_=u.skipHidden&&r["!rows"]||[];for(S=l.s.c;S<=l.e.c;++S)if(!(T[S]||{}).hidden)switch(p[S]=vi(S),t=x?r[E][S]:r[p[S]+h],n){case 1:a[S]=S-l.s.c;break;case 2:a[S]=p[S];break;case 3:a[S]=u.header[S-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=ol(t,null,u),y=w[s]||0,!y)w[s]=1;else{do o=s+"_"+y++;while(w[o]);w[s]=y,w[o]=1}a[S]=o}for(E=l.s.r+i;E<=l.e.r;++E)if(!(_[E]||{}).hidden){var O=FTe(r,l,E,p,n,a,x,u);(O.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=O.row)}return m.length=g,m}var KB=/"/g;function BTe(r,e,t,n,i,a,s,o){for(var l=!0,u=[],c="",h=si(t),p=e.s.c;p<=e.e.c;++p)if(n[p]){var m=o.dense?(r[t]||[])[p]:r[n[p]+h];if(m==null)c="";else if(m.v!=null){l=!1,c=""+(o.rawNumbers&&m.t=="n"?m.v:ol(m,null,o));for(var g=0,y=0;g!==c.length;++g)if((y=c.charCodeAt(g))===i||y===a||y===34||o.forceQuotes){c='"'+c.replace(KB,'""')+'"';break}c=="ID"&&(c='"ID"')}else m.f!=null&&!m.F?(l=!1,c="="+m.f,c.indexOf(",")>=0&&(c='"'+c.replace(KB,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function DC(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Fr(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",h=[];n.dense=Array.isArray(r);for(var p=n.skipHidden&&r["!cols"]||[],m=n.skipHidden&&r["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(p[g]||{}).hidden||(h[g]=vi(g));for(var y=0,x=i.s.r;x<=i.e.r;++x)(m[x]||{}).hidden||(c=BTe(r,i,x,h,s,l,a,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&t.push((y++?o:"")+c)));return delete n.dense,t.join("")}function gW(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=DC(r,e);return t}function UTe(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Fr(r["!ref"]),a="",s=[],o,l=[],u=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)s[o]=vi(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=si(c),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=u?(r[c]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function vW(r,e,t){var n=t||{},i=+!n.skipHeader,a=r||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Bn(n.origin):n.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var h=Fr(a["!ref"]);c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),s==-1&&(s=h.e.r+1,c.e.r=s+e.length-1+i)}else s==-1&&(s=0,c.e.r=e.length-1+i);var p=n.header||[],m=0;e.forEach(function(y,x){oi(y).forEach(function(E){(m=p.indexOf(E))==-1&&(p[m=p.length]=E);var S=y[E],w="z",T="",_=gr({c:o+m,r:s+x+i});u=z0(a,_),S&&typeof S=="object"&&!(S instanceof Date)?a[_]=S:(typeof S=="number"?w="n":typeof S=="boolean"?w="b":typeof S=="string"?w="s":S instanceof Date?(w="d",n.cellDates||(w="n",S=qi(S)),T=n.dateNF||en[14]):S===null&&n.nullError&&(w="e",S=0),u?(u.t=w,u.v=S,delete u.w,delete u.R,T&&(u.z=T)):a[_]=u={t:w,v:S},T&&(u.z=T))})}),c.e.c=Math.max(c.e.c,o+p.length-1);var g=si(s);if(i)for(m=0;m<p.length;++m)a[vi(m+o)+g]={t:"s",v:p[m]};return a["!ref"]=yn(c),a}function jTe(r,e){return vW(null,r,e)}function z0(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Bn(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?z0(r,gr(e)):z0(r,gr({r:e,c:t||0}))}function $Te(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function HTe(){return{SheetNames:[],Sheets:{}}}function GTe(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=s+i)!=-1;++i);}if(sW(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function WTe(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=$Te(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function KTe(r,e){return r.z=e,r}function yW(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function YTe(r,e,t){return yW(r,"#"+e,t)}function zTe(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function VTe(r,e,t,n){for(var i=typeof e!="string"?e:Fr(e),a=typeof e=="string"?e:yn(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=z0(r,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=t,n&&(l.D=!0))}return r}var Gw={encode_col:vi,encode_row:si,encode_cell:gr,encode_range:yn,decode_col:gC,decode_row:mC,split_cell:l1e,decode_cell:Bn,decode_range:Da,format_cell:ol,sheet_add_aoa:yG,sheet_add_json:vW,sheet_add_dom:fW,aoa_to_sheet:Gh,json_to_sheet:jTe,table_to_sheet:hW,table_to_book:vTe,sheet_to_csv:DC,sheet_to_txt:gW,sheet_to_json:ax,sheet_to_html:cW,sheet_to_formulae:UTe,sheet_to_row_object_array:ax,sheet_get_cell:z0,book_new:HTe,book_append_sheet:GTe,book_set_sheet_visibility:WTe,cell_set_number_format:KTe,cell_set_hyperlink:yW,cell_set_internal_link:YTe,cell_add_comment:zTe,sheet_set_array_formula:VTe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function qTe(){const[r,e]=L.useState("current"),[t,n]=L.useState("all"),[i,a]=L.useState("1m"),[s,o]=L.useState({front:!0,back:!0,top:!0}),[l,u]=L.useState(!0),[c,h]=L.useState({temperature:null,humidity:null,lastUpdate:null}),[p,m]=L.useState({temperature:null,humidity:null,lastUpdate:null}),[g,y]=L.useState({temperature:null,humidity:null,lastUpdate:null}),[x,E]=L.useState([]),[S,w]=L.useState({temperature:null,humidity:null}),[T,_]=L.useState(new Date),[O,A]=L.useState(new Date),[I,k]=L.useState([]),[N,B]=L.useState(!1),[R,H]=L.useState(1),X=30,[Y]=L.useState({rootTemp:null,rootHumidity:null,ec:null,ph:null,tankLevel:null,co2:null,ppfd:null});L.useEffect(()=>{const q=async()=>{try{const re=await fetch("/api/smartfarm/get_realtime_sensor_data.php");u(re.ok)}catch{u(!1)}};q();const te=setInterval(q,1e4);return()=>clearInterval(te)},[]),L.useEffect(()=>{const q=async()=>{try{const pe=await(await fetch("/api/smartfarm/get_realtime_sensor_data.php")).json();if(pe.success){const ne=pe.data;h({temperature:ne.front.temperature,humidity:ne.front.humidity,lastUpdate:ne.front.lastUpdate?Date.now():null}),m({temperature:ne.back.temperature,humidity:ne.back.humidity,lastUpdate:ne.back.lastUpdate?Date.now():null}),y({temperature:ne.top.temperature,humidity:ne.top.humidity,lastUpdate:ne.top.lastUpdate?Date.now():null})}}catch(re){console.error("Failed to fetch sensor data:",re)}};q();const te=setInterval(q,1e3);return()=>clearInterval(te)},[]);const K=(q,te)=>{if(q.length===0)return[];const re=be=>{const fe=new Date(be),he=fe.getFullYear(),ye=String(fe.getMonth()+1).padStart(2,"0"),Ie=String(fe.getDate()).padStart(2,"0"),$e=String(fe.getHours()).padStart(2,"0"),Ge=fe.getMinutes();switch(te){case"1m":return`${ye}/${Ie} ${$e}:${String(Ge).padStart(2,"0")}`;case"5m":return`${ye}/${Ie} ${$e}:${String(Math.floor(Ge/5)*5).padStart(2,"0")}`;case"10m":return`${ye}/${Ie} ${$e}:${String(Math.floor(Ge/10)*10).padStart(2,"0")}`;case"1h":return`${ye}/${Ie} ${$e}:00`;case"1d":return`${ye}/${Ie}`;case"1w":const Ee=new Date(fe);return Ee.setDate(fe.getDate()-fe.getDay()),`${Ee.getMonth()+1}/${Ee.getDate()}`;case"1M":return`${he}/${ye}`;default:return`${ye}/${Ie} ${$e}:${String(Ge).padStart(2,"0")}`}},pe=new Map;q.forEach(be=>{const fe=re(be.recorded_at);pe.has(fe)||pe.set(fe,{frontTemps:[],backTemps:[],topTemps:[],frontHums:[],backHums:[],topHums:[]});const he=pe.get(fe),ye=be.sensor_location;ye==="front"?(be.temperature!==null&&he.frontTemps.push(parseFloat(be.temperature)),be.humidity!==null&&he.frontHums.push(parseFloat(be.humidity))):ye==="back"?(be.temperature!==null&&he.backTemps.push(parseFloat(be.temperature)),be.humidity!==null&&he.backHums.push(parseFloat(be.humidity))):ye==="top"&&(be.temperature!==null&&he.topTemps.push(parseFloat(be.temperature)),be.humidity!==null&&he.topHums.push(parseFloat(be.humidity)))});const ne=be=>be.length>0?be.reduce((fe,he)=>fe+he,0)/be.length:null,Oe=[];return pe.forEach((be,fe)=>{Oe.push({timestamp:fe,frontTemp:ne(be.frontTemps),backTemp:ne(be.backTemps),topTemp:ne(be.topTemps),frontHum:ne(be.frontHums),backHum:ne(be.backHums),topHum:ne(be.topHums)})}),Oe.reverse()};L.useEffect(()=>{(async()=>{try{const te=new Date,re=new Date;if(r==="current")switch(i){case"1m":re.setMinutes(re.getMinutes()-30);break;case"5m":re.setHours(re.getHours()-2);break;case"10m":re.setHours(re.getHours()-4);break;case"1h":re.setHours(re.getHours()-24);break;case"1d":re.setDate(re.getDate()-7);break;case"1w":re.setMonth(re.getMonth()-1);break;case"1M":re.setMonth(re.getMonth()-6);break}else r==="1h"?re.setHours(re.getHours()-1):r==="1w"?re.setDate(re.getDate()-7):r==="1m"&&re.setMonth(re.getMonth()-1);const pe=re.toISOString().split("T")[0],ne=te.toISOString().split("T")[0],be=await(await fetch(`/api/smartfarm/get_sensor_data.php?start_date=${pe}&end_date=${ne}`)).json();if(be.success&&be.data){const fe=be.data.filter(ye=>new Date(ye.recorded_at)>=re),he=K(fe,i);E(he)}}catch(te){console.error("Failed to load chart data:",te)}})()},[r,i]),L.useEffect(()=>{if(!(i!=="1m"||r!=="current")&&(c.temperature!==null||p.temperature!==null||g.temperature!==null)){const q={timestamp:new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),frontTemp:c.temperature,backTemp:p.temperature,topTemp:g.temperature,frontHum:c.humidity,backHum:p.humidity,topHum:g.humidity};E(te=>[...te,q].slice(-30))}},[c,p,g,r,i]),L.useEffect(()=>{if(x.length>0){const q=x.slice(-10),te=q.reduce((pe,ne)=>{const Oe=[ne.frontTemp,ne.backTemp,ne.topTemp].filter(be=>be!==null);return pe+(Oe.length>0?Oe.reduce((be,fe)=>be+fe,0)/Oe.length:0)},0)/q.length,re=q.reduce((pe,ne)=>{const Oe=[ne.frontHum,ne.backHum,ne.topHum].filter(be=>be!==null);return pe+(Oe.length>0?Oe.reduce((be,fe)=>be+fe,0)/Oe.length:0)},0)/q.length;w({temperature:isNaN(te)?null:parseFloat(te.toFixed(1)),humidity:isNaN(re)?null:parseFloat(re.toFixed(1))})}},[x]);const z=async()=>{if(!(!T||!O)){B(!0),H(1);try{const q=T.toISOString().split("T")[0],te=O.toISOString().split("T")[0],pe=await(await fetch(`/api/smartfarm/get_sensor_data.php?start_date=${q}&end_date=${te}`)).json();pe.success?k(pe.data):console.error("Failed to load historical data:",pe.error)}catch(q){console.error("Error loading historical data:",q)}finally{B(!1)}}},Q=()=>{if(I.length===0){alert("  .");return}const q=I.map(be=>({:be.sensor_location==="front"?" ":be.sensor_location==="back"?" ":be.sensor_location==="top"?"":be.sensor_location," (C)":be.temperature??"-"," (%)":be.humidity??"-"," ":new Date(be.recorded_at).toLocaleString("ko-KR")})),te=Gw.json_to_sheet(q),re=Gw.book_new();Gw.book_append_sheet(re,te," ");const pe=T?.toISOString().split("T")[0]||"",ne=O?.toISOString().split("T")[0]||"",Oe=`_${pe}_${ne}.xlsx`;NTe(re,Oe)},se=Math.ceil(I.length/X),ae=(R-1)*X,W=ae+X,M=I.slice(ae,W),V=q=>{q>=1&&q<=se&&H(q)},ee=[c.temperature,p.temperature,g.temperature].filter(q=>q!==null),Z=[c.humidity,p.humidity,g.humidity].filter(q=>q!==null),me=ee.length>0?ee.reduce((q,te)=>q+te,0)/ee.length:null,ue=Z.length>0?Z.reduce((q,te)=>q+te,0)/Z.length:null;return F.jsx("div",{className:"bg-gray-50 min-h-screen",children:F.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[F.jsx("header",{className:"bg-farm-500 p-3 sm:p-4 sm:px-6 rounded-lg sm:rounded-xl mb-3 sm:mb-6",children:F.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"text-lg sm:text-2xl font-bold m-0",children:" "}),F.jsx("p",{className:"text-xs sm:text-sm text-gray-800 mt-1 m-0 hidden sm:block",children:", , EC, pH     "})]}),F.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white/20 px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg self-start sm:self-auto",children:[F.jsx("div",{className:`w-2 sm:w-3 h-2 sm:h-3 rounded-full flex-shrink-0 ${l?"bg-green-300 animate-pulse":"bg-red-300"}`}),F.jsxs("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap",children:[" ",l?" ":""]})]})]})}),F.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-4 mb-3 sm:mb-6",children:[F.jsxs("section",{className:"col-span-1",children:[F.jsx("header",{className:"bg-farm-500 px-2 sm:px-3 py-1.5 sm:py-2 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h3",{className:"text-xs sm:text-sm font-semibold m-0",children:""})}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-3 space-y-2 sm:space-y-3",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5 sm:mb-1",children:" "}),F.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:[me!==null?me.toFixed(1):"0.0","C"]})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5 sm:mb-1",children:" "}),F.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:[ue!==null?ue.toFixed(1):"0.0","%"]})]})]})]}),F.jsxs("section",{className:"col-span-1",children:[F.jsx("header",{className:"bg-farm-500 px-2 sm:px-3 py-1.5 sm:py-2 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h3",{className:"text-xs sm:text-sm font-semibold m-0",children:" "})}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-3 space-y-1.5 sm:space-y-2",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:""}),F.jsxs("div",{className:"text-base sm:text-xl font-semibold text-green-600",children:[c.temperature!==null?c.temperature.toFixed(1):"0.0","C"]})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:""}),F.jsxs("div",{className:"text-base sm:text-xl font-semibold text-blue-600",children:[c.humidity!==null?c.humidity.toFixed(1):"0.0","%"]})]})]})]}),F.jsxs("section",{className:"col-span-1",children:[F.jsx("header",{className:"bg-farm-500 px-2 sm:px-3 py-1.5 sm:py-2 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h3",{className:"text-xs sm:text-sm font-semibold m-0",children:" "})}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-3 space-y-1.5 sm:space-y-2",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:""}),F.jsxs("div",{className:"text-base sm:text-xl font-semibold text-green-600",children:[p.temperature!==null?p.temperature.toFixed(1):"0.0","C"]})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:""}),F.jsxs("div",{className:"text-base sm:text-xl font-semibold text-blue-600",children:[p.humidity!==null?p.humidity.toFixed(1):"0.0","%"]})]})]})]}),F.jsxs("section",{className:"col-span-1",children:[F.jsx("header",{className:"bg-farm-500 px-2 sm:px-3 py-1.5 sm:py-2 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h3",{className:"text-xs sm:text-sm font-semibold m-0",children:""})}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-3 space-y-1.5 sm:space-y-2",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:""}),F.jsxs("div",{className:"text-base sm:text-xl font-semibold text-green-600",children:[g.temperature!==null?g.temperature.toFixed(1):"0.0","C"]})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:""}),F.jsxs("div",{className:"text-base sm:text-xl font-semibold text-blue-600",children:[g.humidity!==null?g.humidity.toFixed(1):"0.0","%"]})]})]})]}),F.jsxs("section",{className:"col-span-2 sm:col-span-1",children:[F.jsx("header",{className:"bg-farm-500 px-2 sm:px-3 py-1.5 sm:py-2 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h3",{className:"text-xs sm:text-sm font-semibold m-0",children:"10 "})}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-3 space-y-2 sm:space-y-3",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5 sm:mb-1",children:" "}),F.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:[S.temperature!==null?S.temperature.toFixed(1):"0.0","C"]})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 mb-0.5 sm:mb-1",children:" "}),F.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:[S.humidity!==null?S.humidity.toFixed(1):"0.0","%"]})]})]})]})]}),F.jsxs("section",{className:"mb-3 sm:mb-6",children:[F.jsx("header",{className:"bg-farm-500 px-3 sm:px-6 py-2 sm:py-4 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h2",{className:"text-sm sm:text-xl font-semibold m-0",children:" "})}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-3 sm:p-6",children:[F.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 items-end",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:" "}),F.jsx(aB,{selected:T,onChange:q=>_(q),dateFormat:"yyyy-MM-dd",className:"w-full px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-base",maxDate:new Date})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:" "}),F.jsx(aB,{selected:O,onChange:q=>A(q),dateFormat:"yyyy-MM-dd",className:"w-full px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-base",maxDate:new Date})]}),F.jsx("div",{className:"col-span-2 sm:col-span-1",children:F.jsx("button",{onClick:z,disabled:N,className:"w-full px-3 sm:px-6 py-1.5 sm:py-2 bg-farm-500 text-gray-900 rounded-lg text-xs sm:text-base font-medium hover:bg-farm-600 active:bg-farm-700 disabled:opacity-50 disabled:cursor-not-allowed",children:N?" ...":""})})]}),I.length>0&&F.jsxs("div",{className:"mt-6",children:[F.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4",children:[F.jsxs("p",{className:"text-sm text-gray-600",children:[" ",I.length,"  ",ae+1," - ",Math.min(W,I.length)," "]}),F.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 flex items-center gap-2 text-sm",children:[F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:F.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})," "]})]}),F.jsx("div",{className:"overflow-x-auto",children:F.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[F.jsx("thead",{className:"bg-gray-50",children:F.jsxs("tr",{children:[F.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""}),F.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" (C)"}),F.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" (%)"}),F.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:" "})]})}),F.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map((q,te)=>F.jsxs("tr",{className:"hover:bg-gray-50",children:[F.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:q.sensor_location==="front"?" ":q.sensor_location==="back"?" ":q.sensor_location==="top"?"":q.sensor_location}),F.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:q.temperature??"-"}),F.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:q.humidity??"-"}),F.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(q.recorded_at).toLocaleString("ko-KR")})]},te))})]})}),se>1&&F.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-1 sm:gap-2 mt-4",children:[F.jsx("button",{onClick:()=>V(1),disabled:R===1,className:"px-2 sm:px-3 py-1 rounded border border-gray-300 text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:""}),F.jsx("button",{onClick:()=>V(R-1),disabled:R===1,className:"px-2 sm:px-3 py-1 rounded border border-gray-300 text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:""}),Array.from({length:Math.min(5,se)},(q,te)=>{let re;return se<=5||R<=3?re=te+1:R>=se-2?re=se-4+te:re=R-2+te,F.jsx("button",{onClick:()=>V(re),className:`px-2 sm:px-3 py-1 rounded text-xs sm:text-sm ${R===re?"bg-farm-500 text-gray-900 font-semibold":"border border-gray-300 hover:bg-gray-100"}`,children:re},re)}),F.jsx("button",{onClick:()=>V(R+1),disabled:R===se,className:"px-2 sm:px-3 py-1 rounded border border-gray-300 text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:""}),F.jsx("button",{onClick:()=>V(se),disabled:R===se,className:"px-2 sm:px-3 py-1 rounded border border-gray-300 text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:""})]})]})]})]}),F.jsxs("section",{className:"mb-3 sm:mb-6",children:[F.jsx("header",{className:"bg-farm-500 px-3 sm:px-6 py-2 sm:py-4 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h2",{className:"text-sm sm:text-xl font-semibold m-0",children:"  "})}),F.jsx("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-3 sm:p-6",children:F.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:""}),F.jsxs("select",{value:r,onChange:q=>e(q.target.value),className:"w-full px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-base",children:[F.jsx("option",{value:"current",children:""}),F.jsx("option",{value:"1h",children:" 1"}),F.jsx("option",{value:"1w",children:" 1"}),F.jsx("option",{value:"1m",children:" 1"})]})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Zone"}),F.jsxs("select",{value:t,onChange:q=>n(q.target.value),className:"w-full px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-base",children:[F.jsx("option",{value:"all",children:""}),F.jsx("option",{value:"zone_a",children:"Zone A"}),F.jsx("option",{value:"zone_b",children:"Zone B"}),F.jsx("option",{value:"zone_c",children:"Zone C"})]})]})]})})]}),F.jsxs("section",{className:"mb-3 sm:mb-6",children:[F.jsx("header",{className:"bg-farm-500 px-3 sm:px-6 py-2 sm:py-4 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h2",{className:"text-sm sm:text-xl font-semibold m-0",children:"  "})}),F.jsx("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-3 sm:p-6",children:F.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[{value:"1m",label:"1"},{value:"5m",label:"5"},{value:"10m",label:"10"},{value:"1h",label:"1"},{value:"1d",label:"1"},{value:"1w",label:"1"},{value:"1M",label:"1"}].map(q=>F.jsx("button",{onClick:()=>a(q.value),className:`px-3 sm:px-5 py-1.5 sm:py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all ${i===q.value?"bg-farm-500 text-gray-900 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:q.label},q.value))})})]}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-6 mb-3 sm:mb-6",children:[F.jsxs("section",{children:[F.jsxs("header",{className:"bg-farm-500 px-3 sm:px-6 py-2 sm:py-4 rounded-t-lg sm:rounded-t-xl",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2",children:[F.jsx("h2",{className:"text-sm sm:text-xl font-semibold m-0",children:"  "}),F.jsxs("span",{className:"text-xs sm:text-sm text-gray-800 bg-white/30 px-2 py-1 rounded",children:[i==="1m"?"1":i==="5m"?"5":i==="10m"?"10":i==="1h"?"1":i==="1d"?"1":i==="1w"?"1":"1"," "]})]}),F.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-xs sm:text-sm",children:[F.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer bg-white/20 px-2 py-1 rounded",children:[F.jsx("input",{type:"checkbox",checked:s.front,onChange:q=>o({...s,front:q.target.checked}),className:"w-3.5 h-3.5 accent-green-500"}),F.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),F.jsx("span",{children:""}),x.length>0&&s.front&&F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-700",children:["(",(()=>{const q=x.map(ne=>ne.frontTemp).filter(ne=>ne!==null);if(q.length===0)return"-";const te=Math.min(...q).toFixed(1),re=Math.max(...q).toFixed(1),pe=(q.reduce((ne,Oe)=>ne+Oe,0)/q.length).toFixed(1);return`${te}~${re}, ${pe}`})(),")"]})]}),F.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer bg-white/20 px-2 py-1 rounded",children:[F.jsx("input",{type:"checkbox",checked:s.back,onChange:q=>o({...s,back:q.target.checked}),className:"w-3.5 h-3.5 accent-blue-500"}),F.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),F.jsx("span",{children:""}),x.length>0&&s.back&&F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-700",children:["(",(()=>{const q=x.map(ne=>ne.backTemp).filter(ne=>ne!==null);if(q.length===0)return"-";const te=Math.min(...q).toFixed(1),re=Math.max(...q).toFixed(1),pe=(q.reduce((ne,Oe)=>ne+Oe,0)/q.length).toFixed(1);return`${te}~${re}, ${pe}`})(),")"]})]}),F.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer bg-white/20 px-2 py-1 rounded",children:[F.jsx("input",{type:"checkbox",checked:s.top,onChange:q=>o({...s,top:q.target.checked}),className:"w-3.5 h-3.5 accent-amber-500"}),F.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-amber-500"}),F.jsx("span",{children:""}),x.length>0&&s.top&&F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-700",children:["(",(()=>{const q=x.map(ne=>ne.topTemp).filter(ne=>ne!==null);if(q.length===0)return"-";const te=Math.min(...q).toFixed(1),re=Math.max(...q).toFixed(1),pe=(q.reduce((ne,Oe)=>ne+Oe,0)/q.length).toFixed(1);return`${te}~${re}, ${pe}`})(),")"]})]})]})]}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-6",children:[x.length===0?F.jsx("div",{className:"flex items-center justify-center h-32 sm:h-64 text-xs sm:text-base text-gray-500",children:"  ..."}):F.jsx($N,{width:"100%",height:300,children:F.jsxs(b4,{data:x,margin:{top:10,right:10,left:0,bottom:5},children:[F.jsx(c2,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),F.jsx(h2,{dataKey:"timestamp",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60,interval:"preserveStartEnd",label:{value:"",position:"insideBottom",offset:-5,fontSize:11}}),F.jsx(p2,{tick:{fontSize:10},domain:["dataMin - 2","dataMax + 2"],tickFormatter:q=>`${q}`,label:{value:"(C)",angle:-90,position:"insideLeft",fontSize:11}}),F.jsx(D3,{formatter:(q,te)=>[`${q?.toFixed(1)}C`,te],labelFormatter:q=>`: ${q}`,labelStyle:{fontSize:12,fontWeight:"bold"},contentStyle:{fontSize:12,borderRadius:8}}),F.jsx(jA,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"}}),s.front&&F.jsx(ec,{type:"monotone",dataKey:"frontTemp",stroke:"#22c55e",name:" ",strokeWidth:2,dot:x.length<30,connectNulls:!0,activeDot:{r:6}}),s.back&&F.jsx(ec,{type:"monotone",dataKey:"backTemp",stroke:"#3b82f6",name:" ",strokeWidth:2,dot:x.length<30,connectNulls:!0,activeDot:{r:6}}),s.top&&F.jsx(ec,{type:"monotone",dataKey:"topTemp",stroke:"#f59e0b",name:"",strokeWidth:2,dot:x.length<30,connectNulls:!0,activeDot:{r:6}})]})}),x.length>0&&F.jsxs("div",{className:"text-[10px] sm:text-xs text-gray-500 text-right mt-2",children:[" : ",x.length,""]})]})]}),F.jsxs("section",{children:[F.jsxs("header",{className:"bg-farm-500 px-3 sm:px-6 py-2 sm:py-4 rounded-t-lg sm:rounded-t-xl",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2",children:[F.jsx("h2",{className:"text-sm sm:text-xl font-semibold m-0",children:"  "}),F.jsxs("span",{className:"text-xs sm:text-sm text-gray-800 bg-white/30 px-2 py-1 rounded",children:[i==="1m"?"1":i==="5m"?"5":i==="10m"?"10":i==="1h"?"1":i==="1d"?"1":i==="1w"?"1":"1"," "]})]}),F.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-xs sm:text-sm",children:[F.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer bg-white/20 px-2 py-1 rounded",children:[F.jsx("input",{type:"checkbox",checked:s.front,onChange:q=>o({...s,front:q.target.checked}),className:"w-3.5 h-3.5 accent-green-500"}),F.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),F.jsx("span",{children:""}),x.length>0&&s.front&&F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-700",children:["(",(()=>{const q=x.map(ne=>ne.frontHum).filter(ne=>ne!==null);if(q.length===0)return"-";const te=Math.min(...q).toFixed(1),re=Math.max(...q).toFixed(1),pe=(q.reduce((ne,Oe)=>ne+Oe,0)/q.length).toFixed(1);return`${te}~${re}%, ${pe}%`})(),")"]})]}),F.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer bg-white/20 px-2 py-1 rounded",children:[F.jsx("input",{type:"checkbox",checked:s.back,onChange:q=>o({...s,back:q.target.checked}),className:"w-3.5 h-3.5 accent-blue-500"}),F.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),F.jsx("span",{children:""}),x.length>0&&s.back&&F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-700",children:["(",(()=>{const q=x.map(ne=>ne.backHum).filter(ne=>ne!==null);if(q.length===0)return"-";const te=Math.min(...q).toFixed(1),re=Math.max(...q).toFixed(1),pe=(q.reduce((ne,Oe)=>ne+Oe,0)/q.length).toFixed(1);return`${te}~${re}%, ${pe}%`})(),")"]})]}),F.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer bg-white/20 px-2 py-1 rounded",children:[F.jsx("input",{type:"checkbox",checked:s.top,onChange:q=>o({...s,top:q.target.checked}),className:"w-3.5 h-3.5 accent-amber-500"}),F.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-amber-500"}),F.jsx("span",{children:""}),x.length>0&&s.top&&F.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-700",children:["(",(()=>{const q=x.map(ne=>ne.topHum).filter(ne=>ne!==null);if(q.length===0)return"-";const te=Math.min(...q).toFixed(1),re=Math.max(...q).toFixed(1),pe=(q.reduce((ne,Oe)=>ne+Oe,0)/q.length).toFixed(1);return`${te}~${re}%, ${pe}%`})(),")"]})]})]})]}),F.jsxs("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-2 sm:p-6",children:[x.length===0?F.jsx("div",{className:"flex items-center justify-center h-32 sm:h-64 text-xs sm:text-base text-gray-500",children:"  ..."}):F.jsx($N,{width:"100%",height:300,children:F.jsxs(b4,{data:x,margin:{top:10,right:10,left:0,bottom:5},children:[F.jsx(c2,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),F.jsx(h2,{dataKey:"timestamp",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60,interval:"preserveStartEnd",label:{value:"",position:"insideBottom",offset:-5,fontSize:11}}),F.jsx(p2,{tick:{fontSize:10},domain:["dataMin - 5","dataMax + 5"],tickFormatter:q=>`${q}%`,label:{value:"(%)",angle:-90,position:"insideLeft",fontSize:11}}),F.jsx(D3,{formatter:(q,te)=>[`${q?.toFixed(1)}%`,te],labelFormatter:q=>`: ${q}`,labelStyle:{fontSize:12,fontWeight:"bold"},contentStyle:{fontSize:12,borderRadius:8}}),F.jsx(jA,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"}}),s.front&&F.jsx(ec,{type:"monotone",dataKey:"frontHum",stroke:"#22c55e",name:" ",strokeWidth:2,dot:x.length<30,connectNulls:!0,activeDot:{r:6}}),s.back&&F.jsx(ec,{type:"monotone",dataKey:"backHum",stroke:"#3b82f6",name:" ",strokeWidth:2,dot:x.length<30,connectNulls:!0,activeDot:{r:6}}),s.top&&F.jsx(ec,{type:"monotone",dataKey:"topHum",stroke:"#f59e0b",name:"",strokeWidth:2,dot:x.length<30,connectNulls:!0,activeDot:{r:6}})]})}),x.length>0&&F.jsxs("div",{className:"text-[10px] sm:text-xs text-gray-500 text-right mt-2",children:[" : ",x.length,""]})]})]})]}),F.jsxs("section",{className:"mb-3 sm:mb-6",children:[F.jsx("header",{className:"bg-farm-500 px-3 sm:px-6 py-2 sm:py-4 rounded-t-lg sm:rounded-t-xl",children:F.jsx("h2",{className:"text-sm sm:text-xl font-semibold m-0",children:"  "})}),F.jsx("div",{className:"bg-white rounded-b-lg sm:rounded-b-xl shadow-card p-3 sm:p-6",children:F.jsxs("dl",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:[F.jsx(Vu,{label:" ",value:Y.rootTemp,unit:"C"}),F.jsx(Vu,{label:" ",value:Y.rootHumidity,unit:"%"}),F.jsx(Vu,{label:"EC",value:Y.ec,unit:"mS/cm"}),F.jsx(Vu,{label:"pH",value:Y.ph,unit:""}),F.jsx(Vu,{label:" ",value:Y.tankLevel,unit:"%"}),F.jsx(Vu,{label:"CO",value:Y.co2,unit:"ppm"}),F.jsx(Vu,{label:"PPFD",value:Y.ppfd,unit:"mol/m/s"})]})})]})]})})}const yt=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},XTe=Number.isSafeInteger||function(r){return typeof r=="number"&&Math.abs(r)<=QTe},QTe=Number.MAX_SAFE_INTEGER||9007199254740991;let Dt=(function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r})({}),Me=(function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",r.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",r.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.ASSET_LIST_LOAD_ERROR="assetListLoadError",r.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",r.ASSET_LIST_PARSING_ERROR="assetListParsingError",r.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.ATTACH_MEDIA_ERROR="attachMediaError",r.UNKNOWN="unknown",r})({}),G=(function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.MEDIA_ENDED="hlsMediaEnded",r.STALL_RESOLVED="hlsStallResolved",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFERED_TO_END="hlsBufferedToEnd",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",r.ASSET_LIST_LOADING="hlsAssetListLoading",r.ASSET_LIST_LOADED="hlsAssetListLoaded",r.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",r.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",r.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",r.INTERSTITIAL_STARTED="hlsInterstitialStarted",r.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",r.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",r.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",r.INTERSTITIAL_ENDED="hlsInterstitialEnded",r.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",r.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",r.EVENT_CUE_ENTER="hlsEventCueEnter",r})({});var Wt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Et={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Pf{constructor(e,t=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class ZTe{constructor(e,t,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Pf(e),this.fast_=new Pf(t),this.defaultTTFB_=i,this.ttfb_=new Pf(e)}update(e,t){const{slow_:n,fast_:i,ttfb_:a}=this;n.halfLife!==e&&(this.slow_=new Pf(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==t&&(this.fast_=new Pf(t,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new Pf(e,a.getEstimate(),a.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const n=8*t,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function JTe(r,e,t){return(e=tAe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Er(){return Er=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Er.apply(null,arguments)}function YB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(t),!0).forEach(function(n){JTe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function eAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tAe(r){var e=eAe(r,"string");return typeof e=="symbol"?e:e+""}class es{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=nu,this.debug=t.debug.bind(null,n),this.log=t.log.bind(null,n),this.warn=t.warn.bind(null,n),this.info=t.info.bind(null,n),this.error=t.error.bind(null,n)}}const nu=function(){},rAe={trace:nu,debug:nu,log:nu,warn:nu,info:nu,error:nu};function D2(){return Er({},rAe)}function nAe(r,e){const t=self.console[r];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${r}] >`):nu}function zB(r,e,t){return e[r]?e[r].bind(e):nAe(r,t)}const O2=D2();function iAe(r,e,t){const n=D2();if(typeof console=="object"&&r===!0||typeof r=="object"){const i=["debug","log","info","warn","error"];i.forEach(a=>{n[a]=zB(a,r,t)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return D2()}i.forEach(a=>{O2[a]=zB(a,r)})}else Er(O2,n);return n}const pr=O2;function Eu(r=!0){return typeof self>"u"?void 0:(r||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function aAe(r){return typeof self<"u"&&r===self.ManagedMediaSource}function xW(r,e){const t=Object.keys(r),n=Object.keys(e),i=t.length,a=n.length;return!i||!a||i===a&&!t.some(s=>n.indexOf(s)===-1)}function Ta(r,e=!1){if(typeof TextDecoder<"u"){const u=new TextDecoder("utf-8").decode(r);if(e){const c=u.indexOf("\0");return c!==-1?u.substring(0,c):u}return u.replace(/\0/g,"")}const t=r.length;let n,i,a,s="",o=0;for(;o<t;){if(n=r[o++],n===0&&e)return s;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(n);break;case 12:case 13:i=r[o++],s+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=r[o++],a=r[o++],s+=String.fromCharCode((n&15)<<12|(i&63)<<6|(a&63)<<0);break}}return s}function ti(r){let e="";for(let t=0;t<r.length;t++){let n=r[t].toString(16);n.length<2&&(n="0"+n),e+=n}return e}function bW(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function sAe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ww={exports:{}},VB;function oAe(){return VB||(VB=1,(function(r,e){(function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");return h.path=o.normalizePath(h.path),o.buildURLFromParts(h)}var p=o.parseURL(u);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return c.alwaysNormalize?(p.path=o.normalizePath(p.path),o.buildURLFromParts(p)):u;var m=o.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var y={scheme:m.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(y.netLoc=m.netLoc,p.path[0]!=="/"))if(!p.path)y.path=m.path,p.params||(y.params=m.params,p.query||(y.query=m.query));else{var x=m.path,E=x.substring(0,x.lastIndexOf("/")+1)+p.path;y.path=o.normalizePath(E)}return y.path===null&&(y.path=c.alwaysNormalize?o.normalizePath(p.path):p.path),o.buildURLFromParts(y)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};r.exports=o})()})(Ww)),Ww.exports}var OC=oAe();class CC{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Tr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class SW{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,uAe(this,"stats")}setByteRange(e,t){const n=e.split("@",2);let i;n.length===1?i=t?.byteRangeEndOffset||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Tr.AUDIO]:null,[Tr.VIDEO]:null,[Tr.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new CC),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=OC.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Tr.AUDIO]=null,e[Tr.VIDEO]=null,e[Tr.AUDIOVIDEO]=null}}function ln(r){return r.sn!=="initSegment"}class Kw extends SW{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],t=this.byteRange[1];if(yt(e)&&yt(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:t}=this;if(!t||t.NONE)return null;if(t.identity)this._decryptdata||(this._decryptdata=t.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const n=Object.keys(t);if(n.length===1){const i=this._decryptdata=t[n[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,t))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=yt(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var t;const n=Object.keys(this.levelkeys),i=n.length;if(i>1||i===1&&(t=this.levelkeys[n[0]])!=null&&t.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!yt(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return ln(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const t=this.levelkeys;if(t){var n;const i=t[e];i&&!((n=this._decryptdata)!=null&&n.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,t))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,n,i,a,s=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:t,endPTS:n,startDTS:i,endDTS:a,partial:s};return}l.startPTS=Math.min(l.startPTS,t),l.endPTS=Math.max(l.endPTS,n),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,a)}}class lAe extends SW{constructor(e,t,n,i,a){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=i;const s=e.enumeratedString("BYTERANGE");s&&this.setByteRange(s,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function EW(r,e){const t=Object.getPrototypeOf(r);if(t){const n=Object.getOwnPropertyDescriptor(t,e);return n||EW(t,e)}}function uAe(r,e){const t=EW(r,e);t&&(t.enumerable=!0,Object.defineProperty(r,e,t))}const qB=Math.pow(2,32)-1,cAe=[].push,wW={video:1,audio:2,id3:3,text:4};function _n(r){return String.fromCharCode.apply(null,r)}function _W(r,e){const t=r[e]<<8|r[e+1];return t<0?65536+t:t}function Mt(r,e){const t=TW(r,e);return t<0?4294967296+t:t}function XB(r,e){let t=Mt(r,e);return t*=Math.pow(2,32),t+=Mt(r,e+4),t}function TW(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}function fAe(r){const e=r.byteLength;for(let t=0;t<e;){const n=Mt(r,t);if(n>8&&r[t+4]===109&&r[t+5]===111&&r[t+6]===111&&r[t+7]===102)return!0;t=n>1?t+n:e}return!1}function Gt(r,e){const t=[];if(!e.length)return t;const n=r.byteLength;for(let i=0;i<n;){const a=Mt(r,i),s=_n(r.subarray(i+4,i+8)),o=a>1?i+a:n;if(s===e[0])if(e.length===1)t.push(r.subarray(i+8,o));else{const l=Gt(r.subarray(i+8,o),e.slice(1));l.length&&cAe.apply(t,l)}i=o}return t}function hAe(r){const e=[],t=r[0];let n=8;const i=Mt(r,n);n+=4;let a=0,s=0;t===0?(a=Mt(r,n),s=Mt(r,n+4),n+=8):(a=XB(r,n),s=XB(r,n+8),n+=16),n+=2;let o=r.length+s;const l=_W(r,n);n+=2;for(let u=0;u<l;u++){let c=n;const h=Mt(r,c);c+=4;const p=h&2147483647;if((h&2147483648)>>>31===1)return pr.warn("SIDX has hierarchical references (not supported)"),null;const g=Mt(r,c);c+=4,e.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/i,start:o,end:o+p-1}}),o+=p,c+=4,n=c}return{earliestPresentationTime:a,timescale:i,version:t,referencesCount:l,references:e}}function AW(r){const e=[],t=Gt(r,["moov","trak"]);for(let i=0;i<t.length;i++){const a=t[i],s=Gt(a,["tkhd"])[0];if(s){let o=s[0];const l=Mt(s,o===0?12:20),u=Gt(a,["mdia","mdhd"])[0];if(u){o=u[0];const c=Mt(u,o===0?12:20),h=Gt(a,["mdia","hdlr"])[0];if(h){const p=_n(h.subarray(8,12)),m={soun:Tr.AUDIO,vide:Tr.VIDEO}[p],g=Gt(a,["mdia","minf","stbl","stsd"])[0],y=dAe(g);m?(e[l]={timescale:c,type:m,stsd:y},e[m]=hr({timescale:c,id:l},y)):e[l]={timescale:c,type:p,stsd:y}}}}}return Gt(r,["moov","mvex","trex"]).forEach(i=>{const a=Mt(i,4),s=e[a];s&&(s.default={duration:Mt(i,12),flags:Mt(i,20)})}),e}function dAe(r){const e=r.subarray(8),t=e.subarray(86),n=_n(e.subarray(4,8));let i=n,a;const s=n==="enca"||n==="encv";if(s){const u=Gt(e,[n])[0].subarray(n==="enca"?28:78);Gt(u,["sinf"]).forEach(h=>{const p=Gt(h,["schm"])[0];if(p){const m=_n(p.subarray(4,8));if(m==="cbcs"||m==="cenc"){const g=Gt(h,["frma"])[0];g&&(i=_n(g))}}})}const o=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const l=Gt(t,["avcC"])[0];l&&l.length>3&&(i+="."+kg(l[1])+kg(l[2])+kg(l[3]),a=Rg(o==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const l=Gt(e,[n])[0],u=Gt(l.subarray(28),["esds"])[0];if(u&&u.length>7){let c=4;if(u[c++]!==3)break;c=Yw(u,c),c+=2;const h=u[c++];if(h&128&&(c+=2),h&64&&(c+=u[c++]),u[c++]!==4)break;c=Yw(u,c);const p=u[c++];if(p===64)i+="."+kg(p);else break;if(c+=12,u[c++]!==5)break;c=Yw(u,c);const m=u[c++];let g=(m&248)>>3;g===31&&(g+=1+((m&7)<<3)+((u[c]&224)>>5)),i+="."+g}break}case"hvc1":case"hev1":{const l=Gt(t,["hvcC"])[0];if(l&&l.length>12){const u=l[1],c=["","A","B","C"][u>>6],h=u&31,p=Mt(l,2),m=(u&32)>>5?"H":"L",g=l[12],y=l.subarray(6,12);i+="."+c+h,i+="."+pAe(p).toString(16).toUpperCase(),i+="."+m+g;let x="";for(let E=y.length;E--;){const S=y[E];(S||x)&&(x="."+S.toString(16).toUpperCase()+x)}i+=x}a=Rg(o=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=Rg(i,t)||i;break}case"vp09":{const l=Gt(t,["vpcC"])[0];if(l&&l.length>6){const u=l[4],c=l[5],h=l[6]>>4&15;i+="."+Ls(u)+"."+Ls(c)+"."+Ls(h)}break}case"av01":{const l=Gt(t,["av1C"])[0];if(l&&l.length>2){const u=l[1]>>>5,c=l[1]&31,h=l[2]>>>7?"H":"M",p=(l[2]&64)>>6,m=(l[2]&32)>>5,g=u===2&&p?m?12:10:p?10:8,y=(l[2]&16)>>4,x=(l[2]&8)>>3,E=(l[2]&4)>>2,S=l[2]&3;i+="."+u+"."+Ls(c)+h+"."+Ls(g)+"."+y+"."+x+E+S+"."+Ls(1)+"."+Ls(1)+"."+Ls(1)+"."+0,a=Rg("dav1",t)}break}}return{codec:i,encrypted:s,supplemental:a}}function Rg(r,e){const t=Gt(e,["dvvC"]),n=t.length?t[0]:Gt(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,a=n[2]<<5&32|n[3]>>3&31;return r+"."+Ls(i)+"."+Ls(a)}}function pAe(r){let e=0;for(let t=0;t<32;t++)e|=(r>>t&1)<<31-t;return e>>>0}function Yw(r,e){const t=e+5;for(;r[e++]&128&&e<t;);return e}function kg(r){return("0"+r.toString(16).toUpperCase()).slice(-2)}function Ls(r){return(r<10?"0":"")+r}function mAe(r,e){if(!r||!e)return;const t=e.keyId;t&&e.isCommonEncryption&&DW(r,(n,i)=>{const a=n.subarray(8,24);a.some(s=>s!==0)||(pr.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${ti(a)} -> ${ti(t)}`),n.set(t,8))})}function gAe(r){const e=[];return DW(r,t=>e.push(t.subarray(8,24))),e}function DW(r,e){Gt(r,["moov","trak"]).forEach(n=>{const i=Gt(n,["mdia","minf","stbl","stsd"])[0];if(!i)return;const a=i.subarray(8);let s=Gt(a,["enca"]);const o=s.length>0;o||(s=Gt(a,["encv"])),s.forEach(l=>{const u=o?l.subarray(28):l.subarray(78);Gt(u,["sinf"]).forEach(h=>{const p=OW(h);p&&e(p,o)})})})}function OW(r){const e=Gt(r,["schm"])[0];if(e){const t=_n(e.subarray(4,8));if(t==="cbcs"||t==="cenc"){const n=Gt(r,["schi","tenc"])[0];if(n)return n}}}function vAe(r,e,t){const n={},i=Gt(r,["moof","traf"]);for(let a=0;a<i.length;a++){const s=i[a],o=Gt(s,["tfhd"])[0],l=Mt(o,4),u=e[l];if(!u)continue;n[l]||(n[l]={start:NaN,duration:0,sampleCount:0,timescale:u.timescale,type:u.type});const c=n[l],h=Gt(s,["tfdt"])[0];if(h){const w=h[0];let T=Mt(h,4);w===1&&(T===qB?t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(T*=qB+1,T+=Mt(h,8))),yt(T)&&(!yt(c.start)||T<c.start)&&(c.start=T)}const p=u.default,m=Mt(o,0)|p?.flags;let g=p?.duration||0;m&8&&(m&2?g=Mt(o,12):g=Mt(o,8));const y=Gt(s,["trun"]);let x=c.start||0,E=0,S=g;for(let w=0;w<y.length;w++){const T=y[w],_=Mt(T,4),O=c.sampleCount;c.sampleCount+=_;const A=T[3]&1,I=T[3]&4,k=T[2]&1,N=T[2]&2,B=T[2]&4,R=T[2]&8;let H=8,X=_;for(A&&(H+=4),I&&_&&(!(T[H+1]&1)&&c.keyFrameIndex===void 0&&(c.keyFrameIndex=O),H+=4,k?(S=Mt(T,H),H+=4):S=g,N&&(H+=4),R&&(H+=4),x+=S,E+=S,X--);X--;)k?(S=Mt(T,H),H+=4):S=g,N&&(H+=4),B&&(T[H+1]&1||c.keyFrameIndex===void 0&&(c.keyFrameIndex=c.sampleCount-(X+1),c.keyFrameStart=x),H+=4),R&&(H+=4),x+=S,E+=S;!E&&g&&(E+=g*_)}c.duration+=E}if(!Object.keys(n).some(a=>n[a].duration)){let a=1/0,s=0;const o=Gt(r,["sidx"]);for(let l=0;l<o.length;l++){const u=hAe(o[l]);if(u!=null&&u.references){a=Math.min(a,u.earliestPresentationTime/u.timescale);const c=u.references.reduce((h,p)=>h+p.info.duration||0,0);s=Math.max(s,c+u.earliestPresentationTime/u.timescale)}}s&&yt(s)&&Object.keys(n).forEach(l=>{n[l].duration||(n[l].duration=s*n[l].timescale-n[l].start)})}return n}function yAe(r){const e={valid:null,remainder:null},t=Gt(r,["moof"]);if(t.length<2)return e.remainder=r,e;const n=t[t.length-1];return e.valid=r.slice(0,n.byteOffset-8),e.remainder=r.slice(n.byteOffset-8),e}function Qa(r,e){const t=new Uint8Array(r.length+e.length);return t.set(r),t.set(e,r.length),t}function QB(r,e){const t=[],n=e.samples,i=e.timescale,a=e.id;let s=!1;return Gt(n,["moof"]).map(l=>{const u=l.byteOffset-8;Gt(l,["traf"]).map(h=>{const p=Gt(h,["tfdt"]).map(m=>{const g=m[0];let y=Mt(m,4);return g===1&&(y*=Math.pow(2,32),y+=Mt(m,8)),y/i})[0];return p!==void 0&&(r=p),Gt(h,["tfhd"]).map(m=>{const g=Mt(m,4),y=Mt(m,0)&16777215,x=(y&1)!==0,E=(y&2)!==0,S=(y&8)!==0;let w=0;const T=(y&16)!==0;let _=0;const O=(y&32)!==0;let A=8;g===a&&(x&&(A+=8),E&&(A+=4),S&&(w=Mt(m,A),A+=4),T&&(_=Mt(m,A),A+=4),O&&(A+=4),e.type==="video"&&(s=O1(e.codec)),Gt(h,["trun"]).map(I=>{const k=I[0],N=Mt(I,0)&16777215,B=(N&1)!==0;let R=0;const H=(N&4)!==0,X=(N&256)!==0;let Y=0;const K=(N&512)!==0;let z=0;const Q=(N&1024)!==0,se=(N&2048)!==0;let ae=0;const W=Mt(I,4);let M=8;B&&(R=Mt(I,M),M+=4),H&&(M+=4);let V=R+u;for(let ee=0;ee<W;ee++){if(X?(Y=Mt(I,M),M+=4):Y=w,K?(z=Mt(I,M),M+=4):z=_,Q&&(M+=4),se&&(k===0?ae=Mt(I,M):ae=TW(I,M),M+=4),e.type===Tr.VIDEO){let Z=0;for(;Z<z;){const me=Mt(n,V);if(V+=4,xAe(s,n[V])){const ue=n.subarray(V,V+me);IC(ue,s?2:1,r+ae/i,t)}V+=me,Z+=me+4}}r+=Y/i}}))})})}),t}function O1(r){if(!r)return!1;const e=r.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function xAe(r,e){if(r){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function IC(r,e,t,n){const i=CW(r);let a=0;a+=e;let s=0,o=0,l=0;for(;a<i.length;){s=0;do{if(a>=i.length)break;l=i[a++],s+=l}while(l===255);o=0;do{if(a>=i.length)break;l=i[a++],o+=l}while(l===255);const u=i.length-a;let c=a;if(o<u)a+=o;else if(o>u){pr.error(`Malformed SEI payload. ${o} is too small, only ${u} bytes left to parse.`);break}if(s===4){if(i[c++]===181){const p=_W(i,c);if(c+=2,p===49){const m=Mt(i,c);if(c+=4,m===1195456820){const g=i[c++];if(g===3){const y=i[c++],x=31&y,E=64&y,S=E?2+x*3:0,w=new Uint8Array(S);if(E){w[0]=y;for(let T=1;T<S;T++)w[T]=i[c++]}n.push({type:g,payloadType:s,pts:t,bytes:w})}}}}}else if(s===5&&o>16){const h=[];for(let g=0;g<16;g++){const y=i[c++].toString(16);h.push(y.length==1?"0"+y:y),(g===3||g===5||g===7||g===9)&&h.push("-")}const p=o-16,m=new Uint8Array(p);for(let g=0;g<p;g++)m[g]=i[c++];n.push({payloadType:s,pts:t,uuid:h.join(""),userData:Ta(m),userDataBytes:m})}}}function CW(r){const e=r.byteLength,t=[];let n=1;for(;n<e-2;)r[n]===0&&r[n+1]===0&&r[n+2]===3?(t.push(n+2),n+=2):n++;if(t.length===0)return r;const i=e-t.length,a=new Uint8Array(i);let s=0;for(n=0;n<i;s++,n++)s===t[0]&&(s++,t.shift()),a[n]=r[s];return a}function bAe(r){const e=r[0];let t="",n="",i=0,a=0,s=0,o=0,l=0,u=0;if(e===0){for(;_n(r.subarray(u,u+1))!=="\0";)t+=_n(r.subarray(u,u+1)),u+=1;for(t+=_n(r.subarray(u,u+1)),u+=1;_n(r.subarray(u,u+1))!=="\0";)n+=_n(r.subarray(u,u+1)),u+=1;n+=_n(r.subarray(u,u+1)),u+=1,i=Mt(r,12),a=Mt(r,16),o=Mt(r,20),l=Mt(r,24),u=28}else if(e===1){u+=4,i=Mt(r,u),u+=4;const h=Mt(r,u);u+=4;const p=Mt(r,u);for(u+=4,s=2**32*h+p,XTe(s)||(s=Number.MAX_SAFE_INTEGER,pr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=Mt(r,u),u+=4,l=Mt(r,u),u+=4;_n(r.subarray(u,u+1))!=="\0";)t+=_n(r.subarray(u,u+1)),u+=1;for(t+=_n(r.subarray(u,u+1)),u+=1;_n(r.subarray(u,u+1))!=="\0";)n+=_n(r.subarray(u,u+1)),u+=1;n+=_n(r.subarray(u,u+1)),u+=1}const c=r.subarray(u,r.byteLength);return{schemeIdUri:t,value:n,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:c}}function SAe(r,...e){const t=e.length;let n=8,i=t;for(;i--;)n+=e[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(r,4),i=0,n=8;i<t;i++)a.set(e[i],n),n+=e[i].byteLength;return a}function EAe(r,e,t){if(r.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let a;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const s=new Uint8Array(4);return t.byteLength>0&&new DataView(s.buffer).setUint32(0,t.byteLength,!1),SAe([112,115,115,104],new Uint8Array([n,0,0,0]),r,a,i,s,t)}function wAe(r){const e=[];if(r instanceof ArrayBuffer){const t=r.byteLength;let n=0;for(;n+32<t;){const i=new DataView(r,n),a=_Ae(i);e.push(a),n+=a.size}}return e}function _Ae(r){const e=r.getUint32(0),t=r.byteOffset,n=r.byteLength;if(n<e)return{offset:t,size:n};if(r.getUint32(4)!==1886614376)return{offset:t,size:e};const a=r.getUint32(8)>>>24;if(a!==0&&a!==1)return{offset:t,size:e};const s=r.buffer,o=ti(new Uint8Array(s,t+12,16));let l=null,u=null,c=0;if(a===0)c=28;else{const p=r.getUint32(28);if(!p||n<32+p*16)return{offset:t,size:e};l=[];for(let m=0;m<p;m++)l.push(new Uint8Array(s,t+32+m*16,16));c=32+p*16}if(!c)return{offset:t,size:e};const h=r.getUint32(c);return e-32<h?{offset:t,size:e}:(u=new Uint8Array(s,t+c+4,h),{version:a,systemId:o,kids:l,data:u,offset:t,size:e})}const IW=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),_h={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function RC(r,e){const t=_h[e];return!!t&&!!t[r.slice(0,4)]}function V0(r,e,t=!0){return!r.split(",").some(n=>!kC(n,e,t))}function kC(r,e,t=!0){var n;const i=Eu(t);return(n=i?.isTypeSupported(q0(r,e)))!=null?n:!1}function q0(r,e){return`${e}/mp4;codecs=${r}`}function ZB(r){if(r){const e=r.substring(0,4);return _h.video[e]}return 2}function sx(r){const e=IW();return r.split(",").reduce((t,n)=>{const a=e&&O1(n)?9:_h.video[n];return a?(a*2+t)/(t?3:2):(_h.audio[n]+t)/(t?2:1)},0)}const zw={};function TAe(r,e=!0){if(zw[r])return zw[r];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[r];for(let i=0;i<t.length;i++){var n;if(kC(t[i],"audio",e))return zw[r]=t[i],t[i];if(t[i]==="mp3"&&(n=Eu(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return r}const AAe=/flac|opus|mp4a\.40\.34/i;function ox(r,e=!0){return r.replace(AAe,t=>TAe(t.toLowerCase(),e))}function DAe(r,e){const t=[];if(r){const n=r.split(",");for(let i=0;i<n.length;i++)RC(n[i],"video")||t.push(n[i])}return e&&t.push(e),t.join(",")}function Iv(r,e){if(r&&(r.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(r)!==-1)&&(JB(r,"audio")||JB(r,"video")))return r;if(e){const t=e.split(",");if(t.length>1){if(r){for(let n=t.length;n--;)if(t[n].substring(0,4)===r.substring(0,4))return t[n]}return t[0]}}return e||r}function JB(r,e){return RC(r,e)&&kC(r,e)}function OAe(r){const e=r.split(",");for(let t=0;t<e.length;t++){const n=e[t].split(".");n.length>2&&n[0]==="avc1"&&(e[t]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function CAe(r){if(r.startsWith("av01.")){const e=r.split("."),t=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=t[n-4];return e.join(".")}return r}function eU(r){const e=Eu(r)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function C2(r){return r.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const IAe={supported:!0,powerEfficient:!0,smooth:!0},RAe={supported:!1,smooth:!1,powerEfficient:!1},RW={supported:!0,configurations:[],decodingInfoResults:[IAe]};function kW(r,e){return{supported:!1,configurations:e,decodingInfoResults:[RAe],error:r}}function kAe(r,e,t,n,i,a){const s=r.videoCodec,o=r.audioCodec?r.audioGroups:null,l=a?.audioCodec,u=a?.channels,c=u?parseInt(u):l?1/0:2;let h=null;if(o!=null&&o.length)try{o.length===1&&o[0]?h=e.groups[o[0]].channels:h=o.reduce((p,m)=>{if(m){const g=e.groups[m];if(!g)throw new Error(`Audio track group ${m} not found`);Object.keys(g.channels).forEach(y=>{p[y]=(p[y]||0)+g.channels[y]})}return p},{2:0})}catch{return!0}return s!==void 0&&(s.split(",").some(p=>O1(p))||r.width>1920&&r.height>1088||r.height>1920&&r.width>1088||r.frameRate>Math.max(n,30)||r.videoRange!=="SDR"&&r.videoRange!==t||r.bitrate>Math.max(i,8e6))||!!h&&yt(c)&&Object.keys(h).some(p=>parseInt(p)>c)}function PW(r,e,t,n={}){const i=r.videoCodec;if(!i&&!r.audioCodec||!t)return Promise.resolve(RW);const a=[],s=PAe(r),o=s.length,l=LAe(r,e,o>0),u=l.length;for(let c=o||1*u||1;c--;){const h={type:"media-source"};if(o&&(h.video=s[c%o]),u){h.audio=l[c%u];const p=h.audio.bitrate;h.video&&p&&(h.video.bitrate-=p)}a.push(h)}if(i){const c=navigator.userAgent;if(i.split(",").some(h=>O1(h))&&IW())return Promise.resolve(kW(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${c})`),a))}return Promise.all(a.map(c=>{const h=NAe(c);return n[h]||(n[h]=t.decodingInfo(c))})).then(c=>({supported:!c.some(h=>!h.supported),configurations:a,decodingInfoResults:c})).catch(c=>({supported:!1,configurations:a,decodingInfoResults:[],error:c}))}function PAe(r){var e;const t=(e=r.videoCodec)==null?void 0:e.split(","),n=LW(r),i=r.width||640,a=r.height||480,s=r.frameRate||30,o=r.videoRange.toLowerCase();return t?t.map(l=>{const u={contentType:q0(CAe(l),"video"),width:i,height:a,bitrate:n,framerate:s};return o!=="sdr"&&(u.transferFunction=o),u}):[]}function LAe(r,e,t){var n;const i=(n=r.audioCodec)==null?void 0:n.split(","),a=LW(r);return i&&r.audioGroups?r.audioGroups.reduce((s,o)=>{var l;const u=o?(l=e.groups[o])==null?void 0:l.tracks:null;return u?u.reduce((c,h)=>{if(h.groupId===o){const p=parseFloat(h.channels||"");i.forEach(m=>{const g={contentType:q0(m,"audio"),bitrate:t?MAe(m,a):a};p&&(g.channels=""+p),c.push(g)})}return c},s):s},[]):[]}function MAe(r,e){if(e<=1)return 1;let t=128e3;return r==="ec-3"?t=768e3:r==="ac-3"&&(t=64e4),Math.min(e/2,t)}function LW(r){return Math.ceil(Math.max(r.bitrate*.9,r.averageBitrate)/1e3)*1e3||1}function NAe(r){let e="";const{audio:t,video:n}=r;if(n){const i=C2(n.contentType);e+=`${i}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(t){const i=C2(t.contentType);e+=`${n?"_":""}${i}_c${t.channels}`}return e}const I2=["NONE","TYPE-0","TYPE-1",null];function FAe(r){return I2.indexOf(r)>-1}const lx=["SDR","PQ","HLG"];function BAe(r){return!!r&&lx.indexOf(r)>-1}var Rv={No:"",Yes:"YES",v2:"v2"};function tU(r){const{canSkipUntil:e,canSkipDateRanges:t,age:n}=r,i=n<e/2;return e&&i?t?Rv.v2:Rv.Yes:Rv.No}class rU{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class X0{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const n=(t=e.supplemental)==null?void 0:t.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return nU(this._audioGroups,e)}hasSubtitleGroup(e){return nU(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(t)===-1&&n.push(t)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(t)===-1&&n.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function nU(r,e){return!e||!r?!1:r.indexOf(e)!==-1}function UAe(){if(typeof matchMedia=="function"){const r=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(r.media!==e.media)return r.matches===!0}return!1}function jAe(r,e){let t=!1,n=[];if(r&&(t=r!=="SDR",n=[r]),e){n=e.allowedVideoRanges||lx.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:i&&UAe(),t||(n=["SDR"])}return{preferHDR:t,allowedVideoRanges:n}}const $Ae=r=>{const e=new WeakSet;return(t,n)=>{if(r&&(n=r(t,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},Dr=(r,e)=>JSON.stringify(r,$Ae(e));function HAe(r,e,t,n,i){const a=Object.keys(r),s=n?.channels,o=n?.audioCodec,l=i?.videoCodec,u=s&&parseInt(s)===2;let c=!1,h=!1,p=1/0,m=1/0,g=1/0,y=1/0,x=0,E=[];const{preferHDR:S,allowedVideoRanges:w}=jAe(e,i);for(let I=a.length;I--;){const k=r[a[I]];c||(c=k.channels[2]>0),p=Math.min(p,k.minHeight),m=Math.min(m,k.minFramerate),g=Math.min(g,k.minBitrate),w.filter(B=>k.videoRanges[B]>0).length>0&&(h=!0)}p=yt(p)?p:0,m=yt(m)?m:0;const T=Math.max(1080,p),_=Math.max(30,m);g=yt(g)?g:t,t=Math.max(g,t),h||(e=void 0);const O=a.length>1;return{codecSet:a.reduce((I,k)=>{const N=r[k];if(k===I)return I;if(E=h?w.filter(B=>N.videoRanges[B]>0):[],O){if(N.minBitrate>t)return Is(k,`min bitrate of ${N.minBitrate} > current estimate of ${t}`),I;if(!N.hasDefaultAudio)return Is(k,"no renditions with default or auto-select sound found"),I;if(o&&k.indexOf(o.substring(0,4))%5!==0)return Is(k,`audio codec preference "${o}" not found`),I;if(s&&!u){if(!N.channels[s])return Is(k,`no renditions with ${s} channel sound found (channels options: ${Object.keys(N.channels)})`),I}else if((!o||u)&&c&&N.channels[2]===0)return Is(k,"no renditions with stereo sound found"),I;if(N.minHeight>T)return Is(k,`min resolution of ${N.minHeight} > maximum of ${T}`),I;if(N.minFramerate>_)return Is(k,`min framerate of ${N.minFramerate} > maximum of ${_}`),I;if(!E.some(B=>N.videoRanges[B]>0))return Is(k,`no variants with VIDEO-RANGE of ${Dr(E)} found`),I;if(l&&k.indexOf(l.substring(0,4))%5!==0)return Is(k,`video codec preference "${l}" not found`),I;if(N.maxScore<x)return Is(k,`max score of ${N.maxScore} < selected max of ${x}`),I}return I&&(sx(k)>=sx(I)||N.fragmentError>r[I].fragmentError)?I:(y=N.minIndex,x=N.maxScore,k)},void 0),videoRanges:E,preferHDR:S,minFramerate:m,minBitrate:g,minIndex:y}}function Is(r,e){pr.log(`[abr] start candidates with "${r}" ignored because ${e}`)}function MW(r){return r.reduce((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const i=t.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function GAe(r,e,t,n){return r.slice(t,n+1).reduce((i,a,s)=>{if(!a.codecSet)return i;const o=a.audioGroups;let l=i[a.codecSet];l||(i[a.codecSet]=l={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:s,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),l.minBitrate=Math.min(l.minBitrate,a.bitrate);const u=Math.min(a.height,a.width);return l.minHeight=Math.min(l.minHeight,u),l.minFramerate=Math.min(l.minFramerate,a.frameRate),l.minIndex=Math.min(l.minIndex,s),l.maxScore=Math.max(l.maxScore,a.score),l.fragmentError+=a.fragmentError,l.videoRanges[a.videoRange]=(l.videoRanges[a.videoRange]||0)+1,o&&o.forEach(c=>{if(!c)return;const h=e.groups[c];h&&(l.hasDefaultAudio=l.hasDefaultAudio||e.hasDefaultAudio?h.hasDefault:h.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(h.channels).forEach(p=>{l.channels[p]=(l.channels[p]||0)+h.channels[p]}))}),i},{})}function iU(r){if(!r)return r;const{lang:e,assocLang:t,characteristics:n,channels:i,audioCodec:a}=r;return{lang:e,assocLang:t,characteristics:n,channels:i,audioCodec:a}}function Ys(r,e,t){if("attrs"in r){const n=e.indexOf(r);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(Sc(r,i,t))return n}return-1}function Sc(r,e,t){const{groupId:n,name:i,lang:a,assocLang:s,default:o}=r,l=r.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(a===void 0||WAe(a,e.lang))&&(a===void 0||e.assocLang===s)&&(o===void 0||e.default===o)&&(l===void 0||e.forced===l)&&(!("characteristics"in r)||KAe(r.characteristics||"",e.characteristics))&&(t===void 0||t(r,e))}function WAe(r,e="--"){return r.length===e.length?r===e:r.startsWith(e)||e.startsWith(r)}function KAe(r,e=""){const t=r.split(","),n=e.split(",");return t.length===n.length&&!t.some(i=>n.indexOf(i)===-1)}function nc(r,e){const{audioCodec:t,channels:n}=r;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function YAe(r,e,t,n,i){const a=e[n],o=e.reduce((p,m,g)=>{const y=m.uri;return(p[y]||(p[y]=[])).push(g),p},{})[a.uri];o.length>1&&(n=Math.max.apply(Math,o));const l=a.videoRange,u=a.frameRate,c=a.codecSet.substring(0,4),h=aU(e,n,p=>{if(p.videoRange!==l||p.frameRate!==u||p.codecSet.substring(0,4)!==c)return!1;const m=p.audioGroups,g=t.filter(y=>!m||m.indexOf(y.groupId)!==-1);return Ys(r,g,i)>-1});return h>-1?h:aU(e,n,p=>{const m=p.audioGroups,g=t.filter(y=>!m||m.indexOf(y.groupId)!==-1);return Ys(r,g,i)>-1})}function aU(r,e,t){for(let n=e;n>-1;n--)if(t(r[n]))return n;for(let n=e+1;n<r.length;n++)if(t(r[n]))return n;return-1}function ux(r,e){var t;return!!r&&r!==((t=e.loadLevelObj)==null?void 0:t.uri)}class zAe extends es{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var n;const{fragCurrent:i,partCurrent:a,hls:s}=this,{autoLevelEnabled:o,media:l}=s;if(!i||!l)return;const u=performance.now(),c=a?a.stats:i.stats,h=a?a.duration:i.duration,p=u-c.loading.start,m=s.minAutoLevel,g=i.level,y=this._nextAutoLevel;if(c.aborted||c.loaded&&c.loaded===c.total||g<=m){this.clearTimer(),this._nextAutoLevel=-1;return}if(!o)return;const x=y>-1&&y!==g,E=!!t||x;if(!E&&(l.paused||!l.playbackRate||!l.readyState))return;const S=s.mainForwardBufferInfo;if(!E&&S===null)return;const w=this.bwEstimator.getEstimateTTFB(),T=Math.abs(l.playbackRate);if(p<=Math.max(w,1e3*(h/(T*2))))return;const _=S?S.len/T:0,O=c.loading.first?c.loading.first-c.loading.start:-1,A=c.loaded&&O>-1,I=this.getBwEstimate(),k=s.levels,N=k[g],B=Math.max(c.loaded,Math.round(h*(i.bitrate||N.averageBitrate)/8));let R=A?p-O:p;R<1&&A&&(R=Math.min(p,c.loaded*8/I));const H=A?c.loaded*1e3/R:0,X=w/1e3,Y=H?(B-c.loaded)/H:B*8/I+X;if(Y<=_)return;const K=H?H*8:I,z=((n=t?.details||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,Q=this.hls.config.abrBandWidthUpFactor;let se=Number.POSITIVE_INFINITY,ae;for(ae=g-1;ae>m;ae--){const ee=k[ae].maxBitrate,Z=!k[ae].details||z;if(se=this.getTimeToLoadFrag(X,K,h*ee,Z),se<Math.min(_,h+X))break}if(se>=Y||se>h*10)return;A?this.bwEstimator.sample(p-Math.min(w,O),c.loaded):this.bwEstimator.sampleTTFB(p);const W=k[ae].maxBitrate;this.getBwEstimate()*Q>W&&this.resetEstimator(W);const M=this.findBestLevel(W,m,ae,0,_,1,1);M>-1&&(ae=M),this.warn(`Fragment ${i.sn}${a?" part "+a.index:""} of level ${g} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${_.toFixed(3)} s
      Estimated load time for current fragment: ${Y.toFixed(3)} s
      Estimated load time for down switch fragment: ${se.toFixed(3)} s
      TTFB estimate: ${O|0} ms
      Current BW estimate: ${yt(I)?I|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${ae} @ ${W|0} bps`),s.nextLoadLevel=s.nextAutoLevel=ae,this.clearTimer();const V=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===ae&&ae>0){const ee=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${ae>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${ee.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,ae>m){let Z=this.findBestLevel(this.hls.levels[m].bitrate,m,ae,0,ee,1,1);Z===-1&&(Z=m),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Z,this.resetEstimator(this.hls.levels[Z].bitrate)}}};x||Y>se*2?V():this.timer=self.setInterval(V,se*1e3),s.trigger(G.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:a,stats:c})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new ZTe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.FRAG_LOADING,this.onFragLoading,this),e.on(G.FRAG_LOADED,this.onFragLoaded,this),e.on(G.FRAG_BUFFERED,this.onFragBuffered,this),e.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(G.LEVEL_LOADED,this.onLevelLoaded,this),e.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(G.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.FRAG_LOADING,this.onFragLoading,this),e.off(G.FRAG_LOADED,this.onFragLoaded,this),e.off(G.FRAG_BUFFERED,this.onFragBuffered,this),e.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(G.LEVEL_LOADED,this.onLevelLoaded,this),e.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(G.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(G.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=t.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case Me.BUFFER_ADD_CODEC_ERROR:case Me.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Me.FRAG_LOAD_TIMEOUT:{const n=t.frag,{fragCurrent:i,partCurrent:a}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const s=performance.now(),o=a?a.stats:n.stats,l=s-o.loading.start,u=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&u>-1){const h=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(h,u),o.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,t,n,i){const a=e+n/t,s=i?e+this.lastLevelLoadSec:0;return a+s}onLevelLoaded(e,t){const n=this.hls.config,{loading:i}=t.stats,a=i.end-i.first;yt(a)&&(this.lastLevelLoadSec=a/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:n}){const i=n?n.stats:t.stats;if(t.type===Et.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const a=n?n.duration:t.duration,s=this.hls.levels[t.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(t.bitrateTest){const a={stats:i,frag:t,part:n,id:t.type};this.onFragBuffered(G.FRAG_BUFFERED,a),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:n,part:i}=t,a=i!=null&&i.stats.loaded?i.stats:n.stats;if(a.aborted||this.ignoreFragment(n))return;const s=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,a.loaded),a.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Et.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,a=this.findBestLevel(n,t,e,0,i,1,1);if(a>-1)return a;const s=this.hls.firstLevel,o=Math.min(Math.max(s,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${s} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const a=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const s=this.hls.levels;if(s.length>Math.max(e,a)&&s[e].loadError<=s[a].loadError)return e}return this._nextAutoLevel=a,this.nextAutoLevelKey=this.getAutoLevelKey(),a}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:a,minAutoLevel:s}=n,o=t?t.duration:e?e.duration:0,l=this.getBwEstimate(),u=this.getStarvationDelay();let c=a.abrBandWidthFactor,h=a.abrBandWidthUpFactor;if(u){const x=this.findBestLevel(l,s,i,u,0,c,h);if(x>=0)return this.rebufferNotice=-1,x}let p=o?Math.min(o,a.maxStarvationDelay):a.maxStarvationDelay;if(!u){const x=this.bitrateTestDelay;x&&(p=(o?Math.min(o,a.maxLoadingDelay):a.maxLoadingDelay)-x,this.info(`bitrate test took ${Math.round(1e3*x)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),c=h=1)}const m=this.findBestLevel(l,s,i,u,p,c,h);if(this.rebufferNotice!==m&&(this.rebufferNotice=m,this.info(`${u?"rebuffering expected":"buffer is empty"}, optimal quality level ${m}`)),m>-1)return m;const g=n.levels[s],y=n.loadLevelObj;return y&&g?.bitrate<y.bitrate?s:n.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const n=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,i,a,s,o){var l;const u=i+a,c=this.lastLoadedFragLevel,h=c===-1?this.hls.firstLevel:c,{fragCurrent:p,partCurrent:m}=this,{levels:g,allAudioTracks:y,loadLevel:x,config:E}=this.hls;if(g.length===1)return 0;const S=g[h],w=!!((l=this.hls.latestLevelDetails)!=null&&l.live),T=x===-1||c===-1;let _,O="SDR",A=S?.frameRate||0;const{audioPreference:I,videoPreference:k}=E,N=this.audioTracksByGroup||(this.audioTracksByGroup=MW(y));let B=-1;if(T){if(this.firstSelection!==-1)return this.firstSelection;const K=this.codecTiers||(this.codecTiers=GAe(g,N,t,n)),z=HAe(K,O,e,I,k),{codecSet:Q,videoRanges:se,minFramerate:ae,minBitrate:W,minIndex:M,preferHDR:V}=z;B=M,_=Q,O=V?se[se.length-1]:se[0],A=ae,e=Math.max(e,W),this.log(`picked start tier ${Dr(z)}`)}else _=S?.codecSet,O=S?.videoRange;const R=m?m.duration:p?p.duration:0,H=this.bwEstimator.getEstimateTTFB()/1e3,X=[];for(let K=n;K>=t;K--){var Y;const z=g[K],Q=K>h;if(!z)continue;if(E.useMediaCapabilities&&!z.supportedResult&&!z.supportedPromise){const Z=navigator.mediaCapabilities;typeof Z?.decodingInfo=="function"&&kAe(z,N,O,A,e,I)?(z.supportedPromise=PW(z,N,Z,this.supportedCache),z.supportedPromise.then(me=>{if(!this.hls)return;z.supportedResult=me;const ue=this.hls.levels,q=ue.indexOf(z);me.error?this.warn(`MediaCapabilities decodingInfo error: "${me.error}" for level ${q} ${Dr(me)}`):me.supported?me.decodingInfoResults.some(te=>te.smooth===!1||te.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${q} not smooth or powerEfficient: ${Dr(me)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${q} ${Dr(me)}`),q>-1&&ue.length>1&&(this.log(`Removing unsupported level ${q}`),this.hls.removeLevel(q),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(me=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${me}`)})):z.supportedResult=RW}if((_&&z.codecSet!==_||O&&z.videoRange!==O||Q&&A>z.frameRate||!Q&&A>0&&A<z.frameRate||(Y=z.supportedResult)!=null&&(Y=Y.decodingInfoResults)!=null&&Y.some(Z=>Z.smooth===!1))&&(!T||K!==B)){X.push(K);continue}const se=z.details,ae=(m?se?.partTarget:se?.averagetargetduration)||R;let W;Q?W=o*e:W=s*e;const M=R&&i>=R*2&&a===0?z.averageBitrate:z.maxBitrate,V=this.getTimeToLoadFrag(H,W,M*ae,se===void 0);if(W>=M&&(K===c||z.loadError===0&&z.fragmentError===0)&&(V<=H||!yt(V)||w&&!this.bitrateTestDelay||V<u)){const Z=this.forcedAutoLevel;return K!==x&&(Z===-1||Z!==x)&&(X.length&&this.trace(`Skipped level(s) ${X.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${g[X[0]].codecs}" ${g[X[0]].videoRange}; not compatible with "${_}" ${O}`),this.info(`switch candidate:${h}->${K} adjustedbw(${Math.round(W)})-bitrate=${Math.round(W-M)} ttfb:${H.toFixed(1)} avgDuration:${ae.toFixed(1)} maxFetchDuration:${u.toFixed(1)} fetchDuration:${V.toFixed(1)} firstSelection:${T} codecSet:${z.codecSet} videoRange:${z.videoRange} hls.loadLevel:${x}`)),T&&(this.firstSelection=K),K}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),t)}}const NW={search:function(r,e){let t=0,n=r.length-1,i=null,a=null;for(;t<=n;){i=(t+n)/2|0,a=r[i];const s=e(a);if(s>0)t=i+1;else if(s<0)n=i-1;else return a}return null}};function VAe(r,e,t){if(e===null||!Array.isArray(r)||!r.length||!yt(e))return null;const n=r[0].programDateTime;if(e<(n||0))return null;const i=r[r.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let a=0;a<r.length;++a){const s=r[a];if(XAe(e,t,s))return s}return null}function kc(r,e,t=0,n=0,i=.005){let a=null;if(r){a=e[1+r.sn-e[0].sn]||null;const o=r.endDTS-t;o>0&&o<15e-7&&(t+=15e-7),a&&r.level!==a.level&&a.end<=r.end&&(a=e[2+r.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(a=e[0]);if(a&&((!r||r.level===a.level)&&sU(t,n,a)===0||qAe(a,r,Math.min(i,n))))return a;const s=NW.search(e,sU.bind(null,t,n));return s&&(s!==r||!a)?s:a}function qAe(r,e,t){if(e&&e.start===0&&e.level<r.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,a)=>(a[0]==="INF"&&(i+=parseFloat(a[1])),i),t);return r.start<=n}return!1}function sU(r=0,e=0,t){if(t.start<=r&&t.start+t.duration>r)return 0;const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-n<=r?1:t.start-n>r&&t.start?-1:0}function XAe(r,e,t){const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-n>r}function FW(r,e,t){if(r&&r.startCC<=e&&r.endCC>=e){let n=r.fragments;const{fragmentHint:i}=r;i&&(n=n.concat(i));let a;return NW.search(n,s=>s.cc<e?1:s.cc>e?-1:(a=s,s.end<=t?1:s.start>t?-1:0)),a||null}return null}function cx(r){switch(r.details){case Me.FRAG_LOAD_TIMEOUT:case Me.KEY_LOAD_TIMEOUT:case Me.LEVEL_LOAD_TIMEOUT:case Me.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function BW(r){return r.details.startsWith("key")}function UW(r){return BW(r)&&!!r.frag&&!r.frag.decryptdata}function oU(r,e){const t=cx(e);return r.default[`${t?"timeout":"error"}Retry`]}function PC(r,e){const t=r.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*r.retryDelayMs,r.maxRetryDelayMs)}function lU(r){return hr(hr({},r),{errorRetry:null,timeoutRetry:null})}function fx(r,e,t,n){if(!r)return!1;const i=n?.code,a=e<r.maxNumRetry&&(QAe(i)||!!t);return r.shouldRetry?r.shouldRetry(r,e,t,n,a):a}function QAe(r){return R2(r)||!!r&&(r<400||r>499)}function R2(r){return r===0&&navigator.onLine===!1}var Jn={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ua={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class ZAe extends es{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(G.ERROR,this.onError,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(G.ERROR,this.onError,this),e.off(G.ERROR,this.onErrorOut,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===Et.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const t=this.hls,n=t.currentLevel;return(e=t.loadLevelObj)!=null&&e.details||n===-1?t.loadLevel:n}variantHasKey(e,t){if(e){var n;if((n=e.details)!=null&&n.hasKey(t))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(s=>i.indexOf(s.groupId)>=0).some(s=>{var o;return(o=s.details)==null?void 0:o.hasKey(t)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,t){var n;if(t.fatal)return;const i=this.hls,a=t.context;switch(t.details){case Me.FRAG_LOAD_ERROR:case Me.FRAG_LOAD_TIMEOUT:case Me.KEY_LOAD_ERROR:case Me.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case Me.FRAG_PARSING_ERROR:if((n=t.frag)!=null&&n.gap){t.errorAction=ih();return}case Me.FRAG_GAP:case Me.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Jn.SendAlternateToPenaltyBox;return}case Me.LEVEL_EMPTY_ERROR:case Me.LEVEL_PARSING_ERROR:{var s;const l=t.parent===Et.MAIN?t.level:i.loadLevel;t.details===Me.LEVEL_EMPTY_ERROR&&((s=t.context)!=null&&(s=s.levelDetails)!=null&&s.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,l):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,l))}return;case Me.LEVEL_LOAD_ERROR:case Me.LEVEL_LOAD_TIMEOUT:typeof a?.level=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level));return;case Me.AUDIO_TRACK_LOAD_ERROR:case Me.AUDIO_TRACK_LOAD_TIMEOUT:case Me.SUBTITLE_LOAD_ERROR:case Me.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const l=i.loadLevelObj;if(l&&(a.type===Wt.AUDIO_TRACK&&l.hasAudioGroup(a.groupId)||a.type===Wt.SUBTITLE_TRACK&&l.hasSubtitleGroup(a.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=Jn.SendAlternateToPenaltyBox,t.errorAction.flags=ua.MoveAllAlternatesMatchingHost;return}}return;case Me.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:t.errorAction={action:Jn.SendAlternateToPenaltyBox,flags:ua.MoveAllAlternatesMatchingHDCP};return;case Me.KEY_SYSTEM_SESSION_UPDATE_FAILED:case Me.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case Me.KEY_SYSTEM_NO_SESSION:t.errorAction={action:Jn.SendAlternateToPenaltyBox,flags:ua.MoveAllAlternatesMatchingKey};return;case Me.BUFFER_ADD_CODEC_ERROR:case Me.REMUX_ALLOC_ERROR:case Me.BUFFER_APPEND_ERROR:if(!t.errorAction){var o;t.errorAction=this.getLevelSwitchAction(t,(o=t.level)!=null?o:i.loadLevel)}return;case Me.INTERNAL_EXCEPTION:case Me.BUFFER_APPENDING_ERROR:case Me.BUFFER_FULL_ERROR:case Me.LEVEL_SWITCH_ERROR:case Me.BUFFER_STALLED_ERROR:case Me.BUFFER_SEEK_OVER_HOLE:case Me.BUFFER_NUDGE_ON_STALL:t.errorAction=ih();return}t.type===Dt.KEY_SYSTEM_ERROR&&(t.levelRetry=!1,t.errorAction=ih())}getPlaylistRetryOrSwitchAction(e,t){const n=this.hls,i=oU(n.config.playlistLoadPolicy,e),a=this.playlistError++;if(fx(i,a,cx(e),e.response))return{action:Jn.RetryRequest,flags:ua.None,retryConfig:i,retryCount:a};const o=this.getLevelSwitchAction(e,t);return i&&(o.retryConfig=i,o.retryCount=a),o}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),i=t.levels[n],{fragLoadPolicy:a,keyLoadPolicy:s}=t.config,o=oU(BW(e)?s:a,e),l=t.levels.reduce((c,h)=>c+h.fragmentError,0);if(i&&(e.details!==Me.FRAG_GAP&&i.fragmentError++,!UW(e)&&fx(o,l,cx(e),e.response)))return{action:Jn.RetryRequest,flags:ua.None,retryConfig:o,retryCount:l};const u=this.getLevelSwitchAction(e,n);return o&&(u.retryConfig=o,u.retryCount=l),u}getLevelSwitchAction(e,t){const n=this.hls;t==null&&(t=n.loadLevel);const i=this.hls.levels[t];if(i){var a,s;const u=e.details;i.loadError++,u===Me.BUFFER_APPEND_ERROR&&i.fragmentError++;let c=-1;const{levels:h,loadLevel:p,minAutoLevel:m,maxAutoLevel:g}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const y=(a=e.frag)==null?void 0:a.type,E=(y===Et.AUDIO&&u===Me.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(u===Me.BUFFER_ADD_CODEC_ERROR||u===Me.BUFFER_APPEND_ERROR))&&h.some(({audioCodec:O})=>i.audioCodec!==O),w=e.sourceBufferName==="video"&&(u===Me.BUFFER_ADD_CODEC_ERROR||u===Me.BUFFER_APPEND_ERROR)&&h.some(({codecSet:O,audioCodec:A})=>i.codecSet!==O&&i.audioCodec===A),{type:T,groupId:_}=(s=e.context)!=null?s:{};for(let O=h.length;O--;){const A=(O+p)%h.length;if(A!==p&&A>=m&&A<=g&&h[A].loadError===0){var o,l;const I=h[A];if(u===Me.FRAG_GAP&&y===Et.MAIN&&e.frag){const k=h[A].details;if(k){const N=kc(e.frag,k.fragments,e.frag.start);if(N!=null&&N.gap)continue}}else{if(T===Wt.AUDIO_TRACK&&I.hasAudioGroup(_)||T===Wt.SUBTITLE_TRACK&&I.hasSubtitleGroup(_))continue;if(y===Et.AUDIO&&(o=i.audioGroups)!=null&&o.some(k=>I.hasAudioGroup(k))||y===Et.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(k=>I.hasSubtitleGroup(k))||E&&i.audioCodec===I.audioCodec||w&&i.codecSet===I.codecSet||!E&&i.codecSet!==I.codecSet)continue}c=A;break}}if(c>-1&&n.loadLevel!==c)return e.levelRetry=!0,this.playlistError=0,{action:Jn.SendAlternateToPenaltyBox,flags:ua.None,nextAutoLevel:c}}return{action:Jn.SendAlternateToPenaltyBox,flags:ua.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var n;switch((n=t.errorAction)==null?void 0:n.action){case Jn.DoNothing:break;case Jn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==Me.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:i}=n,a=n.nextAutoLevel;switch(i){case ua.None:this.switchLevel(e,a);break;case ua.MoveAllAlternatesMatchingHDCP:{const l=this.getVariantLevelIndex(e.frag),u=t.levels[l],c=u?.attrs["HDCP-LEVEL"];if(n.hdcpLevel=c,c==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(c){t.maxHdcpLevel=I2[I2.indexOf(c)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}}case ua.MoveAllAlternatesMatchingKey:{const l=e.decryptdata;if(l){const u=this.hls.levels,c=u.length;for(let p=c;p--;)if(this.variantHasKey(u[p],l)){var s,o;this.log(`Banned key found in level ${p} (${u[p].bitrate}bps) or audio group "${(s=u[p].audioGroups)==null?void 0:s.join(",")}" (${(o=e.frag)==null?void 0:o.type} fragment) ${ti(l.keyId||[])}`),u[p].fragmentError++,u[p].loadError++,this.log(`Removing level ${p} with key error (${e.error})`),this.hls.removeLevel(p)}const h=e.frag;if(this.hls.levels.length<c)n.resolved=!0;else if(h&&h.type!==Et.MAIN){const p=h.decryptdata;p&&!l.matches(p)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(e,a)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===Me.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=C2(e.mimeType),i=this.hls.levels;for(let a=i.length;a--;)i[a][`${e.sourceBufferName}Codec`]===n&&(this.log(`Removing level ${a} for ${e.details} ("${n}" not supported)`),this.hls.removeLevel(a))}}}function ih(r){const e={action:Jn.DoNothing,flags:ua.None};return r&&(e.resolved=!0),e}var An={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class JAe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.BUFFER_APPENDED,this.onBufferAppended,this),e.on(G.FRAG_BUFFERED,this.onFragBuffered,this),e.on(G.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.BUFFER_APPENDED,this.onBufferAppended,this),e.off(G.FRAG_BUFFERED,this.onFragBuffered,this),e.off(G.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let i=n.length;i--;){const a=n[i];if(!a)break;if(a.start<=e&&e<=a.end&&a.loaded)return a}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,n){const{fragments:i}=this,a=Object.keys(i);for(let s=a.length;s--;){const o=i[a[s]];if(o?.body.type===t&&(!n||o.buffered)){const l=o.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,t,n,i,a){this.timeRanges&&(this.timeRanges[e]=t);const s=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(o=>{const l=this.fragments[o];if(!l||s>=l.body.sn)return;if(!l.buffered&&(!l.loaded||a)){l.body.type===n&&this.removeFragment(l.body);return}const u=l.range[e];if(u){if(u.time.length===0){this.removeFragment(l.body);return}u.time.some(c=>{const h=!this.isTimeBuffered(c.startPTS,c.endPTS,t);return h&&this.removeFragment(l.body),h})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const n=e.frag,i=Lf(n),a=this.fragments[i];if(!a||a.buffered&&n.gap)return;const s=!n.relurl;Object.keys(t).forEach(o=>{const l=n.elementaryStreams[o];if(!l)return;const u=t[o],c=s||l.partial===!0;a.range[o]=this.getBufferedTimes(n,e.part,c,u)}),a.loaded=null,Object.keys(a.range).length?(this.bufferedEnd(a,n),Pg(a)||this.removeParts(n.sn-1,n.type)):this.removeFragment(a.body)}bufferedEnd(e,t){e.buffered=!0,(e.body.endList=t.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=uU(n,i=>i.fragment.sn>=e))}fragBuffered(e,t){const n=Lf(e);let i=this.fragments[n];!i&&t&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,e))}getBufferedTimes(e,t,n,i){const a={time:[],partial:n},s=e.start,o=e.end,l=e.minEndPTS||o,u=e.maxStartPTS||s;for(let c=0;c<i.length;c++){const h=i.start(c)-this.bufferPadding,p=i.end(c)+this.bufferPadding;if(u>=h&&l<=p){a.time.push({startPTS:Math.max(s,i.start(c)),endPTS:Math.min(o,i.end(c))});break}else if(s<p&&o>h){const m=Math.max(s,i.start(c)),g=Math.min(o,i.end(c));g>m&&(a.partial=!0,a.time.push({startPTS:m,endPTS:g}))}else if(o<=h)break}return a}getPartialFragment(e){let t=null,n,i,a,s=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(u=>{const c=l[u];c&&Pg(c)&&(i=c.body.start-o,a=c.body.end+o,e>=i&&e<=a&&(n=Math.min(e-i,a-e),s<=n&&(t=c.body,s=n)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||Pg(t))}getState(e){const t=Lf(e),n=this.fragments[t];return n?n.buffered?Pg(n)?An.PARTIAL:An.OK:An.APPENDING:An.NOT_LOADED}isTimeBuffered(e,t,n){let i,a;for(let s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,a=n.end(s)+this.bufferPadding,e>=i&&t<=a)return!0;if(t<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const n=t.frag,i=t.part?null:t,a=Lf(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:i,timeRanges:a,type:s}=t;if(n.sn==="initSegment")return;const o=n.type;if(i){let u=this.activePartLists[o];u||(this.activePartLists[o]=u=[]),u.push(i)}this.timeRanges=a;const l=a[s];this.detectEvictedFragments(s,l,o,i)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Lf(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,n=Object.keys(t);if(!e)return n.length>0;for(let i=n.length;i--;){const a=t[n[i]];if(a?.body.type===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,n,i,a){i&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o)return;const l=o.body;l.type!==n||i&&!l.gap||l.start<t&&l.end>e&&(o.buffered||a)&&this.removeFragment(l)})}removeFragment(e){const t=Lf(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=uU(n,a=>a.fragment.sn!==i)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const t=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;t&&t.forEach(n=>n.clearElementaryStreamInfo())}}function Pg(r){var e,t,n;return r.buffered&&!!(r.body.gap||(e=r.range.video)!=null&&e.partial||(t=r.range.audio)!=null&&t.partial||(n=r.range.audiovideo)!=null&&n.partial)}function Lf(r){return`${r.type}_${r.level}_${r.sn}`}function uU(r,e){return r.filter(t=>{const n=e(t);return n||t.clearElementaryStreamInfo(),n})}var wu={cbc:0,ctr:1};class e2e{constructor(e,t,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=n}decrypt(e,t){switch(this.aesMode){case wu.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case wu.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function t2e(r){const e=r.byteLength,t=e&&new DataView(r.buffer).getUint8(e-1);return t?r.slice(0,e-t):r}class r2e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=t.getUint32(i*4);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,i=n[0],a=n[1],s=n[2],o=n[3],l=this.invSubMix,u=l[0],c=l[1],h=l[2],p=l[3],m=new Uint32Array(256);let g=0,y=0,x=0;for(x=0;x<256;x++)x<128?m[x]=x<<1:m[x]=x<<1^283;for(x=0;x<256;x++){let E=y^y<<1^y<<2^y<<3^y<<4;E=E>>>8^E&255^99,e[g]=E,t[E]=g;const S=m[g],w=m[S],T=m[w];let _=m[E]*257^E*16843008;i[g]=_<<24|_>>>8,a[g]=_<<16|_>>>16,s[g]=_<<8|_>>>24,o[g]=_,_=T*16843009^w*65537^S*257^g*16843008,u[E]=_<<24|_>>>8,c[E]=_<<16|_>>>16,h[E]=_<<8|_>>>24,p[E]=_,g?(g=S^m[m[m[T^S]]],y^=m[m[y]]):g=y=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<t.length&&n;)n=t[i]===this.key[i],i++;if(n)return;this.key=t;const a=this.keySize=t.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const s=this.ksRows=(a+6+1)*4;let o,l;const u=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),h=this.sBox,p=this.rcon,m=this.invSubMix,g=m[0],y=m[1],x=m[2],E=m[3];let S,w;for(o=0;o<s;o++){if(o<a){S=u[o]=t[o];continue}w=S,o%a===0?(w=w<<8|w>>>24,w=h[w>>>24]<<24|h[w>>>16&255]<<16|h[w>>>8&255]<<8|h[w&255],w^=p[o/a|0]<<24):a>6&&o%a===4&&(w=h[w>>>24]<<24|h[w>>>16&255]<<16|h[w>>>8&255]<<8|h[w&255]),u[o]=S=(u[o-a]^w)>>>0}for(l=0;l<s;l++)o=s-l,l&3?w=u[o]:w=u[o-4],l<4||o<=4?c[l]=w:c[l]=g[h[w>>>24]]^y[h[w>>>16&255]]^x[h[w>>>8&255]]^E[h[w&255]],c[l]=c[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,n){const i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,o=this.invSubMix,l=o[0],u=o[1],c=o[2],h=o[3],p=this.uint8ArrayToUint32Array_(n);let m=p[0],g=p[1],y=p[2],x=p[3];const E=new Int32Array(e),S=new Int32Array(E.length);let w,T,_,O,A,I,k,N,B,R,H,X,Y,K;const z=this.networkToHostOrderSwap;for(;t<E.length;){for(B=z(E[t]),R=z(E[t+1]),H=z(E[t+2]),X=z(E[t+3]),A=B^a[0],I=X^a[1],k=H^a[2],N=R^a[3],Y=4,K=1;K<i;K++)w=l[A>>>24]^u[I>>16&255]^c[k>>8&255]^h[N&255]^a[Y],T=l[I>>>24]^u[k>>16&255]^c[N>>8&255]^h[A&255]^a[Y+1],_=l[k>>>24]^u[N>>16&255]^c[A>>8&255]^h[I&255]^a[Y+2],O=l[N>>>24]^u[A>>16&255]^c[I>>8&255]^h[k&255]^a[Y+3],A=w,I=T,k=_,N=O,Y=Y+4;w=s[A>>>24]<<24^s[I>>16&255]<<16^s[k>>8&255]<<8^s[N&255]^a[Y],T=s[I>>>24]<<24^s[k>>16&255]<<16^s[N>>8&255]<<8^s[A&255]^a[Y+1],_=s[k>>>24]<<24^s[N>>16&255]<<16^s[A>>8&255]<<8^s[I&255]^a[Y+2],O=s[N>>>24]<<24^s[A>>16&255]<<16^s[I>>8&255]<<8^s[k&255]^a[Y+3],S[t]=z(w^m),S[t+1]=z(O^g),S[t+2]=z(_^y),S[t+3]=z(T^x),m=B,g=R,y=H,x=X,t=t+4}return S.buffer}}class n2e{constructor(e,t,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=n}expandKey(){const e=i2e(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function i2e(r){switch(r){case wu.cbc:return"AES-CBC";case wu.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${r}`)}}const a2e=16;class LC{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?t2e(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n,i){return this.useSoftware?new Promise((a,s)=>{const o=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(o,t,n,i);const l=this.flush();l?a(l.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,n,i)}softwareDecrypt(e,t,n,i){const{currentIV:a,currentResult:s,remainderData:o}=this;if(i!==wu.cbc||t.byteLength!==16)return pr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),o&&(e=Qa(o,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;a&&(n=a);let u=this.softwareDecrypter;u||(u=this.softwareDecrypter=new r2e),u.expandKey(t);const c=s;return this.currentResult=u.decrypt(l.buffer,0,n),this.currentIV=l.slice(-16).buffer,c||null}webCryptoDecrypt(e,t,n,i){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,n,i));this.key=t,this.fastAesKey=new n2e(this.subtle,t,i)}return this.fastAesKey.expandKey().then(a=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new e2e(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,a)):Promise.reject(new Error("web crypto not initialized"))).catch(a=>(pr.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,t,n,i)))}onWebCryptoError(e,t,n,i){const a=this.enableSoftwareAES;if(a){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n,i);const s=this.flush();if(s)return s.buffer}throw new Error("WebCrypto"+(a?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%a2e;return n!==e.length&&(t=e.slice(0,n),this.remainderData=e.slice(n)),t}logOnce(e){this.logEnabled&&(pr.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const cU=Math.pow(2,17);class s2e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new Ro({type:Dt.NETWORK_ERROR,details:Me.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){l(hU(e));return}else e.gap=!1;const u=this.loader=a?new a(i):new s(i),c=fU(e);e.loader=u;const h=lU(i.fragLoadPolicy.default),p={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:cU};e.stats=u.stats;const m={onSuccess:(g,y,x,E)=>{this.resetLoader(e,u);let S=g.data;x.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(S.slice(0,16)),S=S.slice(16)),o({frag:e,part:null,payload:S,networkDetails:E})},onError:(g,y,x,E)=>{this.resetLoader(e,u),l(new Ro({type:Dt.NETWORK_ERROR,details:Me.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:hr({url:n,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:x,stats:E}))},onAbort:(g,y,x)=>{this.resetLoader(e,u),l(new Ro({type:Dt.NETWORK_ERROR,details:Me.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:x,stats:g}))},onTimeout:(g,y,x)=>{this.resetLoader(e,u),l(new Ro({type:Dt.NETWORK_ERROR,details:Me.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:x,stats:g}))}};t&&(m.onProgress=(g,y,x,E)=>t({frag:e,part:null,payload:x,networkDetails:E})),u.load(c,p,m)})}loadPart(e,t,n){this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){l(hU(e,t));return}const u=this.loader=a?new a(i):new s(i),c=fU(e,t);e.loader=u;const h=lU(i.fragLoadPolicy.default),p={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:cU};t.stats=u.stats,u.load(c,p,{onSuccess:(m,g,y,x)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,t);const E={frag:e,part:t,payload:m.data,networkDetails:x};n(E),o(E)},onError:(m,g,y,x)=>{this.resetLoader(e,u),l(new Ro({type:Dt.NETWORK_ERROR,details:Me.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:hr({url:c.url,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:y,stats:x}))},onAbort:(m,g,y)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,u),l(new Ro({type:Dt.NETWORK_ERROR,details:Me.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:y,stats:m}))},onTimeout:(m,g,y)=>{this.resetLoader(e,u),l(new Ro({type:Dt.NETWORK_ERROR,details:Me.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:y,stats:m}))}})})}updateStatsFromPart(e,t){const n=e.stats,i=t.stats,a=i.total;if(n.loaded+=i.loaded,a){const l=Math.round(e.duration/t.duration),u=Math.min(Math.round(n.loaded/a),l),h=(l-u)*Math.round(n.loaded/u);n.total=n.loaded+h}else n.total=Math.max(n.loaded,n.total);const s=n.loading,o=i.loading;s.start?s.first+=o.first-o.start:(s.start=o.start,s.first=o.first),s.end=o.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function fU(r,e=null){const t=e||r,n={frag:r,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},i=t.byteRangeStartOffset,a=t.byteRangeEndOffset;if(yt(i)&&yt(a)){var s;let o=i,l=a;if(r.sn==="initSegment"&&o2e((s=r.decryptdata)==null?void 0:s.method)){const u=a-i;u%16&&(l=a+(16-u%16)),i!==0&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=l}return n}function hU(r,e){const t=new Error(`GAP ${r.gap?"tag":"attribute"} found`),n={type:Dt.MEDIA_ERROR,details:Me.FRAG_GAP,fatal:!1,frag:r,error:t,networkDetails:null};return e&&(n.part=e),(e||r).stats.aborted=!0,new Ro(n)}function o2e(r){return r==="AES-128"||r==="AES-256"}class Ro extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class jW extends es{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class MC{constructor(e,t,n,i=0,a=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Lg(),this.buffering={audio:Lg(),video:Lg(),audiovideo:Lg()},this.level=e,this.sn=t,this.id=n,this.size=i,this.part=a,this.partial=s}}function Lg(){return{start:0,executeStart:0,executeEnd:0,end:0}}const dU={length:0,start:()=>0,end:()=>0};class Ft{static isBuffered(e,t){if(e){const n=Ft.getBuffered(e);for(let i=n.length;i--;)if(t>=n.start(i)&&t<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const t=Ft.getBuffered(e);return Ft.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}static bufferInfo(e,t,n){if(e){const i=Ft.bufferedRanges(e);if(i.length)return Ft.bufferedInfo(i,t,n)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.length>1&&e.sort((c,h)=>c.start-h.start||h.end-c.end);let i=-1,a=[];if(n)for(let c=0;c<e.length;c++){t>=e[c].start&&t<=e[c].end&&(i=c);const h=a.length;if(h){const p=a[h-1].end;e[c].start-p<n?e[c].end>p&&(a[h-1].end=e[c].end):a.push(e[c])}else a.push(e[c])}else a=e;let s=0,o,l=t,u=t;for(let c=0;c<a.length;c++){const h=a[c].start,p=a[c].end;if(i===-1&&t>=h&&t<=p&&(i=c),t+n>=h&&t<p)l=h,u=p,s=u-t;else if(t+n<h){o=h;break}}return{len:s,start:l||0,end:u||0,nextStart:o,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||dU}catch(t){return pr.log("failed to get media.buffered",t),dU}}}const $W=/\{\$([a-zA-Z0-9-_]+)\}/g;function pU(r){return $W.test(r)}function k2(r,e){if(r.variableList!==null||r.hasVariableRefs){const t=r.variableList;return e.replace($W,n=>{const i=n.substring(2,n.length-1),a=t?.[i];return a===void 0?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):a})}return e}function mU(r,e,t){let n=r.variableList;n||(r.variableList=n={});let i,a;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const s=new self.URL(t).searchParams;if(s.has(i))a=s.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${t}"`)}catch(s){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else i=e.NAME,a=e.VALUE;i in n?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=a||""}function l2e(r,e,t){const n=e.IMPORT;if(t&&n in t){let i=r.variableList;i||(r.variableList=i={}),i[n]=t[n]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const u2e=/^(\d+)x(\d+)$/,gU=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Kr{constructor(e,t){typeof e=="string"&&(e=Kr.parseAttrList(e,t)),Er(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const n=new Uint8Array(t.length/2);for(let i=0;i<t.length/2;i++)n[i]=parseInt(t.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,a)=>(i[a.toLowerCase()]=!0,i),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=u2e.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let n;const i={};for(gU.lastIndex=0;(n=gU.exec(e))!==null;){const s=n[1].trim();let o=n[2];const l=o.indexOf('"')===0&&o.lastIndexOf('"')===o.length-1;let u=!1;if(l)o=o.slice(1,-1);else switch(s){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":u=!0}if(t&&(l||u))o=k2(t,o);else if(!u&&!l)switch(s){case"CLOSED-CAPTIONS":if(o==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":pr.warn(`${e}: attribute ${s} is missing quotes`)}i[s]=o}return i}}const c2e="com.apple.hls.interstitial";function f2e(r){return r!=="ID"&&r!=="CLASS"&&r!=="CUE"&&r!=="START-DATE"&&r!=="DURATION"&&r!=="END-DATE"&&r!=="END-ON-NEXT"}function h2e(r){return r==="SCTE35-OUT"||r==="SCTE35-IN"||r==="SCTE35-CMD"}class HW{constructor(e,t,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=t?.tagAnchor||null,this.tagOrder=(i=t?.tagOrder)!=null?i:n,t){const a=t.attr;for(const s in a)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==a[s]){pr.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=Er(new Kr({}),a,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const a=t?.endDate||new Date(this.attr["END-DATE"]);yt(a.getTime())&&(this._endDate=a)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(pr.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(yt(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===c2e}get isValid(){return!!this.id&&!this._badValueForSameId&&yt(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const d2e=10;class p2e{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(t=>{let n=t.decryptdata;return n||(t.setKeyFormat(e.keyFormat),n=t.decryptdata),!!n&&e.matches(n)})}get hasProgramDateTime(){return this.fragments.length?yt(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||d2e}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let n=e.length;n--;)if(e[n].index>t)return e[n].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function hx(r,e){return r.length===e.length?!r.some((t,n)=>t!==e[n]):!1}function vU(r,e){return!r&&!e?!0:!r||!e?!1:hx(r,e)}function ah(r){return r==="AES-128"||r==="AES-256"||r==="AES-256-CTR"}function NC(r){switch(r){case"AES-128":case"AES-256":return wu.cbc;case"AES-256-CTR":return wu.ctr;default:throw new Error(`invalid full segment method ${r}`)}}function FC(r){return Uint8Array.from(atob(r),e=>e.charCodeAt(0))}function P2(r){return Uint8Array.from(unescape(encodeURIComponent(r)),e=>e.charCodeAt(0))}function m2e(r){const e=P2(r).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function GW(r){const e=function(n,i,a){const s=n[i];n[i]=n[a],n[a]=s};e(r,0,3),e(r,1,2),e(r,4,5),e(r,6,7)}function WW(r){const e=r.split(":");let t=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const a=i[0]==="base64",s=i[1];a?(n.splice(-1,1),t=FC(s)):t=m2e(s)}}return t}const dx=typeof self<"u"?self:void 0;var Yr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},ri={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function kv(r){switch(r){case ri.FAIRPLAY:return Yr.FAIRPLAY;case ri.PLAYREADY:return Yr.PLAYREADY;case ri.WIDEVINE:return Yr.WIDEVINE;case ri.CLEARKEY:return Yr.CLEARKEY}}function Vw(r){switch(r){case Yr.FAIRPLAY:return ri.FAIRPLAY;case Yr.PLAYREADY:return ri.PLAYREADY;case Yr.WIDEVINE:return ri.WIDEVINE;case Yr.CLEARKEY:return ri.CLEARKEY}}function s0(r){const{drmSystems:e,widevineLicenseUrl:t}=r,n=e?[Yr.FAIRPLAY,Yr.WIDEVINE,Yr.PLAYREADY,Yr.CLEARKEY].filter(i=>!!e[i]):[];return!n[Yr.WIDEVINE]&&t&&n.push(Yr.WIDEVINE),n}const KW=(function(r){return dx!=null&&(r=dx.navigator)!=null&&r.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function g2e(r,e,t,n){let i;switch(r){case Yr.FAIRPLAY:i=["cenc","sinf"];break;case Yr.WIDEVINE:case Yr.PLAYREADY:i=["cenc"];break;case Yr.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return v2e(i,e,t,n)}function v2e(r,e,t,n){return[{initDataTypes:r,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs=${a}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:t.map(a=>({contentType:`video/mp4; codecs=${a}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function y2e(r){var e;return!!r&&(r.sessionType==="persistent-license"||!!((e=r.sessionTypes)!=null&&e.some(t=>t==="persistent-license")))}function YW(r){const e=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),n=t.substring(t.indexOf("<"),t.length),s=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(s){const o=s.childNodes[0]?s.childNodes[0].nodeValue:s.getAttribute("VALUE");if(o){const l=FC(o).subarray(0,16);return GW(l),l}}return null}let Mf={};class du{static clearKeyUriToKeyIdMap(){Mf={}}static setKeyIdForUri(e,t){Mf[e]=t}static addKeyIdForUri(e){const t=Object.keys(Mf).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,t),Mf[e]=n,n}constructor(e,t,n,i=[1],a=null,s){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!ah(e),s!=null&&s.startsWith("0x")&&(this.keyId=new Uint8Array(bW(s)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&hx(e.keyFormatVersions,this.keyFormatVersions)&&vU(e.iv,this.iv)&&vU(e.keyId,this.keyId)}isSupported(){if(this.method){if(ah(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case ri.FAIRPLAY:case ri.WIDEVINE:case ri.PLAYREADY:case ri.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,t){if(!this.encrypted||!this.uri)return null;if(ah(this.method)){let a=this.iv;return a||(typeof e!="number"&&(pr.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),a=b2e(e)),new du(this.method,this.uri,"identity",this.keyFormatVersions,a)}if(this.keyId){const a=Mf[this.uri];if(a&&!hx(this.keyId,a)&&du.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=WW(this.uri);if(n)switch(this.keyFormat){case ri.WIDEVINE:if(this.pssh=n,!this.keyId){const a=wAe(n.buffer);if(a.length){var i;const s=a[0];this.keyId=(i=s.kids)!=null&&i.length?s.kids[0]:null}}this.keyId||(this.keyId=yU(t));break;case ri.PLAYREADY:{const a=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=EAe(a,null,n),this.keyId=YW(n);break}default:{let a=n.subarray(0,16);if(a.length!==16){const s=new Uint8Array(16);s.set(a,16-a.length),a=s}this.keyId=a;break}}if(!this.keyId||this.keyId.byteLength!==16){let a;a=x2e(t),a||(a=yU(t),a||(a=Mf[this.uri])),a&&(this.keyId=a,du.setKeyIdForUri(this.uri,a))}return this}}function x2e(r){const e=r?.[ri.WIDEVINE];return e?e.keyId:null}function yU(r){const e=r?.[ri.PLAYREADY];if(e){const t=WW(e.uri);if(t)return YW(t)}return null}function b2e(r){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=r>>8*(15-t)&255;return e}const xU=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,bU=/#EXT-X-MEDIA:(.*)/g,S2e=/^#EXT(?:INF|-X-TARGETDURATION):/m,qw=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),E2e=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class zs{static findGroup(e,t){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===t)return i}}static resolve(e,t){return OC.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return S2e.test(e)}static parseMasterPlaylist(e,t){const n=pU(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];if(xU.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let s;for(;(s=xU.exec(e))!=null;)if(s[1]){var o;const u=new Kr(s[1],i),c=k2(i,s[2]),h={attrs:u,bitrate:u.decimalInteger("BANDWIDTH")||u.decimalInteger("AVERAGE-BANDWIDTH"),name:u.NAME,url:zs.resolve(c,t)},p=u.decimalResolution("RESOLUTION");p&&(h.width=p.width,h.height=p.height),wU(u.CODECS,h);const m=u["SUPPLEMENTAL-CODECS"];m&&(h.supplemental={},wU(m,h.supplemental)),(o=h.unknownCodecs)!=null&&o.length||a.push(h),i.levels.push(h)}else if(s[3]){const u=s[3],c=s[4];switch(u){case"SESSION-DATA":{const h=new Kr(c,i),p=h["DATA-ID"];p&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[p]=h);break}case"SESSION-KEY":{const h=SU(c,t,i);h.encrypted&&h.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(h)):pr.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${c}"`);break}case"DEFINE":{{const h=new Kr(c,i);mU(i,h,t)}break}case"CONTENT-STEERING":{const h=new Kr(c,i);i.contentSteering={uri:zs.resolve(h["SERVER-URI"],t),pathwayId:h["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=EU(c);break}}}const l=a.length>0&&a.length<i.levels.length;return i.levels=l?a:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,t,n){let i;const a={},s=n.levels,o={AUDIO:s.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:s.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(bU.lastIndex=0;(i=bU.exec(e))!==null;){const u=new Kr(i[1],n),c=u.TYPE;if(c){const h=o[c],p=a[c]||[];a[c]=p;const m=u.LANGUAGE,g=u["ASSOC-LANGUAGE"],y=u.CHANNELS,x=u.CHARACTERISTICS,E=u["INSTREAM-ID"],S={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",name:u.NAME||m||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:m,url:u.URI?zs.resolve(u.URI,t):""};if(g&&(S.assocLang=g),y&&(S.channels=y),x&&(S.characteristics=x),E&&(S.instreamId=E),h!=null&&h.length){const w=zs.findGroup(h,S.groupId)||h[0];_U(S,w,"audioCodec"),_U(S,w,"textCodec")}p.push(S)}}return a}static parseLevelPlaylist(e,t,n,i,a,s){var o;const l={url:t},u=new p2e(t),c=u.fragments,h=[];let p=null,m=0,g=0,y=0,x=0,E=0,S=null,w=new Kw(i,l),T,_,O,A=-1,I=!1,k=null,N;if(qw.lastIndex=0,u.m3u8=e,u.hasVariableRefs=pU(e),((o=qw.exec(e))==null?void 0:o[0])!=="#EXTM3U")return u.playlistParsingError=new Error("Missing format identifier #EXTM3U"),u;for(;(T=qw.exec(e))!==null;){I&&(I=!1,w=new Kw(i,l),w.playlistOffset=y,w.setStart(y),w.sn=m,w.cc=x,E&&(w.bitrate=E),w.level=n,p&&(w.initSegment=p,p.rawProgramDateTime&&(w.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),k&&(w.setByteRange(k),k=null)));const X=T[1];if(X){w.duration=parseFloat(X);const Y=(" "+T[2]).slice(1);w.title=Y||null,w.tagList.push(Y?["INF",X,Y]:["INF",X])}else if(T[3]){if(yt(w.duration)){w.playlistOffset=y,w.setStart(y),O&&AU(w,O,u),w.sn=m,w.level=n,w.cc=x,c.push(w);const Y=(" "+T[3]).slice(1);w.relurl=k2(u,Y),L2(w,S,h),S=w,y+=w.duration,m++,g=0,I=!0}}else{if(T=T[0].match(E2e),!T){pr.warn("No matches on slow regex match for level playlist!");continue}for(_=1;_<T.length&&T[_]===void 0;_++);const Y=(" "+T[_]).slice(1),K=(" "+T[_+1]).slice(1),z=T[_+2]?(" "+T[_+2]).slice(1):null;switch(Y){case"BYTERANGE":S?w.setByteRange(K,S):w.setByteRange(K);break;case"PROGRAM-DATE-TIME":w.rawProgramDateTime=K,w.tagList.push(["PROGRAM-DATE-TIME",K]),A===-1&&(A=c.length);break;case"PLAYLIST-TYPE":u.type&&Do(u,Y,T),u.type=K.toUpperCase();break;case"MEDIA-SEQUENCE":u.startSN!==0?Do(u,Y,T):c.length>0&&DU(u,Y,T),m=u.startSN=parseInt(K);break;case"SKIP":{u.skippedSegments&&Do(u,Y,T);const Q=new Kr(K,u),se=Q.decimalInteger("SKIPPED-SEGMENTS");if(yt(se)){u.skippedSegments+=se;for(let W=se;W--;)c.push(null);m+=se}const ae=Q.enumeratedString("RECENTLY-REMOVED-DATERANGES");ae&&(u.recentlyRemovedDateranges=(u.recentlyRemovedDateranges||[]).concat(ae.split("	")));break}case"TARGETDURATION":u.targetduration!==0&&Do(u,Y,T),u.targetduration=Math.max(parseInt(K),1);break;case"VERSION":u.version!==null&&Do(u,Y,T),u.version=parseInt(K);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":u.live||Do(u,Y,T),u.live=!1;break;case"#":(K||z)&&w.tagList.push(z?[K,z]:[K]);break;case"DISCONTINUITY":x++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([Y]);break;case"BITRATE":w.tagList.push([Y,K]),E=parseInt(K)*1e3,yt(E)?w.bitrate=E:E=0;break;case"DATERANGE":{const Q=new Kr(K,u),se=new HW(Q,u.dateRanges[Q.ID],u.dateRangeTagCount);u.dateRangeTagCount++,se.isValid||u.skippedSegments?u.dateRanges[se.id]=se:pr.warn(`Ignoring invalid DATERANGE tag: "${K}"`),w.tagList.push(["EXT-X-DATERANGE",K]);break}case"DEFINE":{{const Q=new Kr(K,u);"IMPORT"in Q?l2e(u,Q,s):mU(u,Q,t)}break}case"DISCONTINUITY-SEQUENCE":u.startCC!==0?Do(u,Y,T):c.length>0&&DU(u,Y,T),u.startCC=x=parseInt(K);break;case"KEY":{const Q=SU(K,t,u);if(Q.isSupported()){if(Q.method==="NONE"){O=void 0;break}O||(O={});const se=O[Q.keyFormat];se!=null&&se.matches(Q)||(se&&(O=Er({},O)),O[Q.keyFormat]=Q)}else pr.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${K}"`);break}case"START":u.startTimeOffset=EU(K);break;case"MAP":{const Q=new Kr(K,u);if(w.duration){const se=new Kw(i,l);TU(se,Q,n,O),p=se,w.initSegment=p,p.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=p.rawProgramDateTime)}else{const se=w.byteRangeEndOffset;if(se){const ae=w.byteRangeStartOffset;k=`${se-ae}@${ae}`}else k=null;TU(w,Q,n,O),p=w,I=!0}p.cc=x;break}case"SERVER-CONTROL":{N&&Do(u,Y,T),N=new Kr(K),u.canBlockReload=N.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=N.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&N.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=N.optionalFloat("PART-HOLD-BACK",0),u.holdBack=N.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{u.partTarget&&Do(u,Y,T);const Q=new Kr(K);u.partTarget=Q.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Q=u.partList;Q||(Q=u.partList=[]);const se=g>0?Q[Q.length-1]:void 0,ae=g++,W=new Kr(K,u),M=new lAe(W,w,l,ae,se);Q.push(M),w.duration+=M.duration;break}case"PRELOAD-HINT":{const Q=new Kr(K,u);u.preloadHint=Q;break}case"RENDITION-REPORT":{const Q=new Kr(K,u);u.renditionReports=u.renditionReports||[],u.renditionReports.push(Q);break}default:pr.warn(`line parsed but not handled: ${T}`);break}}}S&&!S.relurl?(c.pop(),y-=S.duration,u.partList&&(u.fragmentHint=S)):u.partList&&(L2(w,S,h),w.cc=x,u.fragmentHint=w,O&&AU(w,O,u)),u.targetduration||(u.playlistParsingError=new Error("Missing Target Duration"));const B=c.length,R=c[0],H=c[B-1];if(y+=u.skippedSegments*u.targetduration,y>0&&B&&H){u.averagetargetduration=y/B;const X=H.sn;u.endSN=X!=="initSegment"?X:0,u.live||(H.endList=!0),A>0&&(_2e(c,A),R&&h.unshift(R))}return u.fragmentHint&&(y+=u.fragmentHint.duration),u.totalduration=y,h.length&&u.dateRangeTagCount&&R&&zW(h,u),u.endCC=x,u}}function zW(r,e){let t=r.length;if(!t)if(e.hasProgramDateTime){const o=e.fragments[e.fragments.length-1];r.push(o),t++}else return;const n=r[t-1],i=e.live?1/0:e.totalduration,a=Object.keys(e.dateRanges);for(let o=a.length;o--;){const l=e.dateRanges[a[o]],u=l.startDate.getTime();l.tagAnchor=n.ref;for(let c=t;c--;){var s;if(((s=r[c])==null?void 0:s.sn)<e.startSN)break;const h=w2e(e,u,r,c,i);if(h!==-1){l.tagAnchor=e.fragments[h].ref;break}}}}function w2e(r,e,t,n,i){const a=t[n];if(a){const o=a.programDateTime;if(e>=o||n===0){var s;const l=(((s=t[n+1])==null?void 0:s.start)||i)-a.start;if(e<=o+l*1e3){const u=t[n].sn-r.startSN;if(u<0)return-1;const c=r.fragments;if(c.length>t.length){const p=(t[n+1]||c[c.length-1]).sn-r.startSN;for(let m=p;m>u;m--){const g=c[m].programDateTime;if(e>=g&&e<g+c[m].duration*1e3)return m}}return u}}}return-1}function SU(r,e,t){var n,i;const a=new Kr(r,t),s=(n=a.METHOD)!=null?n:"",o=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=(i=a.KEYFORMAT)!=null?i:"identity";o&&a.IV&&!l&&pr.error(`Invalid IV: ${a.IV}`);const h=o?zs.resolve(o,e):"",p=(u||"1").split("/").map(Number).filter(Number.isFinite);return new du(s,h,c,p,l,a.KEYID)}function EU(r){const t=new Kr(r).decimalFloatingPoint("TIME-OFFSET");return yt(t)?t:null}function wU(r,e){let t=(r||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=t.filter(a=>RC(a,n));i.length&&(e[`${n}Codec`]=i.map(a=>a.split("/")[0]).join(","),t=t.filter(a=>i.indexOf(a)===-1))}),e.unknownCodecs=t}function _U(r,e,t){const n=e[t];n&&(r[t]=n)}function _2e(r,e){let t=r[e];for(let n=e;n--;){const i=r[n];if(!i)return;i.programDateTime=t.programDateTime-i.duration*1e3,t=i}}function L2(r,e,t){r.rawProgramDateTime?t.push(r):e!=null&&e.programDateTime&&(r.programDateTime=e.endProgramDateTime)}function TU(r,e,t,n){r.relurl=e.URI,e.BYTERANGE&&r.setByteRange(e.BYTERANGE),r.level=t,r.sn="initSegment",n&&(r.levelkeys=n),r.initSegment=null}function AU(r,e,t){r.levelkeys=e;const{encryptedFragments:n}=t;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(r)}function Do(r,e,t){r.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function DU(r,e,t){r.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function Xw(r,e){const t=e.startPTS;if(yt(t)){let n=0,i;e.sn>r.sn?(n=t-r.start,i=r):(n=r.start-t,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>r.sn?r.cc===e.cc&&r.minEndPTS?e.setStart(r.start+(r.minEndPTS-r.start)):e.setStart(r.start+r.duration):e.setStart(Math.max(r.start-e.duration,0))}function VW(r,e,t,n,i,a,s){n-t<=0&&(s.warn("Fragment should have a positive duration",e),n=t+e.duration,a=i+e.duration);let l=t,u=n;const c=e.startPTS,h=e.endPTS;if(yt(c)){const E=Math.abs(c-t);r&&E>r.totalduration?s.warn(`media timestamps and playlist times differ by ${E}s for level ${e.level} ${r.url}`):yt(e.deltaPTS)?e.deltaPTS=Math.max(E,e.deltaPTS):e.deltaPTS=E,l=Math.max(t,c),t=Math.min(t,c),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,u=Math.min(n,h),n=Math.max(n,h),a=e.endDTS!==void 0?Math.max(a,e.endDTS):a}const p=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(n-e.start),e.startPTS=t,e.maxStartPTS=l,e.startDTS=i,e.endPTS=n,e.minEndPTS=u,e.endDTS=a;const m=e.sn;if(!r||m<r.startSN||m>r.endSN)return 0;let g;const y=m-r.startSN,x=r.fragments;for(x[y]=e,g=y;g>0;g--)Xw(x[g],x[g-1]);for(g=y;g<x.length-1;g++)Xw(x[g],x[g+1]);return r.fragmentHint&&Xw(x[x.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,p}function T2e(r,e,t){if(r===e)return;let n=null;const i=r.fragments;for(let c=i.length-1;c>=0;c--){const h=i[c].initSegment;if(h){n=h;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let a;O2e(r,e,(c,h,p,m)=>{if((!e.startCC||e.skippedSegments)&&h.cc!==c.cc){const g=c.cc-h.cc;for(let y=p;y<m.length;y++)m[y].cc+=g;e.endCC=m[m.length-1].cc}yt(c.startPTS)&&yt(c.endPTS)&&(h.setStart(h.startPTS=c.startPTS),h.startDTS=c.startDTS,h.maxStartPTS=c.maxStartPTS,h.endPTS=c.endPTS,h.endDTS=c.endDTS,h.minEndPTS=c.minEndPTS,h.setDuration(c.endPTS-c.startPTS),h.duration&&(a=h),e.PTSKnown=e.alignedSliding=!0),c.hasStreams&&(h.elementaryStreams=c.elementaryStreams),h.loader=c.loader,c.hasStats&&(h.stats=c.stats),c.initSegment&&(h.initSegment=c.initSegment,n=c.initSegment)});const s=e.fragments,o=e.fragmentHint?s.concat(e.fragmentHint):s;if(n&&o.forEach(c=>{var h;c&&(!c.initSegment||c.initSegment.relurl===((h=n)==null?void 0:h.relurl))&&(c.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=s.some(c=>!c),e.deltaUpdateFailed){t.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let c=e.skippedSegments;c--;)s.shift();e.startSN=s[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=A2e(r.dateRanges,e,t));const c=r.fragments.filter(h=>h.rawProgramDateTime);if(r.hasProgramDateTime&&!e.hasProgramDateTime)for(let h=1;h<o.length;h++)o[h].programDateTime===null&&L2(o[h],o[h-1],c);zW(c,e)}e.endCC=s[s.length-1].cc}if(!e.startCC){var l;const c=QW(r,e.startSN-1);e.startCC=(l=c?.cc)!=null?l:s[0].cc}D2e(r.partList,e.partList,(c,h)=>{h.elementaryStreams=c.elementaryStreams,h.stats=c.stats}),a?VW(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS,t):qW(r,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=r.driftStartTime,e.driftStart=r.driftStart;const u=e.advancedDateTime;if(e.advanced&&u){const c=e.edge;e.driftStart||(e.driftStartTime=u,e.driftStart=c),e.driftEndTime=u,e.driftEnd=c}else e.driftEndTime=r.driftEndTime,e.driftEnd=r.driftEnd,e.advancedDateTime=r.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=r.requestScheduled)}function A2e(r,e,t){const{dateRanges:n,recentlyRemovedDateranges:i}=e,a=Er({},r);i&&i.forEach(l=>{delete a[l]});const o=Object.keys(a).length;return o?(Object.keys(n).forEach(l=>{const u=a[l],c=new HW(n[l].attr,u);c.isValid?(a[l]=c,u||(c.tagOrder+=o)):t.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Dr(n[l].attr)}"`)}),a):n}function D2e(r,e,t){if(r&&e){let n=0;for(let i=0,a=r.length;i<=a;i++){const s=r[i],o=e[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?t(s,o):n--}}}function O2e(r,e,t){const n=e.skippedSegments,i=Math.max(r.startSN,e.startSN)-e.startSN,a=(r.fragmentHint?1:0)+(n?e.endSN:Math.min(r.endSN,e.endSN))-e.startSN,s=e.startSN-r.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let u=i;u<=a;u++){const c=l[s+u];let h=o[u];if(n&&!h&&c&&(h=e.fragments[u]=c),c&&h){t(c,h,u,o);const p=c.relurl,m=h.relurl;if(p&&C2e(p,m)){e.playlistParsingError=OU(`media sequence mismatch ${h.sn}:`,r,e,c,h);return}else if(c.cc!==h.cc){e.playlistParsingError=OU(`discontinuity sequence mismatch (${c.cc}!=${h.cc})`,r,e,c,h);return}}}}function OU(r,e,t,n,i){return new Error(`${r} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function qW(r,e,t=!0){const n=e.startSN+e.skippedSegments-r.startSN,i=r.fragments,a=n>=0;let s=0;if(a&&n<i.length)s=i[n].start;else if(a&&e.startSN===r.endSN+1)s=r.fragmentEnd;else if(a&&t)s=r.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)s=r.fragmentStart;else return;M2(e,s)}function M2(r,e){if(e){const t=r.fragments;for(let n=r.skippedSegments;n<t.length;n++)t[n].addStart(e);r.fragmentHint&&r.fragmentHint.addStart(e)}}function XW(r,e=1/0){let t=1e3*r.targetduration;if(r.updated){const n=r.fragments;if(n.length&&t*4>e){const a=n[n.length-1].duration*1e3;a<t&&(t=a)}}else t/=2;return Math.round(t)}function QW(r,e,t){if(!r)return null;let n=r.fragments[e-r.startSN];return n||(n=r.fragmentHint,n&&n.sn===e)?n:e<r.startSN&&t&&t.sn===e?t:null}function CU(r,e,t){return r?ZW(r.partList,e,t):null}function ZW(r,e,t){if(r)for(let n=r.length;n--;){const i=r[n];if(i.index===t&&i.fragment.sn===e)return i}return null}function JW(r){r.forEach((e,t)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=t,i.initSegment&&(i.initSegment.level=t)})})}function C2e(r,e){return r!==e&&e?IU(r)!==IU(e):!1}function IU(r){return r.replace(/\?[^?]*$/,"")}function g0(r,e){for(let n=0,i=r.length;n<i;n++){var t;if(((t=r[n])==null?void 0:t.cc)===e)return r[n]}return null}function I2e(r,e){return!!(r&&e.startCC<r.endCC&&e.endCC>r.startCC)}function RU(r,e){const t=r.start+e;r.startPTS=t,r.setStart(t),r.endPTS=t+r.duration}function eK(r,e){const t=e.fragments;for(let n=0,i=t.length;n<i;n++)RU(t[n],r);e.fragmentHint&&RU(e.fragmentHint,r),e.alignedSliding=!0}function R2e(r,e){r&&(tK(e,r),e.alignedSliding||px(e,r),!e.alignedSliding&&!e.skippedSegments&&qW(r,e,!1))}function tK(r,e){if(!I2e(e,r))return;const t=Math.min(e.endCC,r.endCC),n=g0(e.fragments,t),i=g0(r.fragments,t);if(!n||!i)return;pr.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const a=n.start-i.start;eK(a,r)}function px(r,e){if(!r.hasProgramDateTime||!e.hasProgramDateTime)return;const t=r.fragments,n=e.fragments;if(!t.length||!n.length)return;let i,a;const s=Math.min(e.endCC,r.endCC);e.startCC<s&&r.startCC<s&&(i=g0(n,s),a=g0(t,s)),(!i||!a)&&(i=n[Math.floor(n.length/2)],a=g0(t,i.cc)||t[Math.floor(t.length/2)]);const o=i.programDateTime,l=a.programDateTime;if(!o||!l)return;const u=(l-o)/1e3-(a.start-i.start);eK(u,r)}function Oi(r,e,t){Yi(r,e,t),r.addEventListener(e,t)}function Yi(r,e,t){r.removeEventListener(e,t)}const k2e={toString:function(r){let e="";const t=r.length;for(let n=0;n<t;n++)e+=`[${r.start(n).toFixed(3)}-${r.end(n).toFixed(3)}]`;return e}},rt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class BC extends jW{constructor(e,t,n,i,a){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=rt.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:s,fragCurrent:o,media:l,mediaBuffer:u,state:c}=this,h=l?l.currentTime:0,p=Ft.bufferInfo(u||l,h,s.maxBufferHole),m=!p.len;if(this.log(`Media seeking to ${yt(h)?h.toFixed(3):h}, state: ${c}, ${m?"out of":"in"} buffer`),this.state===rt.ENDED)this.resetLoadingState();else if(o){const g=s.maxFragLookUpTolerance,y=o.start-g,x=o.start+o.duration+g;if(m||x<p.start||y>p.end){const E=h>x;(h<y||E)&&(E&&o.loader&&(this.log(`Cancelling fragment load for seek (sn: ${o.sn})`),o.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(l){this.fragmentTracker.removeFragmentsInRange(h,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(h>g&&(this.lastCurrentTime=h),!this.loadingParts){const y=Math.max(p.end,h),x=this.shouldLoadParts(this.getLevelDetails(),y);x&&(this.log(`LL-Part loading ON after seeking to ${h.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=x)}}this.hls.hasEnoughToStart||(this.log(`Setting ${m?"startPosition":"nextLoadPosition"} to ${h} for seek without enough to start`),this.nextLoadPosition=h,m&&(this.startPosition=h)),m&&this.state===rt.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=a,this.hls=e,this.fragmentLoader=new s2e(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new LC(e.config)}registerListeners(){const{hls:e}=this;e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(G.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===rt.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=rt.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const a=e.buffered;this.config.maxBufferHole&&a&&a.length>1&&(e=Ft.bufferedInfo(a,e.start,0));const s=e.nextStart;if(s&&s>i&&s<t.edge||this.media.currentTime<e.start)return!1;const l=t.partList;if(l!=null&&l.length){const c=l[l.length-1];return Ft.isBuffered(this.media,c.start+c.duration/2)}const u=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(u)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;Oi(n,"seeking",this.onMediaSeeking),Oi(n,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===rt.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,t){const n=!!t.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Yi(i,"seeking",this.onMediaSeeking),Yi(i,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=rt.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this.startFragRequested=!0,this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){const i=a=>{const s=a.frag;if(this.fragContextChanged(s)){this.warn(`${s.type} sn: ${s.sn}${a.part?" part: "+a.part.index:""} of ${this.fragInfo(s,!1,a.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(s);return}s.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,t,n,i).then(a=>{if(!a)return;const s=this.state,o=a.frag;if(this.fragContextChanged(o)){(s===rt.FRAG_LOADING||!this.fragCurrent&&s===rt.PARSING)&&(this.fragmentTracker.removeFragment(o),this.state=rt.IDLE);return}"payload"in a&&(this.log(`Loaded ${o.type} sn: ${o.sn} of ${this.playlistLabel()} ${o.level}`),this.hls.trigger(G.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===rt.STOPPED||this.state===rt.ERROR||(this.warn(`Frag error: ${a?.message||a}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===An.APPENDING){const a=e.type,s=this.getFwdBufferInfo(this.mediaBuffer,a),o=Math.max(e.duration,s?s.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&n.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===An.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return t?.live&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,n=null){if(!(e-t))return;const i={startOffset:e,endOffset:t,type:n};this.hls.trigger(G.BUFFER_FLUSHING,i)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(n=>{const i=n?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:a,payload:s}=n,o=a.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&ah(o.method)){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer,NC(o.method)).catch(u=>{throw i.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_DECRYPT_ERROR,fatal:!1,error:u,reason:u.message,frag:a}),u}).then(u=>{const c=self.performance.now();return i.trigger(G.FRAG_DECRYPTED,{frag:a,payload:u,stats:{tstart:l,tdecrypt:c}}),n.payload=u,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===rt.STOPPED||this.state===rt.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==rt.STOPPED&&(this.state=rt.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,t){var n,i;const a=e.tracks;if(a&&!t.encrypted&&((n=a.audio)!=null&&n.encrypted||(i=a.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const s=this.media,o=new Error(`Encrypted track with no key in ${this.fragInfo(t)} (media ${s?"attached mediaKeys: "+s.mediaKeys:"detached"})`);return this.warn(o.message),!s||s.mediaKeys?!1:(this.hls.trigger(G.ERROR,{type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_NO_KEYS,fatal:!1,error:o,frag:t}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${n?k2e.toString(Ft.getBuffered(n)):"(detached)"})`),ln(e)){var i;if(e.type!==Et.SUBTITLE){const s=e.elementaryStreams;if(!Object.keys(s).some(o=>!!s[o])){this.state=rt.IDLE;return}}const a=(i=this.levels)==null?void 0:i[e.level];a!=null&&a.fragmentError&&(this.log(`Resetting level fragment error count of ${a.fragmentError} on frag buffered`),a.fragmentError=0)}this.state=rt.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:i,partsLoaded:a}=e,s=!a||a.length===0||a.some(l=>!l),o=new MC(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!s);t.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,n=null,i){var a;this.fragCurrent=e;const s=t.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let o=null;if(e.encrypted&&!((a=e.decryptdata)!=null&&a.key)){if(this.log(`Loading key for ${e.sn} of [${s.startSN}-${s.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=rt.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(p=>{if(!this.fragContextChanged(p.frag))return this.hls.trigger(G.KEY_LOADED,p),this.state===rt.KEY_LOADING&&(this.state=rt.IDLE),p}),this.hls.trigger(G.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(o=this.keyLoader.loadClear(e,s.encryptedFragments,this.startFragRequested),o&&this.log("[eme] blocking frag load until media-keys acquired"));const l=this.fragPrevious;if(ln(e)&&(!l||e.sn!==l.sn)){const p=this.shouldLoadParts(t.details,e.end);p!==this.loadingParts&&(this.log(`LL-Part loading ${p?"ON":"OFF"} loading sn ${l?.sn}->${e.sn}`),this.loadingParts=p)}if(n=Math.max(e.start,n||0),this.loadingParts&&ln(e)){const p=s.partList;if(p&&i){n>s.fragmentEnd&&s.fragmentHint&&(e=s.fragmentHint);const m=this.getNextPart(p,e,n);if(m>-1){const g=p[m];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${m}/${p.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${s.startSN}-${s.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=rt.FRAG_LOADING;let y;return o?y=o.then(x=>!x||this.fragContextChanged(x.frag)?null:this.doFragPartsLoad(e,g,t,i)).catch(x=>this.handleFragLoadError(x)):y=this.doFragPartsLoad(e,g,t,i).catch(x=>this.handleFragLoadError(x)),this.hls.trigger(G.FRAG_LOADING,{frag:e,part:g,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!e.url||this.loadedEndOfParts(p,n))return Promise.resolve(null)}}if(ln(e)&&this.loadingParts){var u;this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(u=s.partList)==null?void 0:u.filter(p=>p.loaded).map(p=>`[${p.start}-${p.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+s.startSN+"-"+s.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),yt(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=rt.FRAG_LOADING;const c=this.config.progressive&&e.type!==Et.SUBTITLE;let h;return c&&o?h=o.then(p=>!p||this.fragContextChanged(p.frag)?null:this.fragmentLoader.load(e,i)).catch(p=>this.handleFragLoadError(p)):h=Promise.all([this.fragmentLoader.load(e,c?i:void 0),o]).then(([p])=>(!c&&i&&i(p),p)).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(G.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}doFragPartsLoad(e,t,n,i){return new Promise((a,s)=>{var o;const l=[],u=(o=n.details)==null?void 0:o.partList,c=h=>{this.fragmentLoader.loadPart(e,h,i).then(p=>{l[h.index]=p;const m=p.part;this.hls.trigger(G.FRAG_LOADED,p);const g=CU(n.details,e.sn,h.index+1)||ZW(u,e.sn,h.index+1);if(g)c(g);else return a({frag:e,part:m,partsLoaded:l})}).catch(s)};c(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;t.frag&&t.details===Me.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):t.frag&&t.type===Dt.KEY_SYSTEM_ERROR?(t.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(t.frag)):this.hls.trigger(G.ERROR,t)}else this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==rt.PARSING){!this.fragCurrent&&this.state!==rt.STOPPED&&this.state!==rt.ERROR&&(this.state=rt.IDLE);return}const{frag:n,part:i,level:a}=t,s=self.performance.now();n.stats.parsing.end=s,i&&(i.stats.parsing.end=s);const o=this.getLevelDetails(),u=o&&n.sn>o.endSN||this.shouldLoadParts(o,n.end);u!==this.loadingParts&&(this.log(`LL-Part loading ${u?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=u),this.updateLevelTiming(n,i,a,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var n;const a=e.partList[0];if(a.fragment.type===Et.SUBTITLE)return!1;const s=a.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(t>=s){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>a.start-a.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:i,sn:a,part:s}=e;if(!(t!=null&&t[i]))return this.warn(`Levels object was unset while buffering fragment ${a} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const o=t[i],l=o.details,u=s>-1?CU(l,a,s):null,c=u?u.fragment:QW(l,a,n);return c?(n&&n!==c&&(c.stats=n.stats),{frag:c,part:u,level:o}):null}bufferFragmentData(e,t,n,i,a){if(this.state!==rt.PARSING)return;const{data1:s,data2:o}=e;let l=s;if(o&&(l=Qa(s,o)),!l.length)return;const u=this.initPTS[t.cc],c=u?-u.baseTime/u.timescale:void 0,h={type:e.type,frag:t,part:n,chunkMeta:i,offset:c,parent:t.type,data:l};if(this.hls.trigger(G.BUFFER_APPENDING,h),e.dropped&&e.independent&&!n){if(a)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!Ft.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const n=t.currentTime,i=Ft.bufferInfo(t,n,0),a=e.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),o=Math.max(Math.min(e.start-s,i.end-s),n+s);e.start-o>s&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,t){var n;const i=this.getLoadPosition();if(!yt(i))return null;const s=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,t,s)}getFwdBufferInfoAtPos(e,t,n,i){const a=Ft.bufferInfo(e,t,i);if(a.len===0&&a.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(t,n);if(s&&(a.nextStart<=s.end||s.gap)){const o=Math.max(Math.min(a.nextStart,s.end)-t,i);return Ft.bufferInfo(e,t,o)}}return a}getMaxBufferLength(e){const{config:t}=this;let n;return e?n=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):n=t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const n=this.config,i=Math.max(Math.min(e-t,n.maxBufferLength),t),a=Math.max(e-t*3,n.maxMaxBufferLength/2,i);return a>=i?(n.maxMaxBufferLength=a,this.warn(`Reduce max buffer length to ${a}s`),!0):!1}getAppendedFrag(e,t=Et.MAIN){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,t):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(e,t){const n=t.fragments,i=n.length;if(!i)return null;const{config:a}=this,s=n[0].start,o=a.lowLatencyMode&&!!t.partList;let l=null;if(t.live){const h=a.initialLiveManifestSize;if(i<h)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${h})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<s){var u;o&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),l=this.getInitialLiveFragment(t);const p=this.hls.startPosition,m=this.hls.liveSyncPosition,g=l?(p!==-1&&p>=s?p:m)||l.start:e;this.log(`Setting startPosition to ${g} to match start frag at live edge. mainStart: ${p} liveSyncPosition: ${m} frag.start: ${(u=l)==null?void 0:u.start}`),this.startPosition=this.nextLoadPosition=g}}else e<=s&&(l=n[0]);if(!l){const h=this.loadingParts?t.partEnd:t.fragmentEnd;l=this.getFragmentAtPosition(e,h,t)}let c=this.filterReplacedPrimary(l,t);if(!c&&l){const h=l.sn-t.startSN;c=this.filterReplacedPrimary(n[h+1]||null,t)}return this.mapToInitFragWhenRequired(c)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===An.OK||n===An.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,i,a){let s=null;if(e.gap&&(s=this.getNextFragment(this.nextLoadPosition,t),s&&!s.gap&&n.nextStart)){const o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(o!==null&&n.len+o.len>=a){const l=s.sn;return this.loopSn!==l&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${l}`),this.loopSn=l),null}}return this.loopSn=void 0,s}get primaryPrefetch(){if(kU(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(kU(this.config)&&e.type!==Et.SUBTITLE){const n=this.hls.interstitialsManager,i=n?.bufferingItem;if(i){const s=i.event;if(s){if(s.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&t?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const a=n?.playerQueue;if(a)for(let s=a.length;s--;){const o=a[s].interstitial;if(o.appendInPlace&&e.start>=o.startTime&&e.end<=o.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,n){let i=-1,a=!1,s=!0;for(let o=0,l=e.length;o<l;o++){const u=e[o];if(s=s&&!u.independent,i>-1&&n<u.start)break;const c=u.loaded;c?i=-1:(a||(u.independent||s)&&u.fragment===t)&&(u.fragment!==t&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${u.start}`),i=o),a=c}return i}loadedEndOfParts(e,t){let n;for(let i=e.length;i--;){if(n=e[i],!n.loaded)return!1;if(t>n.start)return!0}return!1}getInitialLiveFragment(e){const t=e.fragments,n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=VAe(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){const s=t[a-e.startSN];n.cc===s.cc&&(i=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=FW(e,n.cc,n.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(i=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,t,n){const{config:i}=this;let{fragPrevious:a}=this,{fragments:s,endSN:o}=n;const{fragmentHint:l}=n,{maxFragLookUpTolerance:u}=i,c=n.partList,h=!!(this.loadingParts&&c!=null&&c.length&&l);h&&!this.bitrateTest&&c[c.length-1].fragment.sn===l.sn&&(s=s.concat(l),o=l.sn);let p;if(e<t){var m;const y=e<this.lastCurrentTime||e>t-u||(m=this.media)!=null&&m.paused||!this.startFragRequested?0:u;p=kc(a,s,e,y)}else p=s[s.length-1];if(p){const g=p.sn-n.startSN,y=this.fragmentTracker.getState(p);if((y===An.OK||y===An.PARTIAL&&p.gap)&&(a=p),a&&p.sn===a.sn&&(!h||c[0].fragment.sn>p.sn||!n.live)&&p.level===a.level){const E=s[g+1];p.sn<o&&this.fragmentTracker.getState(E)!==An.OK?p=E:p=null}}return p}alignPlaylists(e,t,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const a=e.fragmentStart,s=!t,o=e.alignedSliding&&yt(a);if(s||!o&&!a){R2e(n,e);const l=e.fragmentStart;return this.log(`Live playlist sliding: ${l.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${i}`),l}return a}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let n=this.startPosition;n<t&&(n=-1);const i=this.timelineOffset;if(n===-1){const a=this.startTimeOffset!==null,s=a?this.startTimeOffset:e.startTimeOffset;s!==null&&yt(s)?(n=t+s,s<0&&(n+=e.edge),n=Math.min(Math.max(t,n),t+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${s} found in ${a?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:t}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?n=t.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&ln(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==rt.FRAG_LOADING_WAITING_RETRY)&&(this.state=rt.IDLE)}onFragmentOrKeyLoadError(e,t){var n;if(t.chunkMeta&&!t.frag){const E=this.getCurrentContext(t.chunkMeta);E&&(t.frag=E.frag)}const i=t.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var a;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(a=this.fragCurrent)==null?void 0:a.url}`);return}const s=t.details===Me.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(i,!0);const o=t.errorAction;if(!o){this.state=rt.ERROR;return}const{action:l,flags:u,retryCount:c=0,retryConfig:h}=o,p=!!h,m=p&&l===Jn.RetryRequest,g=p&&!o.resolved&&u===ua.MoveAllAlternatesMatchingHost,y=(n=this.hls.latestLevelDetails)==null?void 0:n.live;if(!m&&g&&ln(i)&&!i.endList&&y&&!UW(t))this.resetFragmentErrors(e),this.treatAsGap(i),o.resolved=!0;else if((m||g)&&c<h.maxNumRetry){var x;const E=R2((x=t.response)==null?void 0:x.code),S=PC(h,c);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+S,this.state=rt.FRAG_LOADING_WAITING_RETRY,o.resolved=!0,E){this.log("Waiting for connection (offline)"),this.retryDate=1/0,t.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${t.details}, retrying loading ${c+1}/${h.maxNumRetry} in ${S}ms`)}else if(h)if(this.resetFragmentErrors(e),c<h.maxNumRetry)!s&&l!==Jn.RemoveAlternatePermanently&&(o.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${c})`);return}else l===Jn.SendAlternateToPenaltyBox?this.state=rt.WAITING_LEVEL:this.state=rt.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),t=this.retryDate,n=t===1/0;(!t||e>=t||n&&!R2(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=rt.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===rt.PARSING||this.state===rt.PARSED){const t=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),a=i&&i.len>.5;a&&this.reduceMaxBufferLength(i.len,t?.duration||10);const s=!a;return s&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(e){e===Et.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==rt.STOPPED&&(this.state=rt.IDLE)}afterBufferFlushed(e,t,n){if(!e)return;const i=Ft.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,i,n),this.state===rt.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==rt.STOPPED&&(this.state=rt.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,i){const a=n.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,u)=>{const c=e.elementaryStreams[u];if(c){const h=c.endPTS-c.startPTS;if(h<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${h})`),l||!1;const p=i?0:VW(a,e,c.startPTS,c.endPTS,c.startDTS,c.endDTS,this);return this.hls.trigger(G.LEVEL_PTS_UPDATED,{details:a,level:n,drift:p,type:u,frag:e,start:c.startPTS,end:c.endPTS}),!0}return l},!1)){var o;const l=((o=this.transmuxer)==null?void 0:o.error)===null;if((n.fragmentError===0||l&&(n.fragmentError<2||e.endList))&&this.treatAsGap(e,n),l){const u=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(u.message),this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_PARSING_ERROR,fatal:!1,error:u,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=rt.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(G.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Et.MAIN?"level":"track"}fragInfo(e,t=!0,n){var i,a;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=t&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((a=t&&!n?e.endPTS:(n||e).end)!=null?a:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function kU(r){return!!r.interstitialsController&&r.enableInterstitialPlayback!==!1}class rK{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;if(e.length)e.length===1?n=e[0]:n=P2e(e,t);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function P2e(r,e){const t=new Uint8Array(e);let n=0;for(let i=0;i<r.length;i++){const a=r[i];t.set(a,n),n+=a.length}return t}var Qw={exports:{}},PU;function L2e(){return PU||(PU=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,h,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,h||l,p),g=t?t+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=t?t+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,g=new Array(m);p<m;p++)g[p]=h[p].fn;return g},o.prototype.listenerCount=function(u){var c=t?t+u:u,h=this._events[c];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,c,h,p,m,g){var y=t?t+u:u;if(!this._events[y])return!1;var x=this._events[y],E=arguments.length,S,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,h),!0;case 4:return x.fn.call(x.context,c,h,p),!0;case 5:return x.fn.call(x.context,c,h,p,m),!0;case 6:return x.fn.call(x.context,c,h,p,m,g),!0}for(w=1,S=new Array(E-1);w<E;w++)S[w-1]=arguments[w];x.fn.apply(x.context,S)}else{var T=x.length,_;for(w=0;w<T;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),E){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,c);break;case 3:x[w].fn.call(x[w].context,c,h);break;case 4:x[w].fn.call(x[w].context,c,h,p);break;default:if(!S)for(_=1,S=new Array(E-1);_<E;_++)S[_-1]=arguments[_];x[w].fn.apply(x[w].context,S)}}return!0},o.prototype.on=function(u,c,h){return a(this,u,c,h,!1)},o.prototype.once=function(u,c,h){return a(this,u,c,h,!0)},o.prototype.removeListener=function(u,c,h,p){var m=t?t+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!h||g.context===h)&&s(this,m);else{for(var y=0,x=[],E=g.length;y<E;y++)(g[y].fn!==c||p&&!g[y].once||h&&g[y].context!==h)&&x.push(g[y]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(Qw)),Qw.exports}var M2e=L2e(),UC=sAe(M2e);const Q0="1.6.15",Th={};function N2e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function F2e(){const r=Th[Q0];if(r)return r.clientCount++,r;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),i={worker:new self.Worker(t),objectURL:t,clientCount:1};return Th[Q0]=i,i}function B2e(r){const e=Th[r];if(e)return e.clientCount++,e;const t=new self.URL(r,self.location.href).href,i={worker:new self.Worker(t),scriptURL:t,clientCount:1};return Th[r]=i,i}function U2e(r){const e=Th[r||Q0];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete Th[r||Q0],i&&self.URL.revokeObjectURL(i),n.terminate()}}function nK(r,e){return e+10<=r.length&&r[e]===51&&r[e+1]===68&&r[e+2]===73&&r[e+3]<255&&r[e+4]<255&&r[e+6]<128&&r[e+7]<128&&r[e+8]<128&&r[e+9]<128}function jC(r,e){return e+10<=r.length&&r[e]===73&&r[e+1]===68&&r[e+2]===51&&r[e+3]<255&&r[e+4]<255&&r[e+6]<128&&r[e+7]<128&&r[e+8]<128&&r[e+9]<128}function C1(r,e){let t=0;return t=(r[e]&127)<<21,t|=(r[e+1]&127)<<14,t|=(r[e+2]&127)<<7,t|=r[e+3]&127,t}function Z0(r,e){const t=e;let n=0;for(;jC(r,e);){n+=10;const i=C1(r,e+6);n+=i,nK(r,e+10)&&(n+=10),e+=n}if(n>0)return r.subarray(t,t+n)}function j2e(r,e,t,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=e[t+2],s=a>>2&15;if(s>12){const m=new Error(`invalid ADTS sampling index:${s}`);r.emit(G.ERROR,G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_PARSING_ERROR,fatal:!0,error:m,reason:m.message});return}const o=(a>>6&3)+1,l=e[t+3]>>6&3|(a&1)<<2,u="mp4a.40."+o,c=i[s];let h=s;(o===5||o===29)&&(h-=3);const p=[o<<3|(h&14)>>1,(h&1)<<7|l<<3];return pr.log(`manifest codec:${n}, parsed codec:${u}, channels:${l}, rate:${c} (ADTS object type:${o} sampling index:${s})`),{config:p,samplerate:c,channelCount:l,codec:u,parsedCodec:u,manifestCodec:n}}function iK(r,e){return r[e]===255&&(r[e+1]&246)===240}function aK(r,e){return r[e+1]&1?7:9}function $C(r,e){return(r[e+3]&3)<<11|r[e+4]<<3|(r[e+5]&224)>>>5}function $2e(r,e){return e+5<r.length}function mx(r,e){return e+1<r.length&&iK(r,e)}function H2e(r,e){return $2e(r,e)&&iK(r,e)&&$C(r,e)<=r.length-e}function G2e(r,e){if(mx(r,e)){const t=aK(r,e);if(e+t>=r.length)return!1;const n=$C(r,e);if(n<=t)return!1;const i=e+n;return i===r.length||mx(r,i)}return!1}function sK(r,e,t,n,i){if(!r.samplerate){const a=j2e(e,t,n,i);if(!a)return;Er(r,a)}}function oK(r){return 1024*9e4/r}function W2e(r,e){const t=aK(r,e);if(e+t<=r.length){const n=$C(r,e)-t;if(n>0)return{headerLength:t,frameLength:n}}}function lK(r,e,t,n,i){const a=oK(r.samplerate),s=n+i*a,o=W2e(e,t);let l;if(o){const{frameLength:h,headerLength:p}=o,m=p+h,g=Math.max(0,t+m-e.length);g?(l=new Uint8Array(m-p),l.set(e.subarray(t+p,e.length),0)):l=e.subarray(t+p,t+m);const y={unit:l,pts:s};return g||r.samples.push(y),{sample:y,length:m,missing:g}}const u=e.length-t;return l=new Uint8Array(u),l.set(e.subarray(t,e.length),0),{sample:{unit:l,pts:s},length:u,missing:-1}}function K2e(r,e){return jC(r,e)&&C1(r,e+6)+10<=r.length-e}function Y2e(r){return r instanceof ArrayBuffer?r:r.byteOffset==0&&r.byteLength==r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer}function Zw(r,e=0,t=1/0){return z2e(r,e,t,Uint8Array)}function z2e(r,e,t,n){const i=V2e(r);let a=1;"BYTES_PER_ELEMENT"in n&&(a=n.BYTES_PER_ELEMENT);const s=q2e(r)?r.byteOffset:0,o=(s+r.byteLength)/a,l=(s+e)/a,u=Math.floor(Math.max(0,Math.min(l,o))),c=Math.floor(Math.min(u+Math.max(t,0),o));return new n(i,u,c-u)}function V2e(r){return r instanceof ArrayBuffer?r:r.buffer}function q2e(r){return r&&r.buffer instanceof ArrayBuffer&&r.byteLength!==void 0&&r.byteOffset!==void 0}function X2e(r){const e={key:r.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(r.size<2)return;if(r.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const n=r.data.subarray(1).indexOf(0);if(n===-1)return;const i=Ta(Zw(r.data,1,n)),a=r.data[2+n],s=r.data.subarray(3+n).indexOf(0);if(s===-1)return;const o=Ta(Zw(r.data,3+n,s));let l;return i==="-->"?l=Ta(Zw(r.data,4+n+s)):l=Y2e(r.data.subarray(4+n+s)),e.mimeType=i,e.pictureType=a,e.description=o,e.data=l,e}function Q2e(r){if(r.size<2)return;const e=Ta(r.data,!0),t=new Uint8Array(r.data.subarray(e.length+1));return{key:r.type,info:e,data:t.buffer}}function Z2e(r){if(r.size<2)return;if(r.type==="TXXX"){let t=1;const n=Ta(r.data.subarray(t),!0);t+=n.length+1;const i=Ta(r.data.subarray(t));return{key:r.type,info:n,data:i}}const e=Ta(r.data.subarray(1));return{key:r.type,info:"",data:e}}function J2e(r){if(r.type==="WXXX"){if(r.size<2)return;let t=1;const n=Ta(r.data.subarray(t),!0);t+=n.length+1;const i=Ta(r.data.subarray(t));return{key:r.type,info:n,data:i}}const e=Ta(r.data);return{key:r.type,info:"",data:e}}function eDe(r){return r.type==="PRIV"?Q2e(r):r.type[0]==="W"?J2e(r):r.type==="APIC"?X2e(r):Z2e(r)}function tDe(r){const e=String.fromCharCode(r[0],r[1],r[2],r[3]),t=C1(r,4),n=10;return{type:e,size:t,data:r.subarray(n,n+t)}}const Mg=10,rDe=10;function uK(r){let e=0;const t=[];for(;jC(r,e);){const n=C1(r,e+6);r[e+5]>>6&1&&(e+=Mg),e+=Mg;const i=e+n;for(;e+rDe<i;){const a=tDe(r.subarray(e)),s=eDe(a);s&&t.push(s),e+=a.size+Mg}nK(r,e)&&(e+=Mg)}return t}function cK(r){return r&&r.key==="PRIV"&&r.info==="com.apple.streaming.transportStreamTimestamp"}function nDe(r){if(r.data.byteLength===8){const e=new Uint8Array(r.data),t=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,t&&(n+=4772185884e-2),Math.round(n)}}function HC(r){const e=uK(r);for(let t=0;t<e.length;t++){const n=e[t];if(cK(n))return nDe(n)}}let ya=(function(r){return r.audioId3="org.id3",r.dateRange="com.apple.quicktime.HLS",r.emsg="https://aomedia.org/emsg/ID3",r.misbklv="urn:misb:KLV:bin:1910.1",r})({});function Bs(r="",e=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class GC{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=Qa(this.cachedData,e),this.cachedData=null);let n=Z0(e,0),i=n?n.length:0,a;const s=this._audioTrack,o=this._id3Track,l=n?HC(n):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&yt(l))&&(this.basePTS=iDe(l,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:ya.audioId3,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(e,i)){const c=this.appendFrame(s,e,i);c?(this.frameIndex++,this.lastPTS=c.sample.pts,i+=c.length,a=i):i=u}else K2e(e,i)?(n=Z0(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:ya.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,a=i):i++;if(i===u&&a!==u){const c=e.slice(a);this.cachedData?this.cachedData=Qa(this.cachedData,c):this.cachedData=c}}return{audioTrack:s,videoTrack:Bs(),id3Track:o,textTrack:Bs()}}demuxSampleAes(e,t,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Bs(),id3Track:this._id3Track,textTrack:Bs()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const iDe=(r,e,t)=>{if(yt(r))return r*90;const n=t?t.baseTime*9e4/t.timescale:0;return e*9e4+n};let Ng=null;const aDe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],sDe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],oDe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],lDe=[0,1,1,4];function fK(r,e,t,n,i){if(t+24>e.length)return;const a=hK(e,t);if(a&&t+a.frameLength<=e.length){const s=a.samplesPerFrame*9e4/a.sampleRate,o=n+i*s,l={unit:e.subarray(t,t+a.frameLength),pts:o,dts:o};return r.config=[],r.channelCount=a.channelCount,r.samplerate=a.sampleRate,r.samples.push(l),{sample:l,length:a.frameLength,missing:0}}}function hK(r,e){const t=r[e+1]>>3&3,n=r[e+1]>>1&3,i=r[e+2]>>4&15,a=r[e+2]>>2&3;if(t!==1&&i!==0&&i!==15&&a!==3){const s=r[e+2]>>1&1,o=r[e+3]>>6,l=t===3?3-n:n===3?3:4,u=aDe[l*14+i-1]*1e3,h=sDe[(t===3?0:t===2?1:2)*3+a],p=o===3?1:2,m=oDe[t][n],g=lDe[n],y=m*8*g,x=Math.floor(m*u/h+s)*g;if(Ng===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ng=w?parseInt(w[1]):0}return!!Ng&&Ng<=87&&n===2&&u>=224e3&&o===0&&(r[e+3]=r[e+3]|128),{sampleRate:h,channelCount:p,frameLength:x,samplesPerFrame:y}}}function WC(r,e){return r[e]===255&&(r[e+1]&224)===224&&(r[e+1]&6)!==0}function dK(r,e){return e+1<r.length&&WC(r,e)}function uDe(r,e){return WC(r,e)&&4<=r.length-e}function pK(r,e){if(e+1<r.length&&WC(r,e)){const n=hK(r,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const a=e+i;return a===r.length||dK(r,a)}return!1}class cDe extends GC{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,i){super.resetInitSegment(e,t,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const n=Z0(e,0);let i=n?.length||0;if(pK(e,i))return!1;for(let a=e.length;i<a;i++)if(G2e(e,i))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return H2e(e,t)}appendFrame(e,t,n){sK(e,this.observer,t,n,e.manifestCodec);const i=lK(e,t,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const mK=(r,e)=>{let t=0,n=5;e+=n;const i=new Uint32Array(1),a=new Uint32Array(1),s=new Uint8Array(1);for(;n>0;){s[0]=r[e];const o=Math.min(n,8),l=8-o;a[0]=4278190080>>>24+l<<l,i[0]=(s[0]&a[0])>>l,t=t?t<<o|i[0]:i[0],e+=1,n-=o}return t};class fDe extends GC{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,i){super.resetInitSegment(e,t,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const i=gK(e,t,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const t=Z0(e,0);if(!t)return!1;const n=t.length;return e[n]===11&&e[n+1]===119&&HC(t)!==void 0&&mK(e,n)<16}}function gK(r,e,t,n,i){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const a=e[t+4]>>6;if(a>=3)return-1;const o=[48e3,44100,32e3][a],l=e[t+4]&63,c=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+a]*2;if(t+c>e.length)return-1;const h=e[t+6]>>5;let p=0;h===2?p+=2:(h&1&&h!==1&&(p+=2),h&4&&(p+=2));const m=(e[t+6]<<8|e[t+7])>>12-p&1,y=[2,1,2,3,3,4,4,5][h]+m,x=e[t+5]>>3,E=e[t+5]&7,S=new Uint8Array([a<<6|x<<1|E>>2,(E&3)<<6|h<<3|m<<2|l>>4,l<<4&224]),w=1536/o*9e4,T=n+i*w,_=e.subarray(t,t+c);return r.config=S,r.channelCount=y,r.samplerate=o,r.samples.push({unit:_,pts:T}),c}class hDe extends GC{resetInitSegment(e,t,n,i){super.resetInitSegment(e,t,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Z0(e,0);let n=t?.length||0;if(t&&e[n]===11&&e[n+1]===119&&HC(t)!==void 0&&mK(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(pK(e,n))return pr.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return uDe(e,t)}appendFrame(e,t,n){if(this.basePTS!==null)return fK(e,t,n,this.basePTS,this.frameIndex)}}const dDe=/\/emsg[-/]ID3/i;class pDe{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,i){const a=this.videoTrack=Bs("video",1),s=this.audioTrack=Bs("audio",1),o=this.txtTrack=Bs("text",1);if(this.id3Track=Bs("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=AW(e);if(l.video){const{id:u,timescale:c,codec:h,supplemental:p}=l.video;a.id=u,a.timescale=o.timescale=c,a.codec=h,a.supplemental=p}if(l.audio){const{id:u,timescale:c,codec:h}=l.audio;s.id=u,s.timescale=c,s.codec=h}o.id=wW.text,a.sampleDuration=0,a.duration=s.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return fAe(e)}demux(e,t){this.timeOffset=t;let n=e;const i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Qa(this.remainderData,e));const o=yAe(n);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=n;const s=this.extractID3Track(i,t);return a.samples=QB(t,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(t,this.timeOffset);return n.samples=QB(e,t),{videoTrack:t,audioTrack:Bs(),id3Track:i,textTrack:Bs()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const i=Gt(e.samples,["emsg"]);i&&i.forEach(a=>{const s=bAe(a);if(dDe.test(s.schemeIdUri)){const o=LU(s,t);let l=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const u=s.payload;n.samples.push({data:u,len:u.byteLength,dts:o,pts:o,type:ya.emsg,duration:l})}else if(this.config.enableEmsgKLVMetadata&&s.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const o=LU(s,t);n.samples.push({data:s.payload,len:s.payload.byteLength,dts:o,pts:o,type:ya.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function LU(r,e){return yt(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale}class mDe{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new LC(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,wu.cbc)}decryptAacSample(e,t,n){const i=e[t].unit;if(i.length<=16)return;const a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then(o=>{const l=new Uint8Array(o);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)}).catch(n)}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length){n();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(t);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)e.set(n.subarray(i,i+16),a);return e}decryptAvcSample(e,t,n,i,a){const s=CW(a.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then(l=>{a.data=this.getAvcDecryptedUnit(s,l),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,i)}).catch(i)}decryptAvcSamples(e,t,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length){i();return}const a=e[t].units;for(;!(n>=a.length);n++){const s=a[n];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(e,t,n,i,s),!this.decrypter.isSync()))return}}}}class vK{constructor(){this.VideoSample=null}createVideoSample(e,t,n){return{key:e,frame:!1,pts:t,dts:n,units:[],length:0}}getLastNalUnit(e){var t;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(t=n)!=null&&t.units){const a=n.units;i=a[a.length-1]}return i}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const n=t.samples,i=n.length;if(i){const a=n[i-1];e.pts=a.pts,e.dts=a.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,n){const i=t.byteLength;let a=e.naluState||0;const s=a,o=[];let l=0,u,c,h,p=-1,m=0;for(a===-1&&(p=0,m=this.getNALuType(t,0),a=0,l=1);l<i;){if(u=t[l++],!a){a=u?0:1;continue}if(a===1){a=u?0:2;continue}if(!u)a=3;else if(u===1){if(c=l-a-1,p>=0){const g={data:t.subarray(p,c),type:m};o.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(s&&l<=4-s&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-s)),c>0&&(g.data=Qa(g.data,t.subarray(0,c)),g.state=0))}l<i?(h=this.getNALuType(t,l),p=l,m=h,a=0):a=-1}else a=0}if(p>=0&&a>=0){const g={data:t.subarray(p,i),type:m,state:a};o.push(g)}if(o.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=Qa(g.data,t))}return e.naluState=a,o}}class v0{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,i=new Uint8Array(4),a=Math.min(4,t);if(a===0)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&pr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class gDe extends vK{parsePES(e,t,n,i){const a=this.parseNALu(e,n.data,i);let s=this.VideoSample,o,l=!1;n.data=null,s&&a.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.forEach(u=>{var c,h;switch(u.type){case 1:{let y=!1;o=!0;const x=u.data;if(l&&x.length>4){const E=this.readSliceType(x);(E===2||E===4||E===7||E===9)&&(y=!0)}if(y){var p;(p=s)!=null&&p.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.frame=!0,s.key=y;break}case 5:o=!0,(c=s)!=null&&c.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 6:{o=!0,IC(u.data,1,n.pts,t.samples);break}case 7:{var m,g;o=!0,l=!0;const y=u.data,x=this.readSPS(y);if(!e.sps||e.width!==x.width||e.height!==x.height||((m=e.pixelRatio)==null?void 0:m[0])!==x.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==x.pixelRatio[1]){e.width=x.width,e.height=x.height,e.pixelRatio=x.pixelRatio,e.sps=[y];const E=y.subarray(1,4);let S="avc1.";for(let w=0;w<3;w++){let T=E[w].toString(16);T.length<2&&(T="0"+T),S+=T}e.codec=S}break}case 8:o=!0,e.pps=[u.data];break;case 9:o=!0,e.audFound=!0,(h=s)!=null&&h.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:o=!0;break;default:o=!1;break}s&&o&&s.units.push(u)}),i&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new v0(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let n=8,i=8,a;for(let s=0;s<e;s++)i!==0&&(a=t.readEG(),i=(n+a+256)%256),n=i===0?n:i}readSPS(e){const t=new v0(e);let n=0,i=0,a=0,s=0,o,l,u;const c=t.readUByte.bind(t),h=t.readBits.bind(t),p=t.readUEG.bind(t),m=t.readBoolean.bind(t),g=t.skipBits.bind(t),y=t.skipEG.bind(t),x=t.skipUEG.bind(t),E=this.skipScalingList.bind(this);c();const S=c();if(h(5),g(3),c(),x(),S===100||S===110||S===122||S===244||S===44||S===83||S===86||S===118||S===128){const I=p();if(I===3&&g(1),x(),x(),g(1),m())for(l=I!==3?8:12,u=0;u<l;u++)m()&&(u<6?E(16,t):E(64,t))}x();const w=p();if(w===0)p();else if(w===1)for(g(1),y(),y(),o=p(),u=0;u<o;u++)y();x(),g(1);const T=p(),_=p(),O=h(1);O===0&&g(1),g(1),m()&&(n=p(),i=p(),a=p(),s=p());let A=[1,1];if(m()&&m())switch(c()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:{A=[c()<<8|c(),c()<<8|c()];break}}return{width:Math.ceil((T+1)*16-n*2-i*2),height:(2-O)*(_+1)*16-(O?2:4)*(a+s),pixelRatio:A}}}class vDe extends vK{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,n,i){const a=this.parseNALu(e,n.data,i);let s=this.VideoSample,o,l=!1;n.data=null,s&&a.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.forEach(u=>{var c,h;switch(u.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.frame=!0,o=!0;break;case 16:case 17:case 18:case 21:if(o=!0,l){var p;(p=s)!=null&&p.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 19:case 20:o=!0,(c=s)!=null&&c.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 39:o=!0,IC(u.data,2,n.pts,t.samples);break;case 32:o=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Er(e.params,this.readVPS(u.data)),this.initVPS=u.data),e.vps=[u.data];break;case 33:if(o=!0,l=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],u.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const m=this.readSPS(u.data);e.width=m.width,e.height=m.height,e.pixelRatio=m.pixelRatio,e.codec=m.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const g in m.params)e.params[g]=m.params[g]}this.pushParameterSet(e.sps,u.data,e.vps),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0;break;case 34:if(o=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const m=this.readPPS(u.data);for(const g in m)e.params[g]=m[g]}this.pushParameterSet(e.pps,u.data,e.vps)}break;case 35:o=!0,e.audFound=!0,(h=s)!=null&&h.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:o=!1;break}s&&o&&s.units.push(u)}),i&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}pushParameterSet(e,t,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(t[n]=e[i],n++);return new Uint8Array(t.buffer,0,n)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new v0(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const n=t.readBits(3),i=t.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const t=new v0(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const n=t.readBits(3);t.readBoolean();const i=t.readBits(2),a=t.readBoolean(),s=t.readBits(5),o=t.readUByte(),l=t.readUByte(),u=t.readUByte(),c=t.readUByte(),h=t.readUByte(),p=t.readUByte(),m=t.readUByte(),g=t.readUByte(),y=t.readUByte(),x=t.readUByte(),E=t.readUByte(),S=[],w=[];for(let he=0;he<n;he++)S.push(t.readBoolean()),w.push(t.readBoolean());if(n>0)for(let he=n;he<8;he++)t.readBits(2);for(let he=0;he<n;he++)S[he]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),w[he]&&t.readUByte();t.readUEG();const T=t.readUEG();T==3&&t.skipBits(1);const _=t.readUEG(),O=t.readUEG(),A=t.readBoolean();let I=0,k=0,N=0,B=0;A&&(I+=t.readUEG(),k+=t.readUEG(),N+=t.readUEG(),B+=t.readUEG());const R=t.readUEG(),H=t.readUEG(),X=t.readUEG(),Y=t.readBoolean();for(let he=Y?0:n;he<=n;he++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let ye=0;ye<4;ye++)for(let Ie=0;Ie<(ye===3?2:6);Ie++)if(!t.readBoolean())t.readUEG();else{const Ge=Math.min(64,1<<4+(ye<<1));ye>1&&t.readEG();for(let Ee=0;Ee<Ge;Ee++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const Q=t.readUEG();let se=0;for(let he=0;he<Q;he++){let ye=!1;if(he!==0&&(ye=t.readBoolean()),ye){he===Q&&t.readUEG(),t.readBoolean(),t.readUEG();let Ie=0;for(let $e=0;$e<=se;$e++){const Ge=t.readBoolean();let Ee=!1;Ge||(Ee=t.readBoolean()),(Ge||Ee)&&Ie++}se=Ie}else{const Ie=t.readUEG(),$e=t.readUEG();se=Ie+$e;for(let Ge=0;Ge<Ie;Ge++)t.readUEG(),t.readBoolean();for(let Ge=0;Ge<$e;Ge++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const he=t.readUEG();for(let ye=0;ye<he;ye++){for(let Ie=0;Ie<X+4;Ie++)t.readBits(1);t.readBits(1)}}let W=0,M=1,V=1,ee=!0,Z=1,me=0;t.readBoolean(),t.readBoolean();let ue=!1;if(t.readBoolean()){if(t.readBoolean()){const Ye=t.readUByte(),st=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ke=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Ye>0&&Ye<16?(M=st[Ye-1],V=ke[Ye-1]):Ye===255&&(M=t.readBits(16),V=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),ue=t.readBoolean(),ue&&(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG()),t.readBoolean()&&(Z=t.readBits(32),me=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const ke=t.readBoolean(),kt=t.readBoolean();let P=!1;(ke||kt)&&(P=t.readBoolean(),P&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),P&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let U=0;U<=n;U++){ee=t.readBoolean();const J=ee||t.readBoolean();let we=!1;J?t.readEG():we=t.readBoolean();const De=we?1:t.readUEG()+1;if(ke)for(let We=0;We<De;We++)t.readUEG(),t.readUEG(),P&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(kt)for(let We=0;We<De;We++)t.readUEG(),t.readUEG(),P&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),W=t.readUEG())}let te=_,re=O;if(A){let he=1,ye=1;T===1?he=ye=2:T==2&&(he=2),te=_-he*k-he*I,re=O-ye*B-ye*N}const pe=i?["A","B","C"][i]:"",ne=o<<24|l<<16|u<<8|c;let Oe=0;for(let he=0;he<32;he++)Oe=(Oe|(ne>>he&1)<<31-he)>>>0;let be=Oe.toString(16);return s===1&&be==="2"&&(be="6"),{codecString:`hvc1.${pe}${s}.${be}.${a?"H":"L"}${E}.B0`,params:{general_tier_flag:a,general_profile_idc:s,general_profile_space:i,general_profile_compatibility_flags:[o,l,u,c],general_constraint_indicator_flags:[h,p,m,g,y,x],general_level_idc:E,bit_depth:R+8,bit_depth_luma_minus8:R,bit_depth_chroma_minus8:H,min_spatial_segmentation_idc:W,chroma_format_idc:T,frame_rate:{fixed:ee,fps:me/Z}},width:te,height:re,pixelRatio:[M,V]}}readPPS(e){const t=new v0(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const i=t.readBoolean(),a=t.readBoolean();let s=1;return a&&i?s=0:a?s=3:i&&(s=2),{parallelismType:s}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const Pn=188;class iu{constructor(e,t,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,t){const n=iu.syncOffset(e);return n>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const t=e.length;let n=Math.min(Pn*5,t-Pn)+1,i=0;for(;i<n;){let a=!1,s=-1,o=0;for(let l=i;l<t;l+=Pn)if(e[l]===71&&(t-l===Pn||e[l+Pn]===71)){if(o++,s===-1&&(s=l,s!==0&&(n=Math.min(s+Pn*99,e.length-Pn)+1)),a||(a=N2(e,l)===0),a&&o>1&&(s===0&&o>2||l+Pn>n))return s}else{if(o)return-1;break}i++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:wW[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=iu.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=iu.createTrack("audio",i),this._id3Track=iu.createTrack("id3"),this._txtTrack=iu.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,n=!1,i=!1){n||(this.sampleAes=null);let a;const s=this._videoTrack,o=this._audioTrack,l=this._id3Track,u=this._txtTrack;let c=s.pid,h=s.pesData,p=o.pid,m=l.pid,g=o.pesData,y=l.pesData,x=null,E=this.pmtParsed,S=this._pmtId,w=e.length;if(this.remainderData&&(e=Qa(this.remainderData,e),w=e.length,this.remainderData=null),w<Pn&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};const T=Math.max(0,iu.syncOffset(e));w-=(w-T)%Pn,w<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let _=0;for(let A=T;A<w;A+=Pn)if(e[A]===71){const I=!!(e[A+1]&64),k=N2(e,A),N=(e[A+3]&48)>>4;let B;if(N>1){if(B=A+5+e[A+4],B===A+Pn)continue}else B=A+4;switch(k){case c:I&&(h&&(a=Nf(h,this.logger))&&(this.readyVideoParser(s.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(s,u,a,!1)),h={data:[],size:0}),h&&(h.data.push(e.subarray(B,A+Pn)),h.size+=A+Pn-B);break;case p:if(I){if(g&&(a=Nf(g,this.logger)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a);break;case"ac3":this.parseAC3PES(o,a);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(B,A+Pn)),g.size+=A+Pn-B);break;case m:I&&(y&&(a=Nf(y,this.logger))&&this.parseID3PES(l,a),y={data:[],size:0}),y&&(y.data.push(e.subarray(B,A+Pn)),y.size+=A+Pn-B);break;case 0:I&&(B+=e[B]+1),S=this._pmtId=yDe(e,B);break;case S:{I&&(B+=e[B]+1);const R=xDe(e,B,this.typeSupported,n,this.observer,this.logger);c=R.videoPid,c>0&&(s.pid=c,s.segmentCodec=R.segmentVideoCodec),p=R.audioPid,p>0&&(o.pid=p,o.segmentCodec=R.segmentAudioCodec),m=R.id3Pid,m>0&&(l.pid=m),x!==null&&!E&&(this.logger.warn(`MPEG-TS PMT found at ${A} after unknown PID '${x}'. Backtracking to sync byte @${T} to parse all TS packets.`),x=null,A=T-188),E=this.pmtParsed=!0;break}case 17:case 8191:break;default:x=k;break}}else _++;_>0&&F2(this.observer,new Error(`Found ${_} TS packet/s that do not start with 0x47`),void 0,this.logger),s.pesData=h,o.pesData=g,l.pesData=y;const O={audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};return i&&this.extractRemainingSamples(O),O}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:i,textTrack:a}=e,s=n.pesData,o=t.pesData,l=i.pesData;let u;if(s&&(u=Nf(s,this.logger))?(this.readyVideoParser(n.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(n,a,u,!0),n.pesData=null)):n.pesData=s,o&&(u=Nf(o,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,u);break;case"mp3":this.parseMPEGPES(t,u);break;case"ac3":this.parseAC3PES(t,u);break}t.pesData=null}else o!=null&&o.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=o;l&&(u=Nf(l,this.logger))?(this.parseID3PES(i,u),i.pesData=null):i.pesData=l}demuxSampleAes(e,t,n){const i=this.demux(e,n,!0,!this.config.progressive),a=this.sampleAes=new mDe(this.observer,this.config,t);return this.decrypt(i,a)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new gDe:e==="hevc"&&(this.videoParser=new vDe))}decrypt(e,t){return new Promise(n=>{const{audioTrack:i,videoTrack:a}=e;i.samples&&i.segmentCodec==="aac"?t.decryptAacSamples(i.samples,0,()=>{a.samples?t.decryptAvcSamples(a.samples,0,0,()=>{n(e)}):n(e)}):a.samples&&t.decryptAvcSamples(a.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let n=0;const i=this.aacOverFlow;let a=t.data;if(i){this.aacOverFlow=null;const h=i.missing,p=i.sample.unit.byteLength;if(h===-1)a=Qa(i.sample.unit,a);else{const m=p-h;i.sample.unit.set(a.subarray(0,h),m),e.samples.push(i.sample),n=i.missing}}let s,o;for(s=n,o=a.length;s<o-1&&!mx(a,s);s++);if(s!==n){let h;const p=s<o-1;if(p?h=`AAC PES did not start with ADTS header,offset:${s}`:h="No ADTS header found in AAC PES",F2(this.observer,new Error(h),p,this.logger),!p)return}sK(e,this.observer,a,s,this.audioCodec);let l;if(t.pts!==void 0)l=t.pts;else if(i){const h=oK(e.samplerate);l=i.sample.pts+h}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,c;for(;s<o;)if(c=lK(e,a,s,l,u),s+=c.length,c.missing){this.aacOverFlow=c;break}else for(u++;s<o-1&&!mx(a,s);s++);}parseMPEGPES(e,t){const n=t.data,i=n.length;let a=0,s=0;const o=t.pts;if(o===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<i;)if(dK(n,s)){const l=fK(e,n,s,o,a);if(l)s+=l.length,a++;else break}else s++}parseAC3PES(e,t){{const n=t.data,i=t.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const a=n.length;let s=0,o=0,l;for(;o<a&&(l=gK(e,n,o,i,s++))>0;)o+=l}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=Er({},t,{type:this._videoTrack?ya.emsg:ya.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function N2(r,e){return((r[e+1]&31)<<8)+r[e+2]}function yDe(r,e){return(r[e+10]&31)<<8|r[e+11]}function xDe(r,e,t,n,i,a){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(r[e+1]&15)<<8|r[e+2],l=e+3+o-4,u=(r[e+10]&15)<<8|r[e+11];for(e+=12+u;e<l;){const c=N2(r,e),h=(r[e+3]&15)<<8|r[e+4];switch(r[e]){case 207:if(!n){Jw("ADTS AAC",a);break}case 15:s.audioPid===-1&&(s.audioPid=c);break;case 21:s.id3Pid===-1&&(s.id3Pid=c);break;case 219:if(!n){Jw("H.264",a);break}case 27:s.videoPid===-1&&(s.videoPid=c);break;case 3:case 4:!t.mpeg&&!t.mp3?a.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="mp3");break;case 193:if(!n){Jw("AC-3",a);break}case 129:t.ac3?s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="ac3"):a.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&h>0){let p=e+5,m=h;for(;m>2;){switch(r[p]){case 106:t.ac3!==!0?a.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=c,s.segmentAudioCodec="ac3");break}const y=r[p+1]+2;p+=y,m-=y}}break;case 194:case 135:return F2(i,new Error("Unsupported EC-3 in M2TS found"),void 0,a),s;case 36:s.videoPid===-1&&(s.videoPid=c,s.segmentVideoCodec="hevc",a.log("HEVC in M2TS found"));break}e+=h+5}return s}function F2(r,e,t,n){n.warn(`parsing error: ${e.message}`),r.emit(G.ERROR,G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function Jw(r,e){e.log(`${r} with AES-128-CBC encryption found in unencrypted stream`)}function Nf(r,e){let t=0,n,i,a,s,o;const l=r.data;if(!r||r.size===0)return null;for(;l[0].length<19&&l.length>1;)l[0]=Qa(l[0],l[1]),l.splice(1,1);if(n=l[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>r.size-6)return null;const c=n[7];c&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(e.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),a=n[8];let h=a+9;if(r.size<=h)return null;r.size-=h;const p=new Uint8Array(r.size);for(let m=0,g=l.length;m<g;m++){n=l[m];let y=n.byteLength;if(h)if(h>y){h-=y;continue}else n=n.subarray(h),y-=h,h=0;p.set(n,t),t+=y}return i&&(i-=a+3),{data:p,pts:s,dts:o,len:i}}return null}class bDe{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Xl=Math.pow(2,32)-1;class Re{static init(){Re.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in Re.types)Re.types.hasOwnProperty(e)&&(Re.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Re.HDLR_TYPES={video:t,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);Re.STTS=Re.STSC=Re.STCO=a,Re.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Re.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Re.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Re.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);Re.FTYP=Re.box(Re.types.ftyp,s,l,s,o),Re.DINF=Re.box(Re.types.dinf,Re.box(Re.types.dref,i))}static box(e,...t){let n=8,i=t.length;const a=i;for(;i--;)n+=t[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(e,4),i=0,n=8;i<a;i++)s.set(t[i],n),n+=t[i].byteLength;return s}static hdlr(e){return Re.box(Re.types.hdlr,Re.HDLR_TYPES[e])}static mdat(e){return Re.box(Re.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(Xl+1)),i=Math.floor(t%(Xl+1));return Re.box(Re.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return Re.box(Re.types.mdia,Re.mdhd(e.timescale||0,e.duration||0),Re.hdlr(e.type),Re.minf(e))}static mfhd(e){return Re.box(Re.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?Re.box(Re.types.minf,Re.box(Re.types.smhd,Re.SMHD),Re.DINF,Re.stbl(e)):Re.box(Re.types.minf,Re.box(Re.types.vmhd,Re.VMHD),Re.DINF,Re.stbl(e))}static moof(e,t,n){return Re.box(Re.types.moof,Re.mfhd(e),Re.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=Re.trak(e[t]);return Re.box.apply(null,[Re.types.moov,Re.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(Re.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=Re.trex(e[t]);return Re.box.apply(null,[Re.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(Xl+1)),i=Math.floor(t%(Xl+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Re.box(Re.types.mvhd,a)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let i,a;for(i=0;i<t.length;i++)a=t[i].flags,n[i+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return Re.box(Re.types.sdtp,n)}static stbl(e){return Re.box(Re.types.stbl,Re.stsd(e),Re.box(Re.types.stts,Re.STTS),Re.box(Re.types.stsc,Re.STSC),Re.box(Re.types.stsz,Re.STSZ),Re.box(Re.types.stco,Re.STCO))}static avc1(e){let t=[],n=[],i,a,s;for(i=0;i<e.sps.length;i++)a=e.sps[i],s=a.byteLength,t.push(s>>>8&255),t.push(s&255),t=t.concat(Array.prototype.slice.call(a));for(i=0;i<e.pps.length;i++)a=e.pps[i],s=a.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(a));const o=Re.box(Re.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(n))),l=e.width,u=e.height,c=e.pixelRatio[0],h=e.pixelRatio[1];return Re.box(Re.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,Re.box(Re.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Re.box(Re.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,c&255,h>>24,h>>16&255,h>>8&255,h&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return Re.box(Re.types.mp4a,Re.audioStsd(e),Re.box(Re.types.esds,Re.esds(e)))}static mp3(e){return Re.box(Re.types[".mp3"],Re.audioStsd(e))}static ac3(e){return Re.box(Re.types["ac-3"],Re.audioStsd(e),Re.box(Re.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return Re.box(Re.types.stsd,Re.STSD,Re.mp4a(e));if(t==="ac3"&&e.config)return Re.box(Re.types.stsd,Re.STSD,Re.ac3(e));if(t==="mp3"&&e.codec==="mp3")return Re.box(Re.types.stsd,Re.STSD,Re.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return Re.box(Re.types.stsd,Re.STSD,Re.avc1(e));if(t==="hevc"&&e.vps)return Re.box(Re.types.stsd,Re.STSD,Re.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,a=e.height||0,s=Math.floor(n/(Xl+1)),o=Math.floor(n%(Xl+1));return Re.box(Re.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,t){const n=Re.sdtp(e),i=e.id,a=Math.floor(t/(Xl+1)),s=Math.floor(t%(Xl+1));return Re.box(Re.types.traf,Re.box(Re.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),Re.box(Re.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,s>>24,s>>16&255,s>>8&255,s&255])),Re.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,Re.box(Re.types.trak,Re.tkhd(e),Re.mdia(e))}static trex(e){const t=e.id;return Re.box(Re.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],i=n.length,a=12+16*i,s=new Uint8Array(a);let o,l,u,c,h,p;for(t+=8+a,s.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),o=0;o<i;o++)l=n[o],u=l.duration,c=l.size,h=l.flags,p=l.cts,s.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,h.degradPrio&61440,h.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*o);return Re.box(Re.types.trun,s)}static initSegment(e){Re.types||Re.init();const t=Re.moov(e);return Qa(Re.FTYP,t)}static hvc1(e){const t=e.params,n=[e.vps,e.sps,e.pps],i=4,a=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),i-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),n.length]);let s=a.length;for(let g=0;g<n.length;g+=1){s+=3;for(let y=0;y<n[g].length;y+=1)s+=2+n[g][y].length}const o=new Uint8Array(s);o.set(a,0),s=a.length;const l=n.length-1;for(let g=0;g<n.length;g+=1){o.set(new Uint8Array([32+g|(g===l?128:0),0,n[g].length]),s),s+=3;for(let y=0;y<n[g].length;y+=1)o.set(new Uint8Array([n[g][y].length>>8,n[g][y].length&255]),s),s+=2,o.set(n[g][y],s),s+=n[g][y].length}const u=Re.box(Re.types.hvcC,o),c=e.width,h=e.height,p=e.pixelRatio[0],m=e.pixelRatio[1];return Re.box(Re.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,h>>8&255,h&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,Re.box(Re.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Re.box(Re.types.pasp,new Uint8Array([p>>24,p>>16&255,p>>8&255,p&255,m>>24,m>>16&255,m>>8&255,m&255])))}}Re.types=void 0;Re.HDLR_TYPES=void 0;Re.STTS=void 0;Re.STSC=void 0;Re.STCO=void 0;Re.STSZ=void 0;Re.VMHD=void 0;Re.SMHD=void 0;Re.STSD=void 0;Re.FTYP=void 0;Re.DINF=void 0;const yK=9e4;function KC(r,e,t=1,n=!1){const i=r*e*t;return n?Math.round(i):i}function SDe(r,e,t=1,n=!1){return KC(r,e,1/t,n)}function Xd(r,e=!1){return KC(r,1e3,1/yK,e)}function EDe(r,e=1){return KC(r,yK,1/e)}function MU(r){const{baseTime:e,timescale:t,trackId:n}=r;return`${e/t} (${e}/${t}) trackId: ${n}`}const wDe=10*1e3,_De=1024,TDe=1152,ADe=1536;let Ff=null,e_=null;function NU(r,e,t,n){return{duration:e,size:t,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:r?2:1,isNonSync:r?0:1}}}class Pv extends es{constructor(e,t,n,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,Ff===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ff=s?parseInt(s[1]):0}if(e_===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);e_=a?parseInt(a[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const t=this._initPTS;(!t||!e||e.trackId!==t.trackId||e.baseTime!==t.baseTime||e.timescale!==t.timescale)&&this.log(`Reset initPTS: ${t&&MU(t)} > ${e&&MU(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e[0].pts,i=e.reduce((a,s)=>{let o=s.pts,l=o-a;return l<-4294967296&&(t=!0,o=ha(o,n),l=o-a),l>0?a:o},n);return t&&this.debug("PTS rollover detected"),i}remux(e,t,n,i,a,s,o,l){let u,c,h,p,m,g,y=a,x=a;const E=e.pid>-1,S=t.pid>-1,w=t.samples.length,T=e.samples.length>0,_=o&&w>0||w>1;if((!E||T)&&(!S||_)||this.ISGenerated||o){if(this.ISGenerated){var A,I,k,N;const X=this.videoTrackConfig;(X&&(t.width!==X.width||t.height!==X.height||((A=t.pixelRatio)==null?void 0:A[0])!==((I=X.pixelRatio)==null?void 0:I[0])||((k=t.pixelRatio)==null?void 0:k[1])!==((N=X.pixelRatio)==null?void 0:N[1]))||!X&&_||this.nextAudioTs===null&&T)&&this.resetInitSegment()}this.ISGenerated||(h=this.generateIS(e,t,a,s));const B=this.isVideoContiguous;let R=-1,H;if(_&&(R=DDe(t.samples),!B&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,R>0){this.warn(`Dropped ${R} out of ${w} video samples due to a missing keyframe`);const X=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(R),t.dropped+=R,x+=(t.samples[0].pts-X)/t.inputTimeScale,H=x}else R===-1&&(this.warn(`No keyframe found out of ${w} video samples`),g=!1);if(this.ISGenerated){if(T&&_){const X=this.getVideoStartPts(t.samples),K=(ha(e.samples[0].pts,X)-X)/t.inputTimeScale;y+=Math.max(0,K),x+=Math.max(0,-K)}if(T){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),h=this.generateIS(e,t,a,s)),c=this.remuxAudio(e,y,this.isAudioContiguous,s,S||_||l===Et.AUDIO?x:void 0),_){const X=c?c.endPTS-c.startPTS:0;t.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),h=this.generateIS(e,t,a,s)),u=this.remuxVideo(t,x,B,X)}}else _&&(u=this.remuxVideo(t,x,B,0));u&&(u.firstKeyFrame=R,u.independent=R!==-1,u.firstKeyFramePTS=H)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(m=xK(n,a,this._initPTS,this._initDTS)),i.samples.length&&(p=bK(i,a,this._initPTS))),{audio:c,video:u,initSegment:h,independent:g,text:p,id3:m}}computeInitPts(e,t,n,i){const a=Math.round(n*t);let s=ha(e,a);if(s<a+t)for(this.log(`Adjusting PTS for rollover in timeline near ${(a-s)/t} ${i}`);s<a+t;)s+=8589934592;return s-a}generateIS(e,t,n,i){const a=e.samples,s=t.samples,o=this.typeSupported,l={},u=this._initPTS;let c=!u||i,h="audio/mp4",p,m,g,y=-1;if(c&&(p=m=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(h="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:h,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):Re.initSegment([e]),metadata:{channelCount:e.channelCount}},c&&(y=e.id,g=e.inputTimeScale,!u||g!==u.timescale?p=m=this.computeInitPts(a[0].pts,g,n,"audio"):c=!1)}if(t.sps&&t.pps&&s.length){if(t.timescale=t.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Re.initSegment([t]),metadata:{width:t.width,height:t.height}},c)if(y=t.id,g=t.inputTimeScale,!u||g!==u.timescale){const x=this.getVideoStartPts(s),E=ha(s[0].dts,x),S=this.computeInitPts(E,g,n,"video"),w=this.computeInitPts(x,g,n,"video");m=Math.min(m,S),p=Math.min(p,w)}else c=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,c?(u&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${n} ${p/g} != initPTS: ${u.baseTime/u.timescale} (${u.baseTime}/${u.timescale}) trackId: ${u.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${p/g} (${p}/${g}) trackId: ${y}`),this._initPTS={baseTime:p,timescale:g,trackId:y},this._initDTS={baseTime:m,timescale:g,trackId:y}):p=g=void 0,{tracks:l,initPTS:p,timescale:g,trackId:y}}remuxVideo(e,t,n,i){const a=e.inputTimeScale,s=e.samples,o=[],l=s.length,u=this._initPTS,c=u.baseTime*a/u.timescale;let h=this.nextVideoTs,p=8,m=this.videoSampleDuration,g,y,x=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,S=!1;if(!n||h===null){const W=c+t*a,M=s[0].pts-ha(s[0].dts,s[0].pts);Ff&&h!==null&&Math.abs(W-M-(h+c))<15e3?n=!0:h=W-M-c}const w=h+c;for(let W=0;W<l;W++){const M=s[W];M.pts=ha(M.pts,w),M.dts=ha(M.dts,w),M.dts<s[W>0?W-1:W].dts&&(S=!0)}S&&s.sort(function(W,M){const V=W.dts-M.dts,ee=W.pts-M.pts;return V||ee}),g=s[0].dts,y=s[s.length-1].dts;const T=y-g,_=T?Math.round(T/(l-1)):m||e.inputTimeScale/30;if(n){const W=g-w,M=W>_,V=W<-1;if((M||V)&&(M?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Xd(W,!0)} ms (${W}dts) hole between fragments detected at ${t.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Xd(-W,!0)} ms (${W}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!V||w>=s[0].pts||Ff)){g=w;const ee=s[0].pts-W;if(M)s[0].dts=g,s[0].pts=ee;else{let Z=!0;for(let me=0;me<s.length&&!(s[me].dts>ee&&Z);me++){const ue=s[me].pts;if(s[me].dts-=W,s[me].pts-=W,me<s.length-1){const q=s[me+1].pts,te=s[me].pts,re=q<=te,pe=q<=ue;Z=re==pe}}}this.log(`Video: Initial PTS/DTS adjusted: ${Xd(ee,!0)}/${Xd(g,!0)}, delta: ${Xd(W,!0)} ms`)}}g=Math.max(0,g);let O=0,A=0,I=g;for(let W=0;W<l;W++){const M=s[W],V=M.units,ee=V.length;let Z=0;for(let me=0;me<ee;me++)Z+=V[me].data.length;A+=Z,O+=ee,M.length=Z,M.dts<I?(M.dts=I,I+=_/4|0||1):I=M.dts,x=Math.min(M.pts,x),E=Math.max(M.pts,E)}y=s[l-1].dts;const k=A+4*O+8;let N;try{N=new Uint8Array(k)}catch(W){this.observer.emit(G.ERROR,G.ERROR,{type:Dt.MUX_ERROR,details:Me.REMUX_ALLOC_ERROR,fatal:!1,error:W,bytes:k,reason:`fail allocating video mdat ${k}`});return}const B=new DataView(N.buffer);B.setUint32(0,k),N.set(Re.types.mdat,4);let R=!1,H=Number.POSITIVE_INFINITY,X=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,K=Number.NEGATIVE_INFINITY;for(let W=0;W<l;W++){const M=s[W],V=M.units;let ee=0;for(let ue=0,q=V.length;ue<q;ue++){const te=V[ue],re=te.data,pe=te.data.byteLength;B.setUint32(p,pe),p+=4,N.set(re,p),p+=pe,ee+=4+pe}let Z;if(W<l-1)m=s[W+1].dts-M.dts,Z=s[W+1].pts-M.pts;else{const ue=this.config,q=W>0?M.dts-s[W-1].dts:_;if(Z=W>0?M.pts-s[W-1].pts:_,ue.stretchShortVideoTrack&&this.nextAudioTs!==null){const te=Math.floor(ue.maxBufferHole*a),re=(i?x+i*a:this.nextAudioTs+c)-M.pts;re>te?(m=re-q,m<0?m=q:R=!0,this.log(`It is approximately ${re/90} ms to the next segment; using duration ${m/90} ms for the last video frame.`)):m=q}else m=q}const me=Math.round(M.pts-M.dts);H=Math.min(H,m),Y=Math.max(Y,m),X=Math.min(X,Z),K=Math.max(K,Z),o.push(NU(M.key,m,ee,me))}if(o.length){if(Ff){if(Ff<70){const W=o[0].flags;W.dependsOn=2,W.isNonSync=0}}else if(e_&&K-X<Y-H&&_/Y<.025&&o[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let W=g;for(let M=0,V=o.length;M<V;M++){const ee=W+o[M].duration,Z=W+o[M].cts;if(M<V-1){const me=ee+o[M+1].cts;o[M].duration=me-Z}else o[M].duration=M?o[M-1].duration:_;o[M].cts=0,W=ee}}}m=R||!m?_:m;const z=y+m;this.nextVideoTs=h=z-c,this.videoSampleDuration=m,this.isVideoContiguous=!0;const ae={data1:Re.moof(e.sequenceNumber++,g,Er(e,{samples:o})),data2:N,startPTS:(x-c)/a,endPTS:(E+m-c)/a,startDTS:(g-c)/a,endDTS:h/a,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ae}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return TDe;case"ac3":return ADe;default:return _De}}remuxAudio(e,t,n,i,a){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,l=s/o,u=this.getSamplesPerFrame(e),c=u*l,h=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,m=[],g=a!==void 0;let y=e.samples,x=p?0:8,E=this.nextAudioTs||-1;const S=h.baseTime*s/h.timescale,w=S+t*s;if(this.isAudioContiguous=n=n||y.length&&E>0&&(i&&Math.abs(w-(E+S))<9e3||Math.abs(ha(y[0].pts,w)-(E+S))<20*c),y.forEach(function(K){K.pts=ha(K.pts,w)}),!n||E<0){const K=y.length;if(y=y.filter(z=>z.pts>=0),K!==y.length&&this.warn(`Removed ${y.length-K} of ${K} samples (initPTS ${S} / ${s})`),!y.length)return;a===0?E=0:i&&!g?E=Math.max(0,w-S):E=y[0].pts-S}if(e.segmentCodec==="aac"){const K=this.config.maxAudioFramesDrift;for(let z=0,Q=E+S;z<y.length;z++){const se=y[z],ae=se.pts,W=ae-Q,M=Math.abs(1e3*W/s);if(W<=-K*c&&g)z===0&&(this.warn(`Audio frame @ ${(ae/s).toFixed(3)}s overlaps marker by ${Math.round(1e3*W/s)} ms.`),this.nextAudioTs=E=ae-S,Q=ae);else if(W>=K*c&&M<wDe&&g){let V=Math.round(W/c);for(Q=ae-V*c;Q<0&&V&&c;)V--,Q+=c;z===0&&(this.nextAudioTs=E=Q-S),this.warn(`Injecting ${V} audio frames @ ${((Q-S)/s).toFixed(3)}s due to ${Math.round(1e3*W/s)} ms gap.`);for(let ee=0;ee<V;ee++){let Z=bDe.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Z||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Z=se.unit.subarray()),y.splice(z,0,{unit:Z,pts:Q}),Q+=c,z++}}se.pts=Q,Q+=c}}let T=null,_=null,O,A=0,I=y.length;for(;I--;)A+=y[I].unit.byteLength;for(let K=0,z=y.length;K<z;K++){const Q=y[K],se=Q.unit;let ae=Q.pts;if(_!==null){const M=m[K-1];M.duration=Math.round((ae-_)/l)}else if(n&&e.segmentCodec==="aac"&&(ae=E+S),T=ae,A>0){A+=x;try{O=new Uint8Array(A)}catch(M){this.observer.emit(G.ERROR,G.ERROR,{type:Dt.MUX_ERROR,details:Me.REMUX_ALLOC_ERROR,fatal:!1,error:M,bytes:A,reason:`fail allocating audio mdat ${A}`});return}p||(new DataView(O.buffer).setUint32(0,A),O.set(Re.types.mdat,4))}else return;O.set(se,x);const W=se.byteLength;x+=W,m.push(NU(!0,u,W,0)),_=ae}const k=m.length;if(!k)return;const N=m[m.length-1];E=_-S,this.nextAudioTs=E+l*N.duration;const B=p?new Uint8Array(0):Re.moof(e.sequenceNumber++,T/l,Er({},e,{samples:m}));e.samples=[];const R=(T-S)/s,H=this.nextAudioTs/s,Y={data1:B,data2:O,startPTS:R,endPTS:H,startDTS:R,endDTS:H,type:"audio",hasAudio:!0,hasVideo:!1,nb:k};return this.isAudioContiguous=!0,Y}}function ha(r,e){let t;if(e===null)return r;for(e<r?t=-8589934592:t=8589934592;Math.abs(r-e)>4294967296;)r+=t;return r}function DDe(r){for(let e=0;e<r.length;e++)if(r[e].key)return e;return-1}function xK(r,e,t,n){const i=r.samples.length;if(!i)return;const a=r.inputTimeScale;for(let o=0;o<i;o++){const l=r.samples[o];l.pts=ha(l.pts-t.baseTime*a/t.timescale,e*a)/a,l.dts=ha(l.dts-n.baseTime*a/n.timescale,e*a)/a}const s=r.samples;return r.samples=[],{samples:s}}function bK(r,e,t){const n=r.samples.length;if(!n)return;const i=r.inputTimeScale;for(let s=0;s<n;s++){const o=r.samples[s];o.pts=ha(o.pts-t.baseTime*i/t.timescale,e*i)/i}r.samples.sort((s,o)=>s.pts-o.pts);const a=r.samples;return r.samples=[],{samples:a}}class ODe extends es{constructor(e,t,n,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const t=this.initPTS;t&&e&&t.baseTime===e.baseTime&&t.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,t,n,i){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,t){let{audioCodec:n,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:a,video:s}=this.initData=AW(e);if(t)mAe(e,t);else{const l=a||s;l!=null&&l.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${l.codec}")!`)}a&&(n=FU(a,Tr.AUDIO,this)),s&&(i=FU(s,Tr.VIDEO,this));const o={};a&&s?o.audiovideo={container:"video/mp4",codec:n+","+i,supplemental:s.supplemental,encrypted:s.encrypted,initSegment:e,id:"main"}:a?o.audio={container:"audio/mp4",codec:n,encrypted:a.encrypted,initSegment:e,id:"audio"}:s?o.video={container:"video/mp4",codec:i,supplemental:s.supplemental,encrypted:s.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=o}remux(e,t,n,i,a,s){var o,l;let{initPTS:u,lastEndTime:c}=this;const h={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};yt(c)||(c=this.lastEndTime=a||0);const p=t.samples;if(!p.length)return h;const m={initPTS:void 0,timescale:void 0,trackId:void 0};let g=this.initData;if((o=g)!=null&&o.length||(this.generateInitSegment(p),g=this.initData),!((l=g)!=null&&l.length))return this.warn("Failed to generate initSegment."),h;this.emitInitSegment&&(m.tracks=this.initTracks,this.emitInitSegment=!1);const y=vAe(p,g,this),x=g.audio?y[g.audio.id]:null,E=g.video?y[g.video.id]:null,S=Fg(E,1/0),w=Fg(x,1/0),T=Fg(E,0,!0),_=Fg(x,0,!0);let O=a,A=0;const I=x&&(!E||!u&&w<S||u&&u.trackId===g.audio.id),k=I?x:E;if(k){const Q=k.timescale,se=k.start-a*Q,ae=I?g.audio.id:g.video.id;O=k.start/Q,A=I?_-w:T-S,(s||!u)&&(CDe(u,O,a,A)||Q!==u.timescale)&&(u&&this.warn(`Timestamps at playlist time: ${s?"":"~"}${a} ${se/Q} != initPTS: ${u.baseTime/u.timescale} (${u.baseTime}/${u.timescale}) trackId: ${u.trackId}`),this.log(`Found initPTS at playlist time: ${a} offset: ${O-a} (${se}/${Q}) trackId: ${ae}`),u=null,m.initPTS=se,m.timescale=Q,m.trackId=ae)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${a}`);u?(m.initPTS=u.baseTime,m.timescale=u.timescale,m.trackId=u.trackId):((!m.timescale||m.trackId===void 0||m.initPTS===void 0)&&(this.warn("Could not set initPTS"),m.initPTS=O,m.timescale=1,m.trackId=-1),this.initPTS=u={baseTime:m.initPTS,timescale:m.timescale,trackId:m.trackId});const N=O-u.baseTime/u.timescale,B=N+A;A>0?this.lastEndTime=B:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const R=!!g.audio,H=!!g.video;let X="";R&&(X+="audio"),H&&(X+="video");const Y=(g.audio?g.audio.encrypted:!1)||(g.video?g.video.encrypted:!1),K={data1:p,startPTS:N,startDTS:N,endPTS:B,endDTS:B,type:X,hasAudio:R,hasVideo:H,nb:1,dropped:0,encrypted:Y};h.audio=R&&!H?K:void 0,h.video=H?K:void 0;const z=E?.sampleCount;if(z){const Q=E.keyFrameIndex,se=Q!==-1;K.nb=z,K.dropped=Q===0||this.isVideoContiguous?0:se?Q:z,K.independent=se,K.firstKeyFrame=Q,se&&E.keyFrameStart&&(K.firstKeyFramePTS=(E.keyFrameStart-u.baseTime)/u.timescale),this.isVideoContiguous||(h.independent=se),this.isVideoContiguous||(this.isVideoContiguous=se),K.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${Q}/${z} dropped: ${K.dropped} start: ${K.firstKeyFramePTS||"NA"}`)}return h.initSegment=m,h.id3=xK(n,a,u,u),i.samples.length&&(h.text=bK(i,a,u)),h}}function Fg(r,e,t=!1){return r?.start!==void 0?(r.start+(t?r.duration:0))/r.timescale:e}function CDe(r,e,t,n){if(r===null)return!0;const i=Math.max(n,1),a=e-r.baseTime/r.timescale;return Math.abs(a-t)>i}function FU(r,e,t){const n=r.codec;return n&&n.length>4?n:e===Tr.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?ox(n,!1):(t.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(t.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let ko;try{ko=self.performance.now.bind(self.performance)}catch{ko=Date.now}const Lv=[{demux:pDe,remux:ODe},{demux:iu,remux:Pv},{demux:cDe,remux:Pv},{demux:hDe,remux:Pv}];Lv.splice(2,0,{demux:fDe,remux:Pv});class BU{constructor(e,t,n,i,a,s){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.id=a,this.logger=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,i){const a=n.transmuxing;a.executeStart=ko();let s=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:u,discontinuity:c,trackSwitch:h,accurateTimeOffset:p,timeOffset:m,initSegmentChange:g}=i||o,{audioCodec:y,videoCodec:x,defaultInitPts:E,duration:S,initSegmentData:w}=l,T=IDe(s,t);if(T&&ah(T.method)){const I=this.getDecrypter(),k=NC(T.method);if(I.isSync()){let N=I.softwareDecrypt(s,T.key.buffer,T.iv.buffer,k);if(n.part>-1){const R=I.flush();N=R&&R.buffer}if(!N)return a.executeEnd=ko(),t_(n);s=new Uint8Array(N)}else return this.asyncResult=!0,this.decryptionPromise=I.webCryptoDecrypt(s,T.key.buffer,T.iv.buffer,k).then(N=>{const B=this.push(N,null,n);return this.decryptionPromise=null,B}),this.decryptionPromise}const _=this.needsProbing(c,h);if(_){const I=this.configureTransmuxer(s);if(I)return this.logger.warn(`[transmuxer] ${I.message}`),this.observer.emit(G.ERROR,G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message}),a.executeEnd=ko(),t_(n)}(c||h||g||_)&&this.resetInitSegment(w,y,x,S,t),(c||g||_)&&this.resetInitialTimestamp(E),u||this.resetContiguity();const O=this.transmux(s,T,m,p,n);this.asyncResult=J0(O);const A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,a.executeEnd=ko(),O}flush(e){const t=e.transmuxing;t.executeStart=ko();const{decrypter:n,currentTransmuxState:i,decryptionPromise:a}=this;if(a)return this.asyncResult=!0,a.then(()=>this.flush(e));const s=[],{timeOffset:o}=i;if(n){const h=n.flush();h&&s.push(this.push(h.buffer,null,e))}const{demuxer:l,remuxer:u}=this;if(!l||!u){t.executeEnd=ko();const h=[t_(e)];return this.asyncResult?Promise.resolve(h):h}const c=l.flush(o);return J0(c)?(this.asyncResult=!0,c.then(h=>(this.flushRemux(s,h,e),s))):(this.flushRemux(s,c,e),this.asyncResult?Promise.resolve(s):s)}flushRemux(e,t,n){const{audioTrack:i,videoTrack:a,id3Track:s,textTrack:o}=t,{accurateTimeOffset:l,timeOffset:u}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===Et.MAIN?"level":"track"} ${n.level}`);const c=this.remuxer.remux(i,a,s,o,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=ko()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,i,a){const{demuxer:s,remuxer:o}=this;!s||!o||(s.resetInitSegment(e,t,n,i),o.resetInitSegment(e,t,n,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,i,a){let s;return t&&t.method==="SAMPLE-AES"?s=this.transmuxSampleAes(e,t,n,i,a):s=this.transmuxUnencrypted(e,n,i,a),s}transmuxUnencrypted(e,t,n,i){const{audioTrack:a,videoTrack:s,id3Track:o,textTrack:l}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,s,o,l,t,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,t,n,i,a){return this.demuxer.demuxSampleAes(e,t,n).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,n,i,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:i}=this;let a;for(let h=0,p=Lv.length;h<p;h++){var s;if((s=Lv[h].demux)!=null&&s.probe(e,this.logger)){a=Lv[h];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,l=this.remuxer,u=a.remux,c=a.demux;(!l||!(l instanceof u))&&(this.remuxer=new u(n,t,i,this.logger)),(!o||!(o instanceof c))&&(this.demuxer=new c(n,t,i,this.logger),this.probe=c.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new LC(this.config)),e}}function IDe(r,e){let t=null;return r.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const t_=r=>({remuxResult:{},chunkMeta:r});function J0(r){return"then"in r&&r.then instanceof Function}class RDe{constructor(e,t,n,i,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null}}class kDe{constructor(e,t,n,i,a,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=s}}let UU=0;class SK{constructor(e,t,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=UU++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=l=>{const u=l.data,c=this.hls;if(!(!c||!(u!=null&&u.event)||u.instanceNo!==this.instanceNo))switch(u.event){case"init":{var h;const p=(h=this.workerContext)==null?void 0:h.objectURL;p&&self.URL.revokeObjectURL(p);break}case"transmuxComplete":{this.handleTransmuxComplete(u.data);break}case"flush":{this.onFlush(u.data);break}case"workerLog":{c.logger[u.data.logType]&&c.logger[u.data.logType](u.data.message);break}default:{u.data=u.data||{},u.data.frag=this.frag,u.data.part=this.part,u.data.id=this.id,c.trigger(u.event,u.data);break}}},this.onWorkerError=l=>{if(!this.hls)return;const u=new Error(`${l.message}  (${l.filename}:${l.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:u})};const a=e.config;this.hls=e,this.id=t,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const s=(l,u)=>{u=u||{},u.frag=this.frag||void 0,l===G.ERROR&&(u=u,u.parent=this.id,u.part=this.part,this.error=u.error),this.hls.trigger(l,u)};this.observer=new UC,this.observer.on(G.FRAG_DECRYPTED,s),this.observer.on(G.ERROR,s);const o=eU(a.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const l=this.hls.logger;if(a.workerPath||N2e()){try{a.workerPath?(l.log(`loading Web Worker ${a.workerPath} for "${t}"`),this.workerContext=B2e(a.workerPath)):(l.log(`injecting Web Worker for "${t}"`),this.workerContext=F2e());const{worker:c}=this.workerContext;c.addEventListener("message",this.onWorkerMessage),c.addEventListener("error",this.onWorkerError),c.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:o,id:t,config:Dr(a)})}catch(c){l.warn(`Error setting up "${t}" Web Worker, fallback to inline`,c),this.terminateWorker(),this.error=null,this.transmuxer=new BU(this.observer,o,a,"",t,e.logger)}return}}this.transmuxer=new BU(this.observer,o,a,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=UU++;const t=this.hls.config,n=eU(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:Dr(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),U2e(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,n,i,a,s,o,l,u,c){var h,p;u.transmuxing.start=self.performance.now();const{instanceNo:m,transmuxer:g}=this,y=s?s.start:a.start,x=a.decryptdata,E=this.frag,S=!(E&&a.cc===E.cc),w=!(E&&u.level===E.level),T=E?u.sn-E.sn:-1,_=this.part?u.part-this.part.index:-1,O=T===0&&u.id>1&&u.id===E?.stats.chunkCount,A=!w&&(T===1||T===0&&(_===1||O&&_<=0)),I=self.performance.now();(w||T||a.stats.parsing.start===0)&&(a.stats.parsing.start=I),s&&(_||!A)&&(s.stats.parsing.start=I);const k=!(E&&((h=a.initSegment)==null?void 0:h.url)===((p=E.initSegment)==null?void 0:p.url)),N=new kDe(S,A,l,w,y,k);if(!A||S||k){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${a.type} sn: ${u.sn}${u.part>-1?" part: "+u.part:""} ${this.id===Et.MAIN?"level":"track"}: ${u.level} id: ${u.id}
        discontinuity: ${S}
        trackSwitch: ${w}
        contiguous: ${A}
        accurateTimeOffset: ${l}
        timeOffset: ${y}
        initSegmentChange: ${k}`);const B=new RDe(n,i,t,o,c);this.configureTransmuxer(B)}if(this.frag=a,this.part=s,this.workerContext)this.workerContext.worker.postMessage({instanceNo:m,cmd:"demux",data:e,decryptdata:x,chunkMeta:u,state:N},e instanceof ArrayBuffer?[e]:[]);else if(g){const B=g.push(e,x,u,N);J0(B)?B.then(R=>{this.handleTransmuxComplete(R)}).catch(R=>{this.transmuxerError(R,u,"transmuxer-interface push error")}):this.handleTransmuxComplete(B)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);J0(i)?i.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const jU=100;class PDe extends BC{constructor(e,t,n){super(e,t,n,"audio-stream-controller",Et.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(G.LEVEL_LOADED,this.onLevelLoaded,this),e.on(G.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(G.BUFFER_RESET,this.onBufferReset,this),e.on(G.BUFFER_CREATED,this.onBufferCreated,this),e.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(G.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(G.FRAG_LOADING,this.onFragLoading,this),e.on(G.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(G.LEVEL_LOADED,this.onLevelLoaded,this),e.off(G.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(G.BUFFER_RESET,this.onBufferReset,this),e.off(G.BUFFER_CREATED,this.onBufferCreated,this),e.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(G.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(G.FRAG_LOADING,this.onFragLoading,this),e.off(G.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:n,initPTS:i,timescale:a,trackId:s}){if(n===Et.MAIN){const o=t.cc,l=this.fragCurrent;if(this.initPTS[o]={baseTime:i,timescale:a,trackId:s},this.log(`InitPTS for cc: ${o} found from main: ${i/a} (${i}/${a}) trackId: ${s}`),this.mainAnchor=t,this.state===rt.WAITING_INIT_PTS){const u=this.waitingData;(!u&&!this.loadingParts||u&&u.frag.cc!==o)&&this.syncWithAnchor(t,u?.frag)}else!this.hls.hasEnoughToStart&&l&&l.cc!==o?(l.abortRequests(),this.syncWithAnchor(t,l)):this.state===rt.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,t){var n;const i=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(t&&i?.cc===t.cc)return;const a=(i||e).cc,s=this.getLevelDetails(),o=this.getLoadPosition(),l=FW(s,a,o);l&&(this.log(`Syncing with main frag at ${l.start} cc ${l.cc}`),this.startFragRequested=!1,this.nextLoadPosition=l.start,this.resetLoadingState(),this.state===rt.IDLE&&this.doTickIdle())}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=rt.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(jU),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=rt.IDLE):this.state=rt.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case rt.IDLE:this.doTickIdle();break;case rt.WAITING_TRACK:{const{levels:e,trackId:t}=this,n=e?.[t],i=n?.details;if(i&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(i))break;this.state=rt.WAITING_INIT_PTS}break}case rt.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case rt.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:t,part:n,cache:i,complete:a}=e,s=this.mainAnchor;if(this.initPTS[t.cc]!==void 0){this.waitingData=null,this.state=rt.FRAG_LOADING;const o=i.flush().buffer,l={frag:t,part:n,payload:o,networkDetails:null};this._handleFragmentLoadProgress(l),a&&super._handleFragmentLoadComplete(l)}else s&&s.cc!==e.frag.cc&&this.syncWithAnchor(s,e.frag)}else this.state=rt.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:n,media:i,trackId:a}=this,s=t.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[a]))return;const o=n[a],l=o.details;if(!l||this.waitForLive(o)||this.waitForCdnTuneIn(l)){this.state=rt.WAITING_TRACK,this.startFragRequested=!1;return}const u=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&u&&(this.bufferFlushed=!1,this.afterBufferFlushed(u,Tr.AUDIO,Et.AUDIO));const c=this.getFwdBufferInfo(u,Et.AUDIO);if(c===null)return;if(!this.switchingTrack&&this._streamEnded(c,l)){t.trigger(G.BUFFER_EOS,{type:"audio"}),this.state=rt.ENDED;return}const h=c.len,p=t.maxBufferLength,m=l.fragments,g=m[0].start,y=this.getLoadPosition(),x=this.flushing?y:c.end;if(this.switchingTrack&&i){const w=y;l.PTSKnown&&w<g&&(c.end>g||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=g+.05)}if(h>=p&&!this.switchingTrack&&x<m[m.length-1].start)return;let E=this.getNextFragment(x,l);if(E&&this.isLoopLoading(E,x)&&(E=this.getNextFragmentLoopLoading(E,l,c,Et.MAIN,p)),!E){this.bufferFlushed=!0;return}let S=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&S&&ln(E)&&!E.endList&&(!l.live||!this.loadingParts&&x<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(S)===An.OK&&(this.mainFragLoading=S=null),S&&ln(S))){if(E.start>S.end){const T=this.fragmentTracker.getFragAtPos(x,Et.MAIN);T&&T.end>S.end&&(S=T,this.mainFragLoading={frag:T,targetBufferTime:null})}if(E.start>S.end)return}this.loadFragment(E,o,x)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(n=>new X0(n))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==rt.STOPPED&&(this.setInterval(jU),this.state=rt.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(G.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,t){var n;const{levels:i}=this,{details:a,id:s,groupId:o,track:l}=t;if(!i){this.warn(`Audio tracks reset while loading track ${s} "${l.name}" of "${o}"`);return}const u=this.mainDetails;if(!u||a.endCC>u.endCC||u.expired){this.cachedTrackLoadedData=t,this.state!==rt.STOPPED&&(this.state=rt.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${s} "${l.name}" of "${o}" loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`);const c=i[s];let h=0;if(a.live||(n=c.details)!=null&&n.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;if(c.details){var p;h=this.alignPlaylists(a,c.details,(p=this.levelLastLoaded)==null?void 0:p.details)}a.alignedSliding||(tK(a,u),a.alignedSliding||px(a,u),h=a.fragmentStart)}c.details=a,this.levelLastLoaded=c,this.startFragRequested||this.setStartPosition(u,h),this.hls.trigger(G.AUDIO_TRACK_UPDATED,{details:a,id:s,groupId:t.groupId}),this.state===rt.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=rt.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:i,payload:a}=e,{config:s,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const u=l[o];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const c=u.details;if(!c){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const h=s.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new SK(this.hls,Et.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const m=this.initPTS[n.cc],g=(t=n.initSegment)==null?void 0:t.data;if(m!==void 0){const x=i?i.index:-1,E=x!==-1,S=new MC(n.level,n.sn,n.stats.chunkCount,a.byteLength,x,E);p.push(a,g,h,"",n,i,c.totalduration,!1,S,m)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${o}`);const{cache:y}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new rK,complete:!1};y.push(new Uint8Array(a)),this.state!==rt.STOPPED&&(this.state=rt.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Et.MAIN&&ln(t.frag)&&(this.mainFragLoading=t,this.state===rt.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:n,part:i}=t;if(n.type!==Et.AUDIO){!this.audioOnly&&n.type===Et.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(ln(n)){this.fragPrevious=n;const a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(G.AUDIO_TRACK_SWITCHED,hr({},a)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,t){var n;if(t.fatal){this.state=rt.ERROR;return}switch(t.details){case Me.FRAG_GAP:case Me.FRAG_PARSING_ERROR:case Me.FRAG_DECRYPT_ERROR:case Me.FRAG_LOAD_ERROR:case Me.FRAG_LOAD_TIMEOUT:case Me.KEY_LOAD_ERROR:case Me.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Et.AUDIO,t);break;case Me.AUDIO_TRACK_LOAD_ERROR:case Me.AUDIO_TRACK_LOAD_TIMEOUT:case Me.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===rt.WAITING_TRACK&&((n=t.context)==null?void 0:n.type)===Wt.AUDIO_TRACK&&(this.state=rt.IDLE);break;case Me.BUFFER_ADD_CODEC_ERROR:case Me.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)||this.resetLoadingState();break;case Me.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Me.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Tr.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Tr.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===rt.ENDED&&(this.state=rt.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,t,Et.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:l,part:u,level:c}=o,{details:h}=c,{audio:p,text:m,id3:g,initSegment:y}=a;if(this.fragContextChanged(l)||!h){this.fragmentTracker.removeFragment(l);return}if(this.state=rt.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const x=l.initSegment||l;if(this.unhandledEncryptionError(y,l))return;this._bufferInitSegment(c,y.tracks,x,s),i.trigger(G.FRAG_PARSING_INIT_SEGMENT,{frag:x,id:n,tracks:y.tracks})}if(p){const{startPTS:x,endPTS:E,startDTS:S,endDTS:w}=p;u&&(u.elementaryStreams[Tr.AUDIO]={startPTS:x,endPTS:E,startDTS:S,endDTS:w}),l.setElementaryStreamInfo(Tr.AUDIO,x,E,S,w),this.bufferFragmentData(p,l,u,s)}if(g!=null&&(t=g.samples)!=null&&t.length){const x=Er({id:n,frag:l,details:h},g);i.trigger(G.FRAG_PARSING_METADATA,x)}if(m){const x=Er({id:n,frag:l,details:h},m);i.trigger(G.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,t,n,i){if(this.state!==rt.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const a=t.audio;a.id=Et.AUDIO;const s=e.audioCodec;this.log(`Init audio buffer, container:${a.container}, codecs[level/parsed]=[${s}/${a.codec}]`),s&&s.split(",").length===1&&(a.levelCodec=s),this.hls.trigger(G.BUFFER_CODECS,t);const o=a.initSegment;if(o!=null&&o.byteLength){const l={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:o};this.hls.trigger(G.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,t,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===An.NOT_LOADED||i===An.PARTIAL){var a;if(!ln(e))this._loadInitSegment(e,t);else if((a=t.details)!=null&&a.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=rt.WAITING_INIT_PTS;const s=this.mainDetails;s&&s.fragmentStart!==t.details.fragmentStart&&px(t.details,s)}else super.loadFragment(e,t,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:n,assocLang:i,characteristics:a,audioCodec:s,channels:o}=this.bufferedTrack;Sc({name:t,lang:n,assocLang:i,characteristics:a,audioCodec:s,channels:o},e,nc)||(ux(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(G.AUDIO_TRACK_SWITCHED,hr({},e))}}class YC extends es{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,n){const i=t?.renditionReports;if(i){let a=-1;for(let s=0;s<i.length;s++){const o=i[s];let l;try{l=new self.URL(o.URI,t.url).href}catch(u){this.warn(`Could not construct new URL for Rendition Report: ${u}`),l=o.URI||""}if(l===e){a=s;break}else l===e.substring(0,l.length)&&(a=s)}if(a!==-1){const s=i[a],o=parseInt(s["LAST-MSN"])||t.lastPartSn;let l=parseInt(s["LAST-PART"])||t.lastPartIndex;if(this.hls.config.lowLatencyMode){const c=Math.min(t.age-t.partTarget,t.targetduration);l>=0&&c>t.partTarget&&(l+=1)}const u=n&&tU(n);return new rU(o,l>=0?l:void 0,u)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,t,n){const{details:i,stats:a}=t,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;i.advancedDateTime=Date.now()-o;const l=this.hls.config.timelineOffset;if(l!==i.appliedTimelineOffset){const c=Math.max(l||0,0);i.appliedTimelineOffset=c,i.fragments.forEach(h=>{h.setStart(h.playlistOffset+c)})}if(i.live||n!=null&&n.live){const c="levelInfo"in t?t.levelInfo:t.track;if(i.reloaded(n),n&&i.fragments.length>0){T2e(n,i,this);const S=i.playlistParsingError;if(S){this.warn(S);const w=this.hls;if(!w.config.ignorePlaylistParsingErrors){var u;const{networkDetails:T}=t;w.trigger(G.ERROR,{type:Dt.NETWORK_ERROR,details:Me.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:S,reason:S.message,level:t.level||void 0,parent:(u=i.fragments[0])==null?void 0:u.type,networkDetails:T,stats:a});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=a.loading.start);const h=this.hls.mainForwardBufferInfo,p=h?h.end-h.len:0,m=(i.edge-p)*1e3,g=XW(i,m);if(i.requestScheduled+g<s?i.requestScheduled=s:i.requestScheduled+=g,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let y,x,E;if(i.canBlockReload&&i.endSN&&i.advanced){const S=this.hls.config.lowLatencyMode,w=i.lastPartSn,T=i.endSN,_=i.lastPartIndex,O=_!==-1,A=w===T;O?A?(x=T+1,E=S?0:_):(x=w,E=S?_+1:i.maxPartIndex):x=T+1;const I=i.age,k=I+i.ageHeader;let N=Math.min(k-i.partTarget,i.targetduration*1.5);if(N>0){if(k>i.targetduration*3)this.log(`Playlist last advanced ${I.toFixed(2)}s ago. Omitting segment and part directives.`),x=void 0,E=void 0;else if(n!=null&&n.tuneInGoal&&k-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${N} with playlist age: ${i.age}`),N=0;else{const B=Math.floor(N/i.targetduration);if(x+=B,E!==void 0){const R=Math.round(N%i.targetduration/i.partTarget);E+=R}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${I.toFixed(2)}s goal: ${N} skip sn ${B} to part ${E}`)}i.tuneInGoal=N}if(y=this.getDeliveryDirectives(i,t.deliveryDirectives,x,E),S||!A){i.requestScheduled=s,this.loadingPlaylist(c,y);return}}else(i.canBlockReload||i.canSkipUntil)&&(y=this.getDeliveryDirectives(i,t.deliveryDirectives,x,E));y&&x!==void 0&&i.canBlockReload&&(i.requestScheduled=a.loading.first+Math.max(g-o*2,g/2)),this.scheduleLoading(c,y,i)}else this.clearTimer()}scheduleLoading(e,t,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,t);return}const a=self.performance.now(),s=i.requestScheduled;if(a>=s){this.loadingPlaylist(e,t);return}const o=s-a;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(o)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),o)}getDeliveryDirectives(e,t,n,i){let a=tU(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,i=t.part,a=Rv.No),new rU(n,i,a)}checkRetry(e){const t=e.details,n=cx(e),i=e.errorAction,{action:a,retryCount:s=0,retryConfig:o}=i||{},l=!!i&&!!o&&(a===Jn.RetryRequest||!i.resolved&&a===Jn.SendAlternateToPenaltyBox);if(l){var u;if(s>=o.maxNumRetry)return!1;if(n&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const c=PC(o,s);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),c),this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${t}" in ${c}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}function EK(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(!ep(r[t].attrs,e[t].attrs))return!1;return!0}function ep(r,e,t){const n=r["STABLE-RENDITION-ID"];return n&&!t?n===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>r[i]!==e[i])}function B2(r,e){return e.label.toLowerCase()===r.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(r.lang||"").toLowerCase())}class LDe extends YC{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_PARSED,this.onManifestParsed,this),e.on(G.LEVEL_LOADING,this.onLevelLoading,this),e.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_PARSED,this.onManifestParsed,this),e.off(G.LEVEL_LOADING,this.onLevelLoading,this),e.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(G.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:i,details:a}=t,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${s?.groupId}`);return}const o=s.details;s.details=t.details,this.log(`Audio track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,o)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(o=>i?.indexOf(o)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(p=>!n||n.indexOf(p.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(p=>p.default)&&(this.selectDefaultTrack=!1),o.forEach((p,m)=>{p.id=m});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.audioPreference;if(!a&&l){const p=Ys(l,o,nc);if(p>-1)a=o[p];else{const m=Ys(l,this.tracks);a=this.tracks[m]}}let u=this.findTrackId(a);u===-1&&a&&(u=this.findTrackId(null));const c={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${n?.join(",")}`),this.hls.trigger(G.AUDIO_TRACKS_UPDATED,c);const h=this.trackId;if(u!==-1&&h===-1)this.setAudioTrack(u);else if(o.length&&h===-1){var s;const p=new Error(`No audio track selected for current audio group-ID(s): ${(s=this.groupIds)==null?void 0:s.join(",")} track count: ${o.length}`);this.warn(p.message),this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}}onError(e,t){t.fatal||!t.context||t.context.type===Wt.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&Sc(e,i,nc))return i;const a=Ys(e,this.tracksInGroup,nc);if(a>-1){const s=this.tracksInGroup[a];return this.setAudioTrack(a),s}else if(i){let s=t.loadLevel;s===-1&&(s=t.firstAutoLevel);const o=YAe(e,t.levels,n,s,nc);if(o===-1)return null;t.nextLoadLevel=o}if(e.channels||e.audioCodec){const s=Ys(e,n);if(s>-1)return n[s]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=t[e],a=i.details&&!i.details.live;if(e===this.trackId&&i===n&&a||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(G.AUDIO_TRACK_SWITCHING,hr({},i)),a))return;const s=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(s)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const i=t[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Sc(e,i,nc)))return n}if(e){const{name:n,lang:i,assocLang:a,characteristics:s,audioCodec:o,channels:l}=e;for(let u=0;u<t.length;u++){const c=t[u];if(Sc({name:n,lang:i,assocLang:a,characteristics:s,audioCodec:o,channels:l},c,nc))return u}for(let u=0;u<t.length;u++){const c=t[u];if(ep(e.attrs,c.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return u}for(let u=0;u<t.length;u++){const c=t[u];if(ep(e.attrs,c.attrs,["LANGUAGE"]))return u}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&ux(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,i=e.groupId,a=this.getUrlWithDirectives(e.url,t),s=e.details,o=s?.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${o&&s.live?" age "+o.toFixed(1)+(s.type&&" "+s.type||""):""} ${a}`),this.hls.trigger(G.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:t||null,track:e})}}class MDe{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[t];i.push(e),i.length===1&&!n&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const n={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const n={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const n=(t=e[0])==null?void 0:t.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const i=t[0];try{i.execute()}catch(a){var n;if(i.onError(a),this.queues===null||this.tracks===null)return;const s=(n=this.tracks[e])==null?void 0:n.buffer;s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,n;return(t=this.queues)!=null&&t[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const n=(t=this.tracks)==null?void 0:t[e],i=n?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(n=>n.label).join(", "))||""}}const $U=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,wK="HlsJsTrackRemovedError";class NDe extends Error{constructor(e){super(e),this.name=wK}}class FDe extends es{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:a}=this;n&&this.log("Media source opened"),!(!i||!a)&&(a.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(G.MEDIA_ATTACHED,{media:i,mediaSource:a}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=aAe(Eu(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_PARSED,this.onManifestParsed,this),e.on(G.BUFFER_RESET,this.onBufferReset,this),e.on(G.BUFFER_APPENDING,this.onBufferAppending,this),e.on(G.BUFFER_CODECS,this.onBufferCodecs,this),e.on(G.BUFFER_EOS,this.onBufferEos,this),e.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(G.FRAG_PARSED,this.onFragParsed,this),e.on(G.FRAG_CHANGED,this.onFragChanged,this),e.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_PARSED,this.onManifestParsed,this),e.off(G.BUFFER_RESET,this.onBufferReset,this),e.off(G.BUFFER_APPENDING,this.onBufferAppending,this),e.off(G.BUFFER_CODECS,this.onBufferCodecs,this),e.off(G.BUFFER_EOS,this.onBufferEos,this),e.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(G.FRAG_PARSED,this.onFragParsed,this),e.off(G.FRAG_CHANGED,this.onFragChanged,this),e.off(G.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const n={};if(this.operationQueue){const a=this.isUpdating();a||this.operationQueue.removeBlockers();const s=this.isQueued();(a||s)&&this.warn(`Transfering MediaSource with${s?" operations in queue":""}${a?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===t?Er(n,i.tracks):this.sourceBuffers.forEach(a=>{const[s]=a;s&&(n[s]=Er({},this.tracks[s]),this.removeBuffer(s)),a[0]=a[1]=null}),{media:e,mediaSource:t,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var n;let i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,t){const n=this.media=t.media;this.transferData=this.overrides=void 0;const i=Eu(this.appendSource);if(i){const a=!!t.mediaSource;(a||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const s=this.mediaSource=t.mediaSource||new i;if(this.assignMediaSource(s),a)this._objectUrl=n.src,this.attachTransferred();else{const o=this._objectUrl=self.URL.createObjectURL(s);if(this.appendSource)try{n.removeAttribute("src");const l=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||l&&s instanceof l,HU(n),BDe(n,o),n.load()}catch{n.src=o}else n.src=o}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,n;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const n=this.tracks,i=t.tracks,a=i?Object.keys(i):null,s=a?a.length:0,o=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&a&&s){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Dr(n,(l,u)=>l==="initSegment"?void 0:u)};
transfer tracks: ${Dr(i,(l,u)=>l==="initSegment"?void 0:u)}}`),!xW(i,n)){t.mediaSource=null,t.tracks=void 0;const l=e.currentTime,u=this.details,c=Math.max(l,u?.fragments[0].start||0);if(c-l>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${l} -> ${c}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${c} currentTime: ${l}`),this.onMediaDetaching(G.MEDIA_DETACHING,{}),this.onMediaAttaching(G.MEDIA_ATTACHING,t),e.currentTime=c;return}this.transferData=void 0,a.forEach(l=>{const u=l,c=i[u];if(c){const h=c.buffer;if(h){const p=this.fragmentTracker,m=c.id;if(p.hasFragments(m)||p.hasParts(m)){const x=Ft.getBuffered(h);p.detectEvictedFragments(u,x,m,null,!0)}const g=r_(u),y=[u,h];this.sourceBuffers[g]=y,h.updating&&this.operationQueue&&this.operationQueue.prependBlocker(u),this.trackSourceBuffer(u,c)}}}),o(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),o()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const n=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:a,_objectUrl:s}=this;if(a){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([o])=>{o&&this.removeBuffer(o)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const o=a.readyState==="open";try{const l=a.sourceBuffers;for(let u=l.length;u--;)o&&l[u].abort(),a.removeSourceBuffer(l[u]);o&&a.endOfStream()}catch(l){this.warn(`onMediaDetaching: ${l.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}a.removeEventListener("sourceopen",this._onMediaSourceOpen),a.removeEventListener("sourceended",this._onMediaSourceEnded),a.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.removeEventListener("startstreaming",this._onStartStreaming),a.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(s&&self.URL.revokeObjectURL(s),this.mediaSrc===s?(i.removeAttribute("src"),this.appendSource&&HU(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(G.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const n=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(a){this.warn(`onBufferReset ${e}`,a)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[r_(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new MDe(this.tracks)}onBufferCodecs(e,t){var n;const i=this.tracks,a=Object.keys(t);this.log(`BUFFER_CODECS: "${a}" (current SB count ${this.sourceBufferCount})`);const s="audiovideo"in t&&(i.audio||i.video)||i.audiovideo&&("audio"in t||"video"in t),o=!s&&this.sourceBufferCount&&this.media&&a.some(l=>!i[l]);if(s||o){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${a}" SourceBuffers`);return}a.forEach(l=>{var u,c;const h=t[l],{id:p,codec:m,levelCodec:g,container:y,metadata:x,supplemental:E}=h;let S=i[l];const w=(u=this.transferData)==null||(u=u.tracks)==null?void 0:u[l],T=w!=null&&w.buffer?w:S,_=T?.pendingCodec||T?.codec,O=T?.levelCodec;S||(S=i[l]={buffer:void 0,listeners:[],codec:m,supplemental:E,container:y,levelCodec:g,metadata:x,id:p});const A=Iv(_,O),I=A?.replace($U,"$1");let k=Iv(m,g);const N=(c=k)==null?void 0:c.replace($U,"$1");k&&A&&I!==N&&(l.slice(0,5)==="audio"&&(k=ox(k,this.appendSource)),this.log(`switching codec ${_} to ${k}`),k!==(S.pendingCodec||S.codec)&&(S.pendingCodec=k),S.container=y,this.appendChangeType(l,y,k))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!t.video&&((n=t.audio)==null?void 0:n.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const n=this.tracks[t];return e[t]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,t,n){const i=`${t};codecs=${n}`,a={label:`change-type=${i}`,execute:()=>{const s=this.tracks[e];if(s){const o=s.buffer;o!=null&&o.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),o.changeType(i),s.codec=n,s.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};this.append(a,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const n=e.start,i=n+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(n,Et.MAIN))==null?void 0:t.gap)===!0)return;const s={label:"block-audio",execute:()=>{var o;const l=this.tracks.video;(this.lastVideoAppendEnd>i||l!=null&&l.buffer&&Ft.isBuffered(l.buffer,i)||((o=this.fragmentTracker.getAppendedFrag(i,Et.MAIN))==null?void 0:o.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:o=>{this.warn("Error executing block-audio operation",o)}};this.blockedAudioAppend={op:s,frag:e},this.append(s,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:n}=this,{data:i,type:a,parent:s,frag:o,part:l,chunkMeta:u,offset:c}=t,h=u.buffering[a],{sn:p,cc:m}=o,g=self.performance.now();h.start=g;const y=o.stats.buffering,x=l?l.stats.buffering:null;y.start===0&&(y.start=g),x&&x.start===0&&(x.start=g);const E=n.audio;let S=!1;a==="audio"&&E?.container==="audio/mpeg"&&(S=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const w=n.video,T=w?.buffer;if(T&&p!=="initSegment"){const A=l||o,I=this.blockedAudioAppend;if(a==="audio"&&s!=="main"&&!this.blockedAudioAppend&&!(w.ending||w.ended)){const N=A.start+A.duration*.05,B=T.buffered,R=this.currentOp("video");!B.length&&!R?this.blockAudio(A):!R&&!Ft.isBuffered(T,N)&&this.lastVideoAppendEnd<N&&this.blockAudio(A)}else if(a==="video"){const k=A.end;if(I){const N=I.frag.start;(k>N||k<this.lastVideoAppendEnd||Ft.isBuffered(T,N))&&this.unblockAudio()}this.lastVideoAppendEnd=k}}const _=(l||o).start,O={label:`append-${a}`,execute:()=>{var A;h.executeStart=self.performance.now();const I=(A=this.tracks[a])==null?void 0:A.buffer;I&&(S?this.updateTimestampOffset(I,_,.1,a,p,m):c!==void 0&&yt(c)&&this.updateTimestampOffset(I,c,1e-6,a,p,m)),this.appendExecutor(i,a)},onStart:()=>{},onComplete:()=>{const A=self.performance.now();h.executeEnd=h.end=A,y.first===0&&(y.first=A),x&&x.first===0&&(x.first=A);const I={};this.sourceBuffers.forEach(([k,N])=>{k&&(I[k]=Ft.getBuffered(N))}),this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(G.BUFFER_APPENDED,{type:a,frag:o,part:l,chunkMeta:u,parent:o.type,timeRanges:I})},onError:A=>{var I;const k={type:Dt.MEDIA_ERROR,parent:o.type,details:Me.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:o,part:l,chunkMeta:u,error:A,err:A,fatal:!1},N=(I=this.media)==null?void 0:I.error;if(A.code===DOMException.QUOTA_EXCEEDED_ERR||A.name=="QuotaExceededError"||"quota"in A)k.details=Me.BUFFER_FULL_ERROR;else if(A.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!N)k.errorAction=ih(!0);else if(A.name===wK&&this.sourceBufferCount===0)k.errorAction=ih(!0);else{const B=++this.appendErrors[a];this.warn(`Failed ${B}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer (${N||"no media error"})`),(B>=this.hls.config.appendErrorMaxRetry||N)&&(k.fatal=!0)}this.hls.trigger(G.ERROR,k)}};this.log(`queuing "${a}" append sn: ${p}${l?" p: "+l.index:""} of ${o.type===Et.MAIN?"level":"track"} ${o.level} cc: ${m}`),this.append(O,a,this.isPending(this.tracks[a]))}getFlushOp(e,t,n){return this.log(`queuing "${e}" remove ${t}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(G.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${t}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,t){const{type:n,startOffset:i,endOffset:a}=t;n?this.append(this.getFlushOp(n,i,a),n):this.sourceBuffers.forEach(([s])=>{s&&this.append(this.getFlushOp(s,i,a),s)})}onFragParsed(e,t){const{frag:n,part:i}=t,a=[],s=i?i.elementaryStreams:n.elementaryStreams;s[Tr.AUDIOVIDEO]?a.push("audiovideo"):(s[Tr.AUDIO]&&a.push("audio"),s[Tr.VIDEO]&&a.push("video"));const o=()=>{const l=self.performance.now();n.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const u=i?i.stats:n.stats;this.hls.trigger(G.FRAG_BUFFERED,{frag:n,part:i,stats:u,id:n.type})};a.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,a).catch(l=>{this.warn(`Fragment buffered callback ${l}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const t=this.tracks[e];if(t)return!t.ended||t.ending}return!1})}onBufferEos(e,t){var n;this.sourceBuffers.forEach(([s])=>{if(s){const o=this.tracks[s];(!t.type||t.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([s])=>{var o;return s&&!((o=this.tracks[s])!=null&&o.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream(),this.hls.trigger(G.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(G.BUFFERED_TO_END,void 0)):t.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,t){if(t.details===Me.BUFFER_APPEND_ERROR&&t.frag){var n;const i=(n=t.errorAction)==null?void 0:n.nextAutoLevel;yt(i)&&i!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||t===null||!this.sourceBufferCount)return;const i=e.config,a=n.currentTime,s=t.levelTargetDuration,o=t.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(yt(o)&&o>=0){const u=Math.max(o,s),c=Math.floor(a/s)*s-u;this.flushBackBuffer(a,s,c)}const l=i.frontBufferFlushThreshold;if(yt(l)&&l>0){const u=Math.max(i.maxBufferLength,l),c=Math.max(u,s),h=Math.floor(a/s)*s+c;this.flushFrontBuffer(a,s,h)}}flushBackBuffer(e,t,n){this.sourceBuffers.forEach(([i,a])=>{if(a){const o=Ft.getBuffered(a);if(o.length>0&&n>o.start(0)){var s;this.hls.trigger(G.BACK_BUFFER_REACHED,{bufferEnd:n});const l=this.tracks[i];if((s=this.details)!=null&&s.live)this.hls.trigger(G.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(l!=null&&l.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,t,n){this.sourceBuffers.forEach(([i,a])=>{if(a){const s=Ft.getBuffered(a),o=s.length;if(o<2)return;const l=s.start(o-1),u=s.end(o-1);if(n>l||e>=l&&e<=u)return;this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:l,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:t,mediaSource:n}=this;if(!t||!this.media||n?.readyState!=="open")return null;const i=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&n.setLiveSeekableRange){const u=Math.max(0,t.fragmentStart),c=Math.max(u,i);return{duration:1/0,start:u,end:c}}return{duration:1/0}}const a=(e=this.overrides)==null?void 0:e.duration;if(a)return yt(a)?{duration:a}:null;const s=this.media.duration,o=yt(n.duration)?n.duration:0;return i>o&&i>s||!yt(s)?{duration:i}:null}updateMediaSource({duration:e,start:t,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(yt(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),t!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${t}-${n}.`),i.setLiveSeekableRange(t,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${Dr(n)}`),this.tracksReady){var i;const a=(i=this.transferData)==null?void 0:i.tracks;a&&Object.keys(a).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,n])=>{if(t){const i=this.tracks[t];e[t]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(G.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const a in e){const s=a,o=e[s];if(this.isPending(o)){const l=this.getTrackCodec(o,s),u=`${o.container};codecs=${l}`;o.codec=l,this.log(`creating sourceBuffer(${u})${this.currentOp(s)?" Queued":""} ${Dr(o)}`);try{const c=n.addSourceBuffer(u),h=r_(s),p=[s,c];t[h]=p,o.buffer=c}catch(c){var i;this.error(`error while trying to add sourceBuffer: ${c.message}`),this.shiftAndExecuteNext(s),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[s],this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:s,mimeType:u,parent:o.id});return}this.trackSourceBuffer(s,o)}}this.bufferCreated()}getTrackCodec(e,t){const n=e.supplemental;let i=e.codec;n&&(t==="video"||t==="audiovideo")&&V0(n,"video")&&(i=DAe(i,n));const a=Iv(i,e.levelCodec);return a?t.slice(0,5)==="audio"?ox(a,this.appendSource):a:""}trackSourceBuffer(e,t){const n=t.buffer;if(!n)return;const i=this.getTrackCodec(t,e);this.tracks[e]={buffer:n,codec:i,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(a,s)=>{const o=s.removedRanges;o!=null&&o.length&&this.hls.trigger(G.BUFFER_FLUSHED,{type:a})})}get mediaSrc(){var e,t;const n=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return n?.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,t),this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const a=this.currentOp(e);a&&a.onError(i)}updateTimestampOffset(e,t,n,i,a,s){const o=t-e.timestampOffset;Math.abs(o)>=n&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${t} (sn: ${a} cc: ${s})`),e.timestampOffset=t)}removeExecutor(e,t,n){const{media:i,mediaSource:a}=this,s=this.tracks[e],o=s?.buffer;if(!i||!a||!o){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const l=yt(i.duration)?i.duration:1/0,u=yt(a.duration)?a.duration:1/0,c=Math.max(0,t),h=Math.min(n,l,u);h>c&&(!s.ending||s.ended)?(s.ended=!1,this.log(`Removing [${c},${h}] from the ${e} SourceBuffer`),o.remove(c,h)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.tracks[t],i=n?.buffer;if(!i)throw new NDe(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=t.map(s=>this.appendBlocker(s));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(s=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var n;const i=(n=this.tracks[t])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(t)})}append(e,t,n){this.operationQueue&&this.operationQueue.append(e,t,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,n){const i=this.tracks[e];if(!i)return;const a=i.buffer;if(!a)return;const s=n.bind(this,e);i.listeners.push({event:t,listener:s}),a.addEventListener(t,s)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const n=t.buffer;n&&(t.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),t.listeners.length=0)}}function HU(r){const e=r.querySelectorAll("source");[].slice.call(e).forEach(t=>{r.removeChild(t)})}function BDe(r,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,r.appendChild(t)}function r_(r){return r==="audio"?1:0}class zC{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(G.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(G.MANIFEST_PARSED,this.onManifestParsed,this),e.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(G.BUFFER_CODECS,this.onBufferCodecs,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(G.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(G.MANIFEST_PARSED,this.onManifestParsed,this),e.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(G.BUFFER_CODECS,this.onBufferCodecs,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&yt(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=n,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter((i,a)=>this.isLevelAllowed(i)&&a<=e);return this.clientRect=null,zC.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,!t.width&&!t.height&&(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,t,n){if(!(e!=null&&e.length))return-1;const i=(o,l)=>l?o.width!==l.width||o.height!==l.height:!0;let a=e.length-1;const s=Math.max(t,n);for(let o=0;o<e.length;o+=1){const l=e[o];if((l.width>=s||l.height>=s)&&i(l,e[o+1])){a=o;break}}return a}}const UDe={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},$i=UDe,jDe={HLS:"h"},$De=jDe;class no{constructor(e,t){Array.isArray(e)&&(e=e.map(n=>n instanceof no?n:new no(n))),this.value=e,this.params=t}}const HDe="Dict";function GDe(r){return Array.isArray(r)?JSON.stringify(r):r instanceof Map?"Map{}":r instanceof Set?"Set{}":typeof r=="object"?JSON.stringify(r):String(r)}function WDe(r,e,t,n){return new Error(`failed to ${r} "${GDe(e)}" as ${t}`,{cause:n})}function io(r,e,t){return WDe("serialize",r,e,t)}class _K{constructor(e){this.description=e}}const GU="Bare Item",KDe="Boolean";function YDe(r){if(typeof r!="boolean")throw io(r,KDe);return r?"?1":"?0"}function zDe(r){return btoa(String.fromCharCode(...r))}const VDe="Byte Sequence";function qDe(r){if(ArrayBuffer.isView(r)===!1)throw io(r,VDe);return`:${zDe(r)}:`}const XDe="Integer";function QDe(r){return r<-999999999999999||999999999999999<r}function TK(r){if(QDe(r))throw io(r,XDe);return r.toString()}function ZDe(r){return`@${TK(r.getTime()/1e3)}`}function AK(r,e){if(r<0)return-AK(-r,e);const t=Math.pow(10,e);if(Math.abs(r*t%1-.5)<Number.EPSILON){const i=Math.floor(r*t);return(i%2===0?i:i+1)/t}else return Math.round(r*t)/t}const JDe="Decimal";function eOe(r){const e=AK(r,3);if(Math.floor(Math.abs(e)).toString().length>12)throw io(r,JDe);const t=e.toString();return t.includes(".")?t:`${t}.0`}const tOe="String",rOe=/[\x00-\x1f\x7f]+/;function nOe(r){if(rOe.test(r))throw io(r,tOe);return`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function iOe(r){return r.description||r.toString().slice(7,-1)}const aOe="Token";function WU(r){const e=iOe(r);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw io(e,aOe);return e}function U2(r){switch(typeof r){case"number":if(!yt(r))throw io(r,GU);return Number.isInteger(r)?TK(r):eOe(r);case"string":return nOe(r);case"symbol":return WU(r);case"boolean":return YDe(r);case"object":if(r instanceof Date)return ZDe(r);if(r instanceof Uint8Array)return qDe(r);if(r instanceof _K)return WU(r);default:throw io(r,GU)}}const sOe="Key";function j2(r){if(/^[a-z*][a-z0-9\-_.*]*$/.test(r)===!1)throw io(r,sOe);return r}function VC(r){return r==null?"":Object.entries(r).map(([e,t])=>t===!0?`;${j2(e)}`:`;${j2(e)}=${U2(t)}`).join("")}function DK(r){return r instanceof no?`${U2(r.value)}${VC(r.params)}`:U2(r)}function oOe(r){return`(${r.value.map(DK).join(" ")})${VC(r.params)}`}function lOe(r,e={whitespace:!0}){if(typeof r!="object"||r==null)throw io(r,HDe);const t=r instanceof Map?r.entries():Object.entries(r),n=e?.whitespace?" ":"";return Array.from(t).map(([i,a])=>{a instanceof no||(a=new no(a));let s=j2(i);return a.value===!0?s+=VC(a.params):(s+="=",Array.isArray(a.value)?s+=oOe(a):s+=DK(a)),s}).join(`,${n}`)}function OK(r,e){return lOe(r,e)}const Rs="CMCD-Object",Zr="CMCD-Request",qu="CMCD-Session",Ql="CMCD-Status",uOe={br:Rs,ab:Rs,d:Rs,ot:Rs,tb:Rs,tpb:Rs,lb:Rs,tab:Rs,lab:Rs,url:Rs,pb:Zr,bl:Zr,tbl:Zr,dl:Zr,ltc:Zr,mtp:Zr,nor:Zr,nrr:Zr,rc:Zr,sn:Zr,sta:Zr,su:Zr,ttfb:Zr,ttfbb:Zr,ttlb:Zr,cmsdd:Zr,cmsds:Zr,smrt:Zr,df:Zr,cs:Zr,ts:Zr,cid:qu,pr:qu,sf:qu,sid:qu,st:qu,v:qu,msd:qu,bs:Ql,bsd:Ql,cdn:Ql,rtp:Ql,bg:Ql,pt:Ql,ec:Ql,e:Ql},cOe={REQUEST:Zr};function fOe(r){return Object.keys(r).reduce((e,t)=>{var n;return(n=r[t])===null||n===void 0||n.forEach(i=>e[i]=t),e},{})}function hOe(r,e){const t={};if(!r)return t;const n=Object.keys(r),i=e?fOe(e):{};return n.reduce((a,s)=>{var o;const l=uOe[s]||i[s]||cOe.REQUEST,u=(o=a[l])!==null&&o!==void 0?o:a[l]={};return u[s]=r[s],a},t)}function dOe(r){return["ot","sf","st","e","sta"].includes(r)}function pOe(r){return typeof r=="number"?yt(r):r!=null&&r!==""&&r!==!1}const CK="event";function mOe(r,e){const t=new URL(r),n=new URL(e);if(t.origin!==n.origin)return r;const i=t.pathname.split("/").slice(1),a=n.pathname.split("/").slice(1,-1);for(;i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")+t.search+t.hash}const Mv=r=>Math.round(r),$2=(r,e)=>Array.isArray(r)?r.map(t=>$2(t,e)):r instanceof no&&typeof r.value=="string"?new no($2(r.value,e),r.params):(e.baseUrl&&(r=mOe(r,e.baseUrl)),e.version===1?encodeURIComponent(r):r),Bg=r=>Mv(r/100)*100,gOe=(r,e)=>{let t=r;return e.version>=2&&(r instanceof no&&typeof r.value=="string"?t=new no([r]):typeof r=="string"&&(t=[r])),$2(t,e)},vOe={br:Mv,d:Mv,bl:Bg,dl:Bg,mtp:Bg,nor:gOe,rtp:Bg,tb:Mv},IK="request",RK="response",qC=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],yOe=["e"],xOe=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function I1(r){return xOe.test(r)}function bOe(r){return qC.includes(r)||yOe.includes(r)||I1(r)}const kK=["d","dl","nor","ot","rtp","su"];function SOe(r){return qC.includes(r)||kK.includes(r)||I1(r)}const EOe=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function wOe(r){return qC.includes(r)||kK.includes(r)||EOe.includes(r)||I1(r)}const _Oe=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function TOe(r){return _Oe.includes(r)||I1(r)}const AOe={[RK]:wOe,[CK]:bOe,[IK]:SOe};function PK(r,e={}){const t={};if(r==null||typeof r!="object")return t;const n=e.version||r.v||1,i=e.reportingMode||IK,a=n===1?TOe:AOe[i];let s=Object.keys(r).filter(a);const o=e.filter;typeof o=="function"&&(s=s.filter(o));const l=i===RK||i===CK;l&&!s.includes("ts")&&s.push("ts"),n>1&&!s.includes("v")&&s.push("v");const u=Er({},vOe,e.formatters),c={version:n,reportingMode:i,baseUrl:e.baseUrl};return s.sort().forEach(h=>{let p=r[h];const m=u[h];if(typeof m=="function"&&(p=m(p,c)),h==="v"){if(n===1)return;p=n}h=="pr"&&p===1||(l&&h==="ts"&&!yt(p)&&(p=Date.now()),pOe(p)&&(dOe(h)&&typeof p=="string"&&(p=new _K(p)),t[h]=p))}),t}function DOe(r,e={}){const t={};if(!r)return t;const n=PK(r,e),i=hOe(n,e?.customHeaderMap);return Object.entries(i).reduce((a,[s,o])=>{const l=OK(o,{whitespace:!1});return l&&(a[s]=l),a},t)}function OOe(r,e,t){return Er(r,DOe(e,t))}const COe="CMCD";function IOe(r,e={}){return r?OK(PK(r,e),{whitespace:!1}):""}function ROe(r,e={}){if(!r)return"";const t=IOe(r,e);return encodeURIComponent(t)}function kOe(r,e={}){if(!r)return"";const t=ROe(r,e);return`${COe}=${t}`}const KU=/CMCD=[^&#]+/;function POe(r,e,t){const n=kOe(e,t);if(!n)return r;if(KU.test(r))return r.replace(KU,n);const i=r.includes("?")?"&":"?";return`${r}${i}${n}`}class LOe{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:$i.MANIFEST,su:!this.initialized})}catch(a){this.hls.logger.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=i=>{try{const{frag:a,part:s}=i,o=this.hls.levels[a.level],l=this.getObjectType(a),u={d:(s||a).duration*1e3,ot:l};(l===$i.VIDEO||l===$i.AUDIO||l==$i.MUXED)&&(u.br=o.bitrate/1e3,u.tb=this.getTopBandwidth(l)/1e3,u.bl=this.getBufferLength(l));const c=s?this.getNextPart(s):this.getNextFrag(a);c!=null&&c.url&&c.url!==a.url&&(u.nor=c.url),this.apply(i,u)}catch(a){this.hls.logger.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;n!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHED,this.onMediaDetached,this),e.on(G.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHED,this.onMediaDetached,this),e.off(G.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,i;this.audioBuffer=(n=t.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=t.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:$De.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Er(t,this.createData());const n=t.ot===$i.INIT||t.ot===$i.VIDEO||t.ot===$i.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:i}=this;i&&(t=Object.keys(t).reduce((s,o)=>(i.includes(o)&&(s[o]=t[o]),s),{}));const a={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),OOe(e.headers,t,a)):e.url=POe(e.url,t,a)}getNextFrag(e){var t;const n=(t=this.hls.levels[e.level])==null?void 0:t.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var t;const{index:n,fragment:i}=e,a=(t=this.hls.levels[i.level])==null||(t=t.details)==null?void 0:t.partList;if(a){const{sn:s}=i;for(let o=a.length-1;o>=0;o--){const l=a[o];if(l.index===n&&l.fragment.sn===s)return a[o+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return $i.TIMED_TEXT;if(e.sn==="initSegment")return $i.INIT;if(t==="audio")return $i.AUDIO;if(t==="main")return this.hls.audioTracks.length?$i.VIDEO:$i.MUXED}getTopBandwidth(e){let t=0,n;const i=this.hls;if(e===$i.AUDIO)n=i.audioTracks;else{const a=i.maxAutoLevel,s=a>-1?a+1:i.levels.length;n=i.levels.slice(0,s)}return n.forEach(a=>{a.bitrate>t&&(t=a.bitrate)}),t>0?t:NaN}getBufferLength(e){const t=this.media,n=e===$i.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!t?NaN:Ft.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){t(a),this.loader.load(a,s,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){t(a),this.loader.load(a,s,o)}}}}const MOe=3e5;class NOe extends es{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(G.MANIFEST_PARSED,this.onManifestParsed,this),e.on(G.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(G.MANIFEST_PARSED,this.onManifestParsed,this),e.off(G.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if(n?.action===Jn.SendAlternateToPenaltyBox&&n.flags===ua.MoveAllAlternatesMatchingHost){const i=this.levels;let a=this._pathwayPriority,s=this.pathwayId;if(t.context){const{groupId:o,pathwayId:l,type:u}=t.context;o&&i?s=this.getPathwayForGroupId(o,u,s):l&&(s=l)}s in this.penalizedPathways||(this.penalizedPathways[s]=performance.now()),!a&&i&&(a=this.pathways()),a&&a.length>1&&(this.updatePathwayPriority(a),n.resolved=this.pathwayId!==s),t.details===Me.BUFFER_APPEND_ERROR&&!t.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${s} levels: ${i&&i.length} priorities: ${Dr(a)} penalized: ${Dr(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(a=>{i-n[a]>MOe&&delete n[a]});for(let a=0;a<e.length;a++){const s=e[a];if(s in n)continue;if(s===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(t=this.getLevelsForPathway(s),t.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,JW(t),this.hls.trigger(G.LEVELS_UPDATED,{levels:t});const u=this.hls.levels[o];l&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,t,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let a=0;a<i.length;a++)if(t===Wt.AUDIO_TRACK&&i[a].hasAudioGroup(e)||t===Wt.SUBTITLE_TRACK&&i[a].hasSubtitleGroup(e))return i[a].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},i={};e.forEach(a=>{const{ID:s,"BASE-ID":o,"URI-REPLACEMENT":l}=a;if(t.some(c=>c.pathwayId===s))return;const u=this.getLevelsForPathway(o).map(c=>{const h=new Kr(c.attrs);h["PATHWAY-ID"]=s;const p=h.AUDIO&&`${h.AUDIO}_clone_${s}`,m=h.SUBTITLES&&`${h.SUBTITLES}_clone_${s}`;p&&(n[h.AUDIO]=p,h.AUDIO=p),m&&(i[h.SUBTITLES]=m,h.SUBTITLES=m);const g=LK(c.uri,h["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),y=new X0({attrs:h,audioCodec:c.audioCodec,bitrate:c.bitrate,height:c.height,name:c.name,url:g,videoCodec:c.videoCodec,width:c.width});if(c.audioGroups)for(let x=1;x<c.audioGroups.length;x++)y.addGroupId("audio",`${c.audioGroups[x]}_clone_${s}`);if(c.subtitleGroups)for(let x=1;x<c.subtitleGroups.length;x++)y.addGroupId("text",`${c.subtitleGroups[x]}_clone_${s}`);return y});t.push(...u),YU(this.audioTracks,n,l,s),YU(this.subtitleTracks,i,l,s)})}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;this.loader&&this.loader.destroy(),this.loader=new n(t);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const c=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+c)}const a={responseType:"json",url:i.href},s=t.steeringManifestLoadPolicy.default,o=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},u={onSuccess:(c,h,p,m)=>{this.log(`Loaded steering manifest: "${i}"`);const g=c.data;if(g?.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":x,"PATHWAY-PRIORITY":E}=g;if(y)try{this.uri=new self.URL(y,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||p.url),x&&this.clonePathways(x);const S={steeringManifest:g,url:i.toString()};this.hls.trigger(G.STEERING_MANIFEST_LOADED,S),E&&this.updatePathwayPriority(E)},onError:(c,h,p,m)=>{if(this.log(`Error loading steering manifest: ${c.code} ${c.text} (${h.url})`),this.stopLoad(),c.code===410){this.enabled=!1,this.log(`Steering manifest ${h.url} no longer available`);return}let g=this.timeToLoad*1e3;if(c.code===429){const y=this.loader;if(typeof y?.getResponseHeader=="function"){const x=y.getResponseHeader("Retry-After");x&&(g=parseFloat(x)*1e3)}this.log(`Steering manifest ${h.url} rate limited`);return}this.scheduleRefresh(this.uri||h.url,g)},onTimeout:(c,h,p)=>{this.log(`Timeout loading steering manifest (${h.url})`),this.scheduleRefresh(this.uri||h.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(a,l,u)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function YU(r,e,t,n){r&&Object.keys(e).forEach(i=>{const a=r.filter(s=>s.groupId===i).map(s=>{const o=Er({},s);return o.details=void 0,o.attrs=new Kr(o.attrs),o.url=o.attrs.URI=LK(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o});r.push(...a)})}function LK(r,e,t,n){const{HOST:i,PARAMS:a,[t]:s}=n;let o;e&&(o=s?.[e],o&&(r=o));const l=new self.URL(r);return i&&!o&&(l.host=i),a&&Object.keys(a).sort().forEach(u=>{u&&l.searchParams.set(u,a[u])}),l.href}class sh extends es{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=sh.CDMCleanupPromise?[sh.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=t=>{const{initDataType:n,initData:i}=t,a=`"${t.type}" event: init data type: "${n}"`;if(this.debug(a),i!==null){if(!this.keyFormatPromise){let s=Object.keys(this.keySystemAccessPromises);s.length||(s=s0(this.config));const o=s.map(Vw).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(o)}this.keyFormatPromise.then(s=>{const o=kv(s);if(n!=="sinf"||o!==Yr.FAIRPLAY){this.log(`Ignoring "${t.type}" event with init data type: "${n}" for selected key-system ${o}`);return}let l;try{const m=_n(new Uint8Array(i)),g=FC(JSON.parse(m).sinf),y=OW(g);if(!y)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=new Uint8Array(y.subarray(8,24))}catch(m){this.warn(`${a} Failed to parse sinf: ${m}`);return}const u=ti(l),{keyIdToKeySessionPromise:c,mediaKeySessions:h}=this;let p=c[u];for(let m=0;m<h.length;m++){const g=h[m],y=g.decryptdata;if(!y.keyId)continue;const x=ti(y.keyId);if(hx(l,y.keyId)||y.uri.replace(/-/g,"").indexOf(u)!==-1){if(p=c[x],!p)continue;if(y.pssh)break;delete c[x],y.pssh=new Uint8Array(i),y.keyId=l,p=c[u]=p.then(()=>this.generateRequestWithPreferredKeySession(g,n,i,"encrypted-event-key-match")),p.catch(E=>this.handleError(E));break}}p||this.handleError(new Error(`Key ID ${u} not encountered in playlist. Key-system sessions ${h.length}.`))}).catch(s=>this.handleError(s))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(G.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(G.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(G.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(G.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(G.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(G.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,i=t?.[e];if(i)return i.licenseUrl;if(e===Yr.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t?.[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,n=(s,o,l)=>!!s&&l.indexOf(s)===o,i=t.map(s=>s.audioCodec).filter(n),a=t.map(s=>s.videoCodec).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((s,o)=>{const l=u=>{const c=u.shift();this.getMediaKeysPromise(c,i,a).then(h=>s({keySystem:c,mediaKeys:h})).catch(h=>{u.length?l(u):h instanceof oa?o(h):o(new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_NO_ACCESS,error:h,fatal:!0},h.message))})};l(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return KW===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,t)}getMediaKeysPromise(e,t,n){var i;const a=g2e(e,t,n,this.config.drmSystemOptions||{});let s=this.keySystemAccessPromises[e],o=(i=s)==null?void 0:i.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Dr(a)}`),o=this.requestMediaKeySystemAccess(e,a);const l=s=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(u=>{this.log(`Failed to obtain access to key-system "${e}": ${u}`)}),o.then(u=>{this.log(`Access for key-system "${u.keySystem}" obtained`);const c=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const h=l.mediaKeys=u.createMediaKeys().then(p=>(this.log(`Media-keys created for "${e}"`),l.hasMediaKeys=!0,c.then(m=>m?this.setMediaKeysServerCertificate(p,e,m):p)));return h.catch(p=>{this.error(`Failed to create media-keys for "${e}"}: ${p}`)}),h})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:n}){this.log(`Creating key-system session "${t}" keyId: ${ti(e.keyId||[])} keyUri: ${e.uri}`);const i=n.createSession(),a={decryptdata:e,keySystem:t,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),i=Ug(t),a="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,a,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,t){const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${ti(e.decryptdata.keyId||[])}
      } (data length: ${t.byteLength})`),n.update(t)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Vw(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:t,mediaKeys:n})=>this.attemptSetMediaKeys(t,n))}selectKeySystem(e){return new Promise((t,n)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const a=Vw(i);a?t(a):n(new Error(`Unable to find format for key-system "${i}"`))}).catch(n)})}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){const t=s0(this.config),n=e.map(kv).filter(i=>!!i&&t.indexOf(i)!==-1);return this.selectKeySystem(n)}getKeyStatus(e){const{mediaKeySessions:t}=this;for(let n=0;n<t.length;n++){const i=FOe(e,t[n]);if(i)return i}}loadKey(e){const t=e.keyInfo.decryptdata,n=Ug(t),i=this.bannedKeyIds[n];if(i||this.getKeyStatus(t)==="internal-error"){const o=zU(i||"internal-error",t);return this.handleError(o,e.frag),Promise.reject(o)}const a=`(keyId: ${n} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${a}`);const s=this.keyIdToKeySessionPromise[n];if(!s){const o=this.getKeySystemForKeyPromise(t).then(({keySystem:l,mediaKeys:u})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${a}`),this.attemptSetMediaKeys(l,u).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:l,mediaKeys:u,decryptdata:t}))))).then(l=>{const u="cenc",c=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(l,u,c,"playlist-key")});return o.catch(l=>this.handleError(l,e.frag)),this.keyIdToKeySessionPromise[n]=o,o}return s.catch(o=>{if(o instanceof oa){const l=hr({},o.data);this.getKeyStatus(t)==="internal-error"&&(l.decryptdata=t);const u=new oa(l,o.message);this.handleError(u,e.frag)}}),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,t){if(this.hls)if(e instanceof oa){t&&(e.data.frag=t);const n=e.data.decryptdata;this.error(`${e.message}${n?` (${ti(n.keyId||[])})`:""}`),this.hls.trigger(G.ERROR,e.data)}else this.error(e.message),this.hls.trigger(G.ERROR,{type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const t=Ug(e),n=this.keyIdToKeySessionPromise[t];if(!n){const i=kv(e.keyFormat),a=i?[i]:s0(this.config);return this.attemptKeySystemAccess(a)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=s0(this.config)),e.length===0)throw new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Dr({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){if(this.mediaResolved=void 0,this.mediaKeys===t)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>this.media?this.media.setMediaKeys(t):new Promise((a,s)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return s(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=t,this.media.setMediaKeys(t).then(a).catch(s)}}));return this.mediaKeys=t,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>n.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,t,n,i){var a;const s=(a=this.config.drmSystems)==null||(a=a[e.keySystem])==null?void 0:a.generateRequest;if(s)try{const g=s.call(this.hls,t,n,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");t=g.initDataType,n=g.initData?g.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(g){if(this.warn(g.message),this.hls&&this.hls.config.debug)throw g}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const o=Ug(e.decryptdata),l=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${o} URI: ${l} (init data type: ${t} length: ${n.byteLength})`);const u=new UC,c=e._onmessage=g=>{const y=e.mediaKeysSession;if(!y){u.emit("error",new Error("invalid state"));return}const{messageType:x,message:E}=g;this.log(`"${x}" message event for session "${y.sessionId}" message size: ${E.byteLength}`),x==="license-request"||x==="license-renewal"?this.renewLicense(e,E).catch(S=>{u.eventNames().length?u.emit("error",S):this.handleError(S)}):x==="license-release"?e.keySystem===Yr.FAIRPLAY&&this.updateKeySession(e,P2("acknowledged")).then(()=>this.removeSession(e)).catch(S=>this.handleError(S)):this.warn(`unhandled media key message type "${x}"`)},h=(g,y)=>{y.keyStatus=g;let x;g.startsWith("usable")?u.emit("resolved"):g==="internal-error"||g==="output-restricted"||g==="output-downscaled"?x=zU(g,y.decryptdata):g==="expired"?x=new Error(`key expired (keyId: ${o})`):g==="released"?x=new Error("key released"):g==="status-pending"||this.warn(`unhandled key status change "${g}" (keyId: ${o})`),x&&(u.eventNames().length?u.emit("error",x):this.handleError(x))},p=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}const x=this.getKeyStatuses(e);if(!Object.keys(x).some(T=>x[T]!=="status-pending"))return;if(x[o]==="expired"){this.log(`Expired key ${Dr(x)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let S=x[o];if(S)h(S,e);else{var w;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(w=e.keyStatusTimeouts)[o]||(w[o]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const _=this.getKeyStatus(e.decryptdata);if(_&&_!=="status-pending")return this.log(`No status for keyId ${o} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${_} from other session.`),h(_,e);this.log(`key status for ${o} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),S="internal-error",h(S,e)},1e3)),this.log(`No status for keyId ${o} (${Dr(x)}).`)}};Oi(e.mediaKeysSession,"message",c),Oi(e.mediaKeysSession,"keystatuseschange",p);const m=new Promise((g,y)=>{u.on("error",y),u.on("resolved",g)});return e.mediaKeysSession.generateRequest(t,n).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${o} URI: ${l}`)}).catch(g=>{throw new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_NO_SESSION,error:g,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>m).catch(g=>(u.removeAllListeners(),this.removeSession(e).then(()=>{throw g}))).then(()=>(u.removeAllListeners(),e))}getKeyStatuses(e){const t={};return e.mediaKeysSession.keyStatuses.forEach((n,i)=>{if(typeof i=="string"&&typeof n=="object"){const o=i;i=n,n=o}const a="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(e.keySystem===Yr.PLAYREADY&&a.length===16){const o=ti(a);t[o]=n,GW(a)}const s=ti(a);n==="internal-error"&&(this.bannedKeyIds[s]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${s} key-session "${e.mediaKeysSession.sessionId}"`),t[s]=n}),t}fetchServerCertificate(e){const t=this.config,n=t.loader,i=new n(t),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching server certificate for "${e}"`),new Promise((s,o)=>{const l={responseType:"arraybuffer",url:a},u=t.certLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(p,m,g,y)=>{s(p.data)},onError:(p,m,g,y)=>{o(new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:hr({url:l.url,data:void 0},p)},`"${e}" certificate request failed (${a}). Status: ${p.code} (${p.text})`))},onTimeout:(p,m,g)=>{o(new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(p,m,g)=>{o(new Error("aborted"))}};i.load(l,c,h)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise((i,a)=>{e.setServerCertificate(n).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${n.byteLength}) on "${t}"`),i(e)}).catch(s=>{a(new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const i=new DOMParser().parseFromString(n,"application/xml"),a=i.querySelectorAll("HttpHeader");if(a.length>0){let c;for(let h=0,p=a.length;h<p;h++){var s,o;c=a[h];const m=(s=c.querySelector("name"))==null?void 0:s.textContent,g=(o=c.querySelector("value"))==null?void 0:o.textContent;m&&g&&e.setRequestHeader(m,g)}}const l=i.querySelector("Challenge"),u=l?.textContent;if(!u)throw new Error("Cannot find <Challenge> in key message");return P2(atob(u))}setupLicenseXHR(e,t,n,i){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,t,n,i)}).catch(s=>{if(!n.decryptdata)throw s;return e.open("POST",t,!0),a.call(this.hls,e,t,n,i)}).then(s=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:s||i})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise((i,a)=>{const s=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${s}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const u=this.config.licenseResponseCallback;if(u)try{l=u.call(this.hls,o,s,e)}catch(c){this.error(c)}i(l)}else{const l=n.errorRetry,u=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||o.status>=400&&o.status<500)a(new oa({type:Dt.KEY_SYSTEM_ERROR,details:Me.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${s}). Status: ${o.status} (${o.statusText})`));else{const c=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${c} attempts left`),this.requestLicense(e,t).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,s,e,t).then(({xhr:l,licenseChallenge:u})=>{e.keySystem==Yr.PLAYREADY&&(u=this.unpackPlayReadyKeyMessage(l,u)),l.send(u)}).catch(a)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,Oi(n,"encrypted",this.onMediaEncrypted),Oi(n,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=n.mediaKeys}onMediaDetached(){const e=this.media;e&&(Yi(e,"encrypted",this.onMediaEncrypted),Yi(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const t=this.mediaResolved;if(t&&t(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,du.clearKeyUriToKeyIdMap();const a=i.length;sh.CDMCleanupPromise=Promise.all(i.map(s=>this.removeSession(s)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(s=>{this.log(`Could not clear media keys: ${s}`),this.hls&&this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${s}`)})}))||Promise.resolve())).catch(s=>{this.log(`Could not close sessions and clear media keys: ${s}`),this.hls&&this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${s}`)})}).then(()=>{a&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=t.reduce((i,a)=>(i.indexOf(a.keyFormat)===-1&&i.push(a.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n,decryptdata:i}=e;if(t){this.log(`Remove licenses and keys and close session "${t.sessionId}" keyId: ${ti(i?.keyId||[])}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const a=this.mediaKeySessions.indexOf(e);a>-1&&this.mediaKeySessions.splice(a,1);const{keyStatusTimeouts:s}=e;s&&Object.keys(s).forEach(u=>self.clearTimeout(s[u]));const{drmSystemOptions:o}=this.config;return(y2e(o)?new Promise((u,c)=>{self.setTimeout(()=>c(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(u).catch(c)}):Promise.resolve()).catch(u=>{this.log(`Could not remove session: ${u}`),this.hls&&this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${u}`)})}).then(()=>t.close()).catch(u=>{this.log(`Could not close session: ${u}`),this.hls&&this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${u}`)})})}return Promise.resolve()}}sh.CDMCleanupPromise=void 0;function Ug(r){if(!r)throw new Error("Could not read keyId of undefined decryptdata");if(r.keyId===null)throw new Error("keyId is null");return ti(r.keyId)}function FOe(r,e){if(r.keyId&&e.mediaKeysSession.keyStatuses.has(r.keyId))return e.mediaKeysSession.keyStatuses.get(r.keyId);if(r.matches(e.decryptdata))return e.keyStatus}class oa extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}function zU(r,e){const t=r==="output-restricted",n=t?Me.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:Me.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new oa({type:Dt.KEY_SYSTEM_ERROR,details:n,fatal:!1,decryptdata:e},t?"HDCP level output restricted":`key status changed to "${r}"`)}class BOe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(G.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(G.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,n){const i=performance.now();if(t){if(this.lastTime){const a=i-this.lastTime,s=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,l=1e3*s/a,u=this.hls;if(u.trigger(G.FPS_DROP,{currentDropped:s,currentDecoded:o,totalDroppedFrames:n}),l>0&&s>u.config.fpsDroppedMonitoringThreshold*o){let c=u.currentLevel;u.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=c)&&(c=c-1,u.trigger(G.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:u.currentLevel}),u.autoLevelCapping=c,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function MK(r,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=r,e.dispatchEvent(t)}function NK(r,e){const t=r.mode;if(t==="disabled"&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(e.id))try{if(r.addCue(e),!r.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){pr.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,r.addCue(i)}catch(i){pr.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}t==="disabled"&&(r.mode=t)}function Vf(r,e){const t=r.mode;if(t==="disabled"&&(r.mode="hidden"),r.cues)for(let n=r.cues.length;n--;)e&&r.cues[n].removeEventListener("enter",e),r.removeCue(r.cues[n]);t==="disabled"&&(r.mode=t)}function H2(r,e,t,n){const i=r.mode;if(i==="disabled"&&(r.mode="hidden"),r.cues&&r.cues.length>0){const a=jOe(r.cues,e,t);for(let s=0;s<a.length;s++)(!n||n(a[s]))&&r.removeCue(a[s])}i==="disabled"&&(r.mode=i)}function UOe(r,e){if(e<=r[0].startTime)return 0;const t=r.length-1;if(e>r[t].endTime)return-1;let n=0,i=t,a;for(;n<=i;)if(a=Math.floor((i+n)/2),e<r[a].startTime)i=a-1;else if(e>r[a].startTime&&n<t)n=a+1;else return a;return r[n].startTime-e<e-r[i].startTime?n:i}function jOe(r,e,t){const n=[],i=UOe(r,e);if(i>-1)for(let a=i,s=r.length;a<s;a++){const o=r[a];if(o.startTime>=e&&o.endTime<=t)n.push(o);else if(o.startTime>t)return n}return n}function Nv(r){const e=[];for(let t=0;t<r.length;t++){const n=r[t];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(r[t])}return e}class $Oe extends YC{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const n=Nv(this.media.textTracks);for(let a=0;a<n.length;a++)if(n[a].mode==="hidden")t=n[a];else if(n[a].mode==="showing"){t=n[a];break}const i=this.findTrackForTextTrack(t);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_PARSED,this.onManifestParsed,this),e.on(G.LEVEL_LOADING,this.onLevelLoading,this),e.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_PARSED,this.onManifestParsed,this),e.off(G.LEVEL_LOADING,this.onLevelLoading,this),e.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(G.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const n=this.media;if(!n)return;const i=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;Nv(n.textTracks).forEach(s=>{Vf(s)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:i,details:a}=t,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${s?.groupId}`);return}const o=s.details;s.details=t.details,this.log(`Subtitle track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,o)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(s=>i?.indexOf(s)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const s=this.tracks.filter(c=>!n||n.indexOf(c.groupId)!==-1);if(s.length)this.selectDefaultTrack&&!s.some(c=>c.default)&&(this.selectDefaultTrack=!1),s.forEach((c,h)=>{c.id=h});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=s;const o=this.hls.config.subtitlePreference;if(!a&&o){this.selectDefaultTrack=!1;const c=Ys(o,s);if(c>-1)a=s[c];else{const h=Ys(o,this.tracks);a=this.tracks[h]}}let l=this.findTrackId(a);l===-1&&a&&(l=this.findTrackId(null));const u={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${n?.join(",")}" group-id`),this.hls.trigger(G.SUBTITLE_TRACKS_UPDATED,u),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<t.length;i++){const a=t[i];if(!(n&&!a.default||!n&&!e)&&(!e||Sc(a,e)))return i}if(e){for(let i=0;i<t.length;i++){const a=t[i];if(ep(e.attrs,a.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<t.length;i++){const a=t[i];if(ep(e.attrs,a.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const i=t[n];if(B2(i,e))return n}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===Wt.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&Sc(e,n))return n;const i=Ys(e,this.tracksInGroup);if(i>-1){const a=this.tracksInGroup[i];return this.setSubtitleTrack(i),a}else{if(n)return null;{const a=Ys(e,t);if(a>-1)return t[a]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,i=e.groupId,a=this.getUrlWithDirectives(e.url,t),s=e.details,o=s?.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${o&&s.live?" age "+o.toFixed(1)+(s.type&&" "+s.type||""):""} ${a}`),this.hls.trigger(G.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Nv(e.textTracks),n=this.currentTrack;let i;if(n&&(i=t.filter(a=>B2(n,a))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(t).forEach(a=>{a.mode!=="disabled"&&a!==i&&(a.mode="disabled")}),i){const a=this.subtitleDisplay?"showing":"hidden";i.mode!==a&&(i.mode=a)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!yt(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=t[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(G.SUBTITLE_TRACK_SWITCH,{id:e});return}const a=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&a)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:s,groupId:o="",name:l,type:u,url:c}=i;this.hls.trigger(G.SUBTITLE_TRACK_SWITCH,{id:s,groupId:o,name:l,type:u,url:c});const h=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(h)}}function HOe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const a=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i=="x"?a:a&3|8).toString(16)})}}}function y0(r){let e=5381,t=r.length;for(;t;)e=e*33^r.charCodeAt(--t);return(e>>>0).toString()}const oh=.025;let gx=(function(r){return r[r.Point=0]="Point",r[r.Range=1]="Range",r})({});function GOe(r,e,t){return`${r.identifier}-${t+1}-${y0(e)}`}class WOe{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var t;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((t=this.assetList[e])==null?void 0:t.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return n_(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,n=n_(t,e);return t-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=yt(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return n_(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<oh))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?gx.Range:gx.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return KOe(this)}}function n_(r,e){return r-e.start<e.duration/2&&!(Math.abs(r-(e.start+e.duration))<oh)?e.start:e.start+e.duration}function FK(r,e,t){const n=new self.URL(r,t);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function i_(r,e){for(;(t=r.assetList[++e])!=null&&t.error;)var t;return e}function KOe(r){return`["${r.identifier}" ${r.cue.pre?"<pre>":r.cue.post?"<post>":""}${r.timelineStart.toFixed(2)}-${r.resumeTime.toFixed(2)}]`}function Wf(r){const e=r.timelineStart,t=r.duration||0;return`["${r.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class YOe{constructor(e,t,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(G.PLAYOUT_LIMIT_REACHED,{})};const a=this.hls=new e(t);this.interstitial=n,this.assetItem=i;const s=()=>{this.hasDetails=!0};a.once(G.LEVEL_LOADED,s),a.once(G.AUDIO_TRACK_LOADED,s),a.once(G.SUBTITLE_TRACK_LOADED,s),a.on(G.MEDIA_ATTACHING,(o,{media:l})=>{this.removeMediaListeners(),this.mediaAttached=l,this.interstitial.playoutLimit&&(l.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&a.on(G.BUFFER_APPENDED,()=>{const c=this.bufferedEnd;this.reachedPlayout(c)&&(this._bufferedEosTime=c,a.trigger(G.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let t=this.assetItem.uri;try{t=FK(t,e.config.primarySessionId||"").href}catch{}e.loadSource(t)}}bufferedInPlaceToEnd(e){var t;if(!this.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,a=Ft.bufferInfo(e,i,0);return this.getAssetTime(a.end)>=n-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=Ft.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const t=this.interstitial.playoutLimit;if(t){const n=t-this.startOffset;if(n>0&&n<e)return n}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const n=e-t;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-t),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var t;this.loadSource(),(t=this.hls)==null||t.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const t=n=>delete n.details;e.levels.forEach(t),e.allAudioTracks.forEach(t),e.allSubtitleTracks.forEach(t),this.hasDetails=!1}}on(e,t,n){var i;(i=this.hls)==null||i.on(e,t)}once(e,t,n){var i;(i=this.hls)==null||i.once(e,t)}off(e,t,n){var i;(i=this.hls)==null||i.off(e,t)}toString(){var e;return`HlsAssetPlayer: ${Wf(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const VU=.033;class zOe extends es{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&t>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(t===void 0&&(t=e.start),n=this.findItemIndexAtTime(t));n>=0&&(a=i[n])!=null&&a.event;){var a;n--}return n}findItemIndexAtTime(e,t){const n=this.items;if(n)for(let i=0;i<n.length;i++){let a=n[i];if(t&&t!=="primary"&&(a=a[t]),e===a.start||e>a.start&&e<a.end)return i}return-1}findJumpRestrictedIndex(e,t){const n=this.items;if(n)for(let i=e;i<=t&&n[i];i++){const a=n[i].event;if(a!=null&&a.restrictions.jump&&!a.appendInPlace)return i}return-1}findEventIndex(e){const t=this.items;if(t)for(let i=t.length;i--;){var n;if(((n=t[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,t){const n=e.assetList,i=n.length;if(i>1)for(let a=0;a<i;a++){const s=n[a];if(!s.error){const o=s.timelineStart;if(t===o||t>o&&(t<o+(s.duration||0)||a===i-1))return a}}return 0}get assetIdAtEnd(){var e;const t=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(t){const n=t.assetList,i=n[n.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,t){const n=e.main.details,{dateRanges:i}=n,a=this.events,s=this.parseDateRanges(i,{url:n.url},t),o=Object.keys(i),l=a?a.filter(u=>!o.includes(u.identifier)):[];s.length&&s.sort((u,c)=>{const h=u.cue.pre,p=u.cue.post,m=c.cue.pre,g=c.cue.post;if(h&&!m)return-1;if(m&&!h||p&&!g)return 1;if(g&&!p)return-1;if(!h&&!m&&!p&&!g){const y=u.startTime,x=c.startTime;if(y!==x)return y-x}return u.dateRange.tagOrder-c.dateRange.tagOrder}),this.events=s,l.forEach(u=>{this.removeEvent(u)}),this.updateSchedule(e,l)}updateSchedule(e,t=[],n=!1){const i=this.events||[];if(i.length||t.length||this.length<2){const a=this.items,s=this.parseSchedule(i,e);(n||t.length||a?.length!==s.length||s.some((l,u)=>Math.abs(l.playout.start-a[u].playout.start)>.005||Math.abs(l.playout.end-a[u].playout.end)>.005))&&(this.items=s,this.onScheduleUpdate(t,a))}}parseDateRanges(e,t,n){const i=[],a=Object.keys(e);for(let s=0;s<a.length;s++){const o=a[s],l=e[o];if(l.isInterstitial){let u=this.eventMap[o];u?u.setDateRange(l):(u=new WOe(l,t),this.eventMap[o]=u,n===!1&&(u.appendInPlace=n)),i.push(u)}}return i}parseSchedule(e,t){const n=[],i=t.main.details,a=i.live?1/0:i.edge;let s=0;if(e=e.filter(l=>!l.error&&!(l.cue.once&&l.hasPlayed)),e.length){this.resolveOffsets(e,t);let l=0,u=0;if(e.forEach((c,h)=>{const p=c.cue.pre,m=c.cue.post,g=e[h-1]||null,y=c.appendInPlace,x=m?a:c.startOffset,E=c.duration,S=c.timelineOccupancy===gx.Range?E:0,w=c.resumptionOffset,T=g?.startTime===x,_=x+c.cumulativeDuration;let O=y?_+E:x+w;if(p||!m&&x<=0){const I=u;u+=S,c.timelineStart=_;const k=s;s+=E,n.push({event:c,start:_,end:O,playout:{start:k,end:s},integrated:{start:I,end:u}})}else if(x<=a){if(!T){const N=x-l;if(N>VU){const B=l,R=u;u+=N;const H=s;s+=N;const X={previousEvent:e[h-1]||null,nextEvent:c,start:B,end:B+N,playout:{start:H,end:s},integrated:{start:R,end:u}};n.push(X)}else N>0&&g&&(g.cumulativeDuration+=N,n[n.length-1].end=x)}m&&(O=_),c.timelineStart=_;const I=u;u+=S;const k=s;s+=E,n.push({event:c,start:_,end:O,playout:{start:k,end:s},integrated:{start:I,end:u}})}else return;const A=c.resumeTime;m||A>a?l=a:l=A}),l<a){var o;const c=l,h=u,p=a-l;u+=p;const m=s;s+=p,n.push({previousEvent:((o=n[n.length-1])==null?void 0:o.event)||null,nextEvent:null,start:l,end:c+p,playout:{start:m,end:s},integrated:{start:h,end:u}})}this.setDurations(a,s,u)}else n.push({previousEvent:null,nextEvent:null,start:0,end:a,playout:{start:0,end:a},integrated:{start:0,end:a}}),this.setDurations(a,a,a);return n}setDurations(e,t,n){this.durations={primary:e,playout:t,integrated:n}}resolveOffsets(e,t){const n=t.main.details,i=n.live?1/0:n.edge;let a=0,s=-1;e.forEach((o,l)=>{const u=o.cue.pre,c=o.cue.post,h=u?0:c?i:o.startTime;this.updateAssetDurations(o),s===h?o.cumulativeDuration=a:(a=0,s=h),!c&&o.snapOptions.in&&(o.resumeAnchor=kc(null,n.fragments,o.startOffset+o.resumptionOffset,0,0)||void 0),o.appendInPlace&&!o.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(o,t)||(o.appendInPlace=!1)),!o.appendInPlace&&l+1<e.length&&e[l+1].startTime-e[l].resumeTime<VU&&(e[l+1].appendInPlace=!1,e[l+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${o}`));const m=yt(o.resumeOffset)?o.resumeOffset:o.duration;a+=m})}primaryCanResumeInPlaceAt(e,t){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>oh?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):!Object.keys(t).some(s=>{const o=t[s].details,l=o.edge;if(n>=l)return this.log(`"${e.identifier}" resumption ${n} past ${s} playlist end ${l}`),!1;const u=kc(null,o.fragments,n);if(!u)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${s} playlist (${o.fragStart}-${o.fragmentEnd})`),!0;const c=s==="audio"?.175:0;return Math.abs(u.start-n)<oh+c||Math.abs(u.end-n)<oh+c?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${s} fragment bounds (${u.start}-${u.end} sn: ${u.sn} cc: ${u.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let n=0,i=!1,a=!1;for(let s=0;s<e.assetList.length;s++){const o=e.assetList[s],l=t+n;o.startOffset=n,o.timelineStart=l,i||(i=o.duration===null),a||(a=!!o.error);const u=o.error?0:o.duration||0;n+=u}i&&!a?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function ls(r){return`[${r.event?'"'+r.event.identifier+'"':"primary"}: ${r.start.toFixed(2)}-${r.end.toFixed(2)}]`}class VOe{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const n=e.assetListUrl;let i;try{i=FK(n,this.hls.sessionId,e.baseUrl)}catch(p){const m=this.assignAssetListError(e,Me.ASSET_LIST_LOAD_ERROR,p,n);this.hls.trigger(G.ERROR,m);return}t&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+t);const a=this.hls.config,s=a.loader,o=new s(a),l={responseType:"json",url:i.href},u=a.interstitialAssetListLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(p,m,g,y)=>{const x=p.data,E=x?.ASSETS;if(!Array.isArray(E)){const S=this.assignAssetListError(e,Me.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),g.url,m,y);this.hls.trigger(G.ERROR,S);return}e.assetListResponse=x,this.hls.trigger(G.ASSET_LIST_LOADED,{event:e,assetListResponse:x,networkDetails:y})},onError:(p,m,g,y)=>{const x=this.assignAssetListError(e,Me.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${p.code} ${p.text} (${m.url})`),m.url,y,g);this.hls.trigger(G.ERROR,x)},onTimeout:(p,m,g)=>{const y=this.assignAssetListError(e,Me.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${m.url})`),m.url,p,g);this.hls.trigger(G.ERROR,y)}};return o.load(l,c,h),this.hls.trigger(G.ASSET_LIST_LOADING,{event:e}),o}assignAssetListError(e,t,n,i,a,s){return e.error=n,{type:Dt.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:i,error:n,networkDetails:s,stats:a}}}function qU(r){var e;r==null||(e=r.play())==null||e.catch(()=>{})}function jg(r,e){return`[${r}] Advancing timeline position to ${e}`}class qOe extends es{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled||!this.schedule)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const s=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const o=this.playingItem;if(!o){this.checkBuffer();return}if(s&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(!0),this.checkBuffer(),s&&n<o.start||n>=o.end){var l;const m=this.findItemIndex(o);let g=this.schedule.findItemIndexAtTime(n);if(g===-1&&(g=m+(s?-1:1),this.log(`seeked ${s?"back ":""}to position not covered by schedule ${n} (resolving from ${m} to ${g})`)),!this.isInterstitial(o)&&(l=this.media)!=null&&l.paused&&(this.shouldPlay=!1),!s&&g>m){const y=this.schedule.findJumpRestrictedIndex(m+1,g);if(y>m){this.setSchedulePosition(y);return}}this.setSchedulePosition(g);return}const u=this.playingAsset;if(!u){if(this.playingLastItem&&this.isInterstitial(o)){const m=o.event.assetList[0];m&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,m))}return}const c=u.timelineStart,h=u.duration||0;if(s&&n<c||n>=c+h){var p;(p=o.event)!=null&&p.appendInPlace&&(this.clearAssetPlayers(o.event,o),this.flushFrontBuffer(n)),this.setScheduleToAssetAtTime(n,u)}},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const o=this.findItemIndex(i);this.setSchedulePosition(o+1)}const a=this.playingAsset;if(!a)return;const s=a.timelineStart+(a.duration||0);n>=s&&this.setScheduleToAssetAtTime(n,a)},this.onScheduleUpdate=(n,i)=>{const a=this.schedule;if(!a)return;const s=this.playingItem,o=a.events||[],l=a.items||[],u=a.durations,c=n.map(y=>y.identifier),h=!!(o.length||c.length);(h||i)&&this.log(`INTERSTITIALS_UPDATED (${o.length}): ${o}
Schedule: ${l.map(y=>ls(y))} pos: ${this.timelinePos}`),c.length&&this.log(`Removed events ${c}`);let p=null,m=null;s&&(p=this.updateItem(s,this.timelinePos),this.itemsMatch(s,p)?this.playingItem=p:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const g=this.bufferingItem;if(g&&(m=this.updateItem(g,this.bufferedPos),this.itemsMatch(g,m)?this.bufferingItem=m:g.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(g.event,null))),n.forEach(y=>{y.assetList.forEach(x=>{this.clearAssetPlayer(x.identifier,null)})}),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const x=y.assetItem.timelineStart,E=y.timelineOffset-x;if(E)try{y.timelineOffset=x}catch(S){Math.abs(E)>oh&&this.warn(`${S} ("${y.assetId}" ${y.timelineOffset}->${x})`)}}}),h||i){if(this.hls.trigger(G.INTERSTITIALS_UPDATED,{events:o.slice(0),schedule:l.slice(0),durations:u,removedIds:c}),this.isInterstitial(s)&&c.includes(s.event.identifier)){this.warn(`Interstitial "${s.event.identifier}" removed while playing`),this.primaryFallback(s.event);return}s&&this.trimInPlace(p,s),g&&m!==p&&this.trimInPlace(m,g),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new VOe(e),this.schedule=new zOe(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(G.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(G.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(G.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(G.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(G.BUFFER_APPENDED,this.onBufferAppended,this),e.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(G.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(G.MEDIA_ENDED,this.onMediaEnded,this),e.on(G.ERROR,this.onError,this),e.on(G.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(G.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(G.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(G.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(G.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(G.BUFFER_CODECS,this.onBufferCodecs,this),e.off(G.BUFFER_APPENDED,this.onBufferAppended,this),e.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(G.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(G.MEDIA_ENDED,this.onMediaEnded,this),e.off(G.ERROR,this.onError,this),e.off(G.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Yi(e,"play",this.onPlay),Yi(e,"pause",this.onPause),Yi(e,"seeking",this.onSeeking),Yi(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const n=this.media=t.media;Oi(n,"seeking",this.onSeeking),Oi(n,"timeupdate",this.onTimeupdate),Oi(n,"play",this.onPlay),Oi(n,"pause",this.onPause)}onMediaAttached(e,t){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const a=this.findItemIndex(n);this.setSchedulePosition(a)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const n=!!t.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const a=this.getBufferingPlayer();a&&(this.log(`Removing schedule state for detachedData and ${a}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,a.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,t=()=>e.bufferingItem||e.waitingItem,n=h=>h&&e.getAssetPlayer(h.identifier),i=(h,p,m,g,y)=>{if(h){let x=h[p].start;const E=h.event;if(E){if(p==="playout"||E.timelineOccupancy!==gx.Point){const S=n(m);S?.interstitial===E&&(x+=S.assetItem.startOffset+S[y])}}else{const S=g==="bufferedPos"?s():e[g];x+=S-h.start}return x}return 0},a=(h,p)=>{var m;if(h!==0&&p!=="primary"&&(m=e.schedule)!=null&&m.length){var g;const y=e.schedule.findItemIndexAtTime(h),x=(g=e.schedule.items)==null?void 0:g[y];if(x){const E=x[p].start-x.start;return h+E}}return h},s=()=>{const h=e.bufferedPos;return h===Number.MAX_VALUE?o("primary"):Math.max(h,0)},o=h=>{var p,m;return(p=e.primaryDetails)!=null&&p.live?e.primaryDetails.edge:((m=e.schedule)==null?void 0:m.durations[h])||0},l=(h,p)=>{var m,g;const y=e.effectivePlayingItem;if(y!=null&&(m=y.event)!=null&&m.restrictions.skip||!e.schedule)return;e.log(`seek to ${h} "${p}"`);const x=e.effectivePlayingItem,E=e.schedule.findItemIndexAtTime(h,p),S=(g=e.schedule.items)==null?void 0:g[E],w=e.getBufferingPlayer(),T=w?.interstitial,_=T?.appendInPlace,O=x&&e.itemsMatch(x,S);if(x&&(_||O)){const A=n(e.playingAsset),I=A?.media||e.primaryMedia;if(I){const k=p==="primary"?I.currentTime:i(x,p,e.playingAsset,"timelinePos","currentTime"),N=h-k,B=(_?k:I.currentTime)+N;if(B>=0&&(!A||_||B<=A.duration)){I.currentTime=B;return}}}if(S){let A=h;if(p!=="primary"){const k=S[p].start,N=h-k;A=S.start+N}const I=!e.isInterstitial(S);if((!e.isInterstitial(x)||x.event.appendInPlace)&&(I||S.event.appendInPlace)){const k=e.media||(_?w?.media:null);k&&(k.currentTime=A)}else if(x){const k=e.findItemIndex(x);if(E>k){const B=e.schedule.findJumpRestrictedIndex(k+1,E);if(B>k){e.setSchedulePosition(B);return}}let N=0;if(I)e.timelinePos=A,e.checkBuffer();else{const B=S.event.assetList,R=h-(S[p]||S).start;for(let H=B.length;H--;){const X=B[H];if(X.duration&&R>=X.startOffset&&R<X.startOffset+X.duration){N=H;break}}}e.setSchedulePosition(E,N)}}},u=()=>{const h=e.effectivePlayingItem;if(e.isInterstitial(h))return h;const p=t();return e.isInterstitial(p)?p:null},c={get bufferedEnd(){const h=t(),p=e.bufferingItem;if(p&&p===h){var m;return i(p,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-p.playout.start||((m=e.bufferingAsset)==null?void 0:m.startOffset)||0}return 0},get currentTime(){const h=u(),p=e.effectivePlayingItem;return p&&p===h?i(p,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-p.playout.start:0},set currentTime(h){const p=u(),m=e.effectivePlayingItem;m&&m===p&&l(h+m.playout.start,"playout")},get duration(){const h=u();return h?h.playout.end-h.playout.start:0},get assetPlayers(){var h;const p=(h=u())==null?void 0:h.event.assetList;return p?p.map(m=>e.getAssetPlayer(m.identifier)):[]},get playingIndex(){var h;const p=(h=u())==null?void 0:h.event;return p&&e.effectivePlayingAsset?p.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return u()}};return this.manager={get events(){var h;return((h=e.schedule)==null||(h=h.events)==null?void 0:h.slice(0))||[]},get schedule(){var h;return((h=e.schedule)==null||(h=h.items)==null?void 0:h.slice(0))||[]},get interstitialPlayer(){return u()?c:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const h=t();return e.findItemIndex(h)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const h=e.effectivePlayingItem;return e.findItemIndex(h)},primary:{get bufferedEnd(){return s()},get currentTime(){const h=e.timelinePos;return h>0?h:0},set currentTime(h){l(h,"primary")},get duration(){return o("primary")},get seekableStart(){var h;return((h=e.primaryDetails)==null?void 0:h.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(h){l(h,"integrated")},get duration(){return o("integrated")},get seekableStart(){var h;return a(((h=e.primaryDetails)==null?void 0:h.fragmentStart)||0,"integrated")}},skip:()=>{const h=e.effectivePlayingItem,p=h?.event;if(p&&!p.restrictions.skip){const m=e.findItemIndex(h);if(p.appendInPlace){const g=h.playout.start+h.event.duration;l(g+.001,"playout")}else e.advanceAfterAssetEnded(p,m,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!n?!1:this.findItemIndex(t)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const a=(t=i)==null?void 0:t.currentTime;if(!(a===void 0||!yt(a)))return a}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,t)}transferMediaFromPlayer(e,t){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&i){this.detachedData={media:i};return}const a=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Dr(a)}`),this.detachedData=a}else t&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,t){var n,i;if(e.media===t)return;let a=null;const s=this.hls,o=e!==s,l=o&&e.interstitial.appendInPlace,u=(n=this.detachedData)==null?void 0:n.mediaSource;let c;if(s.media)l&&(a=s.transferMedia(),this.detachedData=a),c="Primary";else if(u){const g=this.getBufferingPlayer();g?(a=g.transferMedia(),c=`${g}`):c="detached MediaSource"}else c="detached media";if(!a){if(u)a=this.detachedData,this.log(`using detachedData: MediaSource ${Dr(a)}`);else if(!this.detachedData||s.media===t){const g=this.playerQueue;g.length>1&&g.forEach(y=>{if(o&&y.interstitial.appendInPlace!==l){const x=y.interstitial;this.clearInterstitial(y.interstitial,null),x.appendInPlace=!1,x.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${x}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const h=a&&"mediaSource"in a&&((i=a.mediaSource)==null?void 0:i.readyState)!=="closed",p=h&&a?a:t;this.log(`${h?"transfering MediaSource":"attaching media"} to ${o?e:"Primary"} from ${c} (media.currentTime: ${t.currentTime})`);const m=this.schedule;if(p===a&&m){const g=o&&e.assetId===m.assetIdAtEnd;p.overrides={duration:m.duration,endOfStream:!o||g,cueRemoval:!o}}e.attachMedia(p)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e?.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const a=this.hls.startPosition;if(this.log(jg("checkStart",a)),this.timelinePos=a,t.length&&t[0].cue.pre){const s=e.findEventIndex(t[0].identifier);this.setSchedulePosition(s)}else if(a>=0||!this.primaryLive){const s=this.timelinePos=a>0?a:0,o=e.findItemIndexAtTime(s);this.setSchedulePosition(o)}}else if(i&&!this.playingItem){const a=e.findItemIndex(i);this.setSchedulePosition(a)}}advanceAssetBuffering(e,t){const n=e.event,i=n.findAssetIndex(t),a=i_(n,i);if(!n.isAssetPastPlayoutLimit(a))this.bufferedToEvent(e,a);else if(this.schedule){var s;const o=(s=this.schedule.items)==null?void 0:s[this.findItemIndex(e)+1];o&&this.bufferedToItem(o)}}advanceAfterAssetEnded(e,t,n){const i=i_(e,n);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const a=this.schedule.items;if(a){const s=t+1,o=a.length;if(s>=o){this.setSchedulePosition(-1);return}const l=e.resumeTime;this.timelinePos<l&&(this.log(jg("advanceAfterAssetEnded",l)),this.timelinePos=l,e.appendInPlace&&this.advanceInPlace(l),this.checkBuffer(this.bufferedPos<l)),this.setSchedulePosition(s)}}}else{if(e.appendInPlace){const a=e.assetList[i];a&&this.advanceInPlace(a.timelineStart)}this.setSchedulePosition(t,i)}}setScheduleToAssetAtTime(e,t){const n=this.schedule;if(!n)return;const i=t.parentIdentifier,a=n.getEvent(i);if(a){const s=n.findEventIndex(i),o=n.findAssetIndex(a,e);this.advanceAfterAssetEnded(a,s,o-1)}}setSchedulePosition(e,t){var n;const i=(n=this.schedule)==null?void 0:n.items;if(!i||this.playbackDisabled)return;const a=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${t} (${a&&ls(a)}) pos: ${this.timelinePos}`);const s=this.waitingItem||this.playingItem,o=this.playingLastItem;if(this.isInterstitial(s)){const c=s.event,h=this.playingAsset,p=h?.identifier,m=p?this.getAssetPlayer(p):null;if(m&&p&&(!this.eventItemsMatch(s,a)||t!==void 0&&p!==c.assetList[t].identifier)){var l;const g=c.findAssetIndex(h);if(this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${c.assetList.length} ${Wf(h)}`),this.endedAsset=h,this.playingAsset=null,this.hls.trigger(G.INTERSTITIAL_ASSET_ENDED,{asset:h,assetListIndex:g,event:c,schedule:i.slice(0),scheduleIndex:e,player:m}),s!==this.playingItem){this.itemsMatch(s,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(c,this.findItemIndex(this.playingItem),g);return}this.retreiveMediaSource(p,a),m.media&&!((l=this.detachedData)!=null&&l.mediaSource)&&m.detachMedia()}if(!this.eventItemsMatch(s,a)&&(this.endedItem=s,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${c} ${ls(s)}`),c.hasPlayed=!0,this.hls.trigger(G.INTERSTITIAL_ENDED,{event:c,schedule:i.slice(0),scheduleIndex:e}),c.cue.once)){var u;this.updateSchedule();const g=(u=this.schedule)==null?void 0:u.items;if(a&&g){const y=this.findItemIndex(a);this.advanceSchedule(y,g,t,s,o)}return}}this.advanceSchedule(e,i,t,s,o)}advanceSchedule(e,t,n,i,a){const s=this.schedule;if(!s)return;const o=t[e]||null,l=this.primaryMedia,u=this.playerQueue;if(u.length&&u.forEach(c=>{const h=c.interstitial,p=s.findEventIndex(h.identifier);(p<e||p>e+1)&&this.clearInterstitial(h,o)}),this.isInterstitial(o)){this.timelinePos=Math.min(Math.max(this.timelinePos,o.start),o.end);const c=o.event;if(n===void 0){n=s.findAssetIndex(c,this.timelinePos);const g=i_(c,n-1);if(c.isAssetPastPlayoutLimit(g)||c.appendInPlace&&this.timelinePos===o.end){this.advanceAfterAssetEnded(c,e,n);return}n=g}const h=this.waitingItem;this.assetsBuffered(o,l)||this.setBufferingItem(o);let p=this.preloadAssets(c,n);if(this.eventItemsMatch(o,h||i)||(this.waitingItem=o,this.log(`INTERSTITIAL_STARTED ${ls(o)} ${c.appendInPlace?"append in place":""}`),this.hls.trigger(G.INTERSTITIAL_STARTED,{event:c,schedule:t.slice(0),scheduleIndex:e})),!c.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${c}`);return}if(c.assetListLoader&&(c.assetListLoader.destroy(),c.assetListLoader=void 0),!l){this.log(`Waiting for attachMedia to start Interstitial ${c}`);return}this.waitingItem=this.endedItem=null,this.playingItem=o;const m=c.assetList[n];if(!m){this.advanceAfterAssetEnded(c,e,n||0);return}if(p||(p=this.getAssetPlayer(m.identifier)),p===null||p.destroyed){const g=c.assetList.length;this.warn(`asset ${n+1}/${g} player destroyed ${c}`),p=this.createAssetPlayer(c,m,n),p.loadSource()}if(!this.eventItemsMatch(o,this.bufferingItem)&&c.appendInPlace&&this.isAssetBuffered(m))return;this.startAssetPlayer(p,n,t,e,l),this.shouldPlay&&qU(p.media)}else o?(this.resumePrimary(o,e,i),this.shouldPlay&&qU(this.hls.media)):a&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(s.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,n){var i,a;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${ls(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let o=this.timelinePos;(o<e.start||o>=e.end)&&(o=this.getPrimaryResumption(e,t),this.log(jg("resumePrimary",o)),this.timelinePos=o),this.attachPrimary(o,e)}if(!n)return;const s=(a=this.schedule)==null?void 0:a.items;s&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${ls(e)}`),this.hls.trigger(G.INTERSTITIALS_PRIMARY_RESUMED,{schedule:s.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(t===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:Ft.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,n){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const a=this.hls;a.media?this.checkBuffer():(this.transferMediaTo(a,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.log(jg("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,t){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,t):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(G.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(G.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1||!this.schedule)return;const n=this.hls.levels[t.level];if(!n.details)return;const i=hr(hr({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const n=this.hls.audioTracks[t.id],i=this.mediaSelection;if(!i){this.altSelection=hr(hr({},this.altSelection),{},{audio:n});return}const a=hr(hr({},i),{},{audio:n});this.mediaSelection=a}onSubtitleTrackUpdated(e,t){const n=this.hls.subtitleTracks[t.id],i=this.mediaSelection;if(!i){this.altSelection=hr(hr({},this.altSelection),{},{subtitles:n});return}const a=hr(hr({},i),{},{subtitles:n});this.mediaSelection=a}onAudioTrackSwitching(e,t){const n=iU(t);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(t)||i.setAudioOption(n)))}onSubtitleTrackSwitch(e,t){const n=iU(t);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(t)||t.id!==-1&&i.setSubtitleOption(n)))}onBufferCodecs(e,t){const n=t.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let i=0;i<t.length;i++){const a=t[i];if(a.cue.post){var n;const s=this.schedule.findEventIndex(a.identifier),o=(n=this.schedule.items)==null?void 0:n[s];this.isInterstitial(o)&&this.eventItemsMatch(o,this.bufferingItem)&&this.bufferedToItem(o,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const n=this.findItemIndex(t);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,t){var n;const i=(n=this.schedule)==null?void 0:n.items;if(e&&i){const a=this.findItemIndex(e,t);return i[a]||null}return null}trimInPlace(e,t){if(this.isInterstitial(e)&&e.event.appendInPlace&&t.end-e.end>.25){e.event.assetList.forEach((a,s)=>{e.event.isAssetPastPlayoutLimit(s)&&this.clearAssetPlayer(a.identifier,null)});const n=e.end+.25,i=Ft.bufferInfo(this.primaryMedia,n,0);(i.end>n||(i.nextStart||0)>n)&&(this.log(`trim buffered interstitial ${ls(e)} (was ${ls(t)})`),this.attachPrimary(n,null,!0),this.flushFrontBuffer(n))}}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var n;return!!t&&(e===t||e.event.identifier===((n=t.event)==null?void 0:n.identifier))}findItemIndex(e,t){return e&&this.schedule?this.schedule.findItemIndex(e,t):-1}updateSchedule(e=!1){var t;const n=this.mediaSelection;n&&((t=this.schedule)==null||t.updateSchedule(n,[],e))}checkBuffer(e){var t;const n=(t=this.schedule)==null?void 0:t.items;if(!n)return;const i=Ft.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,n,e)}updateBufferedPos(e,t,n){const i=this.schedule,a=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(t.length===1&&this.itemsMatch(t[0],a)){this.bufferedPos=e;return}const s=this.playingItem,o=this.findItemIndex(s);let l=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var u;const c=this.findItemIndex(a),h=Math.min(c+1,t.length-1),p=t[h];if((l===-1&&a&&e>=a.end||(u=p.event)!=null&&u.appendInPlace&&e+.01>=p.start)&&(l=h),this.isInterstitial(a)){const m=a.event;if(h-o>1&&m.appendInPlace===!1||m.assetList.length===0&&m.assetListLoader)return}if(this.bufferedPos=e,l>c&&l>o)this.bufferedToItem(p);else{const m=this.primaryDetails;this.primaryLive&&m&&e>m.edge-m.targetduration&&p.start<m.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(p)&&this.preloadAssets(p.event,0)}}else n&&s&&!this.itemsMatch(s,a)&&(l===o?this.bufferedToItem(s):l===o+1&&this.bufferedToItem(t[l]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const a=this.getAssetPlayer(i.identifier);return!(a!=null&&a.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(e,t)&&n){const{items:i,events:a}=n;if(!i||!a)return t;const s=this.isInterstitial(e),o=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const l=o?o.remaining:t?t.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${ls(e)}`+(t?` (${l.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(s){const u=n.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((c,h)=>{const p=this.getAssetPlayer(c.identifier);p&&(h===u&&p.loadSource(),p.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(u=>u.pauseBuffering());this.hls.trigger(G.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:a.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return t}bufferedToItem(e,t=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),n=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,t){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,a=n.cue.once;if(i||!a){const s=this.preloadAssets(n,t);if(s!=null&&s.interstitial.appendInPlace){const o=this.primaryMedia;o&&this.bufferAssetPlayer(s,o)}}}preloadAssets(e,t){const n=e.assetUrl,i=e.assetList.length,a=i===0&&!e.assetListLoader,s=e.cue.once;if(a){const l=e.timelineStart;if(e.appendInPlace){var o;const p=this.playingItem;!this.isInterstitial(p)&&(p==null||(o=p.nextEvent)==null?void 0:o.identifier)===e.identifier&&this.flushFrontBuffer(l+.25)}let u,c=0;if(!this.playingItem&&this.primaryLive&&(c=this.hls.startPosition,c===-1&&(c=this.hls.liveSyncPosition||0)),c&&!(e.cue.pre||e.cue.post)){const p=c-l;p>0&&(u=Math.round(p*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${n?1:i} ${e}${u?` live-start: ${c} start-offset: ${u}`:""}`),n)return this.createAsset(e,0,0,l,e.duration,n);const h=this.assetListLoader.loadAssetList(e,u);h&&(e.assetListLoader=h)}else if(!s&&i){for(let u=t;u<i;u++){const c=e.assetList[u],h=this.getAssetPlayerQueueIndex(c.identifier);(h===-1||this.playerQueue[h].destroyed)&&!c.error&&this.createAssetPlayer(e,c,u)}const l=e.assetList[t];if(l){const u=this.getAssetPlayer(l.identifier);return u&&u.loadSource(),u}}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(i=>{this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let n=0;n<t.length;n++)if(e===t[n].assetId)return n;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let n=0;n<e.length;n++)if(e[n].media===t)return e[n]}return null}createAsset(e,t,n,i,a,s){const o={parentIdentifier:e.identifier,identifier:GOe(e,s,t),duration:a,startOffset:n,timelineStart:i,uri:s};return this.createAssetPlayer(e,o,t)}createAssetPlayer(e,t,n){const i=this.hls,a=i.userConfig;let s=a.videoPreference;const o=i.loadLevelObj||i.levels[i.currentLevel];(s||o)&&(s=Er({},s),o.videoCodec&&(s.videoCodec=o.videoCodec),o.videoRange&&(s.allowedVideoRanges=[o.videoRange]));const l=i.audioTracks[i.audioTrack],u=i.subtitleTracks[i.subtitleTrack];let c=0;if(this.primaryLive||e.appendInPlace){const T=this.timelinePos-t.timelineStart;if(T>1){const _=t.duration;_&&T<_&&(c=T)}}const h=t.identifier,p=hr(hr({},a),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:h,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:c,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:s,audioPreference:l||a.audioPreference,subtitlePreference:u||a.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(p.timelineOffset=t.timelineStart));const m=p.cmcd;m!=null&&m.sessionId&&m.contentId&&(p.cmcd=Er({},m,{contentId:y0(t.uri)})),this.getAssetPlayer(h)&&this.warn(`Duplicate date range identifier ${e} and asset ${h}`);const g=new YOe(this.HlsPlayerClass,p,e,t);this.playerQueue.push(g),e.assetList[n]=t;let y=!0;const x=T=>{if(T.live){var _;const I=new Error(`Interstitials MUST be VOD assets ${e}`),k={fatal:!0,type:Dt.OTHER_ERROR,details:Me.INTERSTITIAL_ASSET_ITEM_ERROR,error:I},N=((_=this.schedule)==null?void 0:_.findEventIndex(e.identifier))||-1;this.handleAssetItemError(k,e,N,n,I.message);return}const O=T.edge-T.fragmentStart,A=t.duration;(y||A===null||O>A)&&(y=!1,this.log(`Interstitial asset "${h}" duration change ${A} > ${O}`),t.duration=O,this.updateSchedule())};g.on(G.LEVEL_UPDATED,(T,{details:_})=>x(_)),g.on(G.LEVEL_PTS_UPDATED,(T,{details:_})=>x(_)),g.on(G.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const E=(T,_)=>{const O=this.getAssetPlayer(h);if(O&&_.tracks){O.off(G.BUFFER_CODECS,E),O.tracks=_.tracks;const A=this.primaryMedia;this.bufferingAsset===O.assetItem&&A&&!O.media&&this.bufferAssetPlayer(O,A)}};g.on(G.BUFFER_CODECS,E);const S=()=>{var T;const _=this.getAssetPlayer(h);if(this.log(`buffered to end of asset ${_}`),!_||!this.schedule)return;const O=this.schedule.findEventIndex(e.identifier),A=(T=this.schedule.items)==null?void 0:T[O];this.isInterstitial(A)&&this.advanceAssetBuffering(A,t)};g.on(G.BUFFERED_TO_END,S);const w=T=>()=>{if(!this.getAssetPlayer(h)||!this.schedule)return;this.shouldPlay=!0;const O=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,O,T)};return g.once(G.MEDIA_ENDED,w(n)),g.once(G.PLAYOUT_LIMIT_REACHED,w(1/0)),g.on(G.ERROR,(T,_)=>{if(!this.schedule)return;const O=this.getAssetPlayer(h);if(_.details===Me.BUFFER_STALLED_ERROR){if(O!=null&&O.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(_,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${_.error} ${e}`)}),g.on(G.DESTROYING,()=>{if(!this.getAssetPlayer(h)||!this.schedule)return;const _=new Error(`Asset player destroyed unexpectedly ${h}`),O={fatal:!0,type:Dt.OTHER_ERROR,details:Me.INTERSTITIAL_ASSET_ITEM_ERROR,error:_};this.handleAssetItemError(O,e,this.schedule.findEventIndex(e.identifier),n,_.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${Wf(t)}`),this.hls.trigger(G.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:n,event:e,player:g}),g}clearInterstitial(e,t){this.clearAssetPlayers(e,t),e.reset()}clearAssetPlayers(e,t){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,t)})}resetAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);if(t!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[t];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,t){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){const i=this.playerQueue[n];this.log(`clear ${i} toSegment: ${t&&ls(t)}`),this.transferMediaFromPlayer(i,t),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,n,i,a){const{interstitial:s,assetItem:o,assetId:l}=e,u=s.assetList.length,c=this.playingAsset;this.endedAsset=null,this.playingAsset=o,(!c||c.identifier!==l)&&(c&&(this.clearAssetPlayer(c.identifier,n[i]),delete c.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${u} ${Wf(o)}`),this.hls.trigger(G.INTERSTITIAL_ASSET_STARTED,{asset:o,assetListIndex:t,event:s,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,a)}bufferAssetPlayer(e,t){var n,i;if(!this.schedule)return;const{interstitial:a,assetItem:s}=e,o=this.schedule.findEventIndex(a.identifier),l=(n=this.schedule.items)==null?void 0:n[o];if(!l)return;e.loadSource(),this.setBufferingItem(l),this.bufferingAsset=s;const u=this.getBufferingPlayer();if(u===e)return;const c=a.appendInPlace;if(c&&u?.interstitial.appendInPlace===!1)return;const h=u?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(c&&s!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(h&&!xW(h,e.tracks)){const p=new Error(`Asset ${Wf(s)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(h)}')`),m={fatal:!0,type:Dt.OTHER_ERROR,details:Me.INTERSTITIAL_ASSET_ITEM_ERROR,error:p},g=a.findAssetIndex(s);this.handleAssetItemError(m,a,o,g,p.message);return}}this.transferMediaTo(e,t)}handleInPlaceStall(e){const t=this.schedule,n=this.primaryMedia;if(!t||!n)return;const i=n.currentTime,a=t.findAssetIndex(e,i),s=e.assetList[a];if(s){const o=this.getAssetPlayer(s.identifier);if(o){const l=o.currentTime||i-s.timelineStart,u=o.duration-l;if(this.warn(`Stalled at ${l} of ${l+u} in ${o} ${e} (media.currentTime: ${i})`),l&&(u/n.playbackRate<.5||o.bufferedInPlaceToEnd(n))&&o.hls){const c=t.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,c,a)}}}}advanceInPlace(e){const t=this.primaryMedia;t&&t.currentTime<e&&(t.currentTime=e)}handleAssetItemError(e,t,n,i,a){if(e.details===Me.BUFFER_STALLED_ERROR)return;const s=t.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${s&&Wf(s)} ${e.error}`),!this.schedule)return;const o=s?.identifier||"",l=this.getAssetPlayerQueueIndex(o),u=this.playerQueue[l]||null,c=this.schedule.items,h=Er({},e,{fatal:!1,errorAction:ih(!0),asset:s,assetListIndex:i,event:t,schedule:c,scheduleIndex:n,player:u});if(this.hls.trigger(G.INTERSTITIAL_ASSET_ERROR,h),!e.fatal)return;const p=this.playingAsset,m=this.bufferingAsset,g=new Error(a);if(s&&(this.clearAssetPlayer(o,null),s.error=g),!t.assetList.some(y=>!y.error))t.error=g;else for(let y=i;y<t.assetList.length;y++)this.resetAssetPlayer(t.assetList[y].identifier);this.updateSchedule(!0),t.error?this.primaryFallback(t):p&&p.identifier===o?this.advanceAfterAssetEnded(t,n,i):m&&m.identifier===o&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,m)}primaryFallback(e){const t=e.timelineStart,n=this.effectivePlayingItem;let i=this.timelinePos;if(n){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${i} playing: ${ls(n)} error: ${e.error}`),i===-1&&(i=this.hls.startPosition);const s=this.updateItem(n,i);this.itemsMatch(n,s)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t))}else if(i===-1){this.checkStart();return}if(!this.schedule)return;const a=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(a)}onAssetListLoaded(e,t){var n,i;const a=t.event,s=a.identifier,o=t.assetListResponse.ASSETS;if(!((n=this.schedule)!=null&&n.hasEvent(s)))return;const l=a.timelineStart,u=a.duration;let c=0;o.forEach((y,x)=>{const E=parseFloat(y.DURATION);this.createAsset(a,x,c,l+c,E,y.URI),c+=E}),a.duration=c,this.log(`Loaded asset-list with duration: ${c} (was: ${u}) ${a}`);const h=this.waitingItem,p=h?.event.identifier===s;this.updateSchedule();const m=(i=this.bufferingItem)==null?void 0:i.event;if(p){var g;const y=this.schedule.findEventIndex(s),x=(g=this.schedule.items)==null?void 0:g[y];if(x){if(!this.playingItem&&this.timelinePos>x.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){a.error=new Error(`Interstitial ${o.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${a}`),this.log(a.error.message),this.updateSchedule(!0),this.primaryFallback(a);return}this.setBufferingItem(x)}this.setSchedulePosition(y)}else if(m?.identifier===s){const y=a.assetList[0];if(y){const x=this.getAssetPlayer(y.identifier);if(m.appendInPlace){const E=this.primaryMedia;x&&E&&this.bufferAssetPlayer(x,E)}else x&&x.loadSource()}}}onError(e,t){if(this.schedule)switch(t.details){case Me.ASSET_LIST_PARSING_ERROR:case Me.ASSET_LIST_LOAD_ERROR:case Me.ASSET_LIST_LOAD_TIMEOUT:{const n=t.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break}case Me.BUFFER_STALLED_ERROR:{const n=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&n.event.appendInPlace){this.handleInPlaceStall(n.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const XU=500;class XOe extends BC{constructor(e,t,n){super(e,t,n,"subtitle-stream-controller",Et.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(G.LEVEL_LOADED,this.onLevelLoaded,this),e.on(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(G.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(G.LEVEL_LOADED,this.onLevelLoaded,this),e.off(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(G.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=rt.IDLE,this.setInterval(XU),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:i}=t;if(this.fragContextChanged(n)||(ln(n)&&(this.fragPrevious=n),this.state=rt.IDLE),!i)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let s;const o=n.start;for(let u=0;u<a.length;u++)if(o>=a[u].start&&o<=a[u].end){s=a[u];break}const l=n.start+n.duration;s?s.end=l:(s={start:o,end:l},a.push(s)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:n,endOffset:i}=t;if(n===0&&i!==Number.POSITIVE_INFINITY){const a=i-1;if(a<=0)return;t.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(s=>{for(let o=0;o<s.length;){if(s[o].end<=a){s.shift();continue}else if(s[o].start<a)s[o].start=a;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(n,a,Et.SUBTITLE)}}onError(e,t){const n=t.frag;n?.type===Et.SUBTITLE&&(t.details===Me.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==rt.STOPPED&&(this.state=rt.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&EK(this.levels,t)){this.levels=t.map(n=>new X0(n));return}this.tracksBuffered=[],this.levels=t.map(n=>{const i=new X0(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Et.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==rt.STOPPED&&this.setInterval(XU)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:i,levels:a}=this,{details:s,id:o}=t;if(!a){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const l=a[o];if(o>=a.length||!l)return;this.log(`Subtitle track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(s.live||(n=l.details)!=null&&n.live){if(s.deltaUpdateFailed)return;const h=this.mainDetails;if(!h){this.startFragRequested=!1;return}const p=h.fragments[0];if(!l.details)s.hasProgramDateTime&&h.hasProgramDateTime?(px(s,h),u=s.fragmentStart):p&&(u=p.start,M2(s,u));else{var c;u=this.alignPlaylists(s,l.details,(c=this.levelLastLoaded)==null?void 0:c.details),u===0&&p&&(u=p.start,M2(s,u))}h&&!this.startFragRequested&&this.setStartPosition(h,u)}l.details=s,this.levelLastLoaded=l,o===i&&(this.hls.trigger(G.SUBTITLE_TRACK_UPDATED,{details:s,id:o,groupId:t.groupId}),this.tick(),s.live&&!this.fragCurrent&&this.media&&this.state===rt.IDLE&&(kc(null,s.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,i=t.decryptdata,a=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&ah(i.method)){const s=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,NC(i.method)).catch(o=>{throw a.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:t}),o}).then(o=>{const l=performance.now();a.trigger(G.FRAG_DECRYPTED,{frag:t,payload:o,stats:{tstart:s,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=rt.IDLE})}}doTick(){if(!this.media){this.state=rt.IDLE;return}if(this.state===rt.IDLE){const{currentTrackId:e,levels:t}=this,n=t?.[e];if(!n||!t.length||!n.details||this.waitForLive(n))return;const{config:i}=this,a=this.getLoadPosition(),s=Ft.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,i.maxBufferHole),{end:o,len:l}=s,u=n.details,c=this.hls.maxBufferLength+u.levelTargetDuration;if(l>c)return;const h=u.fragments,p=h.length,m=u.edge;let g=null;const y=this.fragPrevious;if(o<m){const S=i.maxFragLookUpTolerance,w=o>m-S?0:S;g=kc(y,h,Math.max(h[0].start,o),w),!g&&y&&y.start<h[0].start&&(g=h[0])}else g=h[p-1];if(g=this.filterReplacedPrimary(g,n.details),!g)return;const x=g.sn-u.startSN,E=h[x-1];if(E&&E.cc===g.cc&&this.fragmentTracker.getState(E)===An.NOT_LOADED&&(g=E),this.fragmentTracker.getState(g)===An.NOT_LOADED){const S=this.mapToInitFragWhenRequired(g);S&&this.loadFragment(S,n,o)}}}loadFragment(e,t,n){ln(e)?super.loadFragment(e,t,n):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new QOe(this.tracksBuffered[this.currentTrackId]||[])}}class QOe{constructor(e){this.buffered=void 0;const t=(n,i,a)=>{if(i=i>>>0,i>a-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return t("end",n,e.length)},start(n){return t("start",n,e.length)}}}}const ZOe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},BK=r=>String.fromCharCode(ZOe[r]||r),cs=15,Oo=100,JOe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},eCe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},tCe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},rCe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},nCe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class iCe{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n=typeof t=="function"?t():t;pr.log(`${this.time} [${e}] ${n}`)}}}const Xu=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class UK{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class aCe{constructor(){this.uchar=" ",this.penState=new UK}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class sCe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new UK,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Oo;t++)this.chars.push(new aCe);this.logger=e}equals(e){for(let t=0;t<Oo;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Oo;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Oo;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Oo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Oo)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=BK(e);if(this.pos>=Oo){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Oo;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<Oo;n++){const i=this.chars[n].uchar;i!==" "&&(t=!1),e.push(i)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class a_{constructor(e){this.rows=[],this.currRow=cs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<cs;t++)this.rows.push(new sCe(e));this.logger=e}reset(){for(let e=0;e<cs;e++)this.rows[e].clear();this.currRow=cs-1}equals(e){let t=!0;for(let n=0;n<cs;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<cs;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<cs;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Dr(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let o=0;o<cs;o++)this.rows[o].clear();const a=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const o=s.rows[a].cueStartTime,l=this.logger.time;if(o!==null&&l!==null&&o<l)for(let u=0;u<this.nrRollUpRows;u++)this.rows[t-this.nrRollUpRows+u+1].copy(s.rows[a+u])}}this.currRow=t;const n=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,s=Math.max(a-1,0);n.setCursor(e.indent),e.color=n.chars[s].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Dr(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",i=-1;for(let a=0;a<cs;a++){const s=this.rows[a].getTextString();s&&(i=a+1,e?t.push("Row "+i+": '"+s+"'"):t.push(s.trim()))}return t.length>0&&(e?n="["+t.join(" | ")+"]":n=t.join(`
`)),n}getTextAndFormat(){return this.rows}}class QU{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new a_(n),this.nonDisplayedMemory=new a_(n),this.lastOutputScreen=new a_(n),this.currRollUpRow=this.displayedMemory.rows[cs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[cs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[n]}this.logger.log(2,"MIDROW: "+Dr(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class ZU{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=lCe(),this.logger=void 0;const i=this.logger=new iCe;this.channels=[null,new QU(e,t,i),new QU(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let n=0;n<t.length;n+=2){const i=t[n]&127,a=t[n+1]&127;let s=!1,o=null;if(i===0&&a===0)continue;this.logger.log(3,()=>"["+Xu([t[n],t[n+1]])+"] -> ("+Xu([i,a])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(oCe(i,a,l)){$g(null,null,l),this.logger.log(3,()=>"Repeated command ("+Xu([i,a])+") is dropped");continue}$g(i,a,this.cmdHistory),s=this.parseCmd(i,a),s||(s=this.parseMidrow(i,a)),s||(s=this.parsePAC(i,a)),s||(s=this.parseBackgroundAttributes(i,a))}else $g(null,null,l);if(!s&&(o=this.parseChars(i,a),o)){const c=this.currentChannel;c&&c>0?this.channels[c].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!s&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Xu([i,a])+" orig: "+Xu([t[n],t[n+1]]))}}parseCmd(e,t){const n=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=33&&t<=35;if(!(n||i))return!1;const a=e===20||e===21||e===23?1:2,s=this.channels[a];return e===20||e===21||e===28||e===29?t===32?s.ccRCL():t===33?s.ccBS():t===34?s.ccAOF():t===35?s.ccAON():t===36?s.ccDER():t===37?s.ccRU(2):t===38?s.ccRU(3):t===39?s.ccRU(4):t===40?s.ccFON():t===41?s.ccRDC():t===42?s.ccTR():t===43?s.ccRTD():t===44?s.ccEDM():t===45?s.ccCR():t===46?s.ccENM():t===47&&s.ccEOC():s.ccTO(t-32),this.currentChannel=a,!0}parseMidrow(e,t){let n=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+Xu([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,a=(e===16||e===24)&&t>=64&&t<=95;if(!(i||a))return!1;const s=e<=23?1:2;t>=64&&t<=95?n=s===1?JOe[e]:tCe[e]:n=s===1?eCe[e]:rCe[e];const o=this.channels[s];return o?(o.setPAC(this.interpretPAC(n,t)),this.currentChannel=s,!0):!1}interpretPAC(e,t){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?n=t-96:n=t-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,t){let n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){let s;a===17?s=t+80:a===18?s=t+112:s=t+144,this.logger.log(2,()=>"Special char '"+BK(s)+"' in channel "+n),i=[s]}else e>=32&&e<=127&&(i=t===0?[e]:[e,t]);return i&&this.logger.log(3,()=>"Char codes =  "+Xu(i).join(",")),i}parseBackgroundAttributes(e,t){const n=(e===16||e===24)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=45&&t<=47;if(!(n||i))return!1;let a;const s={};e===16||e===24?(a=Math.floor((t-32)/2),s.background=nCe[a],t%2===1&&(s.background=s.background+"_semi")):t===45?s.background="transparent":(s.foreground="black",t===47&&(s.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(s),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}$g(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function $g(r,e,t){t.a=r,t.b=e}function oCe(r,e,t){return t.a===r&&t.b===e}function lCe(){return{a:null,b:null}}var XC=(function(){if(dx!=null&&dx.VTTCue)return self.VTTCue;const r=["","lr","rl"],e=["start","middle","end","left","right"];function t(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const u=l.toLowerCase();return~o.indexOf(u)?u:!1}function n(o){return t(r,o)}function i(o){return t(e,o)}function a(o,...l){let u=1;for(;u<arguments.length;u++){const c=arguments[u];for(const h in c)o[h]=c[h]}return o}function s(o,l,u){const c=this,h={enumerable:!0};c.hasBeenReset=!1;let p="",m=!1,g=o,y=l,x=u,E=null,S="",w=!0,T="auto",_="start",O=50,A="middle",I=50,k="middle";Object.defineProperty(c,"id",a({},h,{get:function(){return p},set:function(N){p=""+N}})),Object.defineProperty(c,"pauseOnExit",a({},h,{get:function(){return m},set:function(N){m=!!N}})),Object.defineProperty(c,"startTime",a({},h,{get:function(){return g},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");g=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"endTime",a({},h,{get:function(){return y},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");y=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"text",a({},h,{get:function(){return x},set:function(N){x=""+N,this.hasBeenReset=!0}})),Object.defineProperty(c,"region",a({},h,{get:function(){return E},set:function(N){E=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"vertical",a({},h,{get:function(){return S},set:function(N){const B=n(N);if(B===!1)throw new SyntaxError("An invalid or illegal string was specified.");S=B,this.hasBeenReset=!0}})),Object.defineProperty(c,"snapToLines",a({},h,{get:function(){return w},set:function(N){w=!!N,this.hasBeenReset=!0}})),Object.defineProperty(c,"line",a({},h,{get:function(){return T},set:function(N){if(typeof N!="number"&&N!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");T=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"lineAlign",a({},h,{get:function(){return _},set:function(N){const B=i(N);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");_=B,this.hasBeenReset=!0}})),Object.defineProperty(c,"position",a({},h,{get:function(){return O},set:function(N){if(N<0||N>100)throw new Error("Position must be between 0 and 100.");O=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"positionAlign",a({},h,{get:function(){return A},set:function(N){const B=i(N);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");A=B,this.hasBeenReset=!0}})),Object.defineProperty(c,"size",a({},h,{get:function(){return I},set:function(N){if(N<0||N>100)throw new Error("Size must be between 0 and 100.");I=N,this.hasBeenReset=!0}})),Object.defineProperty(c,"align",a({},h,{get:function(){return k},set:function(N){const B=i(N);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");k=B,this.hasBeenReset=!0}})),c.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s})();class uCe{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function jK(r){function e(n,i,a,s){return(n|0)*3600+(i|0)*60+(a|0)+parseFloat(s||0)}const t=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}let cCe=class{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}};function $K(r,e,t,n){const i=n?r.split(n):[r];for(const a in i){if(typeof i[a]!="string")continue;const s=i[a].split(t);if(s.length!==2)continue;const o=s[0],l=s[1];e(o,l)}}const G2=new XC(0,0,""),Hg=G2.align==="middle"?"middle":"center";function fCe(r,e,t){const n=r;function i(){const o=jK(r);if(o===null)throw new Error("Malformed timestamp: "+n);return r=r.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){const u=new cCe;$K(o,function(p,m){let g;switch(p){case"region":for(let y=t.length-1;y>=0;y--)if(t[y].id===m){u.set(p,t[y].region);break}break;case"vertical":u.alt(p,m,["rl","lr"]);break;case"line":g=m.split(","),u.integer(p,g[0]),u.percent(p,g[0])&&u.set("snapToLines",!1),u.alt(p,g[0],["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start",Hg,"end"]);break;case"position":g=m.split(","),u.percent(p,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start",Hg,"end","line-left","line-right","auto"]);break;case"size":u.percent(p,m);break;case"align":u.alt(p,m,["start",Hg,"end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");let c=u.get("line","auto");c==="auto"&&G2.line===-1&&(c=-1),l.line=c,l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100),l.align=u.get("align",Hg);let h=u.get("position","auto");h==="auto"&&G2.position===50&&(h=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=h}function s(){r=r.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),r.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);r=r.slice(3),s(),e.endTime=i(),s(),a(r,e)}function HK(r){return r.replace(/<br(?: \/)?>/gi,`
`)}class hCe{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new uCe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function n(){let a=t.buffer,s=0;for(a=HK(a);s<a.length&&a[s]!=="\r"&&a[s]!==`
`;)++s;const o=a.slice(0,s);return a[s]==="\r"&&++s,a[s]===`
`&&++s,t.buffer=a.slice(s),o}function i(a){$K(a,function(s,o){},/:/)}try{let a="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;a=n();const o=a.match(/^()?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let s=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:a=n(),t.state){case"HEADER":/:/.test(a)?i(a):a||(t.state="ID");continue;case"NOTE":a||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){t.state="NOTE";break}if(!a)continue;if(t.cue=new XC(0,0,""),t.state="CUE",a.indexOf("-->")===-1){t.cue.id=a;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{fCe(a,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const o=a.indexOf("-->")!==-1;if(!a||o&&(s=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=a}continue;case"BADCUE":a||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const dCe=/\r\n|\n\r|\n|\r/g,s_=function(e,t,n=0){return e.slice(n,n+t.length)===t},pCe=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!yt(t)||!yt(n)||!yt(i)||!yt(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*n,t+=60*1e3*i,t+=3600*1e3*a,t};function QC(r,e,t){return y0(r.toString())+y0(e.toString())+y0(t)}const mCe=function(e,t,n){let i=e[t],a=e[i.prevCC];if(!a||!a.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(s=a)!=null&&s.new;){var s;e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC]}e.presentationOffset=n};function gCe(r,e,t,n,i,a,s){const o=new hCe,l=Ta(new Uint8Array(r)).trim().replace(dCe,`
`).split(`
`),u=[],c=e?EDe(e.baseTime,e.timescale):0;let h="00:00.000",p=0,m=0,g,y=!0;o.oncue=function(x){const E=t[n];let S=t.ccOffset;const w=(p-c)/9e4;if(E!=null&&E.new&&(m!==void 0?S=t.ccOffset=E.start:mCe(t,n,w)),w){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}S=w-t.presentationOffset}const T=x.endTime-x.startTime,_=ha((x.startTime+S-m)*9e4,i*9e4)/9e4;x.startTime=Math.max(_,0),x.endTime=Math.max(_+T,0);const O=x.text.trim();x.text=decodeURIComponent(encodeURIComponent(O)),x.id||(x.id=QC(x.startTime,x.endTime,O)),x.endTime>0&&u.push(x)},o.onparsingerror=function(x){g=x},o.onflush=function(){if(g){s(g);return}a(u)},l.forEach(x=>{if(y)if(s_(x,"X-TIMESTAMP-MAP=")){y=!1,x.slice(16).split(",").forEach(E=>{s_(E,"LOCAL:")?h=E.slice(6):s_(E,"MPEGTS:")&&(p=parseInt(E.slice(7)))});try{m=pCe(h)/1e3}catch(E){g=E}return}else x===""&&(y=!1);o.parse(x+`
`)}),o.flush()}const o_="stpp.ttml.im1t",GK=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,WK=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,vCe={left:"start",center:"center",right:"end",start:"start",end:"end"};function JU(r,e,t,n){const i=Gt(new Uint8Array(r),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const a=i.map(o=>Ta(o)),s=SDe(e.baseTime,1,e.timescale);try{a.forEach(o=>t(yCe(o,s)))}catch(o){n(o)}}function yCe(r,e){const i=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(a).reduce((h,p)=>(h[p]=i.getAttribute(`ttp:${p}`)||a[p],h),{}),o=i.getAttribute("xml:space")!=="preserve",l=e6(l_(i,"styling","style")),u=e6(l_(i,"layout","region")),c=l_(i,"body","[begin]");return[].map.call(c,h=>{const p=KK(h,o);if(!p||!h.hasAttribute("begin"))return null;const m=c_(h.getAttribute("begin"),s),g=c_(h.getAttribute("dur"),s);let y=c_(h.getAttribute("end"),s);if(m===null)throw t6(h);if(y===null){if(g===null)throw t6(h);y=m+g}const x=new XC(m-e,y-e,p);x.id=QC(x.startTime,x.endTime,x.text);const E=u[h.getAttribute("region")],S=l[h.getAttribute("style")],w=xCe(E,S,l),{textAlign:T}=w;if(T){const _=vCe[T];_&&(x.lineAlign=_),x.align=T}return Er(x,w),x}).filter(h=>h!==null)}function l_(r,e,t){const n=r.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(t)):[]}function e6(r){return r.reduce((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e},{})}function KK(r,e){return[].slice.call(r.childNodes).reduce((t,n,i)=>{var a;return n.nodeName==="br"&&i?t+`
`:(a=n.childNodes)!=null&&a.length?KK(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent},"")}function xCe(r,e,t){const n="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=r!=null&&r.hasAttribute("style")?r.getAttribute("style"):null;return s&&t.hasOwnProperty(s)&&(i=t[s]),a.reduce((o,l)=>{const u=u_(e,n,l)||u_(r,n,l)||u_(i,n,l);return u&&(o[l]=u),o},{})}function u_(r,e,t){return r&&r.hasAttributeNS(e,t)?r.getAttributeNS(e,t):null}function t6(r){return new Error(`Could not parse ttml timestamp ${r}`)}function c_(r,e){if(!r)return null;let t=jK(r);return t===null&&(GK.test(r)?t=bCe(r,e):WK.test(r)&&(t=SCe(r,e))),t}function bCe(r,e){const t=GK.exec(r),n=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+n/e.frameRate}function SCe(r,e){const t=WK.exec(r),n=Number(t[1]);switch(t[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class Gg{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class ECe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=n6(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(G.FRAG_LOADING,this.onFragLoading,this),e.on(G.FRAG_LOADED,this.onFragLoaded,this),e.on(G.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(G.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(G.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(G.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(G.FRAG_LOADING,this.onFragLoading,this),e.off(G.FRAG_LOADED,this.onFragLoaded,this),e.off(G.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(G.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(G.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(G.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Gg(this,"textTrack1"),t=new Gg(this,"textTrack2"),n=new Gg(this,"textTrack3"),i=new Gg(this,"textTrack4");this.cea608Parser1=new ZU(1,e,t),this.cea608Parser2=new ZU(3,n,i)}addCues(e,t,n,i,a){let s=!1;for(let o=a.length;o--;){const l=a[o],u=wCe(l[0],l[1],t,n);if(u>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],n),s=!0,u/(n-t)>.5))return}if(s||a.push([t,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,t,n,i)}else{const o=this.Cues.newCue(null,t,n,i);this.hls.trigger(G.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:t,id:n,initPTS:i,timescale:a,trackId:s}){const{unparsedVttFrags:o}=this;n===Et.MAIN&&(this.initPTS[t.cc]={baseTime:i,timescale:a,trackId:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(l=>{this.initPTS[l.frag.cc]?this.onFragLoaded(G.FRAG_LOADED,l):this.hls.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:l.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const a=n.textTracks[i];if(r6(a,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return a}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:i}=this,{label:a,languageCode:s}=t[e],o=this.getExistingTrack(a,s);if(o)n[e]=o,Vf(n[e]),MK(n[e],i);else{const l=this.createTextTrack("captions",a,s);l&&(l[e]=!0,n[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n=t.label,i={_id:e,label:n,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(G.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,t,n){const i=this.media;if(i)return i.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const n=!!t.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(a=>{Vf(i[a]),delete i[a]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=n6(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)Vf(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],i=n.some(a=>a.textCodec===o_);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(EK(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const s=this.media,o=s?Nv(s.textTracks):null;if(this.tracks.forEach((l,u)=>{let c;if(o){let h=null;for(let p=0;p<o.length;p++)if(o[p]&&r6(o[p],l)){h=o[p],o[p]=null;break}h&&(c=h)}if(c)Vf(c);else{const h=YK(l);c=this.createTextTrack(h,l.name,l.lang),c&&(c.mode="disabled")}c&&this.textTracks.push(c)}),o!=null&&o.length){const l=o.filter(u=>u!==null).map(u=>u.label);l.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const s=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(G.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const a=`textTrack${i[1]}`,s=this.captionsProperties[a];s&&(s.label=n.name,n.lang&&(s.languageCode=n.lang),s.media=n)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Et.MAIN){var n,i;const{cea608Parser1:a,cea608Parser2:s,lastSn:o}=this,{cc:l,sn:u}=t.frag,c=(n=(i=t.part)==null?void 0:i.index)!=null?n:-1;a&&s&&(u!==o+1||u===o&&c!==this.lastPartIndex+1||l!==this.lastCc)&&(a.reset(),s.reset()),this.lastCc=l,this.lastSn=u,this.lastPartIndex=c}}onFragLoaded(e,t){const{frag:n,payload:i}=t;if(n.type===Et.SUBTITLE)if(i.byteLength){const a=n.decryptdata,s="stats"in t;if(a==null||!a.encrypted||s){const o=this.tracks[n.level],l=this.vttCCs;l[n.cc]||(l[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===o_?this._parseIMSC1(n,i):this._parseVTTs(t)}}else this.hls.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;JU(t,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var t;const{frag:n,payload:i}=e,{initPTS:a,unparsedVttFrags:s}=this,o=a.length-1;if(!a[n.cc]&&o===-1){s.push(e);return}const l=this.hls,u=(t=n.initSegment)!=null&&t.data?Qa(n.initSegment.data,new Uint8Array(i)).buffer:i;gCe(u,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,c=>{this._appendCues(c,n.level),l.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},c=>{const h=c.message==="Missing initPTS for VTT MPEGTS";h?s.push(e):this._fallbackToIMSC1(n,i),l.logger.log(`Failed to parse VTT cue: ${c}`),!(h&&o>n.cc)&&l.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:c})})}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||JU(t,this.initPTS[e.cc],()=>{n.textCodec=o_,this._parseIMSC1(e,t)},()=>{n.textCodec="wvtt"})}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[t];if(!i||i.mode==="disabled")return;e.forEach(a=>NK(i,a))}else{const i=this.tracks[t];if(!i)return;const a=i.default?"default":"subtitles"+t;n.trigger(G.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===Et.SUBTITLE&&this.onFragLoaded(G.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=t;if(!(n.type===Et.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let a=0;a<i.length;a++){const s=i[a].bytes;if(s){this.cea608Parser1||this.initCea608Parsers();const o=this.extractCea608Data(s);this.cea608Parser1.addData(i[a].pts,o[0]),this.cea608Parser2.addData(i[a].pts,o[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:n,endOffsetSubtitles:i,type:a}){const{media:s}=this;if(!(!s||s.currentTime<n)){if(!a||a==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>H2(o[l],t,n))}if(this.config.renderTextTracksNatively&&t===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>H2(o[l],t,i))}}}extractCea608Data(e){const t=[[],[]],n=e[0]&31;let i=2;for(let a=0;a<n;a++){const s=e[i++],o=127&e[i++],l=127&e[i++];if(o===0&&l===0)continue;if((4&s)!==0){const c=3&s;(c===0||c===1)&&(t[c].push(o),t[c].push(l))}}return t}}function YK(r){return r.characteristics&&/transcribes-spoken-dialog/gi.test(r.characteristics)&&/describes-music-and-sound/gi.test(r.characteristics)?"captions":"subtitles"}function r6(r,e){return!!r&&r.kind===YK(e)&&B2(e,r)}function wCe(r,e,t,n){return Math.min(e,n)-Math.max(r,t)}function n6(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const _Ce=/\s/,TCe={newCue(r,e,t,n){const i=[];let a,s,o,l,u;const c=self.VTTCue||self.TextTrackCue;for(let p=0;p<n.rows.length;p++)if(a=n.rows[p],o=!0,l=0,u="",!a.isEmpty()){var h;for(let y=0;y<a.chars.length;y++)_Ce.test(a.chars[y].uchar)&&o?l++:(u+=a.chars[y].uchar,o=!1);a.cueStartTime=e,e===t&&(t+=1e-4),l>=16?l--:l++;const m=HK(u.trim()),g=QC(e,t,m);r!=null&&(h=r.cues)!=null&&h.getCueById(g)||(s=new c(e,t,m),s.id=g,s.line=p+1,s.align="left",s.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(s))}return r&&i.length&&(i.sort((p,m)=>p.line==="auto"||m.line==="auto"?0:p.line>8&&m.line>8?m.line-p.line:p.line-m.line),i.forEach(p=>NK(r,p))),i}};function ACe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const DCe=/(\d+)-(\d+)\/(\d+)/;class i6{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||RCe,this.controller=new self.AbortController,this.stats=new CC}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const a=OCe(e,this.controller.signal),s=e.responseType==="arraybuffer",o=s?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:u}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=l&&yt(l)?l:u,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},t.timeout),(J0(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(h=>{var p;this.response=this.loader=h;const m=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},u-(m-i.loading.start)),!h.ok){const{status:y,statusText:x}=h;throw new kCe(x||"fetch, bad network response",y,h)}i.loading.first=m,i.total=ICe(h.headers)||i.total;const g=(p=this.callbacks)==null?void 0:p.onProgress;return g&&yt(t.highWaterMark)?this.loadProgressively(h,i,e,t.highWaterMark,g):s?h.arrayBuffer():e.responseType==="json"?h.json():h.text()}).then(h=>{var p,m;const g=this.response;if(!g)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=h[o];y&&(i.loaded=i.total=y);const x={url:g.url,data:h,code:g.status},E=(p=this.callbacks)==null?void 0:p.onProgress;E&&!yt(t.highWaterMark)&&E(i,e,h,g),(m=this.callbacks)==null||m.onSuccess(x,i,e,g)}).catch(h=>{var p;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const m=h&&h.code||0,g=h?h.message:null;(p=this.callbacks)==null||p.onError({code:m,text:g},e,h?h.details:null,i)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n,i=0,a){const s=new rK,o=e.body.getReader(),l=()=>o.read().then(u=>{if(u.done)return s.dataLength&&a(t,n,s.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const c=u.value,h=c.length;return t.loaded+=h,h<i||s.dataLength?(s.push(c),s.dataLength>=i&&a(t,n,s.flush().buffer,e)):a(t,n,c.buffer,e),l()}).catch(()=>Promise.reject());return l()}}function OCe(r,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Er({},r.headers))};return r.rangeEnd&&t.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),t}function CCe(r){const e=DCe.exec(r);if(e)return parseInt(e[2])-parseInt(e[1])+1}function ICe(r){const e=r.get("Content-Range");if(e){const n=CCe(e);if(yt(n))return n}const t=r.get("Content-Length");if(t)return parseInt(t)}function RCe(r,e){return new self.Request(r.url,e)}class kCe extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const PCe=/^age:\s*[\d.]+\s*$/im;class zK{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new CC,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return a(n,t.url)}).catch(s=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",t.url,!0),a(n,t.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,t,e)}).catch(s=>{var o;(o=this.callbacks)==null||o.onError({code:n.status,text:s.message},t,n,i)}):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const i=t.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:s}=n.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&yt(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const i=t.readyState,a=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const u=t.status,c=t.responseType==="text"?t.responseText:null;if(u>=200&&u<300){const g=c??t.response;if(g!=null){var s,o;n.loading.end=Math.max(self.performance.now(),n.loading.first);const y=t.responseType==="arraybuffer"?g.byteLength:g.length;n.loaded=n.total=y,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const x=(s=this.callbacks)==null?void 0:s.onProgress;x&&x(n,e,g,t);const E={url:t.responseURL,data:g,code:u};(o=this.callbacks)==null||o.onSuccess(E,n,e,t);return}}const h=a.loadPolicy.errorRetry,p=n.retry,m={url:e.url,data:void 0,code:u};if(fx(h,p,!1,m))this.retry(h);else{var l;pr.error(`${u} while loading ${e.url}`),(l=this.callbacks)==null||l.onError({code:u,text:t.statusText},e,t,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(fx(e,t,!0))this.retry(e);else{var n;pr.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=PC(e,n.retry),n.retry++,pr.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t?.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&PCe.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const LCe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},MCe=hr(hr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:zK,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:zAe,bufferController:FDe,capLevelController:zC,errorController:ZAe,fpsController:BOe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:KW,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:LCe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},NCe()),{},{subtitleStreamController:XOe,subtitleTrackController:$Oe,timelineController:ECe,audioStreamController:PDe,audioTrackController:LDe,emeController:sh,cmcdController:LOe,contentSteeringController:NOe,interstitialsController:qOe});function NCe(){return{cueHandler:TCe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function FCe(r,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=W2(r),i=["manifest","level","frag"],a=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,l=e[o]===void 0,u=[];a.forEach(c=>{const h=`${s}Loading${c}`,p=e[h];if(p!==void 0&&l){u.push(h);const m=n[o].default;switch(e[o]={default:m},c){case"TimeOut":m.maxLoadTimeMs=p,m.maxTimeToFirstByteMs=p;break;case"MaxRetry":m.errorRetry.maxNumRetry=p,m.timeoutRetry.maxNumRetry=p;break;case"RetryDelay":m.errorRetry.retryDelayMs=p,m.timeoutRetry.retryDelayMs=p;break;case"MaxRetryTimeout":m.errorRetry.maxRetryDelayMs=p,m.timeoutRetry.maxRetryDelayMs=p;break}}}),u.length&&t.warn(`hls.js config: "${u.join('", "')}" setting(s) are deprecated, use "${o}": ${Dr(e[o])}`)}),hr(hr({},n),e)}function W2(r){return r&&typeof r=="object"?Array.isArray(r)?r.map(W2):Object.keys(r).reduce((e,t)=>(e[t]=W2(r[t]),e),{}):r}function BCe(r,e){const t=r.loader;t!==i6&&t!==zK?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):ACe()&&(r.loader=i6,r.progressive=!0,r.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Fv=2,UCe=.1,jCe=.05,$Ce=100;class HCe extends jW{constructor(e,t){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(G.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval($Ce),this.mediaSource=t.mediaSource;const n=this.media=t.media;Oi(n,"playing",this.onMediaPlaying),Oi(n,"waiting",this.onMediaWaiting),Oi(n,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:n}=this;n&&(Yi(n,"playing",this.onMediaPlaying),Yi(n,"waiting",this.onMediaWaiting),Yi(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var n,i;const a=(n=this.hls)==null?void 0:n.config;if(!a)return;const s=this.media;if(!s)return;const{seeking:o}=s,l=this.seeking&&!o,u=!this.seeking&&o,c=s.paused&&!o||s.ended||s.playbackRate===0;if(this.seeking=o,e!==t){t&&(this.ended=0),this.moved=!0,o||(this.nudgeRetry=0,a.nudgeOnVideoHole&&!c&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(u||l){l&&this.stallResolved(e);return}if(c){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&s.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(G.MEDIA_ENDED,{stalled:!1}));return}if(!Ft.getBuffered(s).length){this.nudgeRetry=0;return}const h=Ft.bufferInfo(s,e,0),p=h.nextStart||0,m=this.fragmentTracker;if(o&&m&&this.hls){const O=a6(this.hls.inFlightFragments,e),A=h.len>Fv,I=!p||O||p-e>Fv&&!m.getPartialFragment(e);if(A||I)return;this.moved=!1}const g=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&m){if(!(h.len>0)&&!p)return;const A=Math.max(p,h.start||0)-e,k=!!(g!=null&&g.live)?g.targetduration*2:Fv,N=Wg(e,m);if(A>0&&(A<=k||N)){s.paused||this._trySkipBufferHole(N);return}}const y=a.detectStallWithCurrentTimeMs,x=self.performance.now(),E=this.waiting;let S=this.stalled;if(S===null)if(E>0&&x-E<y)S=this.stalled=E;else{this.stalled=x;return}const w=x-S;if(!o&&(w>=y||E)&&this.hls){var T;if(((T=this.mediaSource)==null?void 0:T.readyState)==="ended"&&!(g!=null&&g.live)&&Math.abs(e-(g?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(G.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(h),!this.media||!this.hls)return}const _=Ft.bufferInfo(s,e,a.maxBufferHole);this._tryFixBufferStall(_,w,e)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(G.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const a=Ft.bufferedInfo(Ft.timeRangesToArray(this.buffered.audio),e,0);if(a.len>1&&t>=a.start){const s=Ft.timeRangesToArray(i),o=Ft.bufferedInfo(s,t,0).bufferedIndex;if(o>-1&&o<s.length-1){const l=Ft.bufferedInfo(s,e,0).bufferedIndex,u=s[o].end,c=s[o+1].start;if((l===-1||l>o)&&c-u<1&&e-u<2){const h=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${u} -> ${c} buffered index: ${l}`);this.warn(h.message),this.media.currentTime+=1e-6;let p=Wg(e,this.fragmentTracker);p&&"fragment"in p?p=p.fragment:p||(p=void 0);const m=Ft.bufferInfo(this.media,e,0);this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:p,buffer:m.len,bufferInfo:m})}}}}}_tryFixBufferStall(e,t,n){var i,a;const{fragmentTracker:s,media:o}=this,l=(i=this.hls)==null?void 0:i.config;if(!o||!s||!l)return;const u=(a=this.hls)==null?void 0:a.latestLevelDetails,c=Wg(n,s);if((c||u!=null&&u.live&&n<u.fragmentStart)&&(this._trySkipBufferHole(c)||!this.media))return;const h=e.buffered,p=this.adjacentTraversal(e,n);(h&&h.length>1&&e.len>l.maxBufferHole||e.nextStart&&(e.nextStart-n<l.maxBufferHole||p))&&(t>l.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,t){const n=this.fragmentTracker,i=e.nextStart;if(n&&i){const a=n.getFragAtPos(t,Et.MAIN),s=n.getFragAtPos(i,Et.MAIN);if(a&&s)return s.sn-a.sn<2}return!1}_reportStall(e){const{hls:t,media:n,stallReported:i,stalled:a}=this;if(!i&&a!==null&&n&&t){this.stallReported=!0;const s=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${Dr(e)})`);this.warn(s.message),t.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len,bufferInfo:e,stalled:{start:a}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:n,media:i}=this,a=(t=this.hls)==null?void 0:t.config;if(!i||!n||!a)return 0;const s=i.currentTime,o=Ft.bufferInfo(i,s,0),l=s<o.start?o.start:o.nextStart;if(l&&this.hls){const c=o.len<=a.maxBufferHole,h=o.len>0&&o.len<1&&i.readyState<3,p=l-s;if(p>0&&(c||h)){if(p>a.maxBufferHole){let g=!1;if(s===0){const y=n.getAppendedFrag(0,Et.MAIN);y&&l<y.end&&(g=!0)}if(!g&&e){var u;if(!((u=this.hls.loadLevelObj)!=null&&u.details)||a6(this.hls.inFlightFragments,l))return 0;let x=!1,E=e.end;for(;E<l;){const S=Wg(E,n);if(S)E+=S.duration;else{x=!0;break}}if(x)return 0}}const m=Math.max(l+jCe,s+UCe);if(this.warn(`skipping hole, adjusting currentTime from ${s} to ${m}`),this.moved=!0,i.currentTime=m,!(e!=null&&e.gap)){const g=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${m}`),y={type:Dt.MEDIA_ERROR,details:Me.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:g,reason:g.message,buffer:o.len,bufferInfo:o};e&&("fragment"in e?y.part=e:y.frag=e),this.hls.trigger(G.ERROR,y)}return m}}return 0}_tryNudgeBuffer(e){const{hls:t,media:n,nudgeRetry:i}=this,a=t?.config;if(!n||!a)return 0;const s=n.currentTime;if(this.nudgeRetry++,i<a.nudgeMaxRetry){const o=s+(i+1)*a.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${s} to ${o}`);this.warn(l.message),n.currentTime=o,t.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1,buffer:e.len,bufferInfo:e})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${a.nudgeMaxRetry} nudges`);this.error(o.message),t.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.BUFFER_STALLED_ERROR,error:o,fatal:!0,buffer:e.len,bufferInfo:e})}}}function a6(r,e){const t=s6(r.main);if(t&&t.start<=e)return t;const n=s6(r.audio);return n&&n.start<=e?n:null}function s6(r){if(!r)return null;switch(r.state){case rt.IDLE:case rt.STOPPED:case rt.ENDED:case rt.ERROR:return null}return r.frag}function Wg(r,e){return e.getAppendedFrag(r,Et.MAIN)||e.getPartialFragment(r)}const GCe=.25;function K2(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function f_(r,e,t,n,i){let a=new r(e,t,"");try{a.value=n,i&&(a.type=i)}catch{a=new r(e,t,Dr(i?hr({type:i},n):n))}return a}const Kg=(()=>{const r=K2();try{r&&new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class WCe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(G.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(G.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(G.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,t){var n;this.media=t.media,((n=t.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const t=(e=this.hls)==null?void 0:e.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&Vf(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if(n.kind==="metadata"&&n.label==="id3")return MK(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:i}=this.hls.config;if(!n&&!i)return;const{samples:a}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=K2();if(s)for(let o=0;o<a.length;o++){const l=a[o].type;if(l===ya.emsg&&!n||!i)continue;const u=uK(a[o].data),c=a[o].pts;let h=c+a[o].duration;h>Kg&&(h=Kg),h-c<=0&&(h=c+GCe);for(let m=0;m<u.length;m++){const g=u[m];if(!cK(g)){this.updateId3CueEnds(c,l);const y=f_(s,c,h,g,l);y&&this.id3Track.addCue(y)}}}}updateId3CueEnds(e,t){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let a=i.length;a--;){const s=i[a];s.type===t&&s.startTime<e&&s.endTime===Kg&&(s.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:n,type:i}){const{id3Track:a,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=s;if(a&&(o||l)){let u;i==="audio"?u=c=>c.type===ya.audioId3&&l:i==="video"?u=c=>c.type===ya.emsg&&o:u=c=>c.type===ya.audioId3&&l||c.type===ya.emsg&&o,H2(a,t,n,u)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:i,enableDateRangeMetadataCues:a,interstitialsController:s}=this.hls.config;if(!a)return;const o=K2();if(n&&i&&!s){const{fragmentStart:y,fragmentEnd:x}=e;let E=this.assetCue;E?(E.startTime=y,E.endTime=x):o&&(E=this.assetCue=f_(o,y,x,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),E&&(E.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(E),E.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:l}=this,{dateRanges:u}=e,c=Object.keys(u);let h=this.dateRangeCuesAppended;if(l&&t){var p;if((p=l.cues)!=null&&p.length){const y=Object.keys(h).filter(x=>!c.includes(x));for(let x=y.length;x--;){var m;const E=y[x],S=(m=h[E])==null?void 0:m.cues;delete h[E],S&&Object.keys(S).forEach(w=>{const T=S[w];if(T){T.removeEventListener("enter",this.onEventCueEnter);try{l.removeCue(T)}catch{}}})}}else h=this.dateRangeCuesAppended={}}const g=e.fragments[e.fragments.length-1];if(!(c.length===0||!yt(g?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let y=0;y<c.length;y++){const x=c[y],E=u[x],S=E.startTime,w=h[x],T=w?.cues||{};let _=w?.durationKnown||!1,O=Kg;const{duration:A,endDate:I}=E;if(I&&A!==null)O=S+A,_=!0;else if(E.endOnNext&&!_){const N=c.reduce((B,R)=>{if(R!==E.id){const H=u[R];if(H.class===E.class&&H.startDate>E.startDate&&(!B||E.startDate<B.startDate))return H}return B},null);N&&(O=N.startTime,_=!0)}const k=Object.keys(E.attr);for(let N=0;N<k.length;N++){const B=k[N];if(!f2e(B))continue;const R=T[B];if(R)_&&!(w!=null&&w.durationKnown)?R.endTime=O:Math.abs(R.startTime-S)>.01&&(R.startTime=S,R.endTime=O);else if(o){let H=E.attr[B];h2e(B)&&(H=bW(H));const Y=f_(o,S,O,{key:B,data:H},ya.dateRange);Y&&(Y.id=x,this.id3Track.addCue(Y),T[B]=Y,s&&(B==="X-ASSET-LIST"||B==="X-ASSET-URL")&&Y.addEventListener("enter",this.onEventCueEnter))}}h[x]={cues:T,dateRange:E,durationKnown:_}}}}}class KCe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,n=this.levelDetails;if(!t||!n)return;this.currentTime=t.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:a,maxLiveSyncPlaybackRate:s}=this.config;if(!a||s===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const l=i-o,u=Math.min(this.maxLatency,o+n.targetduration);if(l<u&&l>.05&&this.forwardBufferLength>1){const h=Math.min(2,Math.max(1,s)),p=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20,m=Math.min(h,Math.max(1,p));this.changeMediaPlaybackRate(t,m)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:a,liveSyncDurationCount:s,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let u=o&&n||t;(this._targetLatencyUpdated||l.liveSyncDuration||l.liveSyncDurationCount||u===0)&&(u=a!==void 0?a:s*i);const c=i;return u+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,c)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,a=e-t-this.edgeStalled,s=i-n.totalduration,o=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(s,a),o)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(G.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(G.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var n;t.details===Me.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var n,i;e.playbackRate!==t&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class YCe extends YC{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(G.LEVEL_LOADED,this.onLevelLoaded,this),e.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(G.FRAG_BUFFERED,this.onFragBuffered,this),e.on(G.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(G.LEVEL_LOADED,this.onLevelLoaded,this),e.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(G.FRAG_BUFFERED,this.onFragBuffered,this),e.off(G.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,i=[],a={},s={};let o=!1,l=!1,u=!1;t.levels.forEach(c=>{const h=c.attrs;let{audioCodec:p,videoCodec:m}=c;p&&(c.audioCodec=p=ox(p,n)||void 0),m&&(m=c.videoCodec=OAe(m));const{width:g,height:y,unknownCodecs:x}=c,E=x?.length||0;if(o||(o=!!(g&&y)),l||(l=!!m),u||(u=!!p),E||p&&!this.isAudioSupported(p)||m&&!this.isVideoSupported(m)){this.log(`Some or all CODECS not supported "${h.CODECS}"`);return}const{CODECS:S,"FRAME-RATE":w,"HDCP-LEVEL":T,"PATHWAY-ID":_,RESOLUTION:O,"VIDEO-RANGE":A}=h,k=`${`${_||"."}-`}${c.bitrate}-${O}-${w}-${S}-${A}-${T}`;if(a[k])if(a[k].uri!==c.url&&!c.attrs["PATHWAY-ID"]){const N=s[k]+=1;c.attrs["PATHWAY-ID"]=new Array(N+1).join(".");const B=this.createLevel(c);a[k]=B,i.push(B)}else a[k].addGroupId("audio",h.AUDIO),a[k].addGroupId("text",h.SUBTITLES);else{const N=this.createLevel(c);a[k]=N,s[k]=1,i.push(N)}}),this.filterAndSortMediaOptions(i,t,o,l,u)}createLevel(e){const t=new X0(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),t.supportedResult=kW(i,[])}return t}isAudioSupported(e){return V0(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return V0(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,n,i,a){var s;let o=[],l=[],u=e;const c=((s=t.stats)==null?void 0:s.parsing)||{};if((n||i)&&a&&(u=u.filter(({videoCodec:S,videoRange:w,width:T,height:_})=>(!!S||!!(T&&_))&&BAe(w))),u.length===0){Promise.resolve().then(()=>{if(this.hls){let S="no level with compatible codecs found in manifest",w=S;t.levels.length&&(w=`one or more CODECS in variant not supported: ${Dr(t.levels.map(_=>_.attrs.CODECS).filter((_,O,A)=>A.indexOf(_)===O))}`,this.warn(w),S+=` (${w})`);const T=new Error(S);this.hls.trigger(G.ERROR,{type:Dt.MEDIA_ERROR,details:Me.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:T,reason:w})}}),c.end=performance.now();return}t.audioTracks&&(o=t.audioTracks.filter(S=>!S.audioCodec||this.isAudioSupported(S.audioCodec)),o6(o)),t.subtitles&&(l=t.subtitles,o6(l));const h=u.slice(0);u.sort((S,w)=>{if(S.attrs["HDCP-LEVEL"]!==w.attrs["HDCP-LEVEL"])return(S.attrs["HDCP-LEVEL"]||"")>(w.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&S.height!==w.height)return S.height-w.height;if(S.frameRate!==w.frameRate)return S.frameRate-w.frameRate;if(S.videoRange!==w.videoRange)return lx.indexOf(S.videoRange)-lx.indexOf(w.videoRange);if(S.videoCodec!==w.videoCodec){const T=ZB(S.videoCodec),_=ZB(w.videoCodec);if(T!==_)return _-T}if(S.uri===w.uri&&S.codecSet!==w.codecSet){const T=sx(S.codecSet),_=sx(w.codecSet);if(T!==_)return _-T}return S.averageBitrate!==w.averageBitrate?S.averageBitrate-w.averageBitrate:0});let p=h[0];if(this.steering&&(u=this.steering.filterParsedLevels(u),u.length!==h.length)){for(let S=0;S<h.length;S++)if(h[S].pathwayId===u[0].pathwayId){p=h[S];break}}this._levels=u;for(let S=0;S<u.length;S++)if(u[S]===p){var m;this._firstLevel=S;const w=p.bitrate,T=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${u.length} level(s) found, first bitrate: ${w}`),((m=this.hls.userConfig)==null?void 0:m.abrEwmaDefaultEstimate)===void 0){const _=Math.min(w,this.hls.config.abrEwmaDefaultEstimateMax);_>T&&T===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=_)}break}const g=a&&!i,y=this.hls.config,x=!!(y.audioStreamController&&y.audioTrackController),E={levels:u,audioTracks:o,subtitleTracks:l,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:a,video:i,altAudio:x&&!g&&o.some(S=>!!S.url)};c.end=performance.now(),this.hls.trigger(G.MANIFEST_PARSED,E)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const c=new Error("invalid level idx"),h=e<0;if(this.hls.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.LEVEL_SWITCH_ERROR,level:e,fatal:h,error:c,reason:c.message}),h)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,a=i?i.attrs["PATHWAY-ID"]:void 0,s=t[e],o=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,n===e&&i&&a===o)return;this.log(`Switching to level ${e} (${s.height?s.height+"p ":""}${s.videoRange?s.videoRange+" ":""}${s.codecSet?s.codecSet+" ":""}@${s.bitrate})${o?" with Pathway "+o:""} from level ${n}${a?" with Pathway "+a:""}`);const l={level:e,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger(G.LEVEL_SWITCHING,l);const u=s.details;if(!u||u.live){const c=this.switchParams(s.uri,i?.details,u);this.loadPlaylist(c)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),n=e.filter(i=>t.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=n}}onError(e,t){t.fatal||!t.context||t.context.type===Wt.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===Et.MAIN){const n=t.elementaryStreams;if(!Object.keys(n).some(a=>!!n[a]))return;const i=this._levels[t.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,t){var n;const{level:i,details:a}=t,s=t.levelInfo;if(!s){var o;this.warn(`Invalid level index ${i}`),(o=t.deliveryDirectives)!=null&&o.skip&&(a.deltaUpdateFailed=!0);return}if(s===this.currentLevel||t.withoutMultiVariant){s.fragmentError===0&&(s.loadError=0);let l=s.details;l===t.details&&l.advanced&&(l=void 0),this.playlistLoaded(i,t,l)}else(n=t.deliveryDirectives)!=null&&n.skip&&(a.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=this.getUrlWithDirectives(e.uri,t),i=this.currentLevelIndex,a=e.attrs["PATHWAY-ID"],s=e.details,o=s?.age;this.log(`Loading level index ${i}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${a?" Pathway "+a:""}${o&&s.live?" age "+o.toFixed(1)+(s.type&&" "+s.type||""):""} ${n}`),this.hls.trigger(G.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const n=this._levels.filter((a,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(a),a===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,a.details&&a.details.fragments.forEach(o=>o.level=-1)),!1));JW(n),this._levels=n,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(G.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(G.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function o6(r){const e={};r.forEach(t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++})}function VK(){return self.SourceBuffer||self.WebKitSourceBuffer}function qK(){if(!Eu())return!1;const e=VK();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function zCe(){if(!qK())return!1;const r=Eu();return typeof r?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>r.isTypeSupported(q0(e,"video")))||["mp4a.40.2","fLaC"].some(e=>r.isTypeSupported(q0(e,"audio"))))}function VCe(){var r;const e=VK();return typeof(e==null||(r=e.prototype)==null?void 0:r.changeType)=="function"}const qCe=100;class XCe extends BC{constructor(e,t,n){super(e,t,n,"stream-controller",Et.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,a=i?i.currentTime:null;if(a===null||!yt(a)||(this.log(`Media seeked to ${a.toFixed(3)}`),!this.getBufferedFrag(a)))return;const s=this.getFwdBufferInfoAtPos(i,a,Et.MAIN,0);if(s===null||s.len===0){this.warn(`Main forward buffer length at ${a} on "seeked" event ${s?s.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(G.MANIFEST_PARSED,this.onManifestParsed,this),e.on(G.LEVEL_LOADING,this.onLevelLoading,this),e.on(G.LEVEL_LOADED,this.onLevelLoaded,this),e.on(G.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(G.BUFFER_CREATED,this.onBufferCreated,this),e.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(G.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(G.MANIFEST_PARSED,this.onManifestParsed,this),e.off(G.LEVEL_LOADED,this.onLevelLoaded,this),e.off(G.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(G.BUFFER_CREATED,this.onBufferCreated,this),e.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(G.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(qCe),this.level=-1,!this.startFragRequested){let a=i.startLevel;a===-1&&(i.config.testBandwidth&&this.levels.length>1?(a=0,this.bitrateTest=!0):a=i.firstAutoLevel),i.nextLoadLevel=a,this.level=i.loadLevel,this._hasEnoughToStart=!!t}n>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=rt.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=rt.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case rt.WAITING_LEVEL:{const{levels:e,level:t}=this,n=e?.[t],i=n?.details;if(i&&(!i.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(i))break;this.state=rt.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=rt.IDLE;break}break}case rt.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===rt.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:i}=this;if(t===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const a=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[a]))return;const s=n[a],o=this.getMainFwdBufferInfo();if(o===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(G.BUFFER_EOS,y),this.state=rt.ENDED;return}if(!this.buffering)return;e.loadLevel!==a&&e.manualLevel===-1&&this.log(`Adapting to level ${a} from level ${this.level}`),this.level=e.nextLoadLevel=a;const u=s.details;if(!u||this.state===rt.WAITING_LEVEL||this.waitForLive(s)){this.level=a,this.state=rt.WAITING_LEVEL,this.startFragRequested=!1;return}const c=o.len,h=this.getMaxBufferLength(s.maxBitrate);if(c>=h)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:o.end;let m=this.getNextFragment(p,u);if(this.couldBacktrack&&!this.fragPrevious&&m&&ln(m)&&this.fragmentTracker.getState(m)!==An.OK){var g;const x=((g=this.backtrackFragment)!=null?g:m).sn-u.startSN,E=u.fragments[x-1];E&&m.cc===E.cc&&(m=E,this.fragmentTracker.removeFragment(E))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(m&&this.isLoopLoading(m,p)){if(!m.gap){const x=this.audioOnly&&!this.altAudio?Tr.AUDIO:Tr.VIDEO,E=(x===Tr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;E&&this.afterBufferFlushed(E,x,Et.MAIN)}m=this.getNextFragmentLoopLoading(m,u,o,Et.MAIN,h)}m&&(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),this.loadFragment(m,s,p))}loadFragment(e,t,n){const i=this.fragmentTracker.getState(e);i===An.NOT_LOADED||i===An.PARTIAL?ln(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,n):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Et.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let n;const i=this.getAppendedFrag(t.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const a=this.getLevelDetails();if(a!=null&&a.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<a.targetduration*2)return}if(!t.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],u=this.fragLastKbps;u&&this.fragCurrent?n=this.fragCurrent.duration*l.maxBitrate/(1e3*u)+1:n=0}else n=0;const s=this.getBufferedFrag(t.currentTime+n);if(s){const o=this.followingBufferedFrag(s);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,u=o.duration,c=Math.max(s.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*(this.couldBacktrack?.5:.125)),u*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case rt.KEY_LOADING:case rt.FRAG_LOADING:case rt.FRAG_LOADING_WAITING_RETRY:case rt.PARSING:case rt.PARSED:this.state=rt.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;Oi(n,"playing",this.onMediaPlaying),Oi(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:n}=this;n&&(Yi(n,"playing",this.onMediaPlaying),Yi(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(G.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let n=!1,i=!1;for(let a=0;a<t.levels.length;a++){const s=t.levels[a].audioCodec;s&&(n=n||s.indexOf("mp4a.40.2")!==-1,i=i||s.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=n&&i&&!VCe(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==rt.IDLE)return;const i=t.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=rt.WAITING_LEVEL)}onLevelLoaded(e,t){var n;const{levels:i,startFragRequested:a}=this,s=t.level,o=t.details,l=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${l}`);const u=t.levelInfo,c=this.fragCurrent;c&&(this.state===rt.FRAG_LOADING||this.state===rt.FRAG_LOADING_WAITING_RETRY)&&c.level!==t.level&&c.loader&&this.abortCurrentFrag();let h=0;if(o.live||(n=u.details)!=null&&n.live){var p;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;h=this.alignPlaylists(o,u.details,(p=this.levelLastLoaded)==null?void 0:p.details)}if(u.details=o,this.levelLastLoaded=u,a||this.setStartPosition(o,h),this.hls.trigger(G.LEVEL_UPDATED,{details:o,level:s}),this.state===rt.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=rt.IDLE}a&&o.live&&this.synchronizeToLiveEdge(o),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,a=this.getLoadPosition(),s=e.fragmentStart,o=e.edge,l=a>=s-t.maxFragLookUpTolerance&&a<=o;if(i!==null&&n.duration>i&&(a<i||!l)){const c=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;if((!l&&n.readyState<4||a<o-c)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var u;const h=Ft.bufferInfo(n,i,0);if(!((u=h.buffered)!=null&&u.length)){n.currentTime=i;return}if(h.start<=a){n.currentTime=i;return}const{nextStart:m}=Ft.bufferedInfo(h.buffered,a,0);m&&(n.currentTime=m)}else n.currentTime=i}}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:i,payload:a}=e,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=s[n.level];if(!o){this.warn(`Level ${n.level} not found on progress`);return}const l=o.details;if(!l){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const u=o.videoCodec,c=l.PTSKnown||!l.live,h=(t=n.initSegment)==null?void 0:t.data,p=this._getAudioCodec(o),m=this.transmuxer=this.transmuxer||new SK(this.hls,Et.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,y=g!==-1,x=new MC(n.level,n.sn,n.stats.chunkCount,a.byteLength,g,y),E=this.initPTS[n.cc];m.push(a,h,p,u,n,i,l.totalduration,c,x,E)}onAudioTrackSwitching(e,t){const n=this.hls,i=this.altAudio!==0;if(ux(t.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(G.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(G.AUDIO_TRACK_SWITCHED,t)}),n.trigger(G.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(G.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=ux(t.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,t){const n=t.tracks;let i,a,s=!1;for(const o in n){const l=n[o];if(l.id==="main"){if(a=o,i=l,o==="video"){const u=n[o];u&&(this.videoBuffer=u.buffer)}}else s=!0}s&&i?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:i}=t,a=n.type===Et.MAIN;if(a){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===rt.PARSED&&(this.state=rt.IDLE);return}const o=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),ln(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const s=this.media;s&&(!this._hasEnoughToStart&&Ft.getBuffered(s).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),a&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var n;if(t.fatal){this.state=rt.ERROR;return}switch(t.details){case Me.FRAG_GAP:case Me.FRAG_PARSING_ERROR:case Me.FRAG_DECRYPT_ERROR:case Me.FRAG_LOAD_ERROR:case Me.FRAG_LOAD_TIMEOUT:case Me.KEY_LOAD_ERROR:case Me.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Et.MAIN,t);break;case Me.LEVEL_LOAD_ERROR:case Me.LEVEL_LOAD_TIMEOUT:case Me.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===rt.WAITING_LEVEL&&((n=t.context)==null?void 0:n.type)===Wt.LEVEL&&(this.state=rt.IDLE);break;case Me.BUFFER_ADD_CODEC_ERROR:case Me.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.resetLoadingState();break;case Me.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case Me.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=rt.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Tr.AUDIO||!this.altAudio){const n=(t===Tr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,t,Et.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${t}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const a=this.getLevelDetails(),s=Ft.getBuffered(e),o=s.length?s.start(0):0,l=o-n,u=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||l>0&&(l<u||this.loadingParts&&l<2*(a?.partTarget||0)))&&(this.log(`adjusting start position by ${l} to match buffer start`),n+=l,this.startPosition=n),t<n&&(this.log(`seek to target start position ${n} from current time ${t} buffer start ${o}`),e.currentTime=n)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(n=>{const{hls:i}=this,a=n?.frag;if(!a||this.fragContextChanged(a))return;t.fragmentError=0,this.state=rt.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=a.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(G.FRAG_LOADED,n),a.bitrateTest=!1}).catch(n=>{this.state===rt.STOPPED||this.state===rt.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const t=this.playlistType,{hls:n}=this,{remuxResult:i,chunkMeta:a}=e,s=this.getCurrentContext(a);if(!s){this.resetWhenMissingContext(a);return}const{frag:o,part:l,level:u}=s,{video:c,text:h,id3:p,initSegment:m}=i,{details:g}=u,y=this.altAudio?void 0:i.audio;if(this.fragContextChanged(o)){this.fragmentTracker.removeFragment(o);return}if(this.state=rt.PARSING,m){const x=m.tracks;if(x){const T=o.initSegment||o;if(this.unhandledEncryptionError(m,o))return;this._bufferInitSegment(u,x,T,a),n.trigger(G.FRAG_PARSING_INIT_SEGMENT,{frag:T,id:t,tracks:x})}const E=m.initPTS,S=m.timescale,w=this.initPTS[o.cc];if(yt(E)&&(!w||w.baseTime!==E||w.timescale!==S)){const T=m.trackId;this.initPTS[o.cc]={baseTime:E,timescale:S,trackId:T},n.trigger(G.INIT_PTS_FOUND,{frag:o,id:t,initPTS:E,timescale:S,trackId:T})}}if(c&&g){y&&c.type==="audiovideo"&&this.logMuxedErr(o);const x=g.fragments[o.sn-1-g.startSN],E=o.sn===g.startSN,S=!x||o.cc>x.cc;if(i.independent!==!1){const{startPTS:w,endPTS:T,startDTS:_,endDTS:O}=c;if(l)l.elementaryStreams[c.type]={startPTS:w,endPTS:T,startDTS:_,endDTS:O};else if(c.firstKeyFrame&&c.independent&&a.id===1&&!S&&(this.couldBacktrack=!0),c.dropped&&c.independent){const A=this.getMainFwdBufferInfo(),I=(A?A.end:this.getLoadPosition())+this.config.maxBufferHole,k=c.firstKeyFramePTS?c.firstKeyFramePTS:w;if(!E&&I<k-this.config.maxBufferHole&&!S){this.backtrack(o);return}else S&&(o.gap=!0);o.setElementaryStreamInfo(c.type,o.start,T,o.start,O,!0)}else E&&w-(g.appliedTimelineOffset||0)>Fv&&(o.gap=!0);o.setElementaryStreamInfo(c.type,w,T,_,O),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(c,o,l,a,E||S)}else if(E||S)o.gap=!0;else{this.backtrack(o);return}}if(y){const{startPTS:x,endPTS:E,startDTS:S,endDTS:w}=y;l&&(l.elementaryStreams[Tr.AUDIO]={startPTS:x,endPTS:E,startDTS:S,endDTS:w}),o.setElementaryStreamInfo(Tr.AUDIO,x,E,S,w),this.bufferFragmentData(y,o,l,a)}if(g&&p!=null&&p.samples.length){const x={id:t,frag:o,details:g,samples:p.samples};n.trigger(G.FRAG_PARSING_METADATA,x)}if(g&&h){const x={id:t,frag:o,details:g,samples:h.samples};n.trigger(G.FRAG_PARSING_USERDATA,x)}}logMuxedErr(e){this.warn(`${ln(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,n,i){if(this.state!==rt.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(n));const{audio:a,video:s,audiovideo:o}=t;if(a){const u=e.audioCodec;let c=Iv(a.codec,u);c==="mp4a"&&(c="mp4a.40.5");const h=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5");const p=a.metadata;p&&"channelCount"in p&&(p.channelCount||1)!==1&&h.indexOf("firefox")===-1&&(c="mp4a.40.5")}c&&c.indexOf("mp4a.40.5")!==-1&&h.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),u&&u!==c&&this.log(`Swapping manifest audio codec "${u}" for "${c}"`),a.levelCodec=c,a.id=Et.MAIN,this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${c||""}/${u||""}/${a.codec}]`),delete t.audiovideo}if(s){s.levelCodec=e.videoCodec,s.id=Et.MAIN;const u=s.codec;if(u?.length===4)switch(u){case"hvc1":case"hev1":s.codec="hvc1.1.6.L120.90";break;case"av01":s.codec="av01.0.04M.08";break;case"avc1":s.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${e.videoCodec||""}/${u}]${s.codec!==u?" parsed-corrected="+s.codec:""}${s.supplemental?" supplemental="+s.supplemental:""}`),delete t.audiovideo}o&&(this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),delete t.video,delete t.audio);const l=Object.keys(t);if(l.length){if(this.hls.trigger(G.BUFFER_CODECS,t),!this.hls)return;l.forEach(u=>{const h=t[u].initSegment;h!=null&&h.byteLength&&this.hls.trigger(G.BUFFER_APPENDING,{type:u,data:h,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Et.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,n=e?.[t];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=rt.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Ft.isBuffered(e,n)?t=this.getAppendedFrag(n):Ft.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const i=this.fragPlaying,a=t.level;(!i||t.sn!==i.sn||i.level!==a)&&(this.fragPlaying=t,this.hls.trigger(G.FRAG_CHANGED,{frag:t}),(!i||i.level!==a)&&this.hls.trigger(G.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return yt(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(yt(t)){const n=this.getLevelDetails(),i=this.currentFrag||(n?kc(null,n.fragments,t):null);if(i){const a=i.programDateTime;if(a!==null){const s=a+(t-i.start)*1e3;return new Date(s)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class QCe extends es{constructor(e,t){super("key-loader",t),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[n].loader;if(i){var t;if(e&&e!==((t=i.context)==null?void 0:t.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e].loader;t&&t.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,t=Me.KEY_LOAD_ERROR,n,i,a){return new Ro({type:Dt.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:a,error:n,networkDetails:i})}loadClear(e,t,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(let i=0,a=t.length;i<a;i++){const s=t[i];if(e.cc<=s.cc&&(!ln(e)||!ln(s)||e.sn<s.sn)||!n&&i==a-1)return this.emeController.selectKeySystemFormat(s).then(o=>{if(!this.emeController)return;s.setKeyFormat(o);const l=kv(o);if(l)return this.emeController.getKeySystemAccess([l])})}if(this.config.requireKeySystemAccessOnStart){const i=s0(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var n,i;t&&e.setKeyFormat(t);const a=e.decryptdata;if(!a){const u=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,Me.KEY_LOAD_ERROR,u))}const s=a.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,Me.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));const o=h_(a);let l=this.keyIdToKeyInfo[o];if((n=l)!=null&&n.decryptdata.key)return a.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(this.emeController&&(i=l)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(l.decryptdata)){case"usable":case"usable-in-future":return l.keyLoadPromise.then(c=>{const{keyInfo:h}=c;return a.key=h.decryptdata.key,{frag:e,keyInfo:h}})}switch(this.log(`${this.keyIdToKeyInfo[o]?"Rel":"L"}oading${a.keyId?" keyId: "+ti(a.keyId):""} URI: ${a.uri} from ${e.type} ${e.level}`),l=this.keyIdToKeyInfo[o]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,Me.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=t.initSegment)!=null&&i.data){const s=gAe(t.initSegment.data);if(s.length){let o=s[0];o.some(l=>l!==0)?(this.log(`Using keyId found in init segment ${ti(o)}`),du.setKeyIdForUri(e.decryptdata.uri,o)):(o=du.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${ti(o)}`)),e.decryptdata.keyId=o}}if(!e.decryptdata.keyId&&!ln(t))return Promise.resolve(n);const a=this.emeController.loadKey(n);return(e.keyLoadPromise=a.then(s=>(e.mediaKeySessionContext=s,n))).catch(s=>{throw e.keyLoadPromise=null,"data"in s&&(s.data.frag=t),s})}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,i=n.loader,a=new i(n);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((s,o)=>{const l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},u=n.keyLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(p,m,g,y)=>{const{frag:x,keyInfo:E}=g,S=h_(E.decryptdata);if(!x.decryptdata||E!==this.keyIdToKeyInfo[S])return o(this.createKeyLoadError(x,Me.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));E.decryptdata.key=x.decryptdata.key=new Uint8Array(p.data),x.keyLoader=null,E.loader=null,s({frag:x,keyInfo:E})},onError:(p,m,g,y)=>{this.resetLoader(m),o(this.createKeyLoadError(t,Me.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),g,hr({url:l.url,data:void 0},p)))},onTimeout:(p,m,g)=>{this.resetLoader(m),o(this.createKeyLoadError(t,Me.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(p,m,g)=>{this.resetLoader(m),o(this.createKeyLoadError(t,Me.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};a.load(l,c,h)})}resetLoader(e){const{frag:t,keyInfo:n,url:i}=e,a=n.loader;t.keyLoader===a&&(t.keyLoader=null,n.loader=null);const s=h_(n.decryptdata)||i;delete this.keyIdToKeyInfo[s],a&&a.destroy()}}function h_(r){if(r.keyFormat!==ri.FAIRPLAY){const e=r.keyId;if(e)return ti(e)}return r.uri}function l6(r){const{type:e}=r;switch(e){case Wt.AUDIO_TRACK:return Et.AUDIO;case Wt.SUBTITLE_TRACK:return Et.SUBTITLE;default:return Et.MAIN}}function d_(r,e){let t=r.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class ZCe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(G.MANIFEST_LOADING,this.onManifestLoading,this),e.on(G.LEVEL_LOADING,this.onLevelLoading,this),e.on(G.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(G.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(G.MANIFEST_LOADING,this.onManifestLoading,this),e.off(G.LEVEL_LOADING,this.onLevelLoading,this),e.off(G.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(G.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,i=t.loader,a=n||i,s=new a(t);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Wt.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:n,level:i,pathwayId:a,url:s,deliveryDirectives:o,levelInfo:l}=t;this.load({id:n,level:i,pathwayId:a,responseType:"text",type:Wt.LEVEL,url:s,deliveryDirectives:o,levelOrTrack:l})}onAudioTrackLoading(e,t){const{id:n,groupId:i,url:a,deliveryDirectives:s,track:o}=t;this.load({id:n,groupId:i,level:null,responseType:"text",type:Wt.AUDIO_TRACK,url:a,deliveryDirectives:s,levelOrTrack:o})}onSubtitleTrackLoading(e,t){const{id:n,groupId:i,url:a,deliveryDirectives:s,track:o}=t;this.load({id:n,groupId:i,level:null,responseType:"text",type:Wt.SUBTITLE_TRACK,url:a,deliveryDirectives:s,levelOrTrack:o})}onLevelsUpdated(e,t){const n=this.loaders[Wt.LEVEL];if(n){const i=n.context;i&&!t.levels.some(a=>a===i.levelOrTrack)&&(n.abort(),delete this.loaders[Wt.LEVEL])}}load(e){var t;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const u=this.hls.logger,c=i.context;if(c&&c.levelOrTrack===e.levelOrTrack&&(c.url===e.url||c.deliveryDirectives&&!e.deliveryDirectives)){c.url===e.url?u.log(`[playlist-loader]: ignore ${e.url} ongoing request`):u.log(`[playlist-loader]: ignore ${e.url} in favor of ${c.url}`);return}u.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let a;if(e.type===Wt.MANIFEST?a=n.manifestLoadPolicy.default:a=Er({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),yt((t=e.deliveryDirectives)==null?void 0:t.part)){let u;if(e.type===Wt.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===Wt.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===Wt.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const c=u.partTarget,h=u.targetduration;if(c&&h){const p=Math.max(c*3,h*.8)*1e3;a=Er({},a,{maxTimeToFirstByteMs:Math.min(p,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,a.maxTimeToFirstByteMs)})}}}const s=a.errorRetry||a.timeoutRetry||{},o={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(u,c,h,p)=>{const m=this.getInternalLoader(h);this.resetInternalLoader(h.type);const g=u.data;c.parsing.start=performance.now(),zs.isMediaPlaylist(g)||h.type!==Wt.MANIFEST?this.handleTrackOrLevelPlaylist(u,c,h,p||null,m):this.handleMasterPlaylist(u,c,h,p)},onError:(u,c,h,p)=>{this.handleNetworkError(c,h,!1,u,p)},onTimeout:(u,c,h)=>{this.handleNetworkError(c,h,!0,void 0,u)}};i.load(e,o,l)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,n,i){const a=this.hls,s=e.data,o=d_(e,n),l=zs.parseMasterPlaylist(s,o);if(l.playlistParsingError){t.parsing.end=performance.now(),this.handleManifestParsingError(e,n,l.playlistParsingError,i,t);return}const{contentSteering:u,levels:c,sessionData:h,sessionKeys:p,startTimeOffset:m,variableList:g}=l;this.variableList=g,c.forEach(S=>{const{unknownCodecs:w}=S;if(w){const{preferManagedMediaSource:T}=this.hls.config;let{audioCodec:_,videoCodec:O}=S;for(let A=w.length;A--;){const I=w[A];V0(I,"audio",T)?(S.audioCodec=_=_?`${_},${I}`:I,_h.audio[_.substring(0,4)]=2,w.splice(A,1)):V0(I,"video",T)&&(S.videoCodec=O=O?`${O},${I}`:I,_h.video[O.substring(0,4)]=2,w.splice(A,1))}}});const{AUDIO:y=[],SUBTITLES:x,"CLOSED-CAPTIONS":E}=zs.parseMasterPlaylistMedia(s,o,l);y.length&&!y.some(w=>!w.url)&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Kr({}),bitrate:0,url:""})),a.trigger(G.MANIFEST_LOADED,{levels:c,audioTracks:y,subtitles:x,captions:E,contentSteering:u,url:o,stats:t,networkDetails:i,sessionData:h,sessionKeys:p,startTimeOffset:m,variableList:g})}handleTrackOrLevelPlaylist(e,t,n,i,a){const s=this.hls,{id:o,level:l,type:u}=n,c=d_(e,n),h=yt(l)?l:yt(o)?o:0,p=l6(n),m=zs.parseLevelPlaylist(e.data,c,h,p,0,this.variableList);if(u===Wt.MANIFEST){const g={attrs:new Kr({}),bitrate:0,details:m,name:"",url:c};m.requestScheduled=t.loading.start+XW(m,0),s.trigger(G.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:c,stats:t,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=m,this.handlePlaylistLoaded(m,e,t,n,i,a)}handleManifestParsingError(e,t,n,i,a){this.hls.trigger(G.ERROR,{type:Dt.NETWORK_ERROR,details:Me.MANIFEST_PARSING_ERROR,fatal:t.type===Wt.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:i,stats:a})}handleNetworkError(e,t,n=!1,i,a){let s=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Wt.LEVEL?s+=`: ${e.level} id: ${e.id}`:(e.type===Wt.AUDIO_TRACK||e.type===Wt.SUBTITLE_TRACK)&&(s+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(s);this.hls.logger.warn(`[playlist-loader]: ${s}`);let l=Me.UNKNOWN,u=!1;const c=this.getInternalLoader(e);switch(e.type){case Wt.MANIFEST:l=n?Me.MANIFEST_LOAD_TIMEOUT:Me.MANIFEST_LOAD_ERROR,u=!0;break;case Wt.LEVEL:l=n?Me.LEVEL_LOAD_TIMEOUT:Me.LEVEL_LOAD_ERROR,u=!1;break;case Wt.AUDIO_TRACK:l=n?Me.AUDIO_TRACK_LOAD_TIMEOUT:Me.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case Wt.SUBTITLE_TRACK:l=n?Me.SUBTITLE_TRACK_LOAD_TIMEOUT:Me.SUBTITLE_LOAD_ERROR,u=!1;break}c&&this.resetInternalLoader(e.type);const h={type:Dt.NETWORK_ERROR,details:l,fatal:u,url:e.url,loader:c,context:e,error:o,networkDetails:t,stats:a};if(i){const p=t?.url||e.url;h.response=hr({url:p,data:void 0},i)}this.hls.trigger(G.ERROR,h)}handlePlaylistLoaded(e,t,n,i,a,s){const o=this.hls,{type:l,level:u,levelOrTrack:c,id:h,groupId:p,deliveryDirectives:m}=i,g=d_(t,i),y=l6(i);let x=typeof i.level=="number"&&y===Et.MAIN?u:void 0;const E=e.playlistParsingError;if(E){if(this.hls.logger.warn(`${E} ${e.url}`),!o.config.ignorePlaylistParsingErrors){o.trigger(G.ERROR,{type:Dt.NETWORK_ERROR,details:Me.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:E,reason:E.message,response:t,context:i,level:x,parent:y,networkDetails:a,stats:n});return}e.playlistParsingError=null}if(!e.fragments.length){const S=e.playlistParsingError=new Error("No Segments found in Playlist");o.trigger(G.ERROR,{type:Dt.NETWORK_ERROR,details:Me.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:S,reason:S.message,response:t,context:i,level:x,parent:y,networkDetails:a,stats:n});return}switch(e.live&&s&&(s.getCacheAge&&(e.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case Wt.MANIFEST:case Wt.LEVEL:if(x){if(!c)x=0;else if(c!==o.levels[x]){const S=o.levels.indexOf(c);S>-1&&(x=S)}}o.trigger(G.LEVEL_LOADED,{details:e,levelInfo:c||o.levels[0],level:x||0,id:h||0,stats:n,networkDetails:a,deliveryDirectives:m,withoutMultiVariant:l===Wt.MANIFEST});break;case Wt.AUDIO_TRACK:o.trigger(G.AUDIO_TRACK_LOADED,{details:e,track:c,id:h||0,groupId:p||"",stats:n,networkDetails:a,deliveryDirectives:m});break;case Wt.SUBTITLE_TRACK:o.trigger(G.SUBTITLE_TRACK_LOADED,{details:e,track:c,id:h||0,groupId:p||"",stats:n,networkDetails:a,deliveryDirectives:m});break}}}class xa{static get version(){return Q0}static isMSESupported(){return qK()}static isSupported(){return zCe()}static getMediaSource(){return Eu()}static get Events(){return G}static get MetadataSchema(){return ya}static get ErrorTypes(){return Dt}static get ErrorDetails(){return Me}static get DefaultConfig(){return xa.defaultConfig?xa.defaultConfig:MCe}static set DefaultConfig(e){xa.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new UC,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=iAe(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=FCe(xa.DefaultConfig,e,t);this.userConfig=e,n.progressive&&BCe(n,t);const{abrController:i,bufferController:a,capLevelController:s,errorController:o,fpsController:l}=n,u=new o(this),c=this.abrController=new i(this),h=new JAe(this),p=n.interstitialsController,m=p?this.interstitialsController=new p(this,xa):null,g=this.bufferController=new a(this,h),y=this.capLevelController=new s(this),x=new l(this),E=new ZCe(this),S=n.contentSteeringController,w=S?new S(this):null,T=this.levelController=new YCe(this,w),_=new WCe(this),O=new QCe(this.config,this.logger),A=this.streamController=new XCe(this,h,O),I=this.gapController=new HCe(this,h);y.setStreamController(A),x.setStreamController(A);const k=[E,T,A];m&&k.splice(1,0,m),w&&k.splice(1,0,w),this.networkControllers=k;const N=[c,g,I,y,x,_,h];this.audioTrackController=this.createController(n.audioTrackController,k);const B=n.audioStreamController;B&&k.push(this.audioStreamController=new B(this,h,O)),this.subtitleTrackController=this.createController(n.subtitleTrackController,k);const R=n.subtitleStreamController;R&&k.push(this.subtititleStreamController=new R(this,h,O)),this.createController(n.timelineController,N),O.emeController=this.emeController=this.createController(n.emeController,N),this.cmcdController=this.createController(n.cmcdController,N),this.latencyController=this.createController(KCe,N),this.coreComponents=N,k.push(u);const H=u.onErrorOut;typeof H=="function"&&this.on(G.ERROR,H,u),this.on(G.MANIFEST_LOADED,E.onManifestLoaded,E)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t,n=this){this._emitter.on(e,t,n)}once(e,t,n=this){this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,n=this,i){this._emitter.off(e,t,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===G.ERROR;this.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(G.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const a=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(G.ERROR,{type:Dt.OTHER_ERROR,details:Me.ATTACH_MEDIA_ERROR,fatal:!0,error:a});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,n=t?e.media:e,i=t?e:{media:n};this._media=n,this.trigger(G.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(G.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(G.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,n=this._url,i=this._url=OC.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),t&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(G.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,t),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Et.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Et.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Et.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=HOe()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){FAe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=t)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let i;if(t===-1&&e!=null&&e.length?i=e.length-1:i=t,n)for(let a=i;a--;){const s=e[a].attrs["HDCP-LEVEL"];if(s&&s<=n)return a}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const n=MW(t);return PW(e,n,navigator.mediaCapabilities)}}xa.defaultConfig=void 0;function uu({cameraId:r,title:e}){const t=L.useRef(null),n=L.useRef(null),[i,a]=L.useState(null),[s,o]=L.useState(!0),u={1:"https://www.tansaeng.com/live/tapo1.m3u8",2:"https://www.tansaeng.com/live/tapo2.m3u8",3:"https://www.tansaeng.com/live/tapo3.m3u8",4:"https://www.tansaeng.com/live/tapo4.m3u8"}[r];return L.useEffect(()=>{const c=t.current;if(!c||!u){a(" URL  ."),o(!1);return}if(a(null),o(!0),xa.isSupported()){const h=new xa({liveBackBufferLength:0,liveSyncDurationCount:3,liveMaxLatencyDurationCount:5,enableWorker:!0,lowLatencyMode:!0});return n.current=h,h.loadSource(u),h.attachMedia(c),h.on(xa.Events.MANIFEST_PARSED,()=>{o(!1),c.play().catch(p=>{console.warn("Auto-play failed:",p),a("  ")})}),h.on(xa.Events.ERROR,(p,m)=>{if(console.error("HLS error:",m),m.fatal)switch(m.type){case xa.ErrorTypes.NETWORK_ERROR:a(" :    "),setTimeout(()=>{h.startLoad()},3e3);break;case xa.ErrorTypes.MEDIA_ERROR:a(" :     "),h.recoverMediaError();break;default:a(" :    "),h.destroy();break}}),()=>{h.destroy(),n.current=null}}else{if(c.canPlayType("application/vnd.apple.mpegurl"))return c.src=u,c.addEventListener("loadedmetadata",()=>{o(!1),c.play().catch(h=>{console.warn("Auto-play failed:",h),a("  ")})}),c.addEventListener("error",()=>{a("  ")}),()=>{c.src=""};a("  HLS   "),o(!1)}},[u]),F.jsxs("div",{className:"bg-white rounded-lg shadow-card overflow-hidden",children:[e&&F.jsx("div",{className:"bg-farm-500 px-4 py-2",children:F.jsx("h3",{className:"text-base font-semibold text-gray-900 m-0",children:e})}),F.jsxs("div",{className:"relative bg-black aspect-video",children:[F.jsx("video",{ref:t,className:"w-full h-full",controls:!0,autoPlay:!0,muted:!0,playsInline:!0}),s&&F.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:F.jsxs("div",{className:"text-white text-center",children:[F.jsx("div",{className:"text-2xl mb-2",children:""}),F.jsx("div",{className:"text-sm",children:"  ..."})]})}),i&&F.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70",children:F.jsxs("div",{className:"text-white text-center p-4",children:[F.jsx("div",{className:"text-3xl mb-2",children:""}),F.jsx("div",{className:"text-sm",children:i})]})})]}),F.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-200",children:F.jsxs("div",{className:"text-xs text-gray-500 truncate",title:u,children:[" ",u]})})]})}const Yg="tansaeng_rpi_ip";function JCe(){const[r,e]=L.useState(""),[t,n]=L.useState(null),[i,a]=L.useState("");L.useEffect(()=>{const c=localStorage.getItem(Yg);c&&n(c)},[]);const s=c=>/^(\d{1,3}\.){3}\d{1,3}$/.test(c)?c.split(".").every(m=>{const g=parseInt(m,10);return g>=0&&g<=255}):!1,o=()=>{const c=r.trim();if(console.log("[RpiIpSettings]   , :",c),!c){console.log("[RpiIpSettings]  "),a(" IP  ");return}if(!s(c)){console.log("[RpiIpSettings] IP  :",c),a("  IP    (: 192.168.1.100)");return}localStorage.setItem(Yg,c),console.log("[RpiIpSettings] localStorage  :",c),console.log("[RpiIpSettings]  :",localStorage.getItem(Yg)),n(c),e(""),a("  IP "),setTimeout(()=>a(""),3e3)},l=()=>{t&&window.confirm("  IP ?")&&(localStorage.removeItem(Yg),n(null),a("  IP "),setTimeout(()=>a(""),3e3))},u=c=>{c.key==="Enter"&&o()};return F.jsxs("div",{className:"mb-6 rounded-lg border border-slate-600 bg-slate-800 p-4",children:[F.jsx("h2",{className:"mb-3 text-lg font-semibold text-slate-100",children:"  IP "}),F.jsxs("div",{className:"mb-3 flex gap-2",children:[F.jsx("input",{type:"text",value:r,onChange:c=>e(c.target.value),onKeyPress:u,placeholder:": 192.168.219.170",className:"flex-1 rounded border border-slate-600 bg-slate-700 px-3 py-2 text-slate-100 placeholder-slate-400 focus:border-blue-500 focus:outline-none"}),F.jsx("button",{onClick:o,className:"rounded bg-blue-600 px-4 py-2 font-medium text-white transition hover:bg-blue-700",children:""})]}),i&&F.jsx("div",{className:`mb-3 rounded p-2 text-sm ${i.includes("")?"bg-red-900/30 text-red-300":i.includes("")?"bg-yellow-900/30 text-yellow-300":"bg-green-900/30 text-green-300"}`,children:i}),t&&F.jsxs("div",{className:"rounded border border-slate-600 bg-slate-700 p-3",children:[F.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[F.jsx("span",{className:"text-sm text-slate-400",children:"  IP:"}),F.jsx("button",{onClick:l,className:"rounded bg-red-600 px-3 py-1 text-sm font-medium text-white transition hover:bg-red-700",children:""})]}),F.jsx("div",{className:"rounded bg-slate-800 p-2 font-mono text-green-400",children:t}),F.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"  IP HLS   "})]}),!t&&F.jsx("div",{className:"rounded border border-yellow-600/30 bg-yellow-900/20 p-3 text-sm text-yellow-300",children:"  IP  .    IP ."})]})}function eIe(r){return F.jsxs("div",{className:"p-4",children:[F.jsx("h1",{className:"mb-4 text-2xl font-bold text-slate-100",children:"   "}),F.jsx(JCe,{}),F.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[F.jsx(uu,{cameraId:1,title:"  1"}),F.jsx(uu,{cameraId:2,title:"  2"}),F.jsx(uu,{cameraId:3,title:"  3"}),F.jsx(uu,{cameraId:4,title:" "})]})]})}function tIe({farmSettings:r,setFarmSettings:e}){const t="22ada06fd6cf4059bd700ddbf6004d68.s1.eu.hivemq.cloud",n="8884",i="esp32-client-01",a=s=>s==="fan"?{bg:"#dbeafe",text:"#1e40af"}:s==="vent"?{bg:"#d1fae5",text:"#065f46"}:s==="pump"?{bg:"#f3e8ff",text:"#6b21a8"}:s==="camera"?{bg:"#fed7aa",text:"#c2410c"}:{bg:"#f3f4f6",text:"#4b5563"};return F.jsx("div",{className:"bg-gray-50",children:F.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[F.jsxs("div",{className:"bg-gradient-to-r from-farm-500 to-farm-600 rounded-2xl px-6 py-4 mb-6",children:[F.jsx("h1",{className:"text-gray-900 font-bold text-2xl m-0",children:" "}),F.jsx("p",{className:"text-white/80 text-sm mt-1 m-0",children:"MQTT ,  ,    "})]}),F.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6 mb-6",children:[F.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"MQTT   ( )"}),F.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"HiveMQ Cloud Host"}),F.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-700",children:t})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"WebSocket Port"}),F.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-700",children:n})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Username"}),F.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-700",children:i})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Password"}),F.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-700",children:""})]})]}),F.jsx("p",{className:"text-sm text-gray-500 mt-4 mb-0",children:"MQTT   .env  ."})]}),F.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6 mb-6",children:[F.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:" "}),F.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[" ",v_.length,"   ."]}),F.jsx("div",{className:"overflow-x-auto",children:F.jsxs("table",{className:"w-full text-sm border-collapse",children:[F.jsx("thead",{className:"bg-gray-50",children:F.jsxs("tr",{children:[F.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-medium",children:"ID"}),F.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-medium",children:""}),F.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-medium",children:""}),F.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-medium",children:"ESP32 "}),F.jsx("th",{className:"px-4 py-2 text-left text-gray-600 font-medium",children:"Command Topic"})]})}),F.jsx("tbody",{children:v_.map((s,o)=>{const l=a(s.type);return F.jsxs("tr",{className:o%2===0?"bg-white":"bg-gray-50",children:[F.jsx("td",{className:"px-4 py-2 text-gray-700",children:s.id}),F.jsx("td",{className:"px-4 py-2 text-gray-700",children:s.name}),F.jsx("td",{className:"px-4 py-2",children:F.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{background:l.bg,color:l.text},children:s.type})}),F.jsx("td",{className:"px-4 py-2 text-gray-600 text-xs",children:s.esp32Id}),F.jsx("td",{className:"px-4 py-2 text-gray-500 text-xs font-mono",children:s.commandTopic})]},s.id)})})]})}),F.jsx("p",{className:"text-sm text-gray-500 mt-4 mb-0",children:" / src/config/devices.ts  ."})]}),F.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6 mb-6",children:[F.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"  "}),F.jsxs("div",{children:[F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),F.jsx("input",{type:"text",value:r.farmName,onChange:s=>e({...r,farmName:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base"})]}),F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),F.jsx("input",{type:"text",value:r.adminName,onChange:s=>e({...r,adminName:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base"})]}),F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),F.jsx("textarea",{value:r.notes,onChange:s=>e({...r,notes:s.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-base resize-vertical"})]}),F.jsx("button",{className:"w-full bg-farm-500 hover:bg-farm-600 text-gray-900 font-medium px-4 py-2 rounded-lg border-none cursor-pointer transition-all duration-200 hover:-translate-y-0.5",children:""})]})]})]})})}const u6="tansaeng-smartfarm-device-state-v1",c6="tansaeng-smartfarm-mist-zones-v1",f6="tansaeng-smartfarm-cameras-v1",h6="tansaeng-smartfarm-farm-settings-v1";function rIe(){const[r,e]=L.useState({});return L.useEffect(()=>{const t=localStorage.getItem(u6);if(t)try{e(JSON.parse(t))}catch(n){console.error("Failed to parse device state from localStorage:",n)}},[]),L.useEffect(()=>{localStorage.setItem(u6,JSON.stringify(r))},[r]),[r,e]}const us={sprayDurationSeconds:null,stopDurationSeconds:null,startTime:"",endTime:"",enabled:!1},d6=[{id:"zone_a",name:"Zone A",mode:"OFF",controllerId:"ctlr-0004",isRunning:!1,intervalMinutes:null,spraySeconds:null,startTime:"",endTime:"",allowNightOperation:!1,daySchedule:{...us,startTime:"06:00",endTime:"18:00"},nightSchedule:{...us,startTime:"18:00",endTime:"06:00"}},{id:"zone_b",name:"Zone B",mode:"OFF",controllerId:"",isRunning:!1,intervalMinutes:null,spraySeconds:null,startTime:"",endTime:"",allowNightOperation:!1,daySchedule:{...us,startTime:"06:00",endTime:"18:00"},nightSchedule:{...us,startTime:"18:00",endTime:"06:00"}},{id:"zone_c",name:"Zone C",mode:"OFF",controllerId:"",isRunning:!1,intervalMinutes:null,spraySeconds:null,startTime:"",endTime:"",allowNightOperation:!1,daySchedule:{...us,startTime:"06:00",endTime:"18:00"},nightSchedule:{...us,startTime:"18:00",endTime:"06:00"}},{id:"zone_d",name:"Zone D",mode:"OFF",controllerId:"",isRunning:!1,intervalMinutes:null,spraySeconds:null,startTime:"",endTime:"",allowNightOperation:!1,daySchedule:{...us,startTime:"06:00",endTime:"18:00"},nightSchedule:{...us,startTime:"18:00",endTime:"06:00"}},{id:"zone_e",name:"Zone E",mode:"OFF",controllerId:"",isRunning:!1,intervalMinutes:null,spraySeconds:null,startTime:"",endTime:"",allowNightOperation:!1,daySchedule:{...us,startTime:"06:00",endTime:"18:00"},nightSchedule:{...us,startTime:"18:00",endTime:"06:00"}}];function nIe(r){return r?r.startsWith("ctrl-")?r.replace("ctrl-","ctlr-"):r:""}function p6(r){return r?{sprayDurationSeconds:r.sprayDurationSeconds??r.spraySeconds??null,stopDurationSeconds:r.stopDurationSeconds??(r.intervalMinutes?r.intervalMinutes*60:null),startTime:r.startTime??"",endTime:r.endTime??"",enabled:r.enabled??!1}:{...us}}function iIe(r,e){const t=nIe(r.controllerId)||e.controllerId,n=p6(r.daySchedule),i=p6(r.nightSchedule);return n.startTime||(n.startTime="06:00"),n.endTime||(n.endTime="18:00"),i.startTime||(i.startTime="18:00"),i.endTime||(i.endTime="06:00"),{...e,...r,controllerId:t,isRunning:r.isRunning??!1,daySchedule:n,nightSchedule:i}}function aIe(){const[r,e]=L.useState(d6);return L.useEffect(()=>{const t=localStorage.getItem(c6);if(t)try{const n=JSON.parse(t),i=d6.map(a=>{const s=n.find(o=>o.id===a.id);return s?iIe(s,a):a});e(i)}catch(n){console.error("Failed to parse mist zones from localStorage:",n)}},[]),L.useEffect(()=>{localStorage.setItem(c6,JSON.stringify(r))},[r]),[r,e]}function sIe(){const[r,e]=L.useState([]);return L.useEffect(()=>{const t=localStorage.getItem(f6);if(t)try{e(JSON.parse(t))}catch(n){console.error("Failed to parse cameras from localStorage:",n)}},[]),L.useEffect(()=>{localStorage.setItem(f6,JSON.stringify(r))},[r]),[r,e]}const oIe={farmName:"",adminName:"",notes:""};function lIe(){const[r,e]=L.useState(oIe);return L.useEffect(()=>{const t=localStorage.getItem(h6);if(t)try{e(JSON.parse(t))}catch(n){console.error("Failed to parse farm settings from localStorage:",n)}},[]),L.useEffect(()=>{localStorage.setItem(h6,JSON.stringify(r))},[r]),[r,e]}function uIe(){const[r,e]=L.useState("devices"),[t,n]=L.useState("connecting"),[i,a]=rIe(),[s,o]=aIe(),[l,u]=sIe(),[c,h]=lIe();return L.useEffect(()=>{const p=S0();return p.on("connect",()=>{n("connected")}),p.on("error",()=>{n("error")}),p.on("reconnect",()=>{n("connecting")}),p.on("offline",()=>{n("disconnected")}),()=>{}},[]),F.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[F.jsx(Bq,{connectionState:t}),F.jsx(jq,{activeTab:r,onTabChange:e}),F.jsxs("main",{className:"flex-1 overflow-y-auto overflow-x-hidden pb-5 min-h-0",children:[r==="devices"&&F.jsx(tZ,{deviceState:i,setDeviceState:a}),r==="mist"&&F.jsx(nZ,{zones:s,setZones:o}),r==="environment"&&F.jsx(qTe,{}),r==="cameras"&&F.jsx(eIe,{cameras:l,setCameras:u}),r==="settings"&&F.jsx(tIe,{farmSettings:c,setFarmSettings:h})]}),F.jsx("footer",{className:"bg-white border-t border-gray-200 px-4 py-3 flex-shrink-0",children:F.jsxs("div",{className:"max-w-screen-2xl mx-auto text-center text-xs text-gray-500",children:[F.jsx("p",{className:"mb-1",children:"    v2.5"}),F.jsx("p",{className:"text-2xs text-gray-400",children:"Powered by React + TypeScript + HiveMQ Cloud"})]})})]})}const cIe=()=>F.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:F.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4",children:[F.jsxs("header",{className:"bg-farm-500 rounded-lg px-6 py-4 mb-6 shadow-md",children:[F.jsx("h1",{className:"text-gray-900 font-bold text-2xl m-0",children:" Tapo  "}),F.jsx("p",{className:"text-gray-800 text-sm mt-1 m-0",children:"TP-Link Tapo  4  HLS "})]}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F.jsx(uu,{cameraId:1,title:"  1"}),F.jsx(uu,{cameraId:2,title:"  2"}),F.jsx(uu,{cameraId:3,title:"  3"}),F.jsx(uu,{cameraId:4,title:" "})]}),F.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-4",children:[F.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"  "}),F.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[F.jsx("li",{children:"    HLS  "}),F.jsx("li",{children:"       "}),F.jsx("li",{children:"      "}),F.jsx("li",{children:"  URL .env  VITE_TAPO_CAM*_HLS_URL  "})]})]})]})});hV.createRoot(document.getElementById("root")).render(F.jsx(L.StrictMode,{children:F.jsx(Dq,{basename:"/smartfarm-ui",children:F.jsxs(iq,{children:[F.jsx(m_,{path:"/",element:F.jsx(uIe,{})}),F.jsx(m_,{path:"/camera",element:F.jsx(cIe,{})})]})})}));
